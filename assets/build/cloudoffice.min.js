var Qr="top",Ba="bottom",Ha="right",qr="left",mv="auto",Dh=[Qr,Ba,Ha,qr],Ac="start",uh="end",hE="clippingParents",T0="viewport",Yu="popper",fE="reference",Pb=Dh.reduce(function(n,e){return n.concat([e+"-"+Ac,e+"-"+uh])},[]),I0=[].concat(Dh,[mv]).reduce(function(n,e){return n.concat([e,e+"-"+Ac,e+"-"+uh])},[]),dE="beforeRead",pE="read",gE="afterRead",vE="beforeMain",mE="main",yE="afterMain",bE="beforeWrite",wE="write",CE="afterWrite",SE=[dE,pE,gE,vE,mE,yE,bE,wE,CE];function ao(n){return n?(n.nodeName||"").toLowerCase():null}function us(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Mc(n){var e=us(n).Element;return n instanceof e||n instanceof Element}function os(n){var e=us(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function D0(n){if(typeof ShadowRoot>"u")return!1;var e=us(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function Ik(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},a=e.elements[t];!os(a)||!ao(a)||(Object.assign(a.style,i),Object.keys(r).forEach(function(o){var s=r[o];s===!1?a.removeAttribute(o):a.setAttribute(o,s===!0?"":s)}))})}function Dk(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],a=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),s=o.reduce(function(u,c){return u[c]="",u},{});!os(r)||!ao(r)||(Object.assign(r.style,s),Object.keys(a).forEach(function(u){r.removeAttribute(u)}))})}}const A0={name:"applyStyles",enabled:!0,phase:"write",fn:Ik,effect:Dk,requires:["computeStyles"]};function ro(n){return n.split("-")[0]}var xc=Math.max,kg=Math.min,hh=Math.round;function Lb(){var n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function _E(){return!/^((?!chrome|android).)*safari/i.test(Lb())}function fh(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),r=1,a=1;e&&os(n)&&(r=n.offsetWidth>0&&hh(i.width)/n.offsetWidth||1,a=n.offsetHeight>0&&hh(i.height)/n.offsetHeight||1);var o=Mc(n)?us(n):window,s=o.visualViewport,u=!_E()&&t,c=(i.left+(u&&s?s.offsetLeft:0))/r,l=(i.top+(u&&s?s.offsetTop:0))/a,_=i.width/r,I=i.height/a;return{width:_,height:I,top:l,right:c+_,bottom:l+I,left:c,x:c,y:l}}function M0(n){var e=fh(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function xE(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&D0(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Fo(n){return us(n).getComputedStyle(n)}function Ak(n){return["table","td","th"].indexOf(ao(n))>=0}function Nl(n){return((Mc(n)?n.ownerDocument:n.document)||window.document).documentElement}function yv(n){return ao(n)==="html"?n:n.assignedSlot||n.parentNode||(D0(n)?n.host:null)||Nl(n)}function UC(n){return!os(n)||Fo(n).position==="fixed"?null:n.offsetParent}function Mk(n){var e=/firefox/i.test(Lb()),t=/Trident/i.test(Lb());if(t&&os(n)){var i=Fo(n);if(i.position==="fixed")return null}var r=yv(n);for(D0(r)&&(r=r.host);os(r)&&["html","body"].indexOf(ao(r))<0;){var a=Fo(r);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return r;r=r.parentNode}return null}function td(n){for(var e=us(n),t=UC(n);t&&Ak(t)&&Fo(t).position==="static";)t=UC(t);return t&&(ao(t)==="html"||ao(t)==="body"&&Fo(t).position==="static")?e:t||Mk(n)||e}function O0(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function jf(n,e,t){return xc(n,kg(e,t))}function Ok(n,e,t){var i=jf(n,e,t);return i>t?t:i}function EE(){return{top:0,right:0,bottom:0,left:0}}function TE(n){return Object.assign({},EE(),n)}function IE(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var kk=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,TE(typeof e!="number"?e:IE(e,Dh))};function Pk(n){var e,t=n.state,i=n.name,r=n.options,a=t.elements.arrow,o=t.modifiersData.popperOffsets,s=ro(t.placement),u=O0(s),c=[qr,Ha].indexOf(s)>=0,l=c?"height":"width";if(!(!a||!o)){var _=kk(r.padding,t),I=M0(a),M=u==="y"?Qr:qr,P=u==="y"?Ba:Ha,N=t.rects.reference[l]+t.rects.reference[u]-o[u]-t.rects.popper[l],b=o[u]-t.rects.reference[u],f=td(a),v=f?u==="y"?f.clientHeight||0:f.clientWidth||0:0,m=N/2-b/2,d=_[M],g=v-I[l]-_[P],h=v/2-I[l]/2+m,C=jf(d,h,g),D=u;t.modifiersData[i]=(e={},e[D]=C,e.centerOffset=C-h,e)}}function Lk(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||!xE(e.elements.popper,r)||(e.elements.arrow=r))}const DE={name:"arrow",enabled:!0,phase:"main",fn:Pk,effect:Lk,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function dh(n){return n.split("-")[1]}var Rk={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Nk(n){var e=n.x,t=n.y,i=window,r=i.devicePixelRatio||1;return{x:hh(e*r)/r||0,y:hh(t*r)/r||0}}function YC(n){var e,t=n.popper,i=n.popperRect,r=n.placement,a=n.variation,o=n.offsets,s=n.position,u=n.gpuAcceleration,c=n.adaptive,l=n.roundOffsets,_=n.isFixed,I=o.x,M=I===void 0?0:I,P=o.y,N=P===void 0?0:P,b=typeof l=="function"?l({x:M,y:N}):{x:M,y:N};M=b.x,N=b.y;var f=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),m=qr,d=Qr,g=window;if(c){var h=td(t),C="clientHeight",D="clientWidth";if(h===us(t)&&(h=Nl(t),Fo(h).position!=="static"&&s==="absolute"&&(C="scrollHeight",D="scrollWidth")),h=h,r===Qr||(r===qr||r===Ha)&&a===uh){d=Ba;var S=_&&h===g&&g.visualViewport?g.visualViewport.height:h[C];N-=S-i.height,N*=u?1:-1}if(r===qr||(r===Qr||r===Ba)&&a===uh){m=Ha;var k=_&&h===g&&g.visualViewport?g.visualViewport.width:h[D];M-=k-i.width,M*=u?1:-1}}var L=Object.assign({position:s},c&&Rk),B=l===!0?Nk({x:M,y:N}):{x:M,y:N};if(M=B.x,N=B.y,u){var z;return Object.assign({},L,(z={},z[d]=v?"0":"",z[m]=f?"0":"",z.transform=(g.devicePixelRatio||1)<=1?"translate("+M+"px, "+N+"px)":"translate3d("+M+"px, "+N+"px, 0)",z))}return Object.assign({},L,(e={},e[d]=v?N+"px":"",e[m]=f?M+"px":"",e.transform="",e))}function Fk(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,a=t.adaptive,o=a===void 0?!0:a,s=t.roundOffsets,u=s===void 0?!0:s,c={placement:ro(e.placement),variation:dh(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,YC(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,YC(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const k0={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Fk,data:{}};var Xp={passive:!0};function jk(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,a=r===void 0?!0:r,o=i.resize,s=o===void 0?!0:o,u=us(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach(function(l){l.addEventListener("scroll",t.update,Xp)}),s&&u.addEventListener("resize",t.update,Xp),function(){a&&c.forEach(function(l){l.removeEventListener("scroll",t.update,Xp)}),s&&u.removeEventListener("resize",t.update,Xp)}}const P0={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:jk,data:{}};var Bk={left:"right",right:"left",bottom:"top",top:"bottom"};function vg(n){return n.replace(/left|right|bottom|top/g,function(e){return Bk[e]})}var Hk={start:"end",end:"start"};function GC(n){return n.replace(/start|end/g,function(e){return Hk[e]})}function L0(n){var e=us(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function R0(n){return fh(Nl(n)).left+L0(n).scrollLeft}function zk(n,e){var t=us(n),i=Nl(n),r=t.visualViewport,a=i.clientWidth,o=i.clientHeight,s=0,u=0;if(r){a=r.width,o=r.height;var c=_E();(c||!c&&e==="fixed")&&(s=r.offsetLeft,u=r.offsetTop)}return{width:a,height:o,x:s+R0(n),y:u}}function Wk(n){var e,t=Nl(n),i=L0(n),r=(e=n.ownerDocument)==null?void 0:e.body,a=xc(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=xc(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-i.scrollLeft+R0(n),u=-i.scrollTop;return Fo(r||t).direction==="rtl"&&(s+=xc(t.clientWidth,r?r.clientWidth:0)-a),{width:a,height:o,x:s,y:u}}function N0(n){var e=Fo(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function AE(n){return["html","body","#document"].indexOf(ao(n))>=0?n.ownerDocument.body:os(n)&&N0(n)?n:AE(yv(n))}function Bf(n,e){var t;e===void 0&&(e=[]);var i=AE(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),a=us(i),o=r?[a].concat(a.visualViewport||[],N0(i)?i:[]):i,s=e.concat(o);return r?s:s.concat(Bf(yv(o)))}function Rb(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Uk(n,e){var t=fh(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function $C(n,e,t){return e===T0?Rb(zk(n,t)):Mc(e)?Uk(e,t):Rb(Wk(Nl(n)))}function Yk(n){var e=Bf(yv(n)),t=["absolute","fixed"].indexOf(Fo(n).position)>=0,i=t&&os(n)?td(n):n;return Mc(i)?e.filter(function(r){return Mc(r)&&xE(r,i)&&ao(r)!=="body"}):[]}function Gk(n,e,t,i){var r=e==="clippingParents"?Yk(n):[].concat(e),a=[].concat(r,[t]),o=a[0],s=a.reduce(function(u,c){var l=$C(n,c,i);return u.top=xc(l.top,u.top),u.right=kg(l.right,u.right),u.bottom=kg(l.bottom,u.bottom),u.left=xc(l.left,u.left),u},$C(n,o,i));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function ME(n){var e=n.reference,t=n.element,i=n.placement,r=i?ro(i):null,a=i?dh(i):null,o=e.x+e.width/2-t.width/2,s=e.y+e.height/2-t.height/2,u;switch(r){case Qr:u={x:o,y:e.y-t.height};break;case Ba:u={x:o,y:e.y+e.height};break;case Ha:u={x:e.x+e.width,y:s};break;case qr:u={x:e.x-t.width,y:s};break;default:u={x:e.x,y:e.y}}var c=r?O0(r):null;if(c!=null){var l=c==="y"?"height":"width";switch(a){case Ac:u[c]=u[c]-(e[l]/2-t[l]/2);break;case uh:u[c]=u[c]+(e[l]/2-t[l]/2);break}}return u}function ph(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,a=t.strategy,o=a===void 0?n.strategy:a,s=t.boundary,u=s===void 0?hE:s,c=t.rootBoundary,l=c===void 0?T0:c,_=t.elementContext,I=_===void 0?Yu:_,M=t.altBoundary,P=M===void 0?!1:M,N=t.padding,b=N===void 0?0:N,f=TE(typeof b!="number"?b:IE(b,Dh)),v=I===Yu?fE:Yu,m=n.rects.popper,d=n.elements[P?v:I],g=Gk(Mc(d)?d:d.contextElement||Nl(n.elements.popper),u,l,o),h=fh(n.elements.reference),C=ME({reference:h,element:m,strategy:"absolute",placement:r}),D=Rb(Object.assign({},m,C)),S=I===Yu?D:h,k={top:g.top-S.top+f.top,bottom:S.bottom-g.bottom+f.bottom,left:g.left-S.left+f.left,right:S.right-g.right+f.right},L=n.modifiersData.offset;if(I===Yu&&L){var B=L[r];Object.keys(k).forEach(function(z){var X=[Ha,Ba].indexOf(z)>=0?1:-1,ee=[Qr,Ba].indexOf(z)>=0?"y":"x";k[z]+=B[ee]*X})}return k}function $k(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,a=t.rootBoundary,o=t.padding,s=t.flipVariations,u=t.allowedAutoPlacements,c=u===void 0?I0:u,l=dh(i),_=l?s?Pb:Pb.filter(function(P){return dh(P)===l}):Dh,I=_.filter(function(P){return c.indexOf(P)>=0});I.length===0&&(I=_);var M=I.reduce(function(P,N){return P[N]=ph(n,{placement:N,boundary:r,rootBoundary:a,padding:o})[ro(N)],P},{});return Object.keys(M).sort(function(P,N){return M[P]-M[N]})}function Vk(n){if(ro(n)===mv)return[];var e=vg(n);return[GC(n),e,GC(e)]}function Xk(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,a=r===void 0?!0:r,o=t.altAxis,s=o===void 0?!0:o,u=t.fallbackPlacements,c=t.padding,l=t.boundary,_=t.rootBoundary,I=t.altBoundary,M=t.flipVariations,P=M===void 0?!0:M,N=t.allowedAutoPlacements,b=e.options.placement,f=ro(b),v=f===b,m=u||(v||!P?[vg(b)]:Vk(b)),d=[b].concat(m).reduce(function(he,Dt){return he.concat(ro(Dt)===mv?$k(e,{placement:Dt,boundary:l,rootBoundary:_,padding:c,flipVariations:P,allowedAutoPlacements:N}):Dt)},[]),g=e.rects.reference,h=e.rects.popper,C=new Map,D=!0,S=d[0],k=0;k<d.length;k++){var L=d[k],B=ro(L),z=dh(L)===Ac,X=[Qr,Ba].indexOf(B)>=0,ee=X?"width":"height",ce=ph(e,{placement:L,boundary:l,rootBoundary:_,altBoundary:I,padding:c}),le=X?z?Ha:qr:z?Ba:Qr;g[ee]>h[ee]&&(le=vg(le));var me=vg(le),je=[];if(a&&je.push(ce[B]<=0),s&&je.push(ce[le]<=0,ce[me]<=0),je.every(function(he){return he})){S=L,D=!1;break}C.set(L,je)}if(D)for(var Pe=P?3:1,it=function(Dt){var Ke=d.find(function(Mt){var Me=C.get(Mt);if(Me)return Me.slice(0,Dt).every(function(Be){return Be})});if(Ke)return S=Ke,"break"},Te=Pe;Te>0;Te--){var lt=it(Te);if(lt==="break")break}e.placement!==S&&(e.modifiersData[i]._skip=!0,e.placement=S,e.reset=!0)}}const OE={name:"flip",enabled:!0,phase:"main",fn:Xk,requiresIfExists:["offset"],data:{_skip:!1}};function VC(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function XC(n){return[Qr,Ha,Ba,qr].some(function(e){return n[e]>=0})}function Zk(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,a=e.modifiersData.preventOverflow,o=ph(e,{elementContext:"reference"}),s=ph(e,{altBoundary:!0}),u=VC(o,i),c=VC(s,r,a),l=XC(u),_=XC(c);e.modifiersData[t]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":_})}const kE={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zk};function Jk(n,e,t){var i=ro(n),r=[qr,Qr].indexOf(i)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=a[0],s=a[1];return o=o||0,s=(s||0)*r,[qr,Ha].indexOf(i)>=0?{x:s,y:o}:{x:o,y:s}}function Kk(n){var e=n.state,t=n.options,i=n.name,r=t.offset,a=r===void 0?[0,0]:r,o=I0.reduce(function(l,_){return l[_]=Jk(_,e.rects,a),l},{}),s=o[e.placement],u=s.x,c=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}const PE={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Kk};function Qk(n){var e=n.state,t=n.name;e.modifiersData[t]=ME({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const F0={name:"popperOffsets",enabled:!0,phase:"read",fn:Qk,data:{}};function qk(n){return n==="x"?"y":"x"}function eP(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,a=r===void 0?!0:r,o=t.altAxis,s=o===void 0?!1:o,u=t.boundary,c=t.rootBoundary,l=t.altBoundary,_=t.padding,I=t.tether,M=I===void 0?!0:I,P=t.tetherOffset,N=P===void 0?0:P,b=ph(e,{boundary:u,rootBoundary:c,padding:_,altBoundary:l}),f=ro(e.placement),v=dh(e.placement),m=!v,d=O0(f),g=qk(d),h=e.modifiersData.popperOffsets,C=e.rects.reference,D=e.rects.popper,S=typeof N=="function"?N(Object.assign({},e.rects,{placement:e.placement})):N,k=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,B={x:0,y:0};if(!!h){if(a){var z,X=d==="y"?Qr:qr,ee=d==="y"?Ba:Ha,ce=d==="y"?"height":"width",le=h[d],me=le+b[X],je=le-b[ee],Pe=M?-D[ce]/2:0,it=v===Ac?C[ce]:D[ce],Te=v===Ac?-D[ce]:-C[ce],lt=e.elements.arrow,he=M&&lt?M0(lt):{width:0,height:0},Dt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:EE(),Ke=Dt[X],Mt=Dt[ee],Me=jf(0,C[ce],he[ce]),Be=m?C[ce]/2-Pe-Me-Ke-k.mainAxis:it-Me-Ke-k.mainAxis,Oe=m?-C[ce]/2+Pe+Me+Mt+k.mainAxis:Te+Me+Mt+k.mainAxis,Se=e.elements.arrow&&td(e.elements.arrow),Ye=Se?d==="y"?Se.clientTop||0:Se.clientLeft||0:0,ve=(z=L==null?void 0:L[d])!=null?z:0,Ce=le+Be-ve-Ye,_e=le+Oe-ve,pe=jf(M?kg(me,Ce):me,le,M?xc(je,_e):je);h[d]=pe,B[d]=pe-le}if(s){var Ve,Ze=d==="x"?Qr:qr,ht=d==="x"?Ba:Ha,ot=h[g],st=g==="y"?"height":"width",re=ot+b[Ze],H=ot-b[ht],q=[Qr,qr].indexOf(f)!==-1,ie=(Ve=L==null?void 0:L[g])!=null?Ve:0,ue=q?re:ot-C[st]-D[st]-ie+k.altAxis,be=q?ot+C[st]+D[st]-ie-k.altAxis:H,ke=M&&q?Ok(ue,ot,be):jf(M?ue:re,ot,M?be:H);h[g]=ke,B[g]=ke-ot}e.modifiersData[i]=B}}const LE={name:"preventOverflow",enabled:!0,phase:"main",fn:eP,requiresIfExists:["offset"]};function tP(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function nP(n){return n===us(n)||!os(n)?L0(n):tP(n)}function iP(n){var e=n.getBoundingClientRect(),t=hh(e.width)/n.offsetWidth||1,i=hh(e.height)/n.offsetHeight||1;return t!==1||i!==1}function rP(n,e,t){t===void 0&&(t=!1);var i=os(e),r=os(e)&&iP(e),a=Nl(e),o=fh(n,r,t),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(i||!i&&!t)&&((ao(e)!=="body"||N0(a))&&(s=nP(e)),os(e)?(u=fh(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):a&&(u.x=R0(a))),{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function aP(n){var e=new Map,t=new Set,i=[];n.forEach(function(a){e.set(a.name,a)});function r(a){t.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!t.has(s)){var u=e.get(s);u&&r(u)}}),i.push(a)}return n.forEach(function(a){t.has(a.name)||r(a)}),i}function sP(n){var e=aP(n);return SE.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function oP(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function lP(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var ZC={placement:"bottom",modifiers:[],strategy:"absolute"};function JC(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function bv(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,a=r===void 0?ZC:r;return function(s,u,c){c===void 0&&(c=a);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},ZC,a),modifiersData:{},elements:{reference:s,popper:u},attributes:{},styles:{}},_=[],I=!1,M={state:l,setOptions:function(f){var v=typeof f=="function"?f(l.options):f;N(),l.options=Object.assign({},a,l.options,v),l.scrollParents={reference:Mc(s)?Bf(s):s.contextElement?Bf(s.contextElement):[],popper:Bf(u)};var m=sP(lP([].concat(i,l.options.modifiers)));return l.orderedModifiers=m.filter(function(d){return d.enabled}),P(),M.update()},forceUpdate:function(){if(!I){var f=l.elements,v=f.reference,m=f.popper;if(!!JC(v,m)){l.rects={reference:rP(v,td(m),l.options.strategy==="fixed"),popper:M0(m)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(k){return l.modifiersData[k.name]=Object.assign({},k.data)});for(var d=0;d<l.orderedModifiers.length;d++){if(l.reset===!0){l.reset=!1,d=-1;continue}var g=l.orderedModifiers[d],h=g.fn,C=g.options,D=C===void 0?{}:C,S=g.name;typeof h=="function"&&(l=h({state:l,options:D,name:S,instance:M})||l)}}}},update:oP(function(){return new Promise(function(b){M.forceUpdate(),b(l)})}),destroy:function(){N(),I=!0}};if(!JC(s,u))return M;M.setOptions(c).then(function(b){!I&&c.onFirstUpdate&&c.onFirstUpdate(b)});function P(){l.orderedModifiers.forEach(function(b){var f=b.name,v=b.options,m=v===void 0?{}:v,d=b.effect;if(typeof d=="function"){var g=d({state:l,name:f,instance:M,options:m}),h=function(){};_.push(g||h)}})}function N(){_.forEach(function(b){return b()}),_=[]}return M}}var cP=bv(),uP=[P0,F0,k0,A0],hP=bv({defaultModifiers:uP}),fP=[P0,F0,k0,A0,PE,OE,LE,DE,kE],j0=bv({defaultModifiers:fP});const RE=Object.freeze(Object.defineProperty({__proto__:null,popperGenerator:bv,detectOverflow:ph,createPopperBase:cP,createPopper:j0,createPopperLite:hP,top:Qr,bottom:Ba,right:Ha,left:qr,auto:mv,basePlacements:Dh,start:Ac,end:uh,clippingParents:hE,viewport:T0,popper:Yu,reference:fE,variationPlacements:Pb,placements:I0,beforeRead:dE,read:pE,afterRead:gE,beforeMain:vE,main:mE,afterMain:yE,beforeWrite:bE,write:wE,afterWrite:CE,modifierPhases:SE,applyStyles:A0,arrow:DE,computeStyles:k0,eventListeners:P0,flip:OE,hide:kE,offset:PE,popperOffsets:F0,preventOverflow:LE},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.2.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const dP=1e6,pP=1e3,Nb="transitionend",gP=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),vP=n=>{do n+=Math.floor(Math.random()*dP);while(document.getElementById(n));return n},NE=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e},FE=n=>{const e=NE(n);return e&&document.querySelector(e)?e:null},Po=n=>{const e=NE(n);return e?document.querySelector(e):null},mP=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const i=Number.parseFloat(e),r=Number.parseFloat(t);return!i&&!r?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*pP)},jE=n=>{n.dispatchEvent(new Event(Nb))},Lo=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),Ol=n=>Lo(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(n):null,Ah=n=>{if(!Lo(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const i=n.closest("summary");if(i&&i.parentNode!==t||i===null)return!1}return e},kl=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",BE=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?BE(n.parentNode):null},Pg=()=>{},nd=n=>{n.offsetHeight},HE=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Iy=[],yP=n=>{document.readyState==="loading"?(Iy.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Iy)e()}),Iy.push(n)):n()},cs=()=>document.documentElement.dir==="rtl",hs=n=>{yP(()=>{const e=HE();if(e){const t=n.NAME,i=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=i,n.jQueryInterface)}})},Do=n=>{typeof n=="function"&&n()},zE=(n,e,t=!0)=>{if(!t){Do(n);return}const i=5,r=mP(e)+i;let a=!1;const o=({target:s})=>{s===e&&(a=!0,e.removeEventListener(Nb,o),Do(n))};e.addEventListener(Nb,o),setTimeout(()=>{a||jE(e)},r)},B0=(n,e,t,i)=>{const r=n.length;let a=n.indexOf(e);return a===-1?!t&&i?n[r-1]:n[0]:(a+=t?1:-1,i&&(a=(a+r)%r),n[Math.max(0,Math.min(a,r-1))])},bP=/[^.]*(?=\..*)\.|.*/,wP=/\..*/,CP=/::\d+$/,Dy={};let KC=1;const WE={mouseenter:"mouseover",mouseleave:"mouseout"},SP=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function UE(n,e){return e&&`${e}::${KC++}`||n.uidEvent||KC++}function YE(n){const e=UE(n);return n.uidEvent=e,Dy[e]=Dy[e]||{},Dy[e]}function _P(n,e){return function t(i){return H0(i,{delegateTarget:n}),t.oneOff&&Ht.off(n,i.type,e),e.apply(n,[i])}}function xP(n,e,t){return function i(r){const a=n.querySelectorAll(e);for(let{target:o}=r;o&&o!==this;o=o.parentNode)for(const s of a)if(s===o)return H0(r,{delegateTarget:o}),i.oneOff&&Ht.off(n,r.type,e,t),t.apply(o,[r])}}function GE(n,e,t=null){return Object.values(n).find(i=>i.callable===e&&i.delegationSelector===t)}function $E(n,e,t){const i=typeof e=="string",r=i?t:e||t;let a=VE(n);return SP.has(a)||(a=n),[i,r,a]}function QC(n,e,t,i,r){if(typeof e!="string"||!n)return;let[a,o,s]=$E(e,t,i);e in WE&&(o=(P=>function(N){if(!N.relatedTarget||N.relatedTarget!==N.delegateTarget&&!N.delegateTarget.contains(N.relatedTarget))return P.call(this,N)})(o));const u=YE(n),c=u[s]||(u[s]={}),l=GE(c,o,a?t:null);if(l){l.oneOff=l.oneOff&&r;return}const _=UE(o,e.replace(bP,"")),I=a?xP(n,t,o):_P(n,o);I.delegationSelector=a?t:null,I.callable=o,I.oneOff=r,I.uidEvent=_,c[_]=I,n.addEventListener(s,I,a)}function Fb(n,e,t,i,r){const a=GE(e[t],i,r);!a||(n.removeEventListener(t,a,Boolean(r)),delete e[t][a.uidEvent])}function EP(n,e,t,i){const r=e[t]||{};for(const a of Object.keys(r))if(a.includes(i)){const o=r[a];Fb(n,e,t,o.callable,o.delegationSelector)}}function VE(n){return n=n.replace(wP,""),WE[n]||n}const Ht={on(n,e,t,i){QC(n,e,t,i,!1)},one(n,e,t,i){QC(n,e,t,i,!0)},off(n,e,t,i){if(typeof e!="string"||!n)return;const[r,a,o]=$E(e,t,i),s=o!==e,u=YE(n),c=u[o]||{},l=e.startsWith(".");if(typeof a<"u"){if(!Object.keys(c).length)return;Fb(n,u,o,a,r?t:null);return}if(l)for(const _ of Object.keys(u))EP(n,u,_,e.slice(1));for(const _ of Object.keys(c)){const I=_.replace(CP,"");if(!s||e.includes(I)){const M=c[_];Fb(n,u,o,M.callable,M.delegationSelector)}}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const i=HE(),r=VE(e),a=e!==r;let o=null,s=!0,u=!0,c=!1;a&&i&&(o=i.Event(e,t),i(n).trigger(o),s=!o.isPropagationStopped(),u=!o.isImmediatePropagationStopped(),c=o.isDefaultPrevented());let l=new Event(e,{bubbles:s,cancelable:!0});return l=H0(l,t),c&&l.preventDefault(),u&&n.dispatchEvent(l),l.defaultPrevented&&o&&o.preventDefault(),l}};function H0(n,e){for(const[t,i]of Object.entries(e||{}))try{n[t]=i}catch{Object.defineProperty(n,t,{configurable:!0,get(){return i}})}return n}const gl=new Map,Ay={set(n,e,t){gl.has(n)||gl.set(n,new Map);const i=gl.get(n);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,t)},get(n,e){return gl.has(n)&&gl.get(n).get(e)||null},remove(n,e){if(!gl.has(n))return;const t=gl.get(n);t.delete(e),t.size===0&&gl.delete(n)}};function qC(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function My(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Ro={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${My(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${My(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of t){let r=i.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=qC(n.dataset[i])}return e},getDataAttribute(n,e){return qC(n.getAttribute(`data-bs-${My(e)}`))}};class id{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const i=Lo(t)?Ro.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...Lo(t)?Ro.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const i of Object.keys(t)){const r=t[i],a=e[i],o=Lo(a)?"element":gP(a);if(!new RegExp(r).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${o}" but expected type "${r}".`)}}}const TP="5.2.2";class Ls extends id{constructor(e,t){super(),e=Ol(e),e&&(this._element=e,this._config=this._getConfig(t),Ay.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ay.remove(this._element,this.constructor.DATA_KEY),Ht.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){zE(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Ay.get(Ol(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return TP}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const wv=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,i=n.NAME;Ht.on(document,t,`[data-bs-dismiss="${i}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),kl(this))return;const a=Po(this)||this.closest(`.${i}`);n.getOrCreateInstance(a)[e]()})},IP="alert",DP="bs.alert",XE=`.${DP}`,AP=`close${XE}`,MP=`closed${XE}`,OP="fade",kP="show";class rd extends Ls{static get NAME(){return IP}close(){if(Ht.trigger(this._element,AP).defaultPrevented)return;this._element.classList.remove(kP);const t=this._element.classList.contains(OP);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),Ht.trigger(this._element,MP),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=rd.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}wv(rd,"close");hs(rd);const PP="button",LP="bs.button",RP=`.${LP}`,NP=".data-api",FP="active",eS='[data-bs-toggle="button"]',jP=`click${RP}${NP}`;class ad extends Ls{static get NAME(){return PP}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(FP))}static jQueryInterface(e){return this.each(function(){const t=ad.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}Ht.on(document,jP,eS,n=>{n.preventDefault();const e=n.target.closest(eS);ad.getOrCreateInstance(e).toggle()});hs(ad);const Gn={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let i=n.parentNode.closest(e);for(;i;)t.push(i),i=i.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!kl(t)&&Ah(t))}},BP="swipe",Mh=".bs.swipe",HP=`touchstart${Mh}`,zP=`touchmove${Mh}`,WP=`touchend${Mh}`,UP=`pointerdown${Mh}`,YP=`pointerup${Mh}`,GP="touch",$P="pen",VP="pointer-event",XP=40,ZP={endCallback:null,leftCallback:null,rightCallback:null},JP={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Lg extends id{constructor(e,t){super(),this._element=e,!(!e||!Lg.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return ZP}static get DefaultType(){return JP}static get NAME(){return BP}dispose(){Ht.off(this._element,Mh)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Do(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=XP)return;const t=e/this._deltaX;this._deltaX=0,t&&Do(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Ht.on(this._element,UP,e=>this._start(e)),Ht.on(this._element,YP,e=>this._end(e)),this._element.classList.add(VP)):(Ht.on(this._element,HP,e=>this._start(e)),Ht.on(this._element,zP,e=>this._move(e)),Ht.on(this._element,WP,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===$P||e.pointerType===GP)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const KP="carousel",QP="bs.carousel",Fl=`.${QP}`,ZE=".data-api",qP="ArrowLeft",eL="ArrowRight",tL=500,Sf="next",Ou="prev",Gu="left",mg="right",nL=`slide${Fl}`,Oy=`slid${Fl}`,iL=`keydown${Fl}`,rL=`mouseenter${Fl}`,aL=`mouseleave${Fl}`,sL=`dragstart${Fl}`,oL=`load${Fl}${ZE}`,lL=`click${Fl}${ZE}`,JE="carousel",Zp="active",cL="slide",uL="carousel-item-end",hL="carousel-item-start",fL="carousel-item-next",dL="carousel-item-prev",KE=".active",QE=".carousel-item",pL=KE+QE,gL=".carousel-item img",vL=".carousel-indicators",mL="[data-bs-slide], [data-bs-slide-to]",yL='[data-bs-ride="carousel"]',bL={[qP]:mg,[eL]:Gu},wL={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},CL={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Oh extends Ls{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Gn.findOne(vL,this._element),this._addEventListeners(),this._config.ride===JE&&this.cycle()}static get Default(){return wL}static get DefaultType(){return CL}static get NAME(){return KP}next(){this._slide(Sf)}nextWhenVisible(){!document.hidden&&Ah(this._element)&&this.next()}prev(){this._slide(Ou)}pause(){this._isSliding&&jE(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(!!this._config.ride){if(this._isSliding){Ht.one(this._element,Oy,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){Ht.one(this._element,Oy,()=>this.to(e));return}const i=this._getItemIndex(this._getActive());if(i===e)return;const r=e>i?Sf:Ou;this._slide(r,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Ht.on(this._element,iL,e=>this._keydown(e)),this._config.pause==="hover"&&(Ht.on(this._element,rL,()=>this.pause()),Ht.on(this._element,aL,()=>this._maybeEnableCycle())),this._config.touch&&Lg.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of Gn.find(gL,this._element))Ht.on(i,sL,r=>r.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(Gu)),rightCallback:()=>this._slide(this._directionToOrder(mg)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),tL+this._config.interval))}};this._swipeHelper=new Lg(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=bL[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Gn.findOne(KE,this._indicatorsElement);t.classList.remove(Zp),t.removeAttribute("aria-current");const i=Gn.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(Zp),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const i=this._getActive(),r=e===Sf,a=t||B0(this._getItems(),i,r,this._config.wrap);if(a===i)return;const o=this._getItemIndex(a),s=M=>Ht.trigger(this._element,M,{relatedTarget:a,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:o});if(s(nL).defaultPrevented||!i||!a)return;const c=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=a;const l=r?hL:uL,_=r?fL:dL;a.classList.add(_),nd(a),i.classList.add(l),a.classList.add(l);const I=()=>{a.classList.remove(l,_),a.classList.add(Zp),i.classList.remove(Zp,_,l),this._isSliding=!1,s(Oy)};this._queueCallback(I,i,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(cL)}_getActive(){return Gn.findOne(pL,this._element)}_getItems(){return Gn.find(QE,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return cs()?e===Gu?Ou:Sf:e===Gu?Sf:Ou}_orderToDirection(e){return cs()?e===Ou?Gu:mg:e===Ou?mg:Gu}static jQueryInterface(e){return this.each(function(){const t=Oh.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Ht.on(document,lL,mL,function(n){const e=Po(this);if(!e||!e.classList.contains(JE))return;n.preventDefault();const t=Oh.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");if(i){t.to(i),t._maybeEnableCycle();return}if(Ro.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});Ht.on(window,oL,()=>{const n=Gn.find(yL);for(const e of n)Oh.getOrCreateInstance(e)});hs(Oh);const SL="collapse",_L="bs.collapse",sd=`.${_L}`,xL=".data-api",EL=`show${sd}`,TL=`shown${sd}`,IL=`hide${sd}`,DL=`hidden${sd}`,AL=`click${sd}${xL}`,ky="show",Qu="collapse",Jp="collapsing",ML="collapsed",OL=`:scope .${Qu} .${Qu}`,kL="collapse-horizontal",PL="width",LL="height",RL=".collapse.show, .collapse.collapsing",jb='[data-bs-toggle="collapse"]',NL={parent:null,toggle:!0},FL={parent:"(null|element)",toggle:"boolean"};class gh extends Ls{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=Gn.find(jb);for(const r of i){const a=FE(r),o=Gn.find(a).filter(s=>s===this._element);a!==null&&o.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return NL}static get DefaultType(){return FL}static get NAME(){return SL}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(RL).filter(s=>s!==this._element).map(s=>gh.getOrCreateInstance(s,{toggle:!1}))),e.length&&e[0]._isTransitioning||Ht.trigger(this._element,EL).defaultPrevented)return;for(const s of e)s.hide();const i=this._getDimension();this._element.classList.remove(Qu),this._element.classList.add(Jp),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Jp),this._element.classList.add(Qu,ky),this._element.style[i]="",Ht.trigger(this._element,TL)},o=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[i]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||Ht.trigger(this._element,IL).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,nd(this._element),this._element.classList.add(Jp),this._element.classList.remove(Qu,ky);for(const r of this._triggerArray){const a=Po(r);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Jp),this._element.classList.add(Qu),Ht.trigger(this._element,DL)};this._element.style[t]="",this._queueCallback(i,this._element,!0)}_isShown(e=this._element){return e.classList.contains(ky)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=Ol(e.parent),e}_getDimension(){return this._element.classList.contains(kL)?PL:LL}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(jb);for(const t of e){const i=Po(t);i&&this._addAriaAndCollapsedClass([t],this._isShown(i))}}_getFirstLevelChildren(e){const t=Gn.find(OL,this._config.parent);return Gn.find(e,this._config.parent).filter(i=>!t.includes(i))}_addAriaAndCollapsedClass(e,t){if(!!e.length)for(const i of e)i.classList.toggle(ML,!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const i=gh.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}Ht.on(document,AL,jb,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();const e=FE(this),t=Gn.find(e);for(const i of t)gh.getOrCreateInstance(i,{toggle:!1}).toggle()});hs(gh);const tS="dropdown",jL="bs.dropdown",jc=`.${jL}`,z0=".data-api",BL="Escape",nS="Tab",HL="ArrowUp",iS="ArrowDown",zL=2,WL=`hide${jc}`,UL=`hidden${jc}`,YL=`show${jc}`,GL=`shown${jc}`,qE=`click${jc}${z0}`,eT=`keydown${jc}${z0}`,$L=`keyup${jc}${z0}`,$u="show",VL="dropup",XL="dropend",ZL="dropstart",JL="dropup-center",KL="dropdown-center",Sc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',QL=`${Sc}.${$u}`,yg=".dropdown-menu",qL=".navbar",e2=".navbar-nav",t2=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",n2=cs()?"top-end":"top-start",i2=cs()?"top-start":"top-end",r2=cs()?"bottom-end":"bottom-start",a2=cs()?"bottom-start":"bottom-end",s2=cs()?"left-start":"right-start",o2=cs()?"right-start":"left-start",l2="top",c2="bottom",u2={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},h2={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Os extends Ls{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Gn.next(this._element,yg)[0]||Gn.prev(this._element,yg)[0]||Gn.findOne(yg,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return u2}static get DefaultType(){return h2}static get NAME(){return tS}toggle(){return this._isShown()?this.hide():this.show()}show(){if(kl(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!Ht.trigger(this._element,YL,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(e2))for(const i of[].concat(...document.body.children))Ht.on(i,"mouseover",Pg);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add($u),this._element.classList.add($u),Ht.trigger(this._element,GL,e)}}hide(){if(kl(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Ht.trigger(this._element,WL,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))Ht.off(i,"mouseover",Pg);this._popper&&this._popper.destroy(),this._menu.classList.remove($u),this._element.classList.remove($u),this._element.setAttribute("aria-expanded","false"),Ro.removeDataAttribute(this._menu,"popper"),Ht.trigger(this._element,UL,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Lo(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${tS.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof RE>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Lo(this._config.reference)?e=Ol(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=j0(e,this._menu,t)}_isShown(){return this._menu.classList.contains($u)}_getPlacement(){const e=this._parent;if(e.classList.contains(XL))return s2;if(e.classList.contains(ZL))return o2;if(e.classList.contains(JL))return l2;if(e.classList.contains(KL))return c2;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(VL)?t?i2:n2:t?a2:r2}_detectNavbar(){return this._element.closest(qL)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ro.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:t}){const i=Gn.find(t2,this._menu).filter(r=>Ah(r));!i.length||B0(i,t,e===iS,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Os.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===zL||e.type==="keyup"&&e.key!==nS)return;const t=Gn.find(QL);for(const i of t){const r=Os.getInstance(i);if(!r||r._config.autoClose===!1)continue;const a=e.composedPath(),o=a.includes(r._menu);if(a.includes(r._element)||r._config.autoClose==="inside"&&!o||r._config.autoClose==="outside"&&o||r._menu.contains(e.target)&&(e.type==="keyup"&&e.key===nS||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const s={relatedTarget:r._element};e.type==="click"&&(s.clickEvent=e),r._completeHide(s)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),i=e.key===BL,r=[HL,iS].includes(e.key);if(!r&&!i||t&&!i)return;e.preventDefault();const a=this.matches(Sc)?this:Gn.prev(this,Sc)[0]||Gn.next(this,Sc)[0]||Gn.findOne(Sc,e.delegateTarget.parentNode),o=Os.getOrCreateInstance(a);if(r){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),a.focus())}}Ht.on(document,eT,Sc,Os.dataApiKeydownHandler);Ht.on(document,eT,yg,Os.dataApiKeydownHandler);Ht.on(document,qE,Os.clearMenus);Ht.on(document,$L,Os.clearMenus);Ht.on(document,qE,Sc,function(n){n.preventDefault(),Os.getOrCreateInstance(this).toggle()});hs(Os);const rS=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",aS=".sticky-top",Kp="padding-right",sS="margin-right";class Bb{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Kp,t=>t+e),this._setElementAttributes(rS,Kp,t=>t+e),this._setElementAttributes(aS,sS,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Kp),this._resetElementAttributes(rS,Kp),this._resetElementAttributes(aS,sS)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const r=this.getWidth(),a=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+r)return;this._saveInitialAttribute(o,t);const s=window.getComputedStyle(o).getPropertyValue(t);o.style.setProperty(t,`${i(Number.parseFloat(s))}px`)};this._applyManipulationCallback(e,a)}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&Ro.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){const i=r=>{const a=Ro.getDataAttribute(r,t);if(a===null){r.style.removeProperty(t);return}Ro.removeDataAttribute(r,t),r.style.setProperty(t,a)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,t){if(Lo(e)){t(e);return}for(const i of Gn.find(e,this._element))t(i)}}const tT="backdrop",f2="fade",oS="show",lS=`mousedown.bs.${tT}`,d2={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},p2={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class nT extends id{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return d2}static get DefaultType(){return p2}static get NAME(){return tT}show(e){if(!this._config.isVisible){Do(e);return}this._append();const t=this._getElement();this._config.isAnimated&&nd(t),t.classList.add(oS),this._emulateAnimation(()=>{Do(e)})}hide(e){if(!this._config.isVisible){Do(e);return}this._getElement().classList.remove(oS),this._emulateAnimation(()=>{this.dispose(),Do(e)})}dispose(){!this._isAppended||(Ht.off(this._element,lS),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(f2),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Ol(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),Ht.on(e,lS,()=>{Do(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){zE(e,this._getElement(),this._config.isAnimated)}}const g2="focustrap",v2="bs.focustrap",Rg=`.${v2}`,m2=`focusin${Rg}`,y2=`keydown.tab${Rg}`,b2="Tab",w2="forward",cS="backward",C2={autofocus:!0,trapElement:null},S2={autofocus:"boolean",trapElement:"element"};class iT extends id{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return C2}static get DefaultType(){return S2}static get NAME(){return g2}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Ht.off(document,Rg),Ht.on(document,m2,e=>this._handleFocusin(e)),Ht.on(document,y2,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,Ht.off(document,Rg))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=Gn.focusableChildren(t);i.length===0?t.focus():this._lastTabNavDirection===cS?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){e.key===b2&&(this._lastTabNavDirection=e.shiftKey?cS:w2)}}const _2="modal",x2="bs.modal",Rs=`.${x2}`,E2=".data-api",T2="Escape",I2=`hide${Rs}`,D2=`hidePrevented${Rs}`,rT=`hidden${Rs}`,aT=`show${Rs}`,A2=`shown${Rs}`,M2=`resize${Rs}`,O2=`click.dismiss${Rs}`,k2=`mousedown.dismiss${Rs}`,P2=`keydown.dismiss${Rs}`,L2=`click${Rs}${E2}`,uS="modal-open",R2="fade",hS="show",Py="modal-static",N2=".modal.show",F2=".modal-dialog",j2=".modal-body",B2='[data-bs-toggle="modal"]',H2={backdrop:!0,focus:!0,keyboard:!0},z2={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class jo extends Ls{constructor(e,t){super(e,t),this._dialog=Gn.findOne(F2,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Bb,this._addEventListeners()}static get Default(){return H2}static get DefaultType(){return z2}static get NAME(){return _2}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Ht.trigger(this._element,aT,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(uS),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||Ht.trigger(this._element,I2).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(hS),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const e of[window,this._dialog])Ht.off(e,Rs);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new nT({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new iT({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Gn.findOne(j2,this._dialog);t&&(t.scrollTop=0),nd(this._element),this._element.classList.add(hS);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Ht.trigger(this._element,A2,{relatedTarget:e})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){Ht.on(this._element,P2,e=>{if(e.key===T2){if(this._config.keyboard){e.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),Ht.on(window,M2,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Ht.on(this._element,k2,e=>{Ht.one(this._element,O2,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(uS),this._resetAdjustments(),this._scrollBar.reset(),Ht.trigger(this._element,rT)})}_isAnimated(){return this._element.classList.contains(R2)}_triggerBackdropTransition(){if(Ht.trigger(this._element,D2).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(Py)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Py),this._queueCallback(()=>{this._element.classList.remove(Py),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){const r=cs()?"paddingLeft":"paddingRight";this._element.style[r]=`${t}px`}if(!i&&e){const r=cs()?"paddingRight":"paddingLeft";this._element.style[r]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const i=jo.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](t)}})}}Ht.on(document,L2,B2,function(n){const e=Po(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),Ht.one(e,aT,r=>{r.defaultPrevented||Ht.one(e,rT,()=>{Ah(this)&&this.focus()})});const t=Gn.findOne(N2);t&&jo.getInstance(t).hide(),jo.getOrCreateInstance(e).toggle(this)});wv(jo);hs(jo);const W2="offcanvas",U2="bs.offcanvas",Uo=`.${U2}`,sT=".data-api",Y2=`load${Uo}${sT}`,G2="Escape",fS="show",dS="showing",pS="hiding",$2="offcanvas-backdrop",oT=".offcanvas.show",V2=`show${Uo}`,X2=`shown${Uo}`,Z2=`hide${Uo}`,gS=`hidePrevented${Uo}`,lT=`hidden${Uo}`,J2=`resize${Uo}`,K2=`click${Uo}${sT}`,Q2=`keydown.dismiss${Uo}`,q2='[data-bs-toggle="offcanvas"]',eR={backdrop:!0,keyboard:!0,scroll:!1},tR={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Bo extends Ls{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return eR}static get DefaultType(){return tR}static get NAME(){return W2}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||Ht.trigger(this._element,V2,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Bb().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(dS);const i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(fS),this._element.classList.remove(dS),Ht.trigger(this._element,X2,{relatedTarget:e})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||Ht.trigger(this._element,Z2).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(pS),this._backdrop.hide();const t=()=>{this._element.classList.remove(fS,pS),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Bb().reset(),Ht.trigger(this._element,lT)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){Ht.trigger(this._element,gS);return}this.hide()},t=Boolean(this._config.backdrop);return new nT({className:$2,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new iT({trapElement:this._element})}_addEventListeners(){Ht.on(this._element,Q2,e=>{if(e.key===G2){if(!this._config.keyboard){Ht.trigger(this._element,gS);return}this.hide()}})}static jQueryInterface(e){return this.each(function(){const t=Bo.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Ht.on(document,K2,q2,function(n){const e=Po(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),kl(this))return;Ht.one(e,lT,()=>{Ah(this)&&this.focus()});const t=Gn.findOne(oT);t&&t!==e&&Bo.getInstance(t).hide(),Bo.getOrCreateInstance(e).toggle(this)});Ht.on(window,Y2,()=>{for(const n of Gn.find(oT))Bo.getOrCreateInstance(n).show()});Ht.on(window,J2,()=>{for(const n of Gn.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&Bo.getOrCreateInstance(n).hide()});wv(Bo);hs(Bo);const nR=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),iR=/^aria-[\w-]*$/i,rR=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,aR=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,sR=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?nR.has(t)?Boolean(rR.test(n.nodeValue)||aR.test(n.nodeValue)):!0:e.filter(i=>i instanceof RegExp).some(i=>i.test(t))},cT={"*":["class","dir","id","lang","role",iR],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function oR(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const r=new window.DOMParser().parseFromString(n,"text/html"),a=[].concat(...r.body.querySelectorAll("*"));for(const o of a){const s=o.nodeName.toLowerCase();if(!Object.keys(e).includes(s)){o.remove();continue}const u=[].concat(...o.attributes),c=[].concat(e["*"]||[],e[s]||[]);for(const l of u)sR(l,c)||o.removeAttribute(l.nodeName)}return r.body.innerHTML}const lR="TemplateFactory",cR={allowList:cT,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},uR={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},hR={entry:"(string|element|function|null)",selector:"(string|element)"};class fR extends id{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return cR}static get DefaultType(){return uR}static get NAME(){return lR}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[r,a]of Object.entries(this._config.content))this._setContent(e,a,r);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},hR)}_setContent(e,t,i){const r=Gn.findOne(i,e);if(!!r){if(t=this._resolvePossibleFunction(t),!t){r.remove();return}if(Lo(t)){this._putElementInTemplate(Ol(t),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(t);return}r.textContent=t}}_maybeSanitize(e){return this._config.sanitize?oR(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return typeof e=="function"?e(this):e}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const dR="tooltip",pR=new Set(["sanitize","allowList","sanitizeFn"]),Ly="fade",gR="modal",Qp="show",vR=".tooltip-inner",vS=`.${gR}`,mS="hide.bs.modal",_f="hover",Ry="focus",mR="click",yR="manual",bR="hide",wR="hidden",CR="show",SR="shown",_R="inserted",xR="click",ER="focusin",TR="focusout",IR="mouseenter",DR="mouseleave",AR={AUTO:"auto",TOP:"top",RIGHT:cs()?"left":"right",BOTTOM:"bottom",LEFT:cs()?"right":"left"},MR={allowList:cT,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},OR={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class jl extends Ls{constructor(e,t){if(typeof RE>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return MR}static get DefaultType(){return OR}static get NAME(){return dR}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(!!this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Ht.off(this._element.closest(vS),mS,this._hideModalHandler),this.tip&&this.tip.remove(),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=Ht.trigger(this._element,this.constructor.eventName(CR)),i=(BE(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this.tip&&(this.tip.remove(),this.tip=null);const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(r),Ht.trigger(this._element,this.constructor.eventName(_R))),this._popper?this._popper.update():this._popper=this._createPopper(r),r.classList.add(Qp),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))Ht.on(s,"mouseover",Pg);const o=()=>{Ht.trigger(this._element,this.constructor.eventName(SR)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Ht.trigger(this._element,this.constructor.eventName(bR)).defaultPrevented)return;const t=this._getTipElement();if(t.classList.remove(Qp),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))Ht.off(r,"mouseover",Pg);this._activeTrigger[mR]=!1,this._activeTrigger[Ry]=!1,this._activeTrigger[_f]=!1,this._isHovered=null;const i=()=>{this._isWithActiveTrigger()||(this._isHovered||t.remove(),this._element.removeAttribute("aria-describedby"),Ht.trigger(this._element,this.constructor.eventName(wR)),this._disposePopper())};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Ly,Qp),t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=vP(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(Ly),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new fR({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[vR]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ly)}_isShown(){return this.tip&&this.tip.classList.contains(Qp)}_createPopper(e){const t=typeof this._config.placement=="function"?this._config.placement.call(this,e,this._element):this._config.placement,i=AR[t.toUpperCase()];return j0(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return typeof e=="function"?e.call(this._element):e}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...t,...typeof this._config.popperConfig=="function"?this._config.popperConfig(t):this._config.popperConfig}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")Ht.on(this._element,this.constructor.eventName(xR),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(t!==yR){const i=t===_f?this.constructor.eventName(IR):this.constructor.eventName(ER),r=t===_f?this.constructor.eventName(DR):this.constructor.eventName(TR);Ht.on(this._element,i,this._config.selector,a=>{const o=this._initializeOnDelegatedTarget(a);o._activeTrigger[a.type==="focusin"?Ry:_f]=!0,o._enter()}),Ht.on(this._element,r,this._config.selector,a=>{const o=this._initializeOnDelegatedTarget(a);o._activeTrigger[a.type==="focusout"?Ry:_f]=o._element.contains(a.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Ht.on(this._element.closest(vS),mS,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");!e||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=Ro.getDataAttributes(this._element);for(const i of Object.keys(t))pR.has(i)&&delete t[i];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Ol(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(e){return this.each(function(){const t=jl.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}hs(jl);const kR="popover",PR=".popover-header",LR=".popover-body",RR={...jl.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},NR={...jl.DefaultType,content:"(null|string|element|function)"};class Cv extends jl{static get Default(){return RR}static get DefaultType(){return NR}static get NAME(){return kR}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[PR]:this._getTitle(),[LR]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=Cv.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}hs(Cv);const FR="scrollspy",jR="bs.scrollspy",W0=`.${jR}`,BR=".data-api",HR=`activate${W0}`,yS=`click${W0}`,zR=`load${W0}${BR}`,WR="dropdown-item",ku="active",UR='[data-bs-spy="scroll"]',Ny="[href]",YR=".nav, .list-group",bS=".nav-link",GR=".nav-item",$R=".list-group-item",VR=`${bS}, ${GR} > ${bS}, ${$R}`,XR=".dropdown",ZR=".dropdown-toggle",JR={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},KR={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class od extends Ls{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return JR}static get DefaultType(){return KR}static get NAME(){return FR}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Ol(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(Ht.off(this._config.target,yS),Ht.on(this._config.target,yS,Ny,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const i=this._rootElement||window,r=t.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:r,behavior:"smooth"});return}i.scrollTop=r}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=o=>this._targetLinks.get(`#${o.target.id}`),i=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(t(o))},r=(this._rootElement||document.documentElement).scrollTop,a=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}const s=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&s){if(i(o),!r)return;continue}!a&&!s&&i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Gn.find(Ny,this._config.target);for(const t of e){if(!t.hash||kl(t))continue;const i=Gn.findOne(t.hash,this._element);Ah(i)&&(this._targetLinks.set(t.hash,t),this._observableSections.set(t.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(ku),this._activateParents(e),Ht.trigger(this._element,HR,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(WR)){Gn.findOne(ZR,e.closest(XR)).classList.add(ku);return}for(const t of Gn.parents(e,YR))for(const i of Gn.prev(t,VR))i.classList.add(ku)}_clearActiveClass(e){e.classList.remove(ku);const t=Gn.find(`${Ny}.${ku}`,e);for(const i of t)i.classList.remove(ku)}static jQueryInterface(e){return this.each(function(){const t=od.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Ht.on(window,zR,()=>{for(const n of Gn.find(UR))od.getOrCreateInstance(n)});hs(od);const QR="tab",qR="bs.tab",Bc=`.${qR}`,eN=`hide${Bc}`,tN=`hidden${Bc}`,nN=`show${Bc}`,iN=`shown${Bc}`,rN=`click${Bc}`,aN=`keydown${Bc}`,sN=`load${Bc}`,oN="ArrowLeft",wS="ArrowRight",lN="ArrowUp",CS="ArrowDown",_c="active",SS="fade",Fy="show",cN="dropdown",uN=".dropdown-toggle",hN=".dropdown-menu",jy=":not(.dropdown-toggle)",fN='.list-group, .nav, [role="tablist"]',dN=".nav-item, .list-group-item",pN=`.nav-link${jy}, .list-group-item${jy}, [role="tab"]${jy}`,uT='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',By=`${pN}, ${uT}`,gN=`.${_c}[data-bs-toggle="tab"], .${_c}[data-bs-toggle="pill"], .${_c}[data-bs-toggle="list"]`;class Oc extends Ls{constructor(e){super(e),this._parent=this._element.closest(fN),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Ht.on(this._element,aN,t=>this._keydown(t)))}static get NAME(){return QR}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),i=t?Ht.trigger(t,eN,{relatedTarget:e}):null;Ht.trigger(e,nN,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(_c),this._activate(Po(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Fy);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Ht.trigger(e,iN,{relatedTarget:t})};this._queueCallback(i,e,e.classList.contains(SS))}_deactivate(e,t){if(!e)return;e.classList.remove(_c),e.blur(),this._deactivate(Po(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Fy);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Ht.trigger(e,tN,{relatedTarget:t})};this._queueCallback(i,e,e.classList.contains(SS))}_keydown(e){if(![oN,wS,lN,CS].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=[wS,CS].includes(e.key),i=B0(this._getChildren().filter(r=>!kl(r)),e.target,t,!0);i&&(i.focus({preventScroll:!0}),Oc.getOrCreateInstance(i).show())}_getChildren(){return Gn.find(By,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const i of t)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Po(e);!t||(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`#${e.id}`))}_toggleDropDown(e,t){const i=this._getOuterElement(e);if(!i.classList.contains(cN))return;const r=(a,o)=>{const s=Gn.findOne(a,i);s&&s.classList.toggle(o,t)};r(uN,_c),r(hN,Fy),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(_c)}_getInnerElement(e){return e.matches(By)?e:Gn.findOne(By,e)}_getOuterElement(e){return e.closest(dN)||e}static jQueryInterface(e){return this.each(function(){const t=Oc.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Ht.on(document,rN,uT,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!kl(this)&&Oc.getOrCreateInstance(this).show()});Ht.on(window,sN,()=>{for(const n of Gn.find(gN))Oc.getOrCreateInstance(n)});hs(Oc);const vN="toast",mN="bs.toast",Bl=`.${mN}`,yN=`mouseover${Bl}`,bN=`mouseout${Bl}`,wN=`focusin${Bl}`,CN=`focusout${Bl}`,SN=`hide${Bl}`,_N=`hidden${Bl}`,xN=`show${Bl}`,EN=`shown${Bl}`,TN="fade",_S="hide",qp="show",eg="showing",IN={animation:"boolean",autohide:"boolean",delay:"number"},DN={animation:!0,autohide:!0,delay:5e3};class ld extends Ls{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return DN}static get DefaultType(){return IN}static get NAME(){return vN}show(){if(Ht.trigger(this._element,xN).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(TN);const t=()=>{this._element.classList.remove(eg),Ht.trigger(this._element,EN),this._maybeScheduleHide()};this._element.classList.remove(_S),nd(this._element),this._element.classList.add(qp,eg),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||Ht.trigger(this._element,SN).defaultPrevented)return;const t=()=>{this._element.classList.add(_S),this._element.classList.remove(eg,qp),Ht.trigger(this._element,_N)};this._element.classList.add(eg),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(qp),super.dispose()}isShown(){return this._element.classList.contains(qp)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){Ht.on(this._element,yN,e=>this._onInteraction(e,!0)),Ht.on(this._element,bN,e=>this._onInteraction(e,!1)),Ht.on(this._element,wN,e=>this._onInteraction(e,!0)),Ht.on(this._element,CN,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=ld.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}wv(ld);hs(ld);const AN=Object.freeze(Object.defineProperty({__proto__:null,Alert:rd,Button:ad,Carousel:Oh,Collapse:gh,Dropdown:Os,Modal:jo,Offcanvas:Bo,Popover:Cv,ScrollSpy:od,Tab:Oc,Toast:ld,Tooltip:jl},Symbol.toStringTag,{value:"Module"}));var sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fT={exports:{}};/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */(function(n){(function(e,t){n.exports=e.document?t(e,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return t(i)}})(typeof window<"u"?window:sr,function(e,t){var i=[],r=Object.getPrototypeOf,a=i.slice,o=i.flat?function(O){return i.flat.call(O)}:function(O){return i.concat.apply([],O)},s=i.push,u=i.indexOf,c={},l=c.toString,_=c.hasOwnProperty,I=_.toString,M=I.call(Object),P={},N=function(R){return typeof R=="function"&&typeof R.nodeType!="number"},b=function(R){return R!=null&&R===R.window},f=e.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function m(O,R,Y){Y=Y||f;var Z,te,ne=Y.createElement("script");if(ne.text=O,R)for(Z in v)te=R[Z]||R.getAttribute&&R.getAttribute(Z),te&&ne.setAttribute(Z,te);Y.head.appendChild(ne).parentNode.removeChild(ne)}function d(O){return O==null?O+"":typeof O=="object"||typeof O=="function"?c[l.call(O)]||"object":typeof O}var g="3.5.1",h=function(O,R){return new h.fn.init(O,R)};h.fn=h.prototype={jquery:g,constructor:h,length:0,toArray:function(){return a.call(this)},get:function(O){return O==null?a.call(this):O<0?this[O+this.length]:this[O]},pushStack:function(O){var R=h.merge(this.constructor(),O);return R.prevObject=this,R},each:function(O){return h.each(this,O)},map:function(O){return this.pushStack(h.map(this,function(R,Y){return O.call(R,Y,R)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(h.grep(this,function(O,R){return(R+1)%2}))},odd:function(){return this.pushStack(h.grep(this,function(O,R){return R%2}))},eq:function(O){var R=this.length,Y=+O+(O<0?R:0);return this.pushStack(Y>=0&&Y<R?[this[Y]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:i.sort,splice:i.splice},h.extend=h.fn.extend=function(){var O,R,Y,Z,te,ne,fe=arguments[0]||{},Re=1,De=arguments.length,We=!1;for(typeof fe=="boolean"&&(We=fe,fe=arguments[Re]||{},Re++),typeof fe!="object"&&!N(fe)&&(fe={}),Re===De&&(fe=this,Re--);Re<De;Re++)if((O=arguments[Re])!=null)for(R in O)Z=O[R],!(R==="__proto__"||fe===Z)&&(We&&Z&&(h.isPlainObject(Z)||(te=Array.isArray(Z)))?(Y=fe[R],te&&!Array.isArray(Y)?ne=[]:!te&&!h.isPlainObject(Y)?ne={}:ne=Y,te=!1,fe[R]=h.extend(We,ne,Z)):Z!==void 0&&(fe[R]=Z));return fe},h.extend({expando:"jQuery"+(g+Math.random()).replace(/\D/g,""),isReady:!0,error:function(O){throw new Error(O)},noop:function(){},isPlainObject:function(O){var R,Y;return!O||l.call(O)!=="[object Object]"?!1:(R=r(O),R?(Y=_.call(R,"constructor")&&R.constructor,typeof Y=="function"&&I.call(Y)===M):!0)},isEmptyObject:function(O){var R;for(R in O)return!1;return!0},globalEval:function(O,R,Y){m(O,{nonce:R&&R.nonce},Y)},each:function(O,R){var Y,Z=0;if(C(O))for(Y=O.length;Z<Y&&R.call(O[Z],Z,O[Z])!==!1;Z++);else for(Z in O)if(R.call(O[Z],Z,O[Z])===!1)break;return O},makeArray:function(O,R){var Y=R||[];return O!=null&&(C(Object(O))?h.merge(Y,typeof O=="string"?[O]:O):s.call(Y,O)),Y},inArray:function(O,R,Y){return R==null?-1:u.call(R,O,Y)},merge:function(O,R){for(var Y=+R.length,Z=0,te=O.length;Z<Y;Z++)O[te++]=R[Z];return O.length=te,O},grep:function(O,R,Y){for(var Z,te=[],ne=0,fe=O.length,Re=!Y;ne<fe;ne++)Z=!R(O[ne],ne),Z!==Re&&te.push(O[ne]);return te},map:function(O,R,Y){var Z,te,ne=0,fe=[];if(C(O))for(Z=O.length;ne<Z;ne++)te=R(O[ne],ne,Y),te!=null&&fe.push(te);else for(ne in O)te=R(O[ne],ne,Y),te!=null&&fe.push(te);return o(fe)},guid:1,support:P}),typeof Symbol=="function"&&(h.fn[Symbol.iterator]=i[Symbol.iterator]),h.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(O,R){c["[object "+R+"]"]=R.toLowerCase()});function C(O){var R=!!O&&"length"in O&&O.length,Y=d(O);return N(O)||b(O)?!1:Y==="array"||R===0||typeof R=="number"&&R>0&&R-1 in O}var D=function(O){var R,Y,Z,te,ne,fe,Re,De,We,ft,et,ct,vt,fn,En,ln,wi,ri,Nn,Ln="sizzle"+1*new Date,un=O.document,Bi=0,wn=0,Ci=Xi(),vs=Xi(),Ws=Xi(),qi=Xi(),jr=function(ye,Ne){return ye===Ne&&(et=!0),0},br={}.hasOwnProperty,er=[],Gr=er.pop,ur=er.push,wr=er.push,ms=er.slice,aa=function(ye,Ne){for(var $e=0,xt=ye.length;$e<xt;$e++)if(ye[$e]===Ne)return $e;return-1},go="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Vn="[\\x20\\t\\r\\n\\f]",Br="(?:\\\\[\\da-fA-F]{1,6}"+Vn+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",el="\\["+Vn+"*("+Br+")(?:"+Vn+"*([*^$|!~]?=)"+Vn+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Br+"))|)"+Vn+"*\\]",Ja=":("+Br+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+el+")*)|.*)\\)|)",tr=new RegExp(Vn+"+","g"),xa=new RegExp("^"+Vn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Vn+"+$","g"),Ea=new RegExp("^"+Vn+"*,"+Vn+"*"),vo=new RegExp("^"+Vn+"*([>+~]|"+Vn+")"+Vn+"*"),tl=new RegExp(Vn+"|>"),Jl=new RegExp(Ja),Us=new RegExp("^"+Br+"$"),Ys={ID:new RegExp("^#("+Br+")"),CLASS:new RegExp("^\\.("+Br+")"),TAG:new RegExp("^("+Br+"|[*])"),ATTR:new RegExp("^"+el),PSEUDO:new RegExp("^"+Ja),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Vn+"*(even|odd|(([+-]|)(\\d*)n|)"+Vn+"*(?:([+-]|)"+Vn+"*(\\d+)|))"+Vn+"*\\)|)","i"),bool:new RegExp("^(?:"+go+")$","i"),needsContext:new RegExp("^"+Vn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Vn+"*((?:-\\d)?\\d*)"+Vn+"*\\)|)(?=[^-]|$)","i")},Kl=/HTML$/i,Ql=/^(?:input|select|textarea|button)$/i,Ka=/^h\d$/i,Qa=/^[^{]+\{\s*\[native \w/,ql=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ys=/[+~]/,Hr=new RegExp("\\\\[\\da-fA-F]{1,6}"+Vn+"?|\\\\([^\\r\\n\\f])","g"),Hi=function(ye,Ne){var $e="0x"+ye.slice(1)-65536;return Ne||($e<0?String.fromCharCode($e+65536):String.fromCharCode($e>>10|55296,$e&1023|56320))},qa=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,mo=function(ye,Ne){return Ne?ye==="\0"?"\uFFFD":ye.slice(0,-1)+"\\"+ye.charCodeAt(ye.length-1).toString(16)+" ":"\\"+ye},nl=function(){ct()},ec=Cn(function(ye){return ye.disabled===!0&&ye.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{wr.apply(er=ms.call(un.childNodes),un.childNodes),er[un.childNodes.length].nodeType}catch{wr={apply:er.length?function(Ne,$e){ur.apply(Ne,ms.call($e))}:function(Ne,$e){for(var xt=Ne.length,tt=0;Ne[xt++]=$e[tt++];);Ne.length=xt-1}}}function Xn(ye,Ne,$e,xt){var tt,dt,Rt,Vt,Yt,dn,vn,mn=Ne&&Ne.ownerDocument,On=Ne?Ne.nodeType:9;if($e=$e||[],typeof ye!="string"||!ye||On!==1&&On!==9&&On!==11)return $e;if(!xt&&(ct(Ne),Ne=Ne||vt,En)){if(On!==11&&(Yt=ql.exec(ye)))if(tt=Yt[1]){if(On===9)if(Rt=Ne.getElementById(tt)){if(Rt.id===tt)return $e.push(Rt),$e}else return $e;else if(mn&&(Rt=mn.getElementById(tt))&&Nn(Ne,Rt)&&Rt.id===tt)return $e.push(Rt),$e}else{if(Yt[2])return wr.apply($e,Ne.getElementsByTagName(ye)),$e;if((tt=Yt[3])&&Y.getElementsByClassName&&Ne.getElementsByClassName)return wr.apply($e,Ne.getElementsByClassName(tt)),$e}if(Y.qsa&&!qi[ye+" "]&&(!ln||!ln.test(ye))&&(On!==1||Ne.nodeName.toLowerCase()!=="object")){if(vn=ye,mn=Ne,On===1&&(tl.test(ye)||vo.test(ye))){for(mn=ys.test(ye)&&_t(Ne.parentNode)||Ne,(mn!==Ne||!Y.scope)&&((Vt=Ne.getAttribute("id"))?Vt=Vt.replace(qa,mo):Ne.setAttribute("id",Vt=Ln)),dn=fe(ye),dt=dn.length;dt--;)dn[dt]=(Vt?"#"+Vt:":scope")+" "+en(dn[dt]);vn=dn.join(",")}try{return wr.apply($e,mn.querySelectorAll(vn)),$e}catch{qi(ye,!0)}finally{Vt===Ln&&Ne.removeAttribute("id")}}}return De(ye.replace(xa,"$1"),Ne,$e,xt)}function Xi(){var ye=[];function Ne($e,xt){return ye.push($e+" ")>Z.cacheLength&&delete Ne[ye.shift()],Ne[$e+" "]=xt}return Ne}function nr(ye){return ye[Ln]=!0,ye}function Mr(ye){var Ne=vt.createElement("fieldset");try{return!!ye(Ne)}catch{return!1}finally{Ne.parentNode&&Ne.parentNode.removeChild(Ne),Ne=null}}function yo(ye,Ne){for(var $e=ye.split("|"),xt=$e.length;xt--;)Z.attrHandle[$e[xt]]=Ne}function il(ye,Ne){var $e=Ne&&ye,xt=$e&&ye.nodeType===1&&Ne.nodeType===1&&ye.sourceIndex-Ne.sourceIndex;if(xt)return xt;if($e){for(;$e=$e.nextSibling;)if($e===Ne)return-1}return ye?1:-1}function tc(ye){return function(Ne){var $e=Ne.nodeName.toLowerCase();return $e==="input"&&Ne.type===ye}}function rl(ye){return function(Ne){var $e=Ne.nodeName.toLowerCase();return($e==="input"||$e==="button")&&Ne.type===ye}}function Ta(ye){return function(Ne){return"form"in Ne?Ne.parentNode&&Ne.disabled===!1?"label"in Ne?"label"in Ne.parentNode?Ne.parentNode.disabled===ye:Ne.disabled===ye:Ne.isDisabled===ye||Ne.isDisabled!==!ye&&ec(Ne)===ye:Ne.disabled===ye:"label"in Ne?Ne.disabled===ye:!1}}function Je(ye){return nr(function(Ne){return Ne=+Ne,nr(function($e,xt){for(var tt,dt=ye([],$e.length,Ne),Rt=dt.length;Rt--;)$e[tt=dt[Rt]]&&($e[tt]=!(xt[tt]=$e[tt]))})})}function _t(ye){return ye&&typeof ye.getElementsByTagName<"u"&&ye}Y=Xn.support={},ne=Xn.isXML=function(ye){var Ne=ye.namespaceURI,$e=(ye.ownerDocument||ye).documentElement;return!Kl.test(Ne||$e&&$e.nodeName||"HTML")},ct=Xn.setDocument=function(ye){var Ne,$e,xt=ye?ye.ownerDocument||ye:un;return xt==vt||xt.nodeType!==9||!xt.documentElement||(vt=xt,fn=vt.documentElement,En=!ne(vt),un!=vt&&($e=vt.defaultView)&&$e.top!==$e&&($e.addEventListener?$e.addEventListener("unload",nl,!1):$e.attachEvent&&$e.attachEvent("onunload",nl)),Y.scope=Mr(function(tt){return fn.appendChild(tt).appendChild(vt.createElement("div")),typeof tt.querySelectorAll<"u"&&!tt.querySelectorAll(":scope fieldset div").length}),Y.attributes=Mr(function(tt){return tt.className="i",!tt.getAttribute("className")}),Y.getElementsByTagName=Mr(function(tt){return tt.appendChild(vt.createComment("")),!tt.getElementsByTagName("*").length}),Y.getElementsByClassName=Qa.test(vt.getElementsByClassName),Y.getById=Mr(function(tt){return fn.appendChild(tt).id=Ln,!vt.getElementsByName||!vt.getElementsByName(Ln).length}),Y.getById?(Z.filter.ID=function(tt){var dt=tt.replace(Hr,Hi);return function(Rt){return Rt.getAttribute("id")===dt}},Z.find.ID=function(tt,dt){if(typeof dt.getElementById<"u"&&En){var Rt=dt.getElementById(tt);return Rt?[Rt]:[]}}):(Z.filter.ID=function(tt){var dt=tt.replace(Hr,Hi);return function(Rt){var Vt=typeof Rt.getAttributeNode<"u"&&Rt.getAttributeNode("id");return Vt&&Vt.value===dt}},Z.find.ID=function(tt,dt){if(typeof dt.getElementById<"u"&&En){var Rt,Vt,Yt,dn=dt.getElementById(tt);if(dn){if(Rt=dn.getAttributeNode("id"),Rt&&Rt.value===tt)return[dn];for(Yt=dt.getElementsByName(tt),Vt=0;dn=Yt[Vt++];)if(Rt=dn.getAttributeNode("id"),Rt&&Rt.value===tt)return[dn]}return[]}}),Z.find.TAG=Y.getElementsByTagName?function(tt,dt){if(typeof dt.getElementsByTagName<"u")return dt.getElementsByTagName(tt);if(Y.qsa)return dt.querySelectorAll(tt)}:function(tt,dt){var Rt,Vt=[],Yt=0,dn=dt.getElementsByTagName(tt);if(tt==="*"){for(;Rt=dn[Yt++];)Rt.nodeType===1&&Vt.push(Rt);return Vt}return dn},Z.find.CLASS=Y.getElementsByClassName&&function(tt,dt){if(typeof dt.getElementsByClassName<"u"&&En)return dt.getElementsByClassName(tt)},wi=[],ln=[],(Y.qsa=Qa.test(vt.querySelectorAll))&&(Mr(function(tt){var dt;fn.appendChild(tt).innerHTML="<a id='"+Ln+"'></a><select id='"+Ln+"-\r\\' msallowcapture=''><option selected=''></option></select>",tt.querySelectorAll("[msallowcapture^='']").length&&ln.push("[*^$]="+Vn+`*(?:''|"")`),tt.querySelectorAll("[selected]").length||ln.push("\\["+Vn+"*(?:value|"+go+")"),tt.querySelectorAll("[id~="+Ln+"-]").length||ln.push("~="),dt=vt.createElement("input"),dt.setAttribute("name",""),tt.appendChild(dt),tt.querySelectorAll("[name='']").length||ln.push("\\["+Vn+"*name"+Vn+"*="+Vn+`*(?:''|"")`),tt.querySelectorAll(":checked").length||ln.push(":checked"),tt.querySelectorAll("a#"+Ln+"+*").length||ln.push(".#.+[+~]"),tt.querySelectorAll("\\\f"),ln.push("[\\r\\n\\f]")}),Mr(function(tt){tt.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var dt=vt.createElement("input");dt.setAttribute("type","hidden"),tt.appendChild(dt).setAttribute("name","D"),tt.querySelectorAll("[name=d]").length&&ln.push("name"+Vn+"*[*^$|!~]?="),tt.querySelectorAll(":enabled").length!==2&&ln.push(":enabled",":disabled"),fn.appendChild(tt).disabled=!0,tt.querySelectorAll(":disabled").length!==2&&ln.push(":enabled",":disabled"),tt.querySelectorAll("*,:x"),ln.push(",.*:")})),(Y.matchesSelector=Qa.test(ri=fn.matches||fn.webkitMatchesSelector||fn.mozMatchesSelector||fn.oMatchesSelector||fn.msMatchesSelector))&&Mr(function(tt){Y.disconnectedMatch=ri.call(tt,"*"),ri.call(tt,"[s!='']:x"),wi.push("!=",Ja)}),ln=ln.length&&new RegExp(ln.join("|")),wi=wi.length&&new RegExp(wi.join("|")),Ne=Qa.test(fn.compareDocumentPosition),Nn=Ne||Qa.test(fn.contains)?function(tt,dt){var Rt=tt.nodeType===9?tt.documentElement:tt,Vt=dt&&dt.parentNode;return tt===Vt||!!(Vt&&Vt.nodeType===1&&(Rt.contains?Rt.contains(Vt):tt.compareDocumentPosition&&tt.compareDocumentPosition(Vt)&16))}:function(tt,dt){if(dt){for(;dt=dt.parentNode;)if(dt===tt)return!0}return!1},jr=Ne?function(tt,dt){if(tt===dt)return et=!0,0;var Rt=!tt.compareDocumentPosition-!dt.compareDocumentPosition;return Rt||(Rt=(tt.ownerDocument||tt)==(dt.ownerDocument||dt)?tt.compareDocumentPosition(dt):1,Rt&1||!Y.sortDetached&&dt.compareDocumentPosition(tt)===Rt?tt==vt||tt.ownerDocument==un&&Nn(un,tt)?-1:dt==vt||dt.ownerDocument==un&&Nn(un,dt)?1:ft?aa(ft,tt)-aa(ft,dt):0:Rt&4?-1:1)}:function(tt,dt){if(tt===dt)return et=!0,0;var Rt,Vt=0,Yt=tt.parentNode,dn=dt.parentNode,vn=[tt],mn=[dt];if(!Yt||!dn)return tt==vt?-1:dt==vt?1:Yt?-1:dn?1:ft?aa(ft,tt)-aa(ft,dt):0;if(Yt===dn)return il(tt,dt);for(Rt=tt;Rt=Rt.parentNode;)vn.unshift(Rt);for(Rt=dt;Rt=Rt.parentNode;)mn.unshift(Rt);for(;vn[Vt]===mn[Vt];)Vt++;return Vt?il(vn[Vt],mn[Vt]):vn[Vt]==un?-1:mn[Vt]==un?1:0}),vt},Xn.matches=function(ye,Ne){return Xn(ye,null,null,Ne)},Xn.matchesSelector=function(ye,Ne){if(ct(ye),Y.matchesSelector&&En&&!qi[Ne+" "]&&(!wi||!wi.test(Ne))&&(!ln||!ln.test(Ne)))try{var $e=ri.call(ye,Ne);if($e||Y.disconnectedMatch||ye.document&&ye.document.nodeType!==11)return $e}catch{qi(Ne,!0)}return Xn(Ne,vt,null,[ye]).length>0},Xn.contains=function(ye,Ne){return(ye.ownerDocument||ye)!=vt&&ct(ye),Nn(ye,Ne)},Xn.attr=function(ye,Ne){(ye.ownerDocument||ye)!=vt&&ct(ye);var $e=Z.attrHandle[Ne.toLowerCase()],xt=$e&&br.call(Z.attrHandle,Ne.toLowerCase())?$e(ye,Ne,!En):void 0;return xt!==void 0?xt:Y.attributes||!En?ye.getAttribute(Ne):(xt=ye.getAttributeNode(Ne))&&xt.specified?xt.value:null},Xn.escape=function(ye){return(ye+"").replace(qa,mo)},Xn.error=function(ye){throw new Error("Syntax error, unrecognized expression: "+ye)},Xn.uniqueSort=function(ye){var Ne,$e=[],xt=0,tt=0;if(et=!Y.detectDuplicates,ft=!Y.sortStable&&ye.slice(0),ye.sort(jr),et){for(;Ne=ye[tt++];)Ne===ye[tt]&&(xt=$e.push(tt));for(;xt--;)ye.splice($e[xt],1)}return ft=null,ye},te=Xn.getText=function(ye){var Ne,$e="",xt=0,tt=ye.nodeType;if(tt){if(tt===1||tt===9||tt===11){if(typeof ye.textContent=="string")return ye.textContent;for(ye=ye.firstChild;ye;ye=ye.nextSibling)$e+=te(ye)}else if(tt===3||tt===4)return ye.nodeValue}else for(;Ne=ye[xt++];)$e+=te(Ne);return $e},Z=Xn.selectors={cacheLength:50,createPseudo:nr,match:Ys,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ye){return ye[1]=ye[1].replace(Hr,Hi),ye[3]=(ye[3]||ye[4]||ye[5]||"").replace(Hr,Hi),ye[2]==="~="&&(ye[3]=" "+ye[3]+" "),ye.slice(0,4)},CHILD:function(ye){return ye[1]=ye[1].toLowerCase(),ye[1].slice(0,3)==="nth"?(ye[3]||Xn.error(ye[0]),ye[4]=+(ye[4]?ye[5]+(ye[6]||1):2*(ye[3]==="even"||ye[3]==="odd")),ye[5]=+(ye[7]+ye[8]||ye[3]==="odd")):ye[3]&&Xn.error(ye[0]),ye},PSEUDO:function(ye){var Ne,$e=!ye[6]&&ye[2];return Ys.CHILD.test(ye[0])?null:(ye[3]?ye[2]=ye[4]||ye[5]||"":$e&&Jl.test($e)&&(Ne=fe($e,!0))&&(Ne=$e.indexOf(")",$e.length-Ne)-$e.length)&&(ye[0]=ye[0].slice(0,Ne),ye[2]=$e.slice(0,Ne)),ye.slice(0,3))}},filter:{TAG:function(ye){var Ne=ye.replace(Hr,Hi).toLowerCase();return ye==="*"?function(){return!0}:function($e){return $e.nodeName&&$e.nodeName.toLowerCase()===Ne}},CLASS:function(ye){var Ne=Ci[ye+" "];return Ne||(Ne=new RegExp("(^|"+Vn+")"+ye+"("+Vn+"|$)"))&&Ci(ye,function($e){return Ne.test(typeof $e.className=="string"&&$e.className||typeof $e.getAttribute<"u"&&$e.getAttribute("class")||"")})},ATTR:function(ye,Ne,$e){return function(xt){var tt=Xn.attr(xt,ye);return tt==null?Ne==="!=":Ne?(tt+="",Ne==="="?tt===$e:Ne==="!="?tt!==$e:Ne==="^="?$e&&tt.indexOf($e)===0:Ne==="*="?$e&&tt.indexOf($e)>-1:Ne==="$="?$e&&tt.slice(-$e.length)===$e:Ne==="~="?(" "+tt.replace(tr," ")+" ").indexOf($e)>-1:Ne==="|="?tt===$e||tt.slice(0,$e.length+1)===$e+"-":!1):!0}},CHILD:function(ye,Ne,$e,xt,tt){var dt=ye.slice(0,3)!=="nth",Rt=ye.slice(-4)!=="last",Vt=Ne==="of-type";return xt===1&&tt===0?function(Yt){return!!Yt.parentNode}:function(Yt,dn,vn){var mn,On,Bn,pn,Ei,Di,Ni=dt!==Rt?"nextSibling":"previousSibling",W=Yt.parentNode,V=Vt&&Yt.nodeName.toLowerCase(),ae=!vn&&!Vt,Ie=!1;if(W){if(dt){for(;Ni;){for(pn=Yt;pn=pn[Ni];)if(Vt?pn.nodeName.toLowerCase()===V:pn.nodeType===1)return!1;Di=Ni=ye==="only"&&!Di&&"nextSibling"}return!0}if(Di=[Rt?W.firstChild:W.lastChild],Rt&&ae){for(pn=W,Bn=pn[Ln]||(pn[Ln]={}),On=Bn[pn.uniqueID]||(Bn[pn.uniqueID]={}),mn=On[ye]||[],Ei=mn[0]===Bi&&mn[1],Ie=Ei&&mn[2],pn=Ei&&W.childNodes[Ei];pn=++Ei&&pn&&pn[Ni]||(Ie=Ei=0)||Di.pop();)if(pn.nodeType===1&&++Ie&&pn===Yt){On[ye]=[Bi,Ei,Ie];break}}else if(ae&&(pn=Yt,Bn=pn[Ln]||(pn[Ln]={}),On=Bn[pn.uniqueID]||(Bn[pn.uniqueID]={}),mn=On[ye]||[],Ei=mn[0]===Bi&&mn[1],Ie=Ei),Ie===!1)for(;(pn=++Ei&&pn&&pn[Ni]||(Ie=Ei=0)||Di.pop())&&!((Vt?pn.nodeName.toLowerCase()===V:pn.nodeType===1)&&++Ie&&(ae&&(Bn=pn[Ln]||(pn[Ln]={}),On=Bn[pn.uniqueID]||(Bn[pn.uniqueID]={}),On[ye]=[Bi,Ie]),pn===Yt)););return Ie-=tt,Ie===xt||Ie%xt===0&&Ie/xt>=0}}},PSEUDO:function(ye,Ne){var $e,xt=Z.pseudos[ye]||Z.setFilters[ye.toLowerCase()]||Xn.error("unsupported pseudo: "+ye);return xt[Ln]?xt(Ne):xt.length>1?($e=[ye,ye,"",Ne],Z.setFilters.hasOwnProperty(ye.toLowerCase())?nr(function(tt,dt){for(var Rt,Vt=xt(tt,Ne),Yt=Vt.length;Yt--;)Rt=aa(tt,Vt[Yt]),tt[Rt]=!(dt[Rt]=Vt[Yt])}):function(tt){return xt(tt,0,$e)}):xt}},pseudos:{not:nr(function(ye){var Ne=[],$e=[],xt=Re(ye.replace(xa,"$1"));return xt[Ln]?nr(function(tt,dt,Rt,Vt){for(var Yt,dn=xt(tt,null,Vt,[]),vn=tt.length;vn--;)(Yt=dn[vn])&&(tt[vn]=!(dt[vn]=Yt))}):function(tt,dt,Rt){return Ne[0]=tt,xt(Ne,null,Rt,$e),Ne[0]=null,!$e.pop()}}),has:nr(function(ye){return function(Ne){return Xn(ye,Ne).length>0}}),contains:nr(function(ye){return ye=ye.replace(Hr,Hi),function(Ne){return(Ne.textContent||te(Ne)).indexOf(ye)>-1}}),lang:nr(function(ye){return Us.test(ye||"")||Xn.error("unsupported lang: "+ye),ye=ye.replace(Hr,Hi).toLowerCase(),function(Ne){var $e;do if($e=En?Ne.lang:Ne.getAttribute("xml:lang")||Ne.getAttribute("lang"))return $e=$e.toLowerCase(),$e===ye||$e.indexOf(ye+"-")===0;while((Ne=Ne.parentNode)&&Ne.nodeType===1);return!1}}),target:function(ye){var Ne=O.location&&O.location.hash;return Ne&&Ne.slice(1)===ye.id},root:function(ye){return ye===fn},focus:function(ye){return ye===vt.activeElement&&(!vt.hasFocus||vt.hasFocus())&&!!(ye.type||ye.href||~ye.tabIndex)},enabled:Ta(!1),disabled:Ta(!0),checked:function(ye){var Ne=ye.nodeName.toLowerCase();return Ne==="input"&&!!ye.checked||Ne==="option"&&!!ye.selected},selected:function(ye){return ye.parentNode&&ye.parentNode.selectedIndex,ye.selected===!0},empty:function(ye){for(ye=ye.firstChild;ye;ye=ye.nextSibling)if(ye.nodeType<6)return!1;return!0},parent:function(ye){return!Z.pseudos.empty(ye)},header:function(ye){return Ka.test(ye.nodeName)},input:function(ye){return Ql.test(ye.nodeName)},button:function(ye){var Ne=ye.nodeName.toLowerCase();return Ne==="input"&&ye.type==="button"||Ne==="button"},text:function(ye){var Ne;return ye.nodeName.toLowerCase()==="input"&&ye.type==="text"&&((Ne=ye.getAttribute("type"))==null||Ne.toLowerCase()==="text")},first:Je(function(){return[0]}),last:Je(function(ye,Ne){return[Ne-1]}),eq:Je(function(ye,Ne,$e){return[$e<0?$e+Ne:$e]}),even:Je(function(ye,Ne){for(var $e=0;$e<Ne;$e+=2)ye.push($e);return ye}),odd:Je(function(ye,Ne){for(var $e=1;$e<Ne;$e+=2)ye.push($e);return ye}),lt:Je(function(ye,Ne,$e){for(var xt=$e<0?$e+Ne:$e>Ne?Ne:$e;--xt>=0;)ye.push(xt);return ye}),gt:Je(function(ye,Ne,$e){for(var xt=$e<0?$e+Ne:$e;++xt<Ne;)ye.push(xt);return ye})}},Z.pseudos.nth=Z.pseudos.eq;for(R in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Z.pseudos[R]=tc(R);for(R in{submit:!0,reset:!0})Z.pseudos[R]=rl(R);function pt(){}pt.prototype=Z.filters=Z.pseudos,Z.setFilters=new pt,fe=Xn.tokenize=function(ye,Ne){var $e,xt,tt,dt,Rt,Vt,Yt,dn=vs[ye+" "];if(dn)return Ne?0:dn.slice(0);for(Rt=ye,Vt=[],Yt=Z.preFilter;Rt;){(!$e||(xt=Ea.exec(Rt)))&&(xt&&(Rt=Rt.slice(xt[0].length)||Rt),Vt.push(tt=[])),$e=!1,(xt=vo.exec(Rt))&&($e=xt.shift(),tt.push({value:$e,type:xt[0].replace(xa," ")}),Rt=Rt.slice($e.length));for(dt in Z.filter)(xt=Ys[dt].exec(Rt))&&(!Yt[dt]||(xt=Yt[dt](xt)))&&($e=xt.shift(),tt.push({value:$e,type:dt,matches:xt}),Rt=Rt.slice($e.length));if(!$e)break}return Ne?Rt.length:Rt?Xn.error(ye):vs(ye,Vt).slice(0)};function en(ye){for(var Ne=0,$e=ye.length,xt="";Ne<$e;Ne++)xt+=ye[Ne].value;return xt}function Cn(ye,Ne,$e){var xt=Ne.dir,tt=Ne.next,dt=tt||xt,Rt=$e&&dt==="parentNode",Vt=wn++;return Ne.first?function(Yt,dn,vn){for(;Yt=Yt[xt];)if(Yt.nodeType===1||Rt)return ye(Yt,dn,vn);return!1}:function(Yt,dn,vn){var mn,On,Bn,pn=[Bi,Vt];if(vn){for(;Yt=Yt[xt];)if((Yt.nodeType===1||Rt)&&ye(Yt,dn,vn))return!0}else for(;Yt=Yt[xt];)if(Yt.nodeType===1||Rt)if(Bn=Yt[Ln]||(Yt[Ln]={}),On=Bn[Yt.uniqueID]||(Bn[Yt.uniqueID]={}),tt&&tt===Yt.nodeName.toLowerCase())Yt=Yt[xt]||Yt;else{if((mn=On[dt])&&mn[0]===Bi&&mn[1]===Vt)return pn[2]=mn[2];if(On[dt]=pn,pn[2]=ye(Yt,dn,vn))return!0}return!1}}function $n(ye){return ye.length>1?function(Ne,$e,xt){for(var tt=ye.length;tt--;)if(!ye[tt](Ne,$e,xt))return!1;return!0}:ye[0]}function Ii(ye,Ne,$e){for(var xt=0,tt=Ne.length;xt<tt;xt++)Xn(ye,Ne[xt],$e);return $e}function ei(ye,Ne,$e,xt,tt){for(var dt,Rt=[],Vt=0,Yt=ye.length,dn=Ne!=null;Vt<Yt;Vt++)(dt=ye[Vt])&&(!$e||$e(dt,xt,tt))&&(Rt.push(dt),dn&&Ne.push(Vt));return Rt}function Cr(ye,Ne,$e,xt,tt,dt){return xt&&!xt[Ln]&&(xt=Cr(xt)),tt&&!tt[Ln]&&(tt=Cr(tt,dt)),nr(function(Rt,Vt,Yt,dn){var vn,mn,On,Bn=[],pn=[],Ei=Vt.length,Di=Rt||Ii(Ne||"*",Yt.nodeType?[Yt]:Yt,[]),Ni=ye&&(Rt||!Ne)?ei(Di,Bn,ye,Yt,dn):Di,W=$e?tt||(Rt?ye:Ei||xt)?[]:Vt:Ni;if($e&&$e(Ni,W,Yt,dn),xt)for(vn=ei(W,pn),xt(vn,[],Yt,dn),mn=vn.length;mn--;)(On=vn[mn])&&(W[pn[mn]]=!(Ni[pn[mn]]=On));if(Rt){if(tt||ye){if(tt){for(vn=[],mn=W.length;mn--;)(On=W[mn])&&vn.push(Ni[mn]=On);tt(null,W=[],vn,dn)}for(mn=W.length;mn--;)(On=W[mn])&&(vn=tt?aa(Rt,On):Bn[mn])>-1&&(Rt[vn]=!(Vt[vn]=On))}}else W=ei(W===Vt?W.splice(Ei,W.length):W),tt?tt(null,Vt,W,dn):wr.apply(Vt,W)})}function Gs(ye){for(var Ne,$e,xt,tt=ye.length,dt=Z.relative[ye[0].type],Rt=dt||Z.relative[" "],Vt=dt?1:0,Yt=Cn(function(mn){return mn===Ne},Rt,!0),dn=Cn(function(mn){return aa(Ne,mn)>-1},Rt,!0),vn=[function(mn,On,Bn){var pn=!dt&&(Bn||On!==We)||((Ne=On).nodeType?Yt(mn,On,Bn):dn(mn,On,Bn));return Ne=null,pn}];Vt<tt;Vt++)if($e=Z.relative[ye[Vt].type])vn=[Cn($n(vn),$e)];else{if($e=Z.filter[ye[Vt].type].apply(null,ye[Vt].matches),$e[Ln]){for(xt=++Vt;xt<tt&&!Z.relative[ye[xt].type];xt++);return Cr(Vt>1&&$n(vn),Vt>1&&en(ye.slice(0,Vt-1).concat({value:ye[Vt-2].type===" "?"*":""})).replace(xa,"$1"),$e,Vt<xt&&Gs(ye.slice(Vt,xt)),xt<tt&&Gs(ye=ye.slice(xt)),xt<tt&&en(ye))}vn.push($e)}return $n(vn)}function hr(ye,Ne){var $e=Ne.length>0,xt=ye.length>0,tt=function(dt,Rt,Vt,Yt,dn){var vn,mn,On,Bn=0,pn="0",Ei=dt&&[],Di=[],Ni=We,W=dt||xt&&Z.find.TAG("*",dn),V=Bi+=Ni==null?1:Math.random()||.1,ae=W.length;for(dn&&(We=Rt==vt||Rt||dn);pn!==ae&&(vn=W[pn])!=null;pn++){if(xt&&vn){for(mn=0,!Rt&&vn.ownerDocument!=vt&&(ct(vn),Vt=!En);On=ye[mn++];)if(On(vn,Rt||vt,Vt)){Yt.push(vn);break}dn&&(Bi=V)}$e&&((vn=!On&&vn)&&Bn--,dt&&Ei.push(vn))}if(Bn+=pn,$e&&pn!==Bn){for(mn=0;On=Ne[mn++];)On(Ei,Di,Rt,Vt);if(dt){if(Bn>0)for(;pn--;)Ei[pn]||Di[pn]||(Di[pn]=Gr.call(Yt));Di=ei(Di)}wr.apply(Yt,Di),dn&&!dt&&Di.length>0&&Bn+Ne.length>1&&Xn.uniqueSort(Yt)}return dn&&(Bi=V,We=Ni),Ei};return $e?nr(tt):tt}return Re=Xn.compile=function(ye,Ne){var $e,xt=[],tt=[],dt=Ws[ye+" "];if(!dt){for(Ne||(Ne=fe(ye)),$e=Ne.length;$e--;)dt=Gs(Ne[$e]),dt[Ln]?xt.push(dt):tt.push(dt);dt=Ws(ye,hr(tt,xt)),dt.selector=ye}return dt},De=Xn.select=function(ye,Ne,$e,xt){var tt,dt,Rt,Vt,Yt,dn=typeof ye=="function"&&ye,vn=!xt&&fe(ye=dn.selector||ye);if($e=$e||[],vn.length===1){if(dt=vn[0]=vn[0].slice(0),dt.length>2&&(Rt=dt[0]).type==="ID"&&Ne.nodeType===9&&En&&Z.relative[dt[1].type]){if(Ne=(Z.find.ID(Rt.matches[0].replace(Hr,Hi),Ne)||[])[0],Ne)dn&&(Ne=Ne.parentNode);else return $e;ye=ye.slice(dt.shift().value.length)}for(tt=Ys.needsContext.test(ye)?0:dt.length;tt--&&(Rt=dt[tt],!Z.relative[Vt=Rt.type]);)if((Yt=Z.find[Vt])&&(xt=Yt(Rt.matches[0].replace(Hr,Hi),ys.test(dt[0].type)&&_t(Ne.parentNode)||Ne))){if(dt.splice(tt,1),ye=xt.length&&en(dt),!ye)return wr.apply($e,xt),$e;break}}return(dn||Re(ye,vn))(xt,Ne,!En,$e,!Ne||ys.test(ye)&&_t(Ne.parentNode)||Ne),$e},Y.sortStable=Ln.split("").sort(jr).join("")===Ln,Y.detectDuplicates=!!et,ct(),Y.sortDetached=Mr(function(ye){return ye.compareDocumentPosition(vt.createElement("fieldset"))&1}),Mr(function(ye){return ye.innerHTML="<a href='#'></a>",ye.firstChild.getAttribute("href")==="#"})||yo("type|href|height|width",function(ye,Ne,$e){if(!$e)return ye.getAttribute(Ne,Ne.toLowerCase()==="type"?1:2)}),(!Y.attributes||!Mr(function(ye){return ye.innerHTML="<input/>",ye.firstChild.setAttribute("value",""),ye.firstChild.getAttribute("value")===""}))&&yo("value",function(ye,Ne,$e){if(!$e&&ye.nodeName.toLowerCase()==="input")return ye.defaultValue}),Mr(function(ye){return ye.getAttribute("disabled")==null})||yo(go,function(ye,Ne,$e){var xt;if(!$e)return ye[Ne]===!0?Ne.toLowerCase():(xt=ye.getAttributeNode(Ne))&&xt.specified?xt.value:null}),Xn}(e);h.find=D,h.expr=D.selectors,h.expr[":"]=h.expr.pseudos,h.uniqueSort=h.unique=D.uniqueSort,h.text=D.getText,h.isXMLDoc=D.isXML,h.contains=D.contains,h.escapeSelector=D.escape;var S=function(O,R,Y){for(var Z=[],te=Y!==void 0;(O=O[R])&&O.nodeType!==9;)if(O.nodeType===1){if(te&&h(O).is(Y))break;Z.push(O)}return Z},k=function(O,R){for(var Y=[];O;O=O.nextSibling)O.nodeType===1&&O!==R&&Y.push(O);return Y},L=h.expr.match.needsContext;function B(O,R){return O.nodeName&&O.nodeName.toLowerCase()===R.toLowerCase()}var z=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function X(O,R,Y){return N(R)?h.grep(O,function(Z,te){return!!R.call(Z,te,Z)!==Y}):R.nodeType?h.grep(O,function(Z){return Z===R!==Y}):typeof R!="string"?h.grep(O,function(Z){return u.call(R,Z)>-1!==Y}):h.filter(R,O,Y)}h.filter=function(O,R,Y){var Z=R[0];return Y&&(O=":not("+O+")"),R.length===1&&Z.nodeType===1?h.find.matchesSelector(Z,O)?[Z]:[]:h.find.matches(O,h.grep(R,function(te){return te.nodeType===1}))},h.fn.extend({find:function(O){var R,Y,Z=this.length,te=this;if(typeof O!="string")return this.pushStack(h(O).filter(function(){for(R=0;R<Z;R++)if(h.contains(te[R],this))return!0}));for(Y=this.pushStack([]),R=0;R<Z;R++)h.find(O,te[R],Y);return Z>1?h.uniqueSort(Y):Y},filter:function(O){return this.pushStack(X(this,O||[],!1))},not:function(O){return this.pushStack(X(this,O||[],!0))},is:function(O){return!!X(this,typeof O=="string"&&L.test(O)?h(O):O||[],!1).length}});var ee,ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,le=h.fn.init=function(O,R,Y){var Z,te;if(!O)return this;if(Y=Y||ee,typeof O=="string")if(O[0]==="<"&&O[O.length-1]===">"&&O.length>=3?Z=[null,O,null]:Z=ce.exec(O),Z&&(Z[1]||!R))if(Z[1]){if(R=R instanceof h?R[0]:R,h.merge(this,h.parseHTML(Z[1],R&&R.nodeType?R.ownerDocument||R:f,!0)),z.test(Z[1])&&h.isPlainObject(R))for(Z in R)N(this[Z])?this[Z](R[Z]):this.attr(Z,R[Z]);return this}else return te=f.getElementById(Z[2]),te&&(this[0]=te,this.length=1),this;else return!R||R.jquery?(R||Y).find(O):this.constructor(R).find(O);else{if(O.nodeType)return this[0]=O,this.length=1,this;if(N(O))return Y.ready!==void 0?Y.ready(O):O(h)}return h.makeArray(O,this)};le.prototype=h.fn,ee=h(f);var me=/^(?:parents|prev(?:Until|All))/,je={children:!0,contents:!0,next:!0,prev:!0};h.fn.extend({has:function(O){var R=h(O,this),Y=R.length;return this.filter(function(){for(var Z=0;Z<Y;Z++)if(h.contains(this,R[Z]))return!0})},closest:function(O,R){var Y,Z=0,te=this.length,ne=[],fe=typeof O!="string"&&h(O);if(!L.test(O)){for(;Z<te;Z++)for(Y=this[Z];Y&&Y!==R;Y=Y.parentNode)if(Y.nodeType<11&&(fe?fe.index(Y)>-1:Y.nodeType===1&&h.find.matchesSelector(Y,O))){ne.push(Y);break}}return this.pushStack(ne.length>1?h.uniqueSort(ne):ne)},index:function(O){return O?typeof O=="string"?u.call(h(O),this[0]):u.call(this,O.jquery?O[0]:O):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(O,R){return this.pushStack(h.uniqueSort(h.merge(this.get(),h(O,R))))},addBack:function(O){return this.add(O==null?this.prevObject:this.prevObject.filter(O))}});function Pe(O,R){for(;(O=O[R])&&O.nodeType!==1;);return O}h.each({parent:function(O){var R=O.parentNode;return R&&R.nodeType!==11?R:null},parents:function(O){return S(O,"parentNode")},parentsUntil:function(O,R,Y){return S(O,"parentNode",Y)},next:function(O){return Pe(O,"nextSibling")},prev:function(O){return Pe(O,"previousSibling")},nextAll:function(O){return S(O,"nextSibling")},prevAll:function(O){return S(O,"previousSibling")},nextUntil:function(O,R,Y){return S(O,"nextSibling",Y)},prevUntil:function(O,R,Y){return S(O,"previousSibling",Y)},siblings:function(O){return k((O.parentNode||{}).firstChild,O)},children:function(O){return k(O.firstChild)},contents:function(O){return O.contentDocument!=null&&r(O.contentDocument)?O.contentDocument:(B(O,"template")&&(O=O.content||O),h.merge([],O.childNodes))}},function(O,R){h.fn[O]=function(Y,Z){var te=h.map(this,R,Y);return O.slice(-5)!=="Until"&&(Z=Y),Z&&typeof Z=="string"&&(te=h.filter(Z,te)),this.length>1&&(je[O]||h.uniqueSort(te),me.test(O)&&te.reverse()),this.pushStack(te)}});var it=/[^\x20\t\r\n\f]+/g;function Te(O){var R={};return h.each(O.match(it)||[],function(Y,Z){R[Z]=!0}),R}h.Callbacks=function(O){O=typeof O=="string"?Te(O):h.extend({},O);var R,Y,Z,te,ne=[],fe=[],Re=-1,De=function(){for(te=te||O.once,Z=R=!0;fe.length;Re=-1)for(Y=fe.shift();++Re<ne.length;)ne[Re].apply(Y[0],Y[1])===!1&&O.stopOnFalse&&(Re=ne.length,Y=!1);O.memory||(Y=!1),R=!1,te&&(Y?ne=[]:ne="")},We={add:function(){return ne&&(Y&&!R&&(Re=ne.length-1,fe.push(Y)),function ft(et){h.each(et,function(ct,vt){N(vt)?(!O.unique||!We.has(vt))&&ne.push(vt):vt&&vt.length&&d(vt)!=="string"&&ft(vt)})}(arguments),Y&&!R&&De()),this},remove:function(){return h.each(arguments,function(ft,et){for(var ct;(ct=h.inArray(et,ne,ct))>-1;)ne.splice(ct,1),ct<=Re&&Re--}),this},has:function(ft){return ft?h.inArray(ft,ne)>-1:ne.length>0},empty:function(){return ne&&(ne=[]),this},disable:function(){return te=fe=[],ne=Y="",this},disabled:function(){return!ne},lock:function(){return te=fe=[],!Y&&!R&&(ne=Y=""),this},locked:function(){return!!te},fireWith:function(ft,et){return te||(et=et||[],et=[ft,et.slice?et.slice():et],fe.push(et),R||De()),this},fire:function(){return We.fireWith(this,arguments),this},fired:function(){return!!Z}};return We};function lt(O){return O}function he(O){throw O}function Dt(O,R,Y,Z){var te;try{O&&N(te=O.promise)?te.call(O).done(R).fail(Y):O&&N(te=O.then)?te.call(O,R,Y):R.apply(void 0,[O].slice(Z))}catch(ne){Y.apply(void 0,[ne])}}h.extend({Deferred:function(O){var R=[["notify","progress",h.Callbacks("memory"),h.Callbacks("memory"),2],["resolve","done",h.Callbacks("once memory"),h.Callbacks("once memory"),0,"resolved"],["reject","fail",h.Callbacks("once memory"),h.Callbacks("once memory"),1,"rejected"]],Y="pending",Z={state:function(){return Y},always:function(){return te.done(arguments).fail(arguments),this},catch:function(ne){return Z.then(null,ne)},pipe:function(){var ne=arguments;return h.Deferred(function(fe){h.each(R,function(Re,De){var We=N(ne[De[4]])&&ne[De[4]];te[De[1]](function(){var ft=We&&We.apply(this,arguments);ft&&N(ft.promise)?ft.promise().progress(fe.notify).done(fe.resolve).fail(fe.reject):fe[De[0]+"With"](this,We?[ft]:arguments)})}),ne=null}).promise()},then:function(ne,fe,Re){var De=0;function We(ft,et,ct,vt){return function(){var fn=this,En=arguments,ln=function(){var ri,Nn;if(!(ft<De)){if(ri=ct.apply(fn,En),ri===et.promise())throw new TypeError("Thenable self-resolution");Nn=ri&&(typeof ri=="object"||typeof ri=="function")&&ri.then,N(Nn)?vt?Nn.call(ri,We(De,et,lt,vt),We(De,et,he,vt)):(De++,Nn.call(ri,We(De,et,lt,vt),We(De,et,he,vt),We(De,et,lt,et.notifyWith))):(ct!==lt&&(fn=void 0,En=[ri]),(vt||et.resolveWith)(fn,En))}},wi=vt?ln:function(){try{ln()}catch(ri){h.Deferred.exceptionHook&&h.Deferred.exceptionHook(ri,wi.stackTrace),ft+1>=De&&(ct!==he&&(fn=void 0,En=[ri]),et.rejectWith(fn,En))}};ft?wi():(h.Deferred.getStackHook&&(wi.stackTrace=h.Deferred.getStackHook()),e.setTimeout(wi))}}return h.Deferred(function(ft){R[0][3].add(We(0,ft,N(Re)?Re:lt,ft.notifyWith)),R[1][3].add(We(0,ft,N(ne)?ne:lt)),R[2][3].add(We(0,ft,N(fe)?fe:he))}).promise()},promise:function(ne){return ne!=null?h.extend(ne,Z):Z}},te={};return h.each(R,function(ne,fe){var Re=fe[2],De=fe[5];Z[fe[1]]=Re.add,De&&Re.add(function(){Y=De},R[3-ne][2].disable,R[3-ne][3].disable,R[0][2].lock,R[0][3].lock),Re.add(fe[3].fire),te[fe[0]]=function(){return te[fe[0]+"With"](this===te?void 0:this,arguments),this},te[fe[0]+"With"]=Re.fireWith}),Z.promise(te),O&&O.call(te,te),te},when:function(O){var R=arguments.length,Y=R,Z=Array(Y),te=a.call(arguments),ne=h.Deferred(),fe=function(Re){return function(De){Z[Re]=this,te[Re]=arguments.length>1?a.call(arguments):De,--R||ne.resolveWith(Z,te)}};if(R<=1&&(Dt(O,ne.done(fe(Y)).resolve,ne.reject,!R),ne.state()==="pending"||N(te[Y]&&te[Y].then)))return ne.then();for(;Y--;)Dt(te[Y],fe(Y),ne.reject);return ne.promise()}});var Ke=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;h.Deferred.exceptionHook=function(O,R){e.console&&e.console.warn&&O&&Ke.test(O.name)&&e.console.warn("jQuery.Deferred exception: "+O.message,O.stack,R)},h.readyException=function(O){e.setTimeout(function(){throw O})};var Mt=h.Deferred();h.fn.ready=function(O){return Mt.then(O).catch(function(R){h.readyException(R)}),this},h.extend({isReady:!1,readyWait:1,ready:function(O){(O===!0?--h.readyWait:h.isReady)||(h.isReady=!0,!(O!==!0&&--h.readyWait>0)&&Mt.resolveWith(f,[h]))}}),h.ready.then=Mt.then;function Me(){f.removeEventListener("DOMContentLoaded",Me),e.removeEventListener("load",Me),h.ready()}f.readyState==="complete"||f.readyState!=="loading"&&!f.documentElement.doScroll?e.setTimeout(h.ready):(f.addEventListener("DOMContentLoaded",Me),e.addEventListener("load",Me));var Be=function(O,R,Y,Z,te,ne,fe){var Re=0,De=O.length,We=Y==null;if(d(Y)==="object"){te=!0;for(Re in Y)Be(O,R,Re,Y[Re],!0,ne,fe)}else if(Z!==void 0&&(te=!0,N(Z)||(fe=!0),We&&(fe?(R.call(O,Z),R=null):(We=R,R=function(ft,et,ct){return We.call(h(ft),ct)})),R))for(;Re<De;Re++)R(O[Re],Y,fe?Z:Z.call(O[Re],Re,R(O[Re],Y)));return te?O:We?R.call(O):De?R(O[0],Y):ne},Oe=/^-ms-/,Se=/-([a-z])/g;function Ye(O,R){return R.toUpperCase()}function ve(O){return O.replace(Oe,"ms-").replace(Se,Ye)}var Ce=function(O){return O.nodeType===1||O.nodeType===9||!+O.nodeType};function _e(){this.expando=h.expando+_e.uid++}_e.uid=1,_e.prototype={cache:function(O){var R=O[this.expando];return R||(R={},Ce(O)&&(O.nodeType?O[this.expando]=R:Object.defineProperty(O,this.expando,{value:R,configurable:!0}))),R},set:function(O,R,Y){var Z,te=this.cache(O);if(typeof R=="string")te[ve(R)]=Y;else for(Z in R)te[ve(Z)]=R[Z];return te},get:function(O,R){return R===void 0?this.cache(O):O[this.expando]&&O[this.expando][ve(R)]},access:function(O,R,Y){return R===void 0||R&&typeof R=="string"&&Y===void 0?this.get(O,R):(this.set(O,R,Y),Y!==void 0?Y:R)},remove:function(O,R){var Y,Z=O[this.expando];if(Z!==void 0){if(R!==void 0)for(Array.isArray(R)?R=R.map(ve):(R=ve(R),R=R in Z?[R]:R.match(it)||[]),Y=R.length;Y--;)delete Z[R[Y]];(R===void 0||h.isEmptyObject(Z))&&(O.nodeType?O[this.expando]=void 0:delete O[this.expando])}},hasData:function(O){var R=O[this.expando];return R!==void 0&&!h.isEmptyObject(R)}};var pe=new _e,Ve=new _e,Ze=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ht=/[A-Z]/g;function ot(O){return O==="true"?!0:O==="false"?!1:O==="null"?null:O===+O+""?+O:Ze.test(O)?JSON.parse(O):O}function st(O,R,Y){var Z;if(Y===void 0&&O.nodeType===1)if(Z="data-"+R.replace(ht,"-$&").toLowerCase(),Y=O.getAttribute(Z),typeof Y=="string"){try{Y=ot(Y)}catch{}Ve.set(O,R,Y)}else Y=void 0;return Y}h.extend({hasData:function(O){return Ve.hasData(O)||pe.hasData(O)},data:function(O,R,Y){return Ve.access(O,R,Y)},removeData:function(O,R){Ve.remove(O,R)},_data:function(O,R,Y){return pe.access(O,R,Y)},_removeData:function(O,R){pe.remove(O,R)}}),h.fn.extend({data:function(O,R){var Y,Z,te,ne=this[0],fe=ne&&ne.attributes;if(O===void 0){if(this.length&&(te=Ve.get(ne),ne.nodeType===1&&!pe.get(ne,"hasDataAttrs"))){for(Y=fe.length;Y--;)fe[Y]&&(Z=fe[Y].name,Z.indexOf("data-")===0&&(Z=ve(Z.slice(5)),st(ne,Z,te[Z])));pe.set(ne,"hasDataAttrs",!0)}return te}return typeof O=="object"?this.each(function(){Ve.set(this,O)}):Be(this,function(Re){var De;if(ne&&Re===void 0)return De=Ve.get(ne,O),De!==void 0||(De=st(ne,O),De!==void 0)?De:void 0;this.each(function(){Ve.set(this,O,Re)})},null,R,arguments.length>1,null,!0)},removeData:function(O){return this.each(function(){Ve.remove(this,O)})}}),h.extend({queue:function(O,R,Y){var Z;if(O)return R=(R||"fx")+"queue",Z=pe.get(O,R),Y&&(!Z||Array.isArray(Y)?Z=pe.access(O,R,h.makeArray(Y)):Z.push(Y)),Z||[]},dequeue:function(O,R){R=R||"fx";var Y=h.queue(O,R),Z=Y.length,te=Y.shift(),ne=h._queueHooks(O,R),fe=function(){h.dequeue(O,R)};te==="inprogress"&&(te=Y.shift(),Z--),te&&(R==="fx"&&Y.unshift("inprogress"),delete ne.stop,te.call(O,fe,ne)),!Z&&ne&&ne.empty.fire()},_queueHooks:function(O,R){var Y=R+"queueHooks";return pe.get(O,Y)||pe.access(O,Y,{empty:h.Callbacks("once memory").add(function(){pe.remove(O,[R+"queue",Y])})})}}),h.fn.extend({queue:function(O,R){var Y=2;return typeof O!="string"&&(R=O,O="fx",Y--),arguments.length<Y?h.queue(this[0],O):R===void 0?this:this.each(function(){var Z=h.queue(this,O,R);h._queueHooks(this,O),O==="fx"&&Z[0]!=="inprogress"&&h.dequeue(this,O)})},dequeue:function(O){return this.each(function(){h.dequeue(this,O)})},clearQueue:function(O){return this.queue(O||"fx",[])},promise:function(O,R){var Y,Z=1,te=h.Deferred(),ne=this,fe=this.length,Re=function(){--Z||te.resolveWith(ne,[ne])};for(typeof O!="string"&&(R=O,O=void 0),O=O||"fx";fe--;)Y=pe.get(ne[fe],O+"queueHooks"),Y&&Y.empty&&(Z++,Y.empty.add(Re));return Re(),te.promise(R)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,H=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),q=["Top","Right","Bottom","Left"],ie=f.documentElement,ue=function(O){return h.contains(O.ownerDocument,O)},be={composed:!0};ie.getRootNode&&(ue=function(O){return h.contains(O.ownerDocument,O)||O.getRootNode(be)===O.ownerDocument});var ke=function(O,R){return O=R||O,O.style.display==="none"||O.style.display===""&&ue(O)&&h.css(O,"display")==="none"};function Xe(O,R,Y,Z){var te,ne,fe=20,Re=Z?function(){return Z.cur()}:function(){return h.css(O,R,"")},De=Re(),We=Y&&Y[3]||(h.cssNumber[R]?"":"px"),ft=O.nodeType&&(h.cssNumber[R]||We!=="px"&&+De)&&H.exec(h.css(O,R));if(ft&&ft[3]!==We){for(De=De/2,We=We||ft[3],ft=+De||1;fe--;)h.style(O,R,ft+We),(1-ne)*(1-(ne=Re()/De||.5))<=0&&(fe=0),ft=ft/ne;ft=ft*2,h.style(O,R,ft+We),Y=Y||[]}return Y&&(ft=+ft||+De||0,te=Y[1]?ft+(Y[1]+1)*Y[2]:+Y[2],Z&&(Z.unit=We,Z.start=ft,Z.end=te)),te}var qe={};function Le(O){var R,Y=O.ownerDocument,Z=O.nodeName,te=qe[Z];return te||(R=Y.body.appendChild(Y.createElement(Z)),te=h.css(R,"display"),R.parentNode.removeChild(R),te==="none"&&(te="block"),qe[Z]=te,te)}function ut(O,R){for(var Y,Z,te=[],ne=0,fe=O.length;ne<fe;ne++)Z=O[ne],Z.style&&(Y=Z.style.display,R?(Y==="none"&&(te[ne]=pe.get(Z,"display")||null,te[ne]||(Z.style.display="")),Z.style.display===""&&ke(Z)&&(te[ne]=Le(Z))):Y!=="none"&&(te[ne]="none",pe.set(Z,"display",Y)));for(ne=0;ne<fe;ne++)te[ne]!=null&&(O[ne].style.display=te[ne]);return O}h.fn.extend({show:function(){return ut(this,!0)},hide:function(){return ut(this)},toggle:function(O){return typeof O=="boolean"?O?this.show():this.hide():this.each(function(){ke(this)?h(this).show():h(this).hide()})}});var bt=/^(?:checkbox|radio)$/i,zt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,qt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var O=f.createDocumentFragment(),R=O.appendChild(f.createElement("div")),Y=f.createElement("input");Y.setAttribute("type","radio"),Y.setAttribute("checked","checked"),Y.setAttribute("name","t"),R.appendChild(Y),P.checkClone=R.cloneNode(!0).cloneNode(!0).lastChild.checked,R.innerHTML="<textarea>x</textarea>",P.noCloneChecked=!!R.cloneNode(!0).lastChild.defaultValue,R.innerHTML="<option></option>",P.option=!!R.lastChild})();var Zt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td,P.option||(Zt.optgroup=Zt.option=[1,"<select multiple='multiple'>","</select>"]);function Xt(O,R){var Y;return typeof O.getElementsByTagName<"u"?Y=O.getElementsByTagName(R||"*"):typeof O.querySelectorAll<"u"?Y=O.querySelectorAll(R||"*"):Y=[],R===void 0||R&&B(O,R)?h.merge([O],Y):Y}function Jt(O,R){for(var Y=0,Z=O.length;Y<Z;Y++)pe.set(O[Y],"globalEval",!R||pe.get(R[Y],"globalEval"))}var Mn=/<|&#?\w+;/;function kn(O,R,Y,Z,te){for(var ne,fe,Re,De,We,ft,et=R.createDocumentFragment(),ct=[],vt=0,fn=O.length;vt<fn;vt++)if(ne=O[vt],ne||ne===0)if(d(ne)==="object")h.merge(ct,ne.nodeType?[ne]:ne);else if(!Mn.test(ne))ct.push(R.createTextNode(ne));else{for(fe=fe||et.appendChild(R.createElement("div")),Re=(zt.exec(ne)||["",""])[1].toLowerCase(),De=Zt[Re]||Zt._default,fe.innerHTML=De[1]+h.htmlPrefilter(ne)+De[2],ft=De[0];ft--;)fe=fe.lastChild;h.merge(ct,fe.childNodes),fe=et.firstChild,fe.textContent=""}for(et.textContent="",vt=0;ne=ct[vt++];){if(Z&&h.inArray(ne,Z)>-1){te&&te.push(ne);continue}if(We=ue(ne),fe=Xt(et.appendChild(ne),"script"),We&&Jt(fe),Y)for(ft=0;ne=fe[ft++];)qt.test(ne.type||"")&&Y.push(ne)}return et}var qn=/^key/,wt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,St=/^([^.]*)(?:\.(.+)|)/;function Lt(){return!0}function Wt(){return!1}function $t(O,R){return O===At()==(R==="focus")}function At(){try{return f.activeElement}catch{}}function ii(O,R,Y,Z,te,ne){var fe,Re;if(typeof R=="object"){typeof Y!="string"&&(Z=Z||Y,Y=void 0);for(Re in R)ii(O,Re,Y,Z,R[Re],ne);return O}if(Z==null&&te==null?(te=Y,Z=Y=void 0):te==null&&(typeof Y=="string"?(te=Z,Z=void 0):(te=Z,Z=Y,Y=void 0)),te===!1)te=Wt;else if(!te)return O;return ne===1&&(fe=te,te=function(De){return h().off(De),fe.apply(this,arguments)},te.guid=fe.guid||(fe.guid=h.guid++)),O.each(function(){h.event.add(this,R,te,Z,Y)})}h.event={global:{},add:function(O,R,Y,Z,te){var ne,fe,Re,De,We,ft,et,ct,vt,fn,En,ln=pe.get(O);if(!!Ce(O))for(Y.handler&&(ne=Y,Y=ne.handler,te=ne.selector),te&&h.find.matchesSelector(ie,te),Y.guid||(Y.guid=h.guid++),(De=ln.events)||(De=ln.events=Object.create(null)),(fe=ln.handle)||(fe=ln.handle=function(wi){return typeof h<"u"&&h.event.triggered!==wi.type?h.event.dispatch.apply(O,arguments):void 0}),R=(R||"").match(it)||[""],We=R.length;We--;)Re=St.exec(R[We])||[],vt=En=Re[1],fn=(Re[2]||"").split(".").sort(),vt&&(et=h.event.special[vt]||{},vt=(te?et.delegateType:et.bindType)||vt,et=h.event.special[vt]||{},ft=h.extend({type:vt,origType:En,data:Z,handler:Y,guid:Y.guid,selector:te,needsContext:te&&h.expr.match.needsContext.test(te),namespace:fn.join(".")},ne),(ct=De[vt])||(ct=De[vt]=[],ct.delegateCount=0,(!et.setup||et.setup.call(O,Z,fn,fe)===!1)&&O.addEventListener&&O.addEventListener(vt,fe)),et.add&&(et.add.call(O,ft),ft.handler.guid||(ft.handler.guid=Y.guid)),te?ct.splice(ct.delegateCount++,0,ft):ct.push(ft),h.event.global[vt]=!0)},remove:function(O,R,Y,Z,te){var ne,fe,Re,De,We,ft,et,ct,vt,fn,En,ln=pe.hasData(O)&&pe.get(O);if(!(!ln||!(De=ln.events))){for(R=(R||"").match(it)||[""],We=R.length;We--;){if(Re=St.exec(R[We])||[],vt=En=Re[1],fn=(Re[2]||"").split(".").sort(),!vt){for(vt in De)h.event.remove(O,vt+R[We],Y,Z,!0);continue}for(et=h.event.special[vt]||{},vt=(Z?et.delegateType:et.bindType)||vt,ct=De[vt]||[],Re=Re[2]&&new RegExp("(^|\\.)"+fn.join("\\.(?:.*\\.|)")+"(\\.|$)"),fe=ne=ct.length;ne--;)ft=ct[ne],(te||En===ft.origType)&&(!Y||Y.guid===ft.guid)&&(!Re||Re.test(ft.namespace))&&(!Z||Z===ft.selector||Z==="**"&&ft.selector)&&(ct.splice(ne,1),ft.selector&&ct.delegateCount--,et.remove&&et.remove.call(O,ft));fe&&!ct.length&&((!et.teardown||et.teardown.call(O,fn,ln.handle)===!1)&&h.removeEvent(O,vt,ln.handle),delete De[vt])}h.isEmptyObject(De)&&pe.remove(O,"handle events")}},dispatch:function(O){var R,Y,Z,te,ne,fe,Re=new Array(arguments.length),De=h.event.fix(O),We=(pe.get(this,"events")||Object.create(null))[De.type]||[],ft=h.event.special[De.type]||{};for(Re[0]=De,R=1;R<arguments.length;R++)Re[R]=arguments[R];if(De.delegateTarget=this,!(ft.preDispatch&&ft.preDispatch.call(this,De)===!1)){for(fe=h.event.handlers.call(this,De,We),R=0;(te=fe[R++])&&!De.isPropagationStopped();)for(De.currentTarget=te.elem,Y=0;(ne=te.handlers[Y++])&&!De.isImmediatePropagationStopped();)(!De.rnamespace||ne.namespace===!1||De.rnamespace.test(ne.namespace))&&(De.handleObj=ne,De.data=ne.data,Z=((h.event.special[ne.origType]||{}).handle||ne.handler).apply(te.elem,Re),Z!==void 0&&(De.result=Z)===!1&&(De.preventDefault(),De.stopPropagation()));return ft.postDispatch&&ft.postDispatch.call(this,De),De.result}},handlers:function(O,R){var Y,Z,te,ne,fe,Re=[],De=R.delegateCount,We=O.target;if(De&&We.nodeType&&!(O.type==="click"&&O.button>=1)){for(;We!==this;We=We.parentNode||this)if(We.nodeType===1&&!(O.type==="click"&&We.disabled===!0)){for(ne=[],fe={},Y=0;Y<De;Y++)Z=R[Y],te=Z.selector+" ",fe[te]===void 0&&(fe[te]=Z.needsContext?h(te,this).index(We)>-1:h.find(te,this,null,[We]).length),fe[te]&&ne.push(Z);ne.length&&Re.push({elem:We,handlers:ne})}}return We=this,De<R.length&&Re.push({elem:We,handlers:R.slice(De)}),Re},addProp:function(O,R){Object.defineProperty(h.Event.prototype,O,{enumerable:!0,configurable:!0,get:N(R)?function(){if(this.originalEvent)return R(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[O]},set:function(Y){Object.defineProperty(this,O,{enumerable:!0,configurable:!0,writable:!0,value:Y})}})},fix:function(O){return O[h.expando]?O:new h.Event(O)},special:{load:{noBubble:!0},click:{setup:function(O){var R=this||O;return bt.test(R.type)&&R.click&&B(R,"input")&&li(R,"click",Lt),!1},trigger:function(O){var R=this||O;return bt.test(R.type)&&R.click&&B(R,"input")&&li(R,"click"),!0},_default:function(O){var R=O.target;return bt.test(R.type)&&R.click&&B(R,"input")&&pe.get(R,"click")||B(R,"a")}},beforeunload:{postDispatch:function(O){O.result!==void 0&&O.originalEvent&&(O.originalEvent.returnValue=O.result)}}}};function li(O,R,Y){if(!Y){pe.get(O,R)===void 0&&h.event.add(O,R,Lt);return}pe.set(O,R,!1),h.event.add(O,R,{namespace:!1,handler:function(Z){var te,ne,fe=pe.get(this,R);if(Z.isTrigger&1&&this[R]){if(fe.length)(h.event.special[R]||{}).delegateType&&Z.stopPropagation();else if(fe=a.call(arguments),pe.set(this,R,fe),te=Y(this,R),this[R](),ne=pe.get(this,R),fe!==ne||te?pe.set(this,R,!1):ne={},fe!==ne)return Z.stopImmediatePropagation(),Z.preventDefault(),ne.value}else fe.length&&(pe.set(this,R,{value:h.event.trigger(h.extend(fe[0],h.Event.prototype),fe.slice(1),this)}),Z.stopImmediatePropagation())}})}h.removeEvent=function(O,R,Y){O.removeEventListener&&O.removeEventListener(R,Y)},h.Event=function(O,R){if(!(this instanceof h.Event))return new h.Event(O,R);O&&O.type?(this.originalEvent=O,this.type=O.type,this.isDefaultPrevented=O.defaultPrevented||O.defaultPrevented===void 0&&O.returnValue===!1?Lt:Wt,this.target=O.target&&O.target.nodeType===3?O.target.parentNode:O.target,this.currentTarget=O.currentTarget,this.relatedTarget=O.relatedTarget):this.type=O,R&&h.extend(this,R),this.timeStamp=O&&O.timeStamp||Date.now(),this[h.expando]=!0},h.Event.prototype={constructor:h.Event,isDefaultPrevented:Wt,isPropagationStopped:Wt,isImmediatePropagationStopped:Wt,isSimulated:!1,preventDefault:function(){var O=this.originalEvent;this.isDefaultPrevented=Lt,O&&!this.isSimulated&&O.preventDefault()},stopPropagation:function(){var O=this.originalEvent;this.isPropagationStopped=Lt,O&&!this.isSimulated&&O.stopPropagation()},stopImmediatePropagation:function(){var O=this.originalEvent;this.isImmediatePropagationStopped=Lt,O&&!this.isSimulated&&O.stopImmediatePropagation(),this.stopPropagation()}},h.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(O){var R=O.button;return O.which==null&&qn.test(O.type)?O.charCode!=null?O.charCode:O.keyCode:!O.which&&R!==void 0&&wt.test(O.type)?R&1?1:R&2?3:R&4?2:0:O.which}},h.event.addProp),h.each({focus:"focusin",blur:"focusout"},function(O,R){h.event.special[O]={setup:function(){return li(this,O,$t),!1},trigger:function(){return li(this,O),!0},delegateType:R}}),h.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(O,R){h.event.special[O]={delegateType:R,bindType:R,handle:function(Y){var Z,te=this,ne=Y.relatedTarget,fe=Y.handleObj;return(!ne||ne!==te&&!h.contains(te,ne))&&(Y.type=fe.origType,Z=fe.handler.apply(this,arguments),Y.type=R),Z}}}),h.fn.extend({on:function(O,R,Y,Z){return ii(this,O,R,Y,Z)},one:function(O,R,Y,Z){return ii(this,O,R,Y,Z,1)},off:function(O,R,Y){var Z,te;if(O&&O.preventDefault&&O.handleObj)return Z=O.handleObj,h(O.delegateTarget).off(Z.namespace?Z.origType+"."+Z.namespace:Z.origType,Z.selector,Z.handler),this;if(typeof O=="object"){for(te in O)this.off(te,R,O[te]);return this}return(R===!1||typeof R=="function")&&(Y=R,R=void 0),Y===!1&&(Y=Wt),this.each(function(){h.event.remove(this,O,Y,R)})}});var Kt=/<script|<style|<link/i,gt=/checked\s*(?:[^=]|=\s*.checked.)/i,Jn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function an(O,R){return B(O,"table")&&B(R.nodeType!==11?R:R.firstChild,"tr")&&h(O).children("tbody")[0]||O}function bn(O){return O.type=(O.getAttribute("type")!==null)+"/"+O.type,O}function vi(O){return(O.type||"").slice(0,5)==="true/"?O.type=O.type.slice(5):O.removeAttribute("type"),O}function _i(O,R){var Y,Z,te,ne,fe,Re,De;if(R.nodeType===1){if(pe.hasData(O)&&(ne=pe.get(O),De=ne.events,De)){pe.remove(R,"handle events");for(te in De)for(Y=0,Z=De[te].length;Y<Z;Y++)h.event.add(R,te,De[te][Y])}Ve.hasData(O)&&(fe=Ve.access(O),Re=h.extend({},fe),Ve.set(R,Re))}}function ui(O,R){var Y=R.nodeName.toLowerCase();Y==="input"&&bt.test(O.type)?R.checked=O.checked:(Y==="input"||Y==="textarea")&&(R.defaultValue=O.defaultValue)}function Mi(O,R,Y,Z){R=o(R);var te,ne,fe,Re,De,We,ft=0,et=O.length,ct=et-1,vt=R[0],fn=N(vt);if(fn||et>1&&typeof vt=="string"&&!P.checkClone&&gt.test(vt))return O.each(function(En){var ln=O.eq(En);fn&&(R[0]=vt.call(this,En,ln.html())),Mi(ln,R,Y,Z)});if(et&&(te=kn(R,O[0].ownerDocument,!1,O,Z),ne=te.firstChild,te.childNodes.length===1&&(te=ne),ne||Z)){for(fe=h.map(Xt(te,"script"),bn),Re=fe.length;ft<et;ft++)De=te,ft!==ct&&(De=h.clone(De,!0,!0),Re&&h.merge(fe,Xt(De,"script"))),Y.call(O[ft],De,ft);if(Re)for(We=fe[fe.length-1].ownerDocument,h.map(fe,vi),ft=0;ft<Re;ft++)De=fe[ft],qt.test(De.type||"")&&!pe.access(De,"globalEval")&&h.contains(We,De)&&(De.src&&(De.type||"").toLowerCase()!=="module"?h._evalUrl&&!De.noModule&&h._evalUrl(De.src,{nonce:De.nonce||De.getAttribute("nonce")},We):m(De.textContent.replace(Jn,""),De,We))}return O}function Wn(O,R,Y){for(var Z,te=R?h.filter(R,O):O,ne=0;(Z=te[ne])!=null;ne++)!Y&&Z.nodeType===1&&h.cleanData(Xt(Z)),Z.parentNode&&(Y&&ue(Z)&&Jt(Xt(Z,"script")),Z.parentNode.removeChild(Z));return O}h.extend({htmlPrefilter:function(O){return O},clone:function(O,R,Y){var Z,te,ne,fe,Re=O.cloneNode(!0),De=ue(O);if(!P.noCloneChecked&&(O.nodeType===1||O.nodeType===11)&&!h.isXMLDoc(O))for(fe=Xt(Re),ne=Xt(O),Z=0,te=ne.length;Z<te;Z++)ui(ne[Z],fe[Z]);if(R)if(Y)for(ne=ne||Xt(O),fe=fe||Xt(Re),Z=0,te=ne.length;Z<te;Z++)_i(ne[Z],fe[Z]);else _i(O,Re);return fe=Xt(Re,"script"),fe.length>0&&Jt(fe,!De&&Xt(O,"script")),Re},cleanData:function(O){for(var R,Y,Z,te=h.event.special,ne=0;(Y=O[ne])!==void 0;ne++)if(Ce(Y)){if(R=Y[pe.expando]){if(R.events)for(Z in R.events)te[Z]?h.event.remove(Y,Z):h.removeEvent(Y,Z,R.handle);Y[pe.expando]=void 0}Y[Ve.expando]&&(Y[Ve.expando]=void 0)}}}),h.fn.extend({detach:function(O){return Wn(this,O,!0)},remove:function(O){return Wn(this,O)},text:function(O){return Be(this,function(R){return R===void 0?h.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=R)})},null,O,arguments.length)},append:function(){return Mi(this,arguments,function(O){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var R=an(this,O);R.appendChild(O)}})},prepend:function(){return Mi(this,arguments,function(O){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var R=an(this,O);R.insertBefore(O,R.firstChild)}})},before:function(){return Mi(this,arguments,function(O){this.parentNode&&this.parentNode.insertBefore(O,this)})},after:function(){return Mi(this,arguments,function(O){this.parentNode&&this.parentNode.insertBefore(O,this.nextSibling)})},empty:function(){for(var O,R=0;(O=this[R])!=null;R++)O.nodeType===1&&(h.cleanData(Xt(O,!1)),O.textContent="");return this},clone:function(O,R){return O=O==null?!1:O,R=R==null?O:R,this.map(function(){return h.clone(this,O,R)})},html:function(O){return Be(this,function(R){var Y=this[0]||{},Z=0,te=this.length;if(R===void 0&&Y.nodeType===1)return Y.innerHTML;if(typeof R=="string"&&!Kt.test(R)&&!Zt[(zt.exec(R)||["",""])[1].toLowerCase()]){R=h.htmlPrefilter(R);try{for(;Z<te;Z++)Y=this[Z]||{},Y.nodeType===1&&(h.cleanData(Xt(Y,!1)),Y.innerHTML=R);Y=0}catch{}}Y&&this.empty().append(R)},null,O,arguments.length)},replaceWith:function(){var O=[];return Mi(this,arguments,function(R){var Y=this.parentNode;h.inArray(this,O)<0&&(h.cleanData(Xt(this)),Y&&Y.replaceChild(R,this))},O)}}),h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(O,R){h.fn[O]=function(Y){for(var Z,te=[],ne=h(Y),fe=ne.length-1,Re=0;Re<=fe;Re++)Z=Re===fe?this:this.clone(!0),h(ne[Re])[R](Z),s.apply(te,Z.get());return this.pushStack(te)}});var Ua=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),Ca=function(O){var R=O.ownerDocument.defaultView;return(!R||!R.opener)&&(R=e),R.getComputedStyle(O)},Ya=function(O,R,Y){var Z,te,ne={};for(te in R)ne[te]=O.style[te],O.style[te]=R[te];Z=Y.call(O);for(te in R)O.style[te]=ne[te];return Z},Sa=new RegExp(q.join("|"),"i");(function(){function O(){if(!!We){De.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",We.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(De).appendChild(We);var ft=e.getComputedStyle(We);Y=ft.top!=="1%",Re=R(ft.marginLeft)===12,We.style.right="60%",ne=R(ft.right)===36,Z=R(ft.width)===36,We.style.position="absolute",te=R(We.offsetWidth/3)===12,ie.removeChild(De),We=null}}function R(ft){return Math.round(parseFloat(ft))}var Y,Z,te,ne,fe,Re,De=f.createElement("div"),We=f.createElement("div");!We.style||(We.style.backgroundClip="content-box",We.cloneNode(!0).style.backgroundClip="",P.clearCloneStyle=We.style.backgroundClip==="content-box",h.extend(P,{boxSizingReliable:function(){return O(),Z},pixelBoxStyles:function(){return O(),ne},pixelPosition:function(){return O(),Y},reliableMarginLeft:function(){return O(),Re},scrollboxSize:function(){return O(),te},reliableTrDimensions:function(){var ft,et,ct,vt;return fe==null&&(ft=f.createElement("table"),et=f.createElement("tr"),ct=f.createElement("div"),ft.style.cssText="position:absolute;left:-11111px",et.style.height="1px",ct.style.height="9px",ie.appendChild(ft).appendChild(et).appendChild(ct),vt=e.getComputedStyle(et),fe=parseInt(vt.height)>3,ie.removeChild(ft)),fe}}))})();function vr(O,R,Y){var Z,te,ne,fe,Re=O.style;return Y=Y||Ca(O),Y&&(fe=Y.getPropertyValue(R)||Y[R],fe===""&&!ue(O)&&(fe=h.style(O,R)),!P.pixelBoxStyles()&&Ua.test(fe)&&Sa.test(R)&&(Z=Re.width,te=Re.minWidth,ne=Re.maxWidth,Re.minWidth=Re.maxWidth=Re.width=fe,fe=Y.width,Re.width=Z,Re.minWidth=te,Re.maxWidth=ne)),fe!==void 0?fe+"":fe}function mr(O,R){return{get:function(){if(O()){delete this.get;return}return(this.get=R).apply(this,arguments)}}}var Ir=["Webkit","Moz","ms"],yi=f.createElement("div").style,$i={};function ea(O){for(var R=O[0].toUpperCase()+O.slice(1),Y=Ir.length;Y--;)if(O=Ir[Y]+R,O in yi)return O}function Ga(O){var R=h.cssProps[O]||$i[O];return R||(O in yi?O:$i[O]=ea(O)||O)}var xe=/^(none|table(?!-c[ea]).+)/,Tt=/^--/,Et={position:"absolute",visibility:"hidden",display:"block"},kt={letterSpacing:"0",fontWeight:"400"};function Nt(O,R,Y){var Z=H.exec(R);return Z?Math.max(0,Z[2]-(Y||0))+(Z[3]||"px"):R}function on(O,R,Y,Z,te,ne){var fe=R==="width"?1:0,Re=0,De=0;if(Y===(Z?"border":"content"))return 0;for(;fe<4;fe+=2)Y==="margin"&&(De+=h.css(O,Y+q[fe],!0,te)),Z?(Y==="content"&&(De-=h.css(O,"padding"+q[fe],!0,te)),Y!=="margin"&&(De-=h.css(O,"border"+q[fe]+"Width",!0,te))):(De+=h.css(O,"padding"+q[fe],!0,te),Y!=="padding"?De+=h.css(O,"border"+q[fe]+"Width",!0,te):Re+=h.css(O,"border"+q[fe]+"Width",!0,te));return!Z&&ne>=0&&(De+=Math.max(0,Math.ceil(O["offset"+R[0].toUpperCase()+R.slice(1)]-ne-De-Re-.5))||0),De}function nn(O,R,Y){var Z=Ca(O),te=!P.boxSizingReliable()||Y,ne=te&&h.css(O,"boxSizing",!1,Z)==="border-box",fe=ne,Re=vr(O,R,Z),De="offset"+R[0].toUpperCase()+R.slice(1);if(Ua.test(Re)){if(!Y)return Re;Re="auto"}return(!P.boxSizingReliable()&&ne||!P.reliableTrDimensions()&&B(O,"tr")||Re==="auto"||!parseFloat(Re)&&h.css(O,"display",!1,Z)==="inline")&&O.getClientRects().length&&(ne=h.css(O,"boxSizing",!1,Z)==="border-box",fe=De in O,fe&&(Re=O[De])),Re=parseFloat(Re)||0,Re+on(O,R,Y||(ne?"border":"content"),fe,Z,Re)+"px"}h.extend({cssHooks:{opacity:{get:function(O,R){if(R){var Y=vr(O,"opacity");return Y===""?"1":Y}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(O,R,Y,Z){if(!(!O||O.nodeType===3||O.nodeType===8||!O.style)){var te,ne,fe,Re=ve(R),De=Tt.test(R),We=O.style;if(De||(R=Ga(Re)),fe=h.cssHooks[R]||h.cssHooks[Re],Y!==void 0){if(ne=typeof Y,ne==="string"&&(te=H.exec(Y))&&te[1]&&(Y=Xe(O,R,te),ne="number"),Y==null||Y!==Y)return;ne==="number"&&!De&&(Y+=te&&te[3]||(h.cssNumber[Re]?"":"px")),!P.clearCloneStyle&&Y===""&&R.indexOf("background")===0&&(We[R]="inherit"),(!fe||!("set"in fe)||(Y=fe.set(O,Y,Z))!==void 0)&&(De?We.setProperty(R,Y):We[R]=Y)}else return fe&&"get"in fe&&(te=fe.get(O,!1,Z))!==void 0?te:We[R]}},css:function(O,R,Y,Z){var te,ne,fe,Re=ve(R),De=Tt.test(R);return De||(R=Ga(Re)),fe=h.cssHooks[R]||h.cssHooks[Re],fe&&"get"in fe&&(te=fe.get(O,!0,Y)),te===void 0&&(te=vr(O,R,Z)),te==="normal"&&R in kt&&(te=kt[R]),Y===""||Y?(ne=parseFloat(te),Y===!0||isFinite(ne)?ne||0:te):te}}),h.each(["height","width"],function(O,R){h.cssHooks[R]={get:function(Y,Z,te){if(Z)return xe.test(h.css(Y,"display"))&&(!Y.getClientRects().length||!Y.getBoundingClientRect().width)?Ya(Y,Et,function(){return nn(Y,R,te)}):nn(Y,R,te)},set:function(Y,Z,te){var ne,fe=Ca(Y),Re=!P.scrollboxSize()&&fe.position==="absolute",De=Re||te,We=De&&h.css(Y,"boxSizing",!1,fe)==="border-box",ft=te?on(Y,R,te,We,fe):0;return We&&Re&&(ft-=Math.ceil(Y["offset"+R[0].toUpperCase()+R.slice(1)]-parseFloat(fe[R])-on(Y,R,"border",!1,fe)-.5)),ft&&(ne=H.exec(Z))&&(ne[3]||"px")!=="px"&&(Y.style[R]=Z,Z=h.css(Y,R)),Nt(Y,Z,ft)}}}),h.cssHooks.marginLeft=mr(P.reliableMarginLeft,function(O,R){if(R)return(parseFloat(vr(O,"marginLeft"))||O.getBoundingClientRect().left-Ya(O,{marginLeft:0},function(){return O.getBoundingClientRect().left}))+"px"}),h.each({margin:"",padding:"",border:"Width"},function(O,R){h.cssHooks[O+R]={expand:function(Y){for(var Z=0,te={},ne=typeof Y=="string"?Y.split(" "):[Y];Z<4;Z++)te[O+q[Z]+R]=ne[Z]||ne[Z-2]||ne[0];return te}},O!=="margin"&&(h.cssHooks[O+R].set=Nt)}),h.fn.extend({css:function(O,R){return Be(this,function(Y,Z,te){var ne,fe,Re={},De=0;if(Array.isArray(Z)){for(ne=Ca(Y),fe=Z.length;De<fe;De++)Re[Z[De]]=h.css(Y,Z[De],!1,ne);return Re}return te!==void 0?h.style(Y,Z,te):h.css(Y,Z)},O,R,arguments.length>1)}});function In(O,R,Y,Z,te){return new In.prototype.init(O,R,Y,Z,te)}h.Tween=In,In.prototype={constructor:In,init:function(O,R,Y,Z,te,ne){this.elem=O,this.prop=Y,this.easing=te||h.easing._default,this.options=R,this.start=this.now=this.cur(),this.end=Z,this.unit=ne||(h.cssNumber[Y]?"":"px")},cur:function(){var O=In.propHooks[this.prop];return O&&O.get?O.get(this):In.propHooks._default.get(this)},run:function(O){var R,Y=In.propHooks[this.prop];return this.options.duration?this.pos=R=h.easing[this.easing](O,this.options.duration*O,0,1,this.options.duration):this.pos=R=O,this.now=(this.end-this.start)*R+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),Y&&Y.set?Y.set(this):In.propHooks._default.set(this),this}},In.prototype.init.prototype=In.prototype,In.propHooks={_default:{get:function(O){var R;return O.elem.nodeType!==1||O.elem[O.prop]!=null&&O.elem.style[O.prop]==null?O.elem[O.prop]:(R=h.css(O.elem,O.prop,""),!R||R==="auto"?0:R)},set:function(O){h.fx.step[O.prop]?h.fx.step[O.prop](O):O.elem.nodeType===1&&(h.cssHooks[O.prop]||O.elem.style[Ga(O.prop)]!=null)?h.style(O.elem,O.prop,O.now+O.unit):O.elem[O.prop]=O.now}}},In.propHooks.scrollTop=In.propHooks.scrollLeft={set:function(O){O.elem.nodeType&&O.elem.parentNode&&(O.elem[O.prop]=O.now)}},h.easing={linear:function(O){return O},swing:function(O){return .5-Math.cos(O*Math.PI)/2},_default:"swing"},h.fx=In.prototype.init,h.fx.step={};var Pn,hi,Li=/^(?:toggle|show|hide)$/,Ft=/queueHooks$/;function bi(){hi&&(f.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(bi):e.setTimeout(bi,h.fx.interval),h.fx.tick())}function cr(){return e.setTimeout(function(){Pn=void 0}),Pn=Date.now()}function Dr(O,R){var Y,Z=0,te={height:O};for(R=R?1:0;Z<4;Z+=2-R)Y=q[Z],te["margin"+Y]=te["padding"+Y]=O;return R&&(te.opacity=te.width=O),te}function $a(O,R,Y){for(var Z,te=(Vi.tweeners[R]||[]).concat(Vi.tweeners["*"]),ne=0,fe=te.length;ne<fe;ne++)if(Z=te[ne].call(Y,R,O))return Z}function fs(O,R,Y){var Z,te,ne,fe,Re,De,We,ft,et="width"in R||"height"in R,ct=this,vt={},fn=O.style,En=O.nodeType&&ke(O),ln=pe.get(O,"fxshow");Y.queue||(fe=h._queueHooks(O,"fx"),fe.unqueued==null&&(fe.unqueued=0,Re=fe.empty.fire,fe.empty.fire=function(){fe.unqueued||Re()}),fe.unqueued++,ct.always(function(){ct.always(function(){fe.unqueued--,h.queue(O,"fx").length||fe.empty.fire()})}));for(Z in R)if(te=R[Z],Li.test(te)){if(delete R[Z],ne=ne||te==="toggle",te===(En?"hide":"show"))if(te==="show"&&ln&&ln[Z]!==void 0)En=!0;else continue;vt[Z]=ln&&ln[Z]||h.style(O,Z)}if(De=!h.isEmptyObject(R),!(!De&&h.isEmptyObject(vt))){et&&O.nodeType===1&&(Y.overflow=[fn.overflow,fn.overflowX,fn.overflowY],We=ln&&ln.display,We==null&&(We=pe.get(O,"display")),ft=h.css(O,"display"),ft==="none"&&(We?ft=We:(ut([O],!0),We=O.style.display||We,ft=h.css(O,"display"),ut([O]))),(ft==="inline"||ft==="inline-block"&&We!=null)&&h.css(O,"float")==="none"&&(De||(ct.done(function(){fn.display=We}),We==null&&(ft=fn.display,We=ft==="none"?"":ft)),fn.display="inline-block")),Y.overflow&&(fn.overflow="hidden",ct.always(function(){fn.overflow=Y.overflow[0],fn.overflowX=Y.overflow[1],fn.overflowY=Y.overflow[2]})),De=!1;for(Z in vt)De||(ln?"hidden"in ln&&(En=ln.hidden):ln=pe.access(O,"fxshow",{display:We}),ne&&(ln.hidden=!En),En&&ut([O],!0),ct.done(function(){En||ut([O]),pe.remove(O,"fxshow");for(Z in vt)h.style(O,Z,vt[Z])})),De=$a(En?ln[Z]:0,Z,ct),Z in ln||(ln[Z]=De.start,En&&(De.end=De.start,De.start=0))}}function Ti(O,R){var Y,Z,te,ne,fe;for(Y in O)if(Z=ve(Y),te=R[Z],ne=O[Y],Array.isArray(ne)&&(te=ne[1],ne=O[Y]=ne[0]),Y!==Z&&(O[Z]=ne,delete O[Y]),fe=h.cssHooks[Z],fe&&"expand"in fe){ne=fe.expand(ne),delete O[Z];for(Y in ne)Y in O||(O[Y]=ne[Y],R[Y]=te)}else R[Z]=te}function Vi(O,R,Y){var Z,te,ne=0,fe=Vi.prefilters.length,Re=h.Deferred().always(function(){delete De.elem}),De=function(){if(te)return!1;for(var et=Pn||cr(),ct=Math.max(0,We.startTime+We.duration-et),vt=ct/We.duration||0,fn=1-vt,En=0,ln=We.tweens.length;En<ln;En++)We.tweens[En].run(fn);return Re.notifyWith(O,[We,fn,ct]),fn<1&&ln?ct:(ln||Re.notifyWith(O,[We,1,0]),Re.resolveWith(O,[We]),!1)},We=Re.promise({elem:O,props:h.extend({},R),opts:h.extend(!0,{specialEasing:{},easing:h.easing._default},Y),originalProperties:R,originalOptions:Y,startTime:Pn||cr(),duration:Y.duration,tweens:[],createTween:function(et,ct){var vt=h.Tween(O,We.opts,et,ct,We.opts.specialEasing[et]||We.opts.easing);return We.tweens.push(vt),vt},stop:function(et){var ct=0,vt=et?We.tweens.length:0;if(te)return this;for(te=!0;ct<vt;ct++)We.tweens[ct].run(1);return et?(Re.notifyWith(O,[We,1,0]),Re.resolveWith(O,[We,et])):Re.rejectWith(O,[We,et]),this}}),ft=We.props;for(Ti(ft,We.opts.specialEasing);ne<fe;ne++)if(Z=Vi.prefilters[ne].call(We,O,ft,We.opts),Z)return N(Z.stop)&&(h._queueHooks(We.elem,We.opts.queue).stop=Z.stop.bind(Z)),Z;return h.map(ft,$a,We),N(We.opts.start)&&We.opts.start.call(O,We),We.progress(We.opts.progress).done(We.opts.done,We.opts.complete).fail(We.opts.fail).always(We.opts.always),h.fx.timer(h.extend(De,{elem:O,anim:We,queue:We.opts.queue})),We}h.Animation=h.extend(Vi,{tweeners:{"*":[function(O,R){var Y=this.createTween(O,R);return Xe(Y.elem,O,H.exec(R),Y),Y}]},tweener:function(O,R){N(O)?(R=O,O=["*"]):O=O.match(it);for(var Y,Z=0,te=O.length;Z<te;Z++)Y=O[Z],Vi.tweeners[Y]=Vi.tweeners[Y]||[],Vi.tweeners[Y].unshift(R)},prefilters:[fs],prefilter:function(O,R){R?Vi.prefilters.unshift(O):Vi.prefilters.push(O)}}),h.speed=function(O,R,Y){var Z=O&&typeof O=="object"?h.extend({},O):{complete:Y||!Y&&R||N(O)&&O,duration:O,easing:Y&&R||R&&!N(R)&&R};return h.fx.off?Z.duration=0:typeof Z.duration!="number"&&(Z.duration in h.fx.speeds?Z.duration=h.fx.speeds[Z.duration]:Z.duration=h.fx.speeds._default),(Z.queue==null||Z.queue===!0)&&(Z.queue="fx"),Z.old=Z.complete,Z.complete=function(){N(Z.old)&&Z.old.call(this),Z.queue&&h.dequeue(this,Z.queue)},Z},h.fn.extend({fadeTo:function(O,R,Y,Z){return this.filter(ke).css("opacity",0).show().end().animate({opacity:R},O,Y,Z)},animate:function(O,R,Y,Z){var te=h.isEmptyObject(O),ne=h.speed(R,Y,Z),fe=function(){var Re=Vi(this,h.extend({},O),ne);(te||pe.get(this,"finish"))&&Re.stop(!0)};return fe.finish=fe,te||ne.queue===!1?this.each(fe):this.queue(ne.queue,fe)},stop:function(O,R,Y){var Z=function(te){var ne=te.stop;delete te.stop,ne(Y)};return typeof O!="string"&&(Y=R,R=O,O=void 0),R&&this.queue(O||"fx",[]),this.each(function(){var te=!0,ne=O!=null&&O+"queueHooks",fe=h.timers,Re=pe.get(this);if(ne)Re[ne]&&Re[ne].stop&&Z(Re[ne]);else for(ne in Re)Re[ne]&&Re[ne].stop&&Ft.test(ne)&&Z(Re[ne]);for(ne=fe.length;ne--;)fe[ne].elem===this&&(O==null||fe[ne].queue===O)&&(fe[ne].anim.stop(Y),te=!1,fe.splice(ne,1));(te||!Y)&&h.dequeue(this,O)})},finish:function(O){return O!==!1&&(O=O||"fx"),this.each(function(){var R,Y=pe.get(this),Z=Y[O+"queue"],te=Y[O+"queueHooks"],ne=h.timers,fe=Z?Z.length:0;for(Y.finish=!0,h.queue(this,O,[]),te&&te.stop&&te.stop.call(this,!0),R=ne.length;R--;)ne[R].elem===this&&ne[R].queue===O&&(ne[R].anim.stop(!0),ne.splice(R,1));for(R=0;R<fe;R++)Z[R]&&Z[R].finish&&Z[R].finish.call(this);delete Y.finish})}}),h.each(["toggle","show","hide"],function(O,R){var Y=h.fn[R];h.fn[R]=function(Z,te,ne){return Z==null||typeof Z=="boolean"?Y.apply(this,arguments):this.animate(Dr(R,!0),Z,te,ne)}}),h.each({slideDown:Dr("show"),slideUp:Dr("hide"),slideToggle:Dr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(O,R){h.fn[O]=function(Y,Z,te){return this.animate(R,Y,Z,te)}}),h.timers=[],h.fx.tick=function(){var O,R=0,Y=h.timers;for(Pn=Date.now();R<Y.length;R++)O=Y[R],!O()&&Y[R]===O&&Y.splice(R--,1);Y.length||h.fx.stop(),Pn=void 0},h.fx.timer=function(O){h.timers.push(O),h.fx.start()},h.fx.interval=13,h.fx.start=function(){hi||(hi=!0,bi())},h.fx.stop=function(){hi=null},h.fx.speeds={slow:600,fast:200,_default:400},h.fn.delay=function(O,R){return O=h.fx&&h.fx.speeds[O]||O,R=R||"fx",this.queue(R,function(Y,Z){var te=e.setTimeout(Y,O);Z.stop=function(){e.clearTimeout(te)}})},function(){var O=f.createElement("input"),R=f.createElement("select"),Y=R.appendChild(f.createElement("option"));O.type="checkbox",P.checkOn=O.value!=="",P.optSelected=Y.selected,O=f.createElement("input"),O.value="t",O.type="radio",P.radioValue=O.value==="t"}();var ho,Va=h.expr.attrHandle;h.fn.extend({attr:function(O,R){return Be(this,h.attr,O,R,arguments.length>1)},removeAttr:function(O){return this.each(function(){h.removeAttr(this,O)})}}),h.extend({attr:function(O,R,Y){var Z,te,ne=O.nodeType;if(!(ne===3||ne===8||ne===2)){if(typeof O.getAttribute>"u")return h.prop(O,R,Y);if((ne!==1||!h.isXMLDoc(O))&&(te=h.attrHooks[R.toLowerCase()]||(h.expr.match.bool.test(R)?ho:void 0)),Y!==void 0){if(Y===null){h.removeAttr(O,R);return}return te&&"set"in te&&(Z=te.set(O,Y,R))!==void 0?Z:(O.setAttribute(R,Y+""),Y)}return te&&"get"in te&&(Z=te.get(O,R))!==null?Z:(Z=h.find.attr(O,R),Z==null?void 0:Z)}},attrHooks:{type:{set:function(O,R){if(!P.radioValue&&R==="radio"&&B(O,"input")){var Y=O.value;return O.setAttribute("type",R),Y&&(O.value=Y),R}}}},removeAttr:function(O,R){var Y,Z=0,te=R&&R.match(it);if(te&&O.nodeType===1)for(;Y=te[Z++];)O.removeAttribute(Y)}}),ho={set:function(O,R,Y){return R===!1?h.removeAttr(O,Y):O.setAttribute(Y,Y),Y}},h.each(h.expr.match.bool.source.match(/\w+/g),function(O,R){var Y=Va[R]||h.find.attr;Va[R]=function(Z,te,ne){var fe,Re,De=te.toLowerCase();return ne||(Re=Va[De],Va[De]=fe,fe=Y(Z,te,ne)!=null?De:null,Va[De]=Re),fe}});var Ns=/^(?:input|select|textarea|button)$/i,yr=/^(?:a|area)$/i;h.fn.extend({prop:function(O,R){return Be(this,h.prop,O,R,arguments.length>1)},removeProp:function(O){return this.each(function(){delete this[h.propFix[O]||O]})}}),h.extend({prop:function(O,R,Y){var Z,te,ne=O.nodeType;if(!(ne===3||ne===8||ne===2))return(ne!==1||!h.isXMLDoc(O))&&(R=h.propFix[R]||R,te=h.propHooks[R]),Y!==void 0?te&&"set"in te&&(Z=te.set(O,Y,R))!==void 0?Z:O[R]=Y:te&&"get"in te&&(Z=te.get(O,R))!==null?Z:O[R]},propHooks:{tabIndex:{get:function(O){var R=h.find.attr(O,"tabindex");return R?parseInt(R,10):Ns.test(O.nodeName)||yr.test(O.nodeName)&&O.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),P.optSelected||(h.propHooks.selected={get:function(O){var R=O.parentNode;return R&&R.parentNode&&R.parentNode.selectedIndex,null},set:function(O){var R=O.parentNode;R&&(R.selectedIndex,R.parentNode&&R.parentNode.selectedIndex)}}),h.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){h.propFix[this.toLowerCase()]=this});function ta(O){var R=O.match(it)||[];return R.join(" ")}function Ar(O){return O.getAttribute&&O.getAttribute("class")||""}function na(O){return Array.isArray(O)?O:typeof O=="string"?O.match(it)||[]:[]}h.fn.extend({addClass:function(O){var R,Y,Z,te,ne,fe,Re,De=0;if(N(O))return this.each(function(We){h(this).addClass(O.call(this,We,Ar(this)))});if(R=na(O),R.length){for(;Y=this[De++];)if(te=Ar(Y),Z=Y.nodeType===1&&" "+ta(te)+" ",Z){for(fe=0;ne=R[fe++];)Z.indexOf(" "+ne+" ")<0&&(Z+=ne+" ");Re=ta(Z),te!==Re&&Y.setAttribute("class",Re)}}return this},removeClass:function(O){var R,Y,Z,te,ne,fe,Re,De=0;if(N(O))return this.each(function(We){h(this).removeClass(O.call(this,We,Ar(this)))});if(!arguments.length)return this.attr("class","");if(R=na(O),R.length){for(;Y=this[De++];)if(te=Ar(Y),Z=Y.nodeType===1&&" "+ta(te)+" ",Z){for(fe=0;ne=R[fe++];)for(;Z.indexOf(" "+ne+" ")>-1;)Z=Z.replace(" "+ne+" "," ");Re=ta(Z),te!==Re&&Y.setAttribute("class",Re)}}return this},toggleClass:function(O,R){var Y=typeof O,Z=Y==="string"||Array.isArray(O);return typeof R=="boolean"&&Z?R?this.addClass(O):this.removeClass(O):N(O)?this.each(function(te){h(this).toggleClass(O.call(this,te,Ar(this),R),R)}):this.each(function(){var te,ne,fe,Re;if(Z)for(ne=0,fe=h(this),Re=na(O);te=Re[ne++];)fe.hasClass(te)?fe.removeClass(te):fe.addClass(te);else(O===void 0||Y==="boolean")&&(te=Ar(this),te&&pe.set(this,"__className__",te),this.setAttribute&&this.setAttribute("class",te||O===!1?"":pe.get(this,"__className__")||""))})},hasClass:function(O){var R,Y,Z=0;for(R=" "+O+" ";Y=this[Z++];)if(Y.nodeType===1&&(" "+ta(Ar(Y))+" ").indexOf(R)>-1)return!0;return!1}});var Xa=/\r/g;h.fn.extend({val:function(O){var R,Y,Z,te=this[0];return arguments.length?(Z=N(O),this.each(function(ne){var fe;this.nodeType===1&&(Z?fe=O.call(this,ne,h(this).val()):fe=O,fe==null?fe="":typeof fe=="number"?fe+="":Array.isArray(fe)&&(fe=h.map(fe,function(Re){return Re==null?"":Re+""})),R=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()],(!R||!("set"in R)||R.set(this,fe,"value")===void 0)&&(this.value=fe))})):te?(R=h.valHooks[te.type]||h.valHooks[te.nodeName.toLowerCase()],R&&"get"in R&&(Y=R.get(te,"value"))!==void 0?Y:(Y=te.value,typeof Y=="string"?Y.replace(Xa,""):Y==null?"":Y)):void 0}}),h.extend({valHooks:{option:{get:function(O){var R=h.find.attr(O,"value");return R!=null?R:ta(h.text(O))}},select:{get:function(O){var R,Y,Z,te=O.options,ne=O.selectedIndex,fe=O.type==="select-one",Re=fe?null:[],De=fe?ne+1:te.length;for(ne<0?Z=De:Z=fe?ne:0;Z<De;Z++)if(Y=te[Z],(Y.selected||Z===ne)&&!Y.disabled&&(!Y.parentNode.disabled||!B(Y.parentNode,"optgroup"))){if(R=h(Y).val(),fe)return R;Re.push(R)}return Re},set:function(O,R){for(var Y,Z,te=O.options,ne=h.makeArray(R),fe=te.length;fe--;)Z=te[fe],(Z.selected=h.inArray(h.valHooks.option.get(Z),ne)>-1)&&(Y=!0);return Y||(O.selectedIndex=-1),ne}}}}),h.each(["radio","checkbox"],function(){h.valHooks[this]={set:function(O,R){if(Array.isArray(R))return O.checked=h.inArray(h(O).val(),R)>-1}},P.checkOn||(h.valHooks[this].get=function(O){return O.getAttribute("value")===null?"on":O.value})}),P.focusin="onfocusin"in e;var ia=/^(?:focusinfocus|focusoutblur)$/,ds=function(O){O.stopPropagation()};h.extend(h.event,{trigger:function(O,R,Y,Z){var te,ne,fe,Re,De,We,ft,et,ct=[Y||f],vt=_.call(O,"type")?O.type:O,fn=_.call(O,"namespace")?O.namespace.split("."):[];if(ne=et=fe=Y=Y||f,!(Y.nodeType===3||Y.nodeType===8)&&!ia.test(vt+h.event.triggered)&&(vt.indexOf(".")>-1&&(fn=vt.split("."),vt=fn.shift(),fn.sort()),De=vt.indexOf(":")<0&&"on"+vt,O=O[h.expando]?O:new h.Event(vt,typeof O=="object"&&O),O.isTrigger=Z?2:3,O.namespace=fn.join("."),O.rnamespace=O.namespace?new RegExp("(^|\\.)"+fn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,O.result=void 0,O.target||(O.target=Y),R=R==null?[O]:h.makeArray(R,[O]),ft=h.event.special[vt]||{},!(!Z&&ft.trigger&&ft.trigger.apply(Y,R)===!1))){if(!Z&&!ft.noBubble&&!b(Y)){for(Re=ft.delegateType||vt,ia.test(Re+vt)||(ne=ne.parentNode);ne;ne=ne.parentNode)ct.push(ne),fe=ne;fe===(Y.ownerDocument||f)&&ct.push(fe.defaultView||fe.parentWindow||e)}for(te=0;(ne=ct[te++])&&!O.isPropagationStopped();)et=ne,O.type=te>1?Re:ft.bindType||vt,We=(pe.get(ne,"events")||Object.create(null))[O.type]&&pe.get(ne,"handle"),We&&We.apply(ne,R),We=De&&ne[De],We&&We.apply&&Ce(ne)&&(O.result=We.apply(ne,R),O.result===!1&&O.preventDefault());return O.type=vt,!Z&&!O.isDefaultPrevented()&&(!ft._default||ft._default.apply(ct.pop(),R)===!1)&&Ce(Y)&&De&&N(Y[vt])&&!b(Y)&&(fe=Y[De],fe&&(Y[De]=null),h.event.triggered=vt,O.isPropagationStopped()&&et.addEventListener(vt,ds),Y[vt](),O.isPropagationStopped()&&et.removeEventListener(vt,ds),h.event.triggered=void 0,fe&&(Y[De]=fe)),O.result}},simulate:function(O,R,Y){var Z=h.extend(new h.Event,Y,{type:O,isSimulated:!0});h.event.trigger(Z,null,R)}}),h.fn.extend({trigger:function(O,R){return this.each(function(){h.event.trigger(O,R,this)})},triggerHandler:function(O,R){var Y=this[0];if(Y)return h.event.trigger(O,R,Y,!0)}}),P.focusin||h.each({focus:"focusin",blur:"focusout"},function(O,R){var Y=function(Z){h.event.simulate(R,Z.target,h.event.fix(Z))};h.event.special[R]={setup:function(){var Z=this.ownerDocument||this.document||this,te=pe.access(Z,R);te||Z.addEventListener(O,Y,!0),pe.access(Z,R,(te||0)+1)},teardown:function(){var Z=this.ownerDocument||this.document||this,te=pe.access(Z,R)-1;te?pe.access(Z,R,te):(Z.removeEventListener(O,Y,!0),pe.remove(Z,R))}}});var Za=e.location,$o={guid:Date.now()},Fs=/\?/;h.parseXML=function(O){var R;if(!O||typeof O!="string")return null;try{R=new e.DOMParser().parseFromString(O,"text/xml")}catch{R=void 0}return(!R||R.getElementsByTagName("parsererror").length)&&h.error("Invalid XML: "+O),R};var Vo=/\[\]$/,ra=/\r?\n/g,Xo=/^(?:submit|button|image|reset|file)$/i,Zo=/^(?:input|select|textarea|keygen)/i;function js(O,R,Y,Z){var te;if(Array.isArray(R))h.each(R,function(ne,fe){Y||Vo.test(O)?Z(O,fe):js(O+"["+(typeof fe=="object"&&fe!=null?ne:"")+"]",fe,Y,Z)});else if(!Y&&d(R)==="object")for(te in R)js(O+"["+te+"]",R[te],Y,Z);else Z(O,R)}h.param=function(O,R){var Y,Z=[],te=function(ne,fe){var Re=N(fe)?fe():fe;Z[Z.length]=encodeURIComponent(ne)+"="+encodeURIComponent(Re==null?"":Re)};if(O==null)return"";if(Array.isArray(O)||O.jquery&&!h.isPlainObject(O))h.each(O,function(){te(this.name,this.value)});else for(Y in O)js(Y,O[Y],R,te);return Z.join("&")},h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var O=h.prop(this,"elements");return O?h.makeArray(O):this}).filter(function(){var O=this.type;return this.name&&!h(this).is(":disabled")&&Zo.test(this.nodeName)&&!Xo.test(O)&&(this.checked||!bt.test(O))}).map(function(O,R){var Y=h(this).val();return Y==null?null:Array.isArray(Y)?h.map(Y,function(Z){return{name:R.name,value:Z.replace(ra,`\r
`)}}):{name:R.name,value:Y.replace(ra,`\r
`)}}).get()}});var Yl=/%20/g,ps=/#.*$/,Jo=/([?&])_=[^&]*/,Ko=/^(.*?):[ \t]*([^\r\n]*)$/mg,Gl=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,$l=/^(?:GET|HEAD)$/,Bs=/^\/\//,Qo={},Hs={},fi="*/".concat("*"),_a=f.createElement("a");_a.href=Za.href;function qo(O){return function(R,Y){typeof R!="string"&&(Y=R,R="*");var Z,te=0,ne=R.toLowerCase().match(it)||[];if(N(Y))for(;Z=ne[te++];)Z[0]==="+"?(Z=Z.slice(1)||"*",(O[Z]=O[Z]||[]).unshift(Y)):(O[Z]=O[Z]||[]).push(Y)}}function di(O,R,Y,Z){var te={},ne=O===Hs;function fe(Re){var De;return te[Re]=!0,h.each(O[Re]||[],function(We,ft){var et=ft(R,Y,Z);if(typeof et=="string"&&!ne&&!te[et])return R.dataTypes.unshift(et),fe(et),!1;if(ne)return!(De=et)}),De}return fe(R.dataTypes[0])||!te["*"]&&fe("*")}function jn(O,R){var Y,Z,te=h.ajaxSettings.flatOptions||{};for(Y in R)R[Y]!==void 0&&((te[Y]?O:Z||(Z={}))[Y]=R[Y]);return Z&&h.extend(!0,O,Z),O}function gs(O,R,Y){for(var Z,te,ne,fe,Re=O.contents,De=O.dataTypes;De[0]==="*";)De.shift(),Z===void 0&&(Z=O.mimeType||R.getResponseHeader("Content-Type"));if(Z){for(te in Re)if(Re[te]&&Re[te].test(Z)){De.unshift(te);break}}if(De[0]in Y)ne=De[0];else{for(te in Y){if(!De[0]||O.converters[te+" "+De[0]]){ne=te;break}fe||(fe=te)}ne=ne||fe}if(ne)return ne!==De[0]&&De.unshift(ne),Y[ne]}function Vl(O,R,Y,Z){var te,ne,fe,Re,De,We={},ft=O.dataTypes.slice();if(ft[1])for(fe in O.converters)We[fe.toLowerCase()]=O.converters[fe];for(ne=ft.shift();ne;)if(O.responseFields[ne]&&(Y[O.responseFields[ne]]=R),!De&&Z&&O.dataFilter&&(R=O.dataFilter(R,O.dataType)),De=ne,ne=ft.shift(),ne){if(ne==="*")ne=De;else if(De!=="*"&&De!==ne){if(fe=We[De+" "+ne]||We["* "+ne],!fe){for(te in We)if(Re=te.split(" "),Re[1]===ne&&(fe=We[De+" "+Re[0]]||We["* "+Re[0]],fe)){fe===!0?fe=We[te]:We[te]!==!0&&(ne=Re[0],ft.unshift(Re[1]));break}}if(fe!==!0)if(fe&&O.throws)R=fe(R);else try{R=fe(R)}catch(et){return{state:"parsererror",error:fe?et:"No conversion from "+De+" to "+ne}}}}return{state:"success",data:R}}h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Za.href,type:"GET",isLocal:Gl.test(Za.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":fi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(O,R){return R?jn(jn(O,h.ajaxSettings),R):jn(h.ajaxSettings,O)},ajaxPrefilter:qo(Qo),ajaxTransport:qo(Hs),ajax:function(O,R){typeof O=="object"&&(R=O,O=void 0),R=R||{};var Y,Z,te,ne,fe,Re,De,We,ft,et,ct=h.ajaxSetup({},R),vt=ct.context||ct,fn=ct.context&&(vt.nodeType||vt.jquery)?h(vt):h.event,En=h.Deferred(),ln=h.Callbacks("once memory"),wi=ct.statusCode||{},ri={},Nn={},Ln="canceled",un={readyState:0,getResponseHeader:function(wn){var Ci;if(De){if(!ne)for(ne={};Ci=Ko.exec(te);)ne[Ci[1].toLowerCase()+" "]=(ne[Ci[1].toLowerCase()+" "]||[]).concat(Ci[2]);Ci=ne[wn.toLowerCase()+" "]}return Ci==null?null:Ci.join(", ")},getAllResponseHeaders:function(){return De?te:null},setRequestHeader:function(wn,Ci){return De==null&&(wn=Nn[wn.toLowerCase()]=Nn[wn.toLowerCase()]||wn,ri[wn]=Ci),this},overrideMimeType:function(wn){return De==null&&(ct.mimeType=wn),this},statusCode:function(wn){var Ci;if(wn)if(De)un.always(wn[un.status]);else for(Ci in wn)wi[Ci]=[wi[Ci],wn[Ci]];return this},abort:function(wn){var Ci=wn||Ln;return Y&&Y.abort(Ci),Bi(0,Ci),this}};if(En.promise(un),ct.url=((O||ct.url||Za.href)+"").replace(Bs,Za.protocol+"//"),ct.type=R.method||R.type||ct.method||ct.type,ct.dataTypes=(ct.dataType||"*").toLowerCase().match(it)||[""],ct.crossDomain==null){Re=f.createElement("a");try{Re.href=ct.url,Re.href=Re.href,ct.crossDomain=_a.protocol+"//"+_a.host!=Re.protocol+"//"+Re.host}catch{ct.crossDomain=!0}}if(ct.data&&ct.processData&&typeof ct.data!="string"&&(ct.data=h.param(ct.data,ct.traditional)),di(Qo,ct,R,un),De)return un;We=h.event&&ct.global,We&&h.active++===0&&h.event.trigger("ajaxStart"),ct.type=ct.type.toUpperCase(),ct.hasContent=!$l.test(ct.type),Z=ct.url.replace(ps,""),ct.hasContent?ct.data&&ct.processData&&(ct.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ct.data=ct.data.replace(Yl,"+")):(et=ct.url.slice(Z.length),ct.data&&(ct.processData||typeof ct.data=="string")&&(Z+=(Fs.test(Z)?"&":"?")+ct.data,delete ct.data),ct.cache===!1&&(Z=Z.replace(Jo,"$1"),et=(Fs.test(Z)?"&":"?")+"_="+$o.guid+++et),ct.url=Z+et),ct.ifModified&&(h.lastModified[Z]&&un.setRequestHeader("If-Modified-Since",h.lastModified[Z]),h.etag[Z]&&un.setRequestHeader("If-None-Match",h.etag[Z])),(ct.data&&ct.hasContent&&ct.contentType!==!1||R.contentType)&&un.setRequestHeader("Content-Type",ct.contentType),un.setRequestHeader("Accept",ct.dataTypes[0]&&ct.accepts[ct.dataTypes[0]]?ct.accepts[ct.dataTypes[0]]+(ct.dataTypes[0]!=="*"?", "+fi+"; q=0.01":""):ct.accepts["*"]);for(ft in ct.headers)un.setRequestHeader(ft,ct.headers[ft]);if(ct.beforeSend&&(ct.beforeSend.call(vt,un,ct)===!1||De))return un.abort();if(Ln="abort",ln.add(ct.complete),un.done(ct.success),un.fail(ct.error),Y=di(Hs,ct,R,un),!Y)Bi(-1,"No Transport");else{if(un.readyState=1,We&&fn.trigger("ajaxSend",[un,ct]),De)return un;ct.async&&ct.timeout>0&&(fe=e.setTimeout(function(){un.abort("timeout")},ct.timeout));try{De=!1,Y.send(ri,Bi)}catch(wn){if(De)throw wn;Bi(-1,wn)}}function Bi(wn,Ci,vs,Ws){var qi,jr,br,er,Gr,ur=Ci;De||(De=!0,fe&&e.clearTimeout(fe),Y=void 0,te=Ws||"",un.readyState=wn>0?4:0,qi=wn>=200&&wn<300||wn===304,vs&&(er=gs(ct,un,vs)),!qi&&h.inArray("script",ct.dataTypes)>-1&&(ct.converters["text script"]=function(){}),er=Vl(ct,er,un,qi),qi?(ct.ifModified&&(Gr=un.getResponseHeader("Last-Modified"),Gr&&(h.lastModified[Z]=Gr),Gr=un.getResponseHeader("etag"),Gr&&(h.etag[Z]=Gr)),wn===204||ct.type==="HEAD"?ur="nocontent":wn===304?ur="notmodified":(ur=er.state,jr=er.data,br=er.error,qi=!br)):(br=ur,(wn||!ur)&&(ur="error",wn<0&&(wn=0))),un.status=wn,un.statusText=(Ci||ur)+"",qi?En.resolveWith(vt,[jr,ur,un]):En.rejectWith(vt,[un,ur,br]),un.statusCode(wi),wi=void 0,We&&fn.trigger(qi?"ajaxSuccess":"ajaxError",[un,ct,qi?jr:br]),ln.fireWith(vt,[un,ur]),We&&(fn.trigger("ajaxComplete",[un,ct]),--h.active||h.event.trigger("ajaxStop")))}return un},getJSON:function(O,R,Y){return h.get(O,R,Y,"json")},getScript:function(O,R){return h.get(O,void 0,R,"script")}}),h.each(["get","post"],function(O,R){h[R]=function(Y,Z,te,ne){return N(Z)&&(ne=ne||te,te=Z,Z=void 0),h.ajax(h.extend({url:Y,type:R,dataType:ne,data:Z,success:te},h.isPlainObject(Y)&&Y))}}),h.ajaxPrefilter(function(O){var R;for(R in O.headers)R.toLowerCase()==="content-type"&&(O.contentType=O.headers[R]||"")}),h._evalUrl=function(O,R,Y){return h.ajax({url:O,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(Z){h.globalEval(Z,R,Y)}})},h.fn.extend({wrapAll:function(O){var R;return this[0]&&(N(O)&&(O=O.call(this[0])),R=h(O,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&R.insertBefore(this[0]),R.map(function(){for(var Y=this;Y.firstElementChild;)Y=Y.firstElementChild;return Y}).append(this)),this},wrapInner:function(O){return N(O)?this.each(function(R){h(this).wrapInner(O.call(this,R))}):this.each(function(){var R=h(this),Y=R.contents();Y.length?Y.wrapAll(O):R.append(O)})},wrap:function(O){var R=N(O);return this.each(function(Y){h(this).wrapAll(R?O.call(this,Y):O)})},unwrap:function(O){return this.parent(O).not("body").each(function(){h(this).replaceWith(this.childNodes)}),this}}),h.expr.pseudos.hidden=function(O){return!h.expr.pseudos.visible(O)},h.expr.pseudos.visible=function(O){return!!(O.offsetWidth||O.offsetHeight||O.getClientRects().length)},h.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var Xl={0:200,1223:204},Qi=h.ajaxSettings.xhr();P.cors=!!Qi&&"withCredentials"in Qi,P.ajax=Qi=!!Qi,h.ajaxTransport(function(O){var R,Y;if(P.cors||Qi&&!O.crossDomain)return{send:function(Z,te){var ne,fe=O.xhr();if(fe.open(O.type,O.url,O.async,O.username,O.password),O.xhrFields)for(ne in O.xhrFields)fe[ne]=O.xhrFields[ne];O.mimeType&&fe.overrideMimeType&&fe.overrideMimeType(O.mimeType),!O.crossDomain&&!Z["X-Requested-With"]&&(Z["X-Requested-With"]="XMLHttpRequest");for(ne in Z)fe.setRequestHeader(ne,Z[ne]);R=function(Re){return function(){R&&(R=Y=fe.onload=fe.onerror=fe.onabort=fe.ontimeout=fe.onreadystatechange=null,Re==="abort"?fe.abort():Re==="error"?typeof fe.status!="number"?te(0,"error"):te(fe.status,fe.statusText):te(Xl[fe.status]||fe.status,fe.statusText,(fe.responseType||"text")!=="text"||typeof fe.responseText!="string"?{binary:fe.response}:{text:fe.responseText},fe.getAllResponseHeaders()))}},fe.onload=R(),Y=fe.onerror=fe.ontimeout=R("error"),fe.onabort!==void 0?fe.onabort=Y:fe.onreadystatechange=function(){fe.readyState===4&&e.setTimeout(function(){R&&Y()})},R=R("abort");try{fe.send(O.hasContent&&O.data||null)}catch(Re){if(R)throw Re}},abort:function(){R&&R()}}}),h.ajaxPrefilter(function(O){O.crossDomain&&(O.contents.script=!1)}),h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(O){return h.globalEval(O),O}}}),h.ajaxPrefilter("script",function(O){O.cache===void 0&&(O.cache=!1),O.crossDomain&&(O.type="GET")}),h.ajaxTransport("script",function(O){if(O.crossDomain||O.scriptAttrs){var R,Y;return{send:function(Z,te){R=h("<script>").attr(O.scriptAttrs||{}).prop({charset:O.scriptCharset,src:O.url}).on("load error",Y=function(ne){R.remove(),Y=null,ne&&te(ne.type==="error"?404:200,ne.type)}),f.head.appendChild(R[0])},abort:function(){Y&&Y()}}}});var fo=[],zs=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var O=fo.pop()||h.expando+"_"+$o.guid++;return this[O]=!0,O}}),h.ajaxPrefilter("json jsonp",function(O,R,Y){var Z,te,ne,fe=O.jsonp!==!1&&(zs.test(O.url)?"url":typeof O.data=="string"&&(O.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&zs.test(O.data)&&"data");if(fe||O.dataTypes[0]==="jsonp")return Z=O.jsonpCallback=N(O.jsonpCallback)?O.jsonpCallback():O.jsonpCallback,fe?O[fe]=O[fe].replace(zs,"$1"+Z):O.jsonp!==!1&&(O.url+=(Fs.test(O.url)?"&":"?")+O.jsonp+"="+Z),O.converters["script json"]=function(){return ne||h.error(Z+" was not called"),ne[0]},O.dataTypes[0]="json",te=e[Z],e[Z]=function(){ne=arguments},Y.always(function(){te===void 0?h(e).removeProp(Z):e[Z]=te,O[Z]&&(O.jsonpCallback=R.jsonpCallback,fo.push(Z)),ne&&N(te)&&te(ne[0]),ne=te=void 0}),"script"}),P.createHTMLDocument=function(){var O=f.implementation.createHTMLDocument("").body;return O.innerHTML="<form></form><form></form>",O.childNodes.length===2}(),h.parseHTML=function(O,R,Y){if(typeof O!="string")return[];typeof R=="boolean"&&(Y=R,R=!1);var Z,te,ne;return R||(P.createHTMLDocument?(R=f.implementation.createHTMLDocument(""),Z=R.createElement("base"),Z.href=f.location.href,R.head.appendChild(Z)):R=f),te=z.exec(O),ne=!Y&&[],te?[R.createElement(te[1])]:(te=kn([O],R,ne),ne&&ne.length&&h(ne).remove(),h.merge([],te.childNodes))},h.fn.load=function(O,R,Y){var Z,te,ne,fe=this,Re=O.indexOf(" ");return Re>-1&&(Z=ta(O.slice(Re)),O=O.slice(0,Re)),N(R)?(Y=R,R=void 0):R&&typeof R=="object"&&(te="POST"),fe.length>0&&h.ajax({url:O,type:te||"GET",dataType:"html",data:R}).done(function(De){ne=arguments,fe.html(Z?h("<div>").append(h.parseHTML(De)).find(Z):De)}).always(Y&&function(De,We){fe.each(function(){Y.apply(this,ne||[De.responseText,We,De])})}),this},h.expr.pseudos.animated=function(O){return h.grep(h.timers,function(R){return O===R.elem}).length},h.offset={setOffset:function(O,R,Y){var Z,te,ne,fe,Re,De,We,ft=h.css(O,"position"),et=h(O),ct={};ft==="static"&&(O.style.position="relative"),Re=et.offset(),ne=h.css(O,"top"),De=h.css(O,"left"),We=(ft==="absolute"||ft==="fixed")&&(ne+De).indexOf("auto")>-1,We?(Z=et.position(),fe=Z.top,te=Z.left):(fe=parseFloat(ne)||0,te=parseFloat(De)||0),N(R)&&(R=R.call(O,Y,h.extend({},Re))),R.top!=null&&(ct.top=R.top-Re.top+fe),R.left!=null&&(ct.left=R.left-Re.left+te),"using"in R?R.using.call(O,ct):(typeof ct.top=="number"&&(ct.top+="px"),typeof ct.left=="number"&&(ct.left+="px"),et.css(ct))}},h.fn.extend({offset:function(O){if(arguments.length)return O===void 0?this:this.each(function(te){h.offset.setOffset(this,O,te)});var R,Y,Z=this[0];if(!!Z)return Z.getClientRects().length?(R=Z.getBoundingClientRect(),Y=Z.ownerDocument.defaultView,{top:R.top+Y.pageYOffset,left:R.left+Y.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var O,R,Y,Z=this[0],te={top:0,left:0};if(h.css(Z,"position")==="fixed")R=Z.getBoundingClientRect();else{for(R=this.offset(),Y=Z.ownerDocument,O=Z.offsetParent||Y.documentElement;O&&(O===Y.body||O===Y.documentElement)&&h.css(O,"position")==="static";)O=O.parentNode;O&&O!==Z&&O.nodeType===1&&(te=h(O).offset(),te.top+=h.css(O,"borderTopWidth",!0),te.left+=h.css(O,"borderLeftWidth",!0))}return{top:R.top-te.top-h.css(Z,"marginTop",!0),left:R.left-te.left-h.css(Z,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var O=this.offsetParent;O&&h.css(O,"position")==="static";)O=O.offsetParent;return O||ie})}}),h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(O,R){var Y=R==="pageYOffset";h.fn[O]=function(Z){return Be(this,function(te,ne,fe){var Re;if(b(te)?Re=te:te.nodeType===9&&(Re=te.defaultView),fe===void 0)return Re?Re[R]:te[ne];Re?Re.scrollTo(Y?Re.pageXOffset:fe,Y?fe:Re.pageYOffset):te[ne]=fe},O,Z,arguments.length)}}),h.each(["top","left"],function(O,R){h.cssHooks[R]=mr(P.pixelPosition,function(Y,Z){if(Z)return Z=vr(Y,R),Ua.test(Z)?h(Y).position()[R]+"px":Z})}),h.each({Height:"height",Width:"width"},function(O,R){h.each({padding:"inner"+O,content:R,"":"outer"+O},function(Y,Z){h.fn[Z]=function(te,ne){var fe=arguments.length&&(Y||typeof te!="boolean"),Re=Y||(te===!0||ne===!0?"margin":"border");return Be(this,function(De,We,ft){var et;return b(De)?Z.indexOf("outer")===0?De["inner"+O]:De.document.documentElement["client"+O]:De.nodeType===9?(et=De.documentElement,Math.max(De.body["scroll"+O],et["scroll"+O],De.body["offset"+O],et["offset"+O],et["client"+O])):ft===void 0?h.css(De,We,Re):h.style(De,We,ft,Re)},R,fe?te:void 0,fe)}})}),h.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(O,R){h.fn[R]=function(Y){return this.on(R,Y)}}),h.fn.extend({bind:function(O,R,Y){return this.on(O,null,R,Y)},unbind:function(O,R){return this.off(O,null,R)},delegate:function(O,R,Y,Z){return this.on(R,O,Y,Z)},undelegate:function(O,R,Y){return arguments.length===1?this.off(O,"**"):this.off(R,O||"**",Y)},hover:function(O,R){return this.mouseenter(O).mouseleave(R||O)}}),h.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(O,R){h.fn[R]=function(Y,Z){return arguments.length>0?this.on(R,null,Y,Z):this.trigger(R)}});var po=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;h.proxy=function(O,R){var Y,Z,te;if(typeof R=="string"&&(Y=O[R],R=O,O=Y),!!N(O))return Z=a.call(arguments,2),te=function(){return O.apply(R||this,Z.concat(a.call(arguments)))},te.guid=O.guid=O.guid||h.guid++,te},h.holdReady=function(O){O?h.readyWait++:h.ready(!0)},h.isArray=Array.isArray,h.parseJSON=JSON.parse,h.nodeName=B,h.isFunction=N,h.isWindow=b,h.camelCase=ve,h.type=d,h.now=Date.now,h.isNumeric=function(O){var R=h.type(O);return(R==="number"||R==="string")&&!isNaN(O-parseFloat(O))},h.trim=function(O){return O==null?"":(O+"").replace(po,"")};var Zl=e.jQuery,Ri=e.$;return h.noConflict=function(O){return e.$===h&&(e.$=Ri),O&&e.jQuery===h&&(e.jQuery=Zl),h},typeof t>"u"&&(e.jQuery=e.$=h),h})})(fT);const bl=fT.exports;/*! DataTables 1.13.1
 * ©2008-2022 SpryMedia Ltd - datatables.net/license
 */let Ee=bl;var Bt=function(n,e){if(this instanceof Bt)return Ee(n).DataTable(e);e=n,this.$=function(o,s){return this.api(!0).$(o,s)},this._=function(o,s){return this.api(!0).rows(o,s).data()},this.api=function(o){return o?new ni(Hg(this[ar.iApiIndex])):new ni(this)},this.fnAddData=function(o,s){var u=this.api(!0),c=Array.isArray(o)&&(Array.isArray(o[0])||Ee.isPlainObject(o[0]))?u.rows.add(o):u.row.add(o);return(s===void 0||s)&&u.draw(),c.flatten().toArray()},this.fnAdjustColumnSizing=function(o){var s=this.api(!0).columns.adjust(),u=s.settings()[0],c=u.oScroll;o===void 0||o?s.draw(!1):(c.sX!==""||c.sY!=="")&&Av(u)},this.fnClearTable=function(o){var s=this.api(!0).clear();(o===void 0||o)&&s.draw()},this.fnClose=function(o){this.api(!0).row(o).child.hide()},this.fnDeleteRow=function(o,s,u){var c=this.api(!0),l=c.rows(o),_=l.settings()[0],I=_.aoData[l[0][0]];return l.remove(),s&&s.call(this,_,I),(u===void 0||u)&&c.draw(),I},this.fnDestroy=function(o){this.api(!0).destroy(o)},this.fnDraw=function(o){this.api(!0).draw(o)},this.fnFilter=function(o,s,u,c,l,_){var I=this.api(!0);s==null?I.search(o,u,c,_):I.column(s).search(o,u,c,_),I.draw()},this.fnGetData=function(o,s){var u=this.api(!0);if(o!==void 0){var c=o.nodeName?o.nodeName.toLowerCase():"";return s!==void 0||c=="td"||c=="th"?u.cell(o,s).data():u.row(o).data()||null}return u.data().toArray()},this.fnGetNodes=function(o){var s=this.api(!0);return o!==void 0?s.row(o).node():s.rows().nodes().flatten().toArray()},this.fnGetPosition=function(o){var s=this.api(!0),u=o.nodeName.toUpperCase();if(u=="TR")return s.row(o).index();if(u=="TD"||u=="TH"){var c=s.cell(o).index();return[c.row,c.columnVisible,c.column]}return null},this.fnIsOpen=function(o){return this.api(!0).row(o).child.isShown()},this.fnOpen=function(o,s,u){return this.api(!0).row(o).child(s,u).show().child()[0]},this.fnPageChange=function(o,s){var u=this.api(!0).page(o);(s===void 0||s)&&u.draw(!1)},this.fnSetColumnVis=function(o,s,u){var c=this.api(!0).column(o).visible(s);(u===void 0||u)&&c.columns.adjust().draw()},this.fnSettings=function(){return Hg(this[ar.iApiIndex])},this.fnSort=function(o){this.api(!0).order(o).draw()},this.fnSortListener=function(o,s,u){this.api(!0).order.listener(o,s,u)},this.fnUpdate=function(o,s,u,c,l){var _=this.api(!0);return u==null?_.row(s).data(o):_.cell(s,u).data(o),(l===void 0||l)&&_.columns.adjust(),(c===void 0||c)&&_.draw(),0},this.fnVersionCheck=ar.fnVersionCheck;var t=this,i=e===void 0,r=this.length;i&&(e={}),this.oApi=this.internal=ar.internal;for(var a in Bt.ext.internal)a&&(this[a]=t1(a));return this.each(function(){var o={},s=r>1?Vb(o,e,!0):e,u=0,c,l=this.getAttribute("id"),_=!1,I=Bt.defaults,M=Ee(this);if(this.nodeName.toLowerCase()!="table"){ls(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}TS(I),yT(I.column),Mo(I,I,!0),Mo(I.column,I.column,!0),Mo(I,Ee.extend(s,M.data()),!0);var P=Bt.settings;for(u=0,c=P.length;u<c;u++){var N=P[u];if(N.nTable==this||N.nTHead&&N.nTHead.parentNode==this||N.nTFoot&&N.nTFoot.parentNode==this){var b=s.bRetrieve!==void 0?s.bRetrieve:I.bRetrieve,f=s.bDestroy!==void 0?s.bDestroy:I.bDestroy;if(i||b)return N.oInstance;if(f){N.oInstance.fnDestroy();break}else{ls(N,0,"Cannot reinitialise DataTable",3);return}}if(N.sTableId==this.id){P.splice(u,1);break}}(l===null||l==="")&&(l="DataTables_Table_"+Bt.ext._unique++,this.id=l);var v=Ee.extend(!0,{},Bt.models.oSettings,{sDestroyWidth:M[0].style.width,sInstance:l,sTableId:l});v.nTable=this,v.oApi=t.internal,v.oInit=s,P.push(v),v.oInstance=t.length===1?t:M.dataTable(),TS(s),Wb(s.oLanguage),s.aLengthMenu&&!s.iDisplayLength&&(s.iDisplayLength=Array.isArray(s.aLengthMenu[0])?s.aLengthMenu[0][0]:s.aLengthMenu[0]),s=Vb(Ee.extend(!0,{},I),s),As(v.oFeatures,s,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),As(v,s,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),As(v.oScroll,s,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),As(v.oLanguage,s,"fnInfoCallback"),Jr(v,"aoDrawCallback",s.fnDrawCallback,"user"),Jr(v,"aoServerParams",s.fnServerParams,"user"),Jr(v,"aoStateSaveParams",s.fnStateSaveParams,"user"),Jr(v,"aoStateLoadParams",s.fnStateLoadParams,"user"),Jr(v,"aoStateLoaded",s.fnStateLoaded,"user"),Jr(v,"aoRowCallback",s.fnRowCallback,"user"),Jr(v,"aoRowCreatedCallback",s.fnCreatedRow,"user"),Jr(v,"aoHeaderCallback",s.fnHeaderCallback,"user"),Jr(v,"aoFooterCallback",s.fnFooterCallback,"user"),Jr(v,"aoInitComplete",s.fnInitComplete,"user"),Jr(v,"aoPreDrawCallback",s.fnPreDrawCallback,"user"),v.rowIdFn=vh(s.rowId),bT(v);var m=v.oClasses;if(Ee.extend(m,Bt.ext.classes,s.oClasses),M.addClass(m.sTable),v.iInitDisplayStart===void 0&&(v.iInitDisplayStart=s.iDisplayStart,v._iDisplayStart=s.iDisplayStart),s.iDeferLoading!==null){v.bDeferLoading=!0;var d=Array.isArray(s.iDeferLoading);v._iRecordsDisplay=d?s.iDeferLoading[0]:s.iDeferLoading,v._iRecordsTotal=d?s.iDeferLoading[1]:s.iDeferLoading}var g=v.oLanguage;Ee.extend(!0,g,s.oLanguage),g.sUrl?(Ee.ajax({dataType:"json",url:g.sUrl,success:function(X){Mo(I.oLanguage,X),Wb(X),Ee.extend(!0,g,X,v.oInit.oLanguage),pi(v,null,"i18n",[v]),Hf(v)},error:function(){Hf(v)}}),_=!0):pi(v,null,"i18n",[v]),s.asStripeClasses===null&&(v.asStripeClasses=[m.sStripeOdd,m.sStripeEven]);var h=v.asStripeClasses,C=M.children("tbody").find("tr").eq(0);Ee.inArray(!0,Ee.map(h,function(X,ee){return C.hasClass(X)}))!==-1&&(Ee("tbody tr",this).removeClass(h.join(" ")),v.asDestroyStripes=h.slice());var D=[],S,k=this.getElementsByTagName("thead");if(k.length!==0&&(Zf(v.aoHeader,k[0]),D=Tv(v)),s.aoColumns===null)for(S=[],u=0,c=D.length;u<c;u++)S.push(null);else S=s.aoColumns;for(u=0,c=S.length;u<c;u++)U0(v,D?D[u]:null);if(wT(v,s.aoColumnDefs,S,function(X,ee){Fg(v,X,ee)}),C.length){var L=function(X,ee){return X.getAttribute("data-"+ee)!==null?ee:null};Ee(C[0]).children("th, td").each(function(X,ee){var ce=v.aoColumns[X];if(ce||ls(v,0,"Incorrect column count",18),ce.mData===X){var le=L(ee,"sort")||L(ee,"order"),me=L(ee,"filter")||L(ee,"search");(le!==null||me!==null)&&(ce.mData={_:X+".display",sort:le!==null?X+".@data-"+le:void 0,type:le!==null?X+".@data-"+le:void 0,filter:me!==null?X+".@data-"+me:void 0},Fg(v,X))}})}var B=v.oFeatures,z=function(){if(s.aaSorting===void 0){var X=v.aaSorting;for(u=0,c=X.length;u<c;u++)X[u][1]=v.aoColumns[u].asSorting[0]}Bg(v),B.bSort&&Jr(v,"aoDrawCallback",function(){if(v.bSorted){var je=Ph(v),Pe={};Ee.each(je,function(it,Te){Pe[Te.src]=Te.dir}),pi(v,null,"order",[v,je,Pe]),UT(v)}}),Jr(v,"aoDrawCallback",function(){(v.bSorted||Ur(v)==="ssp"||B.bDeferRender)&&Bg(v)},"sc");var ee=M.children("caption").each(function(){this._captionSide=Ee(this).css("caption-side")}),ce=M.children("thead");ce.length===0&&(ce=Ee("<thead/>").appendTo(M)),v.nTHead=ce[0];var le=M.children("tbody");le.length===0&&(le=Ee("<tbody/>").insertAfter(ce)),v.nTBody=le[0];var me=M.children("tfoot");if(me.length===0&&ee.length>0&&(v.oScroll.sX!==""||v.oScroll.sY!=="")&&(me=Ee("<tfoot/>").appendTo(M)),me.length===0||me.children().length===0?M.addClass(m.sNoFooter):me.length>0&&(v.nTFoot=me[0],Zf(v.aoFooter,v.nTFoot)),s.aaData)for(u=0;u<s.aaData.length;u++)Hl(v,s.aaData[u]);else(v.bDeferLoading||Ur(v)=="dom")&&xv(v,Ee(v.nTBody).children("tr"));v.aiDisplay=v.aiDisplayMaster.slice(),v.bInitialised=!0,_===!1&&Hf(v)};Jr(v,"aoDrawCallback",md,"state_save"),s.bStateSave?(B.bStateSave=!0,GT(v,s,z)):z()}),t=null,this},ar,ni,Tn,Ai,Hy={},xS=/[\r\n\u2028]/g,Ng=/<.*?>/g,MN=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,ON=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),Hb=/['\u00A0,$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfkɃΞ]/gi,so=function(n){return!n||n===!0||n==="-"},dT=function(n){var e=parseInt(n,10);return!isNaN(e)&&isFinite(n)?e:null},pT=function(n,e){return Hy[e]||(Hy[e]=new RegExp(Z0(e),"g")),typeof n=="string"&&e!=="."?n.replace(/\./g,"").replace(Hy[e],"."):n},zb=function(n,e,t){var i=typeof n=="string";return so(n)?!0:(e&&i&&(n=pT(n,e)),t&&i&&(n=n.replace(Hb,"")),!isNaN(parseFloat(n))&&isFinite(n))},kN=function(n){return so(n)||typeof n=="string"},ES=function(n,e,t){if(so(n))return!0;var i=kN(n);return i&&zb(PN(n),e,t)?!0:null},za=function(n,e,t){var i=[],r=0,a=n.length;if(t!==void 0)for(;r<a;r++)n[r]&&n[r][e]&&i.push(n[r][e][t]);else for(;r<a;r++)n[r]&&i.push(n[r][e]);return i},cd=function(n,e,t,i){var r=[],a=0,o=e.length;if(i!==void 0)for(;a<o;a++)n[e[a]][t]&&r.push(n[e[a]][t][i]);else for(;a<o;a++)r.push(n[e[a]][t]);return r},qu=function(n,e){var t=[],i;e===void 0?(e=0,i=n):(i=e,e=n);for(var r=e;r<i;r++)t.push(r);return t},gT=function(n){for(var e=[],t=0,i=n.length;t<i;t++)n[t]&&e.push(n[t]);return e},PN=function(n){return n.replace(Ng,"")},LN=function(n){if(n.length<2)return!0;for(var e=n.slice().sort(),t=e[0],i=1,r=e.length;i<r;i++){if(e[i]===t)return!1;t=e[i]}return!0},Sv=function(n){if(LN(n))return n.slice();var e=[],t,i,r=n.length,a,o=0;e:for(i=0;i<r;i++){for(t=n[i],a=0;a<o;a++)if(e[a]===t)continue e;e.push(t),o++}return e},vT=function(n,e){if(Array.isArray(e))for(var t=0;t<e.length;t++)vT(n,e[t]);else n.push(e);return n},mT=function(n,e){return e===void 0&&(e=0),this.indexOf(n,e)!==-1};Array.isArray||(Array.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"});Array.prototype.includes||(Array.prototype.includes=mT);String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});String.prototype.includes||(String.prototype.includes=mT);Bt.util={throttle:function(n,e){var t=e!==void 0?e:200,i,r;return function(){var a=this,o=+new Date,s=arguments;i&&o<i+t?(clearTimeout(r),r=setTimeout(function(){i=void 0,n.apply(a,s)},t)):(i=o,n.apply(a,s))}},escapeRegex:function(n){return n.replace(ON,"\\$1")},set:function(n){if(Ee.isPlainObject(n))return Bt.util.set(n._);if(n===null)return function(){};if(typeof n=="function")return function(t,i,r){n(t,"set",i,r)};if(typeof n=="string"&&(n.indexOf(".")!==-1||n.indexOf("[")!==-1||n.indexOf("(")!==-1)){var e=function(t,i,r){for(var a=Ub(r),o,s=a[a.length-1],u,c,l,_,I=0,M=a.length-1;I<M;I++){if(a[I]==="__proto__"||a[I]==="constructor")throw new Error("Cannot set prototype values");if(u=a[I].match(xf),c=a[I].match(Pu),u){if(a[I]=a[I].replace(xf,""),t[a[I]]=[],o=a.slice(),o.splice(0,I+1),_=o.join("."),Array.isArray(i))for(var P=0,N=i.length;P<N;P++)l={},e(l,i[P],_),t[a[I]].push(l);else t[a[I]]=i;return}else c&&(a[I]=a[I].replace(Pu,""),t=t[a[I]](i));(t[a[I]]===null||t[a[I]]===void 0)&&(t[a[I]]={}),t=t[a[I]]}s.match(Pu)?t=t[s.replace(Pu,"")](i):t[s.replace(xf,"")]=i};return function(t,i){return e(t,i,n)}}else return function(t,i){t[n]=i}},get:function(n){if(Ee.isPlainObject(n)){var e={};return Ee.each(n,function(i,r){r&&(e[i]=Bt.util.get(r))}),function(i,r,a,o){var s=e[r]||e._;return s!==void 0?s(i,r,a,o):i}}else{if(n===null)return function(i){return i};if(typeof n=="function")return function(i,r,a,o){return n(i,r,a,o)};if(typeof n=="string"&&(n.indexOf(".")!==-1||n.indexOf("[")!==-1||n.indexOf("(")!==-1)){var t=function(i,r,a){var o,s,u,c;if(a!=="")for(var l=Ub(a),_=0,I=l.length;_<I;_++){if(o=l[_].match(xf),s=l[_].match(Pu),o){if(l[_]=l[_].replace(xf,""),l[_]!==""&&(i=i[l[_]]),u=[],l.splice(0,_+1),c=l.join("."),Array.isArray(i))for(var M=0,P=i.length;M<P;M++)u.push(t(i[M],r,c));var N=o[0].substring(1,o[0].length-1);i=N===""?u:u.join(N);break}else if(s){l[_]=l[_].replace(Pu,""),i=i[l[_]]();continue}if(i===null||i[l[_]]===void 0)return;i=i[l[_]]}return i};return function(i,r){return t(i,r,n)}}else return function(i,r){return i[n]}}}};function ud(n){var e="a aa ai ao as b fn i m o s ",t,i,r={};Ee.each(n,function(a,o){t=a.match(/^([^A-Z]+?)([A-Z])/),t&&e.indexOf(t[1]+" ")!==-1&&(i=a.replace(t[0],t[2].toLowerCase()),r[i]=a,t[1]==="o"&&ud(n[a]))}),n._hungarianMap=r}function Mo(n,e,t){n._hungarianMap||ud(n);var i;Ee.each(e,function(r,a){i=n._hungarianMap[r],i!==void 0&&(t||e[i]===void 0)&&(i.charAt(0)==="o"?(e[i]||(e[i]={}),Ee.extend(!0,e[i],e[r]),Mo(n[i],e[i],t)):e[i]=e[r])})}function Wb(n){var e=Bt.defaults.oLanguage,t=e.sDecimal;if(t&&Xb(t),n){var i=n.sZeroRecords;!n.sEmptyTable&&i&&e.sEmptyTable==="No data available in table"&&As(n,n,"sZeroRecords","sEmptyTable"),!n.sLoadingRecords&&i&&e.sLoadingRecords==="Loading..."&&As(n,n,"sZeroRecords","sLoadingRecords"),n.sInfoThousands&&(n.sThousands=n.sInfoThousands);var r=n.sDecimal;r&&t!==r&&Xb(r)}}var da=function(n,e,t){n[e]!==void 0&&(n[t]=n[e])};function TS(n){da(n,"ordering","bSort"),da(n,"orderMulti","bSortMulti"),da(n,"orderClasses","bSortClasses"),da(n,"orderCellsTop","bSortCellsTop"),da(n,"order","aaSorting"),da(n,"orderFixed","aaSortingFixed"),da(n,"paging","bPaginate"),da(n,"pagingType","sPaginationType"),da(n,"pageLength","iDisplayLength"),da(n,"searching","bFilter"),typeof n.sScrollX=="boolean"&&(n.sScrollX=n.sScrollX?"100%":""),typeof n.scrollX=="boolean"&&(n.scrollX=n.scrollX?"100%":"");var e=n.aoSearchCols;if(e)for(var t=0,i=e.length;t<i;t++)e[t]&&Mo(Bt.models.oSearch,e[t])}function yT(n){da(n,"orderable","bSortable"),da(n,"orderData","aDataSort"),da(n,"orderSequence","asSorting"),da(n,"orderDataType","sortDataType");var e=n.aDataSort;typeof e=="number"&&!Array.isArray(e)&&(n.aDataSort=[e])}function bT(n){if(!Bt.__browser){var e={};Bt.__browser=e;var t=Ee("<div/>").css({position:"fixed",top:0,left:Ee(window).scrollLeft()*-1,height:1,width:1,overflow:"hidden"}).append(Ee("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(Ee("<div/>").css({width:"100%",height:10}))).appendTo("body"),i=t.children(),r=i.children();e.barWidth=i[0].offsetWidth-i[0].clientWidth,e.bScrollOversize=r[0].offsetWidth===100&&i[0].clientWidth!==100,e.bScrollbarLeft=Math.round(r.offset().left)!==1,e.bBounding=!!t[0].getBoundingClientRect().width,t.remove()}Ee.extend(n.oBrowser,Bt.__browser),n.oScroll.iBarWidth=Bt.__browser.barWidth}function IS(n,e,t,i,r,a){var o=i,s,u=!1;for(t!==void 0&&(s=t,u=!0);o!==r;)!n.hasOwnProperty(o)||(s=u?e(s,n[o],o,n):n[o],u=!0,o+=a);return s}function U0(n,e){var t=Bt.defaults.column,i=n.aoColumns.length,r=Ee.extend({},Bt.models.oColumn,t,{nTh:e||document.createElement("th"),sTitle:t.sTitle?t.sTitle:e?e.innerHTML:"",aDataSort:t.aDataSort?t.aDataSort:[i],mData:t.mData?t.mData:i,idx:i});n.aoColumns.push(r);var a=n.aoPreSearchCols;a[i]=Ee.extend({},Bt.models.oSearch,a[i]),Fg(n,i,Ee(e).data())}function Fg(n,e,t){var i=n.aoColumns[e],r=n.oClasses,a=Ee(i.nTh);if(!i.sWidthOrig){i.sWidthOrig=a.attr("width")||null;var o=(a.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);o&&(i.sWidthOrig=o[1])}if(t!=null){yT(t),Mo(Bt.defaults.column,t,!0),t.mDataProp!==void 0&&!t.mData&&(t.mData=t.mDataProp),t.sType&&(i._sManualType=t.sType),t.className&&!t.sClass&&(t.sClass=t.className),t.sClass&&a.addClass(t.sClass);var s=i.sClass;Ee.extend(i,t),As(i,t,"sWidth","sWidthOrig"),s!==i.sClass&&(i.sClass=s+" "+i.sClass),t.iDataSort!==void 0&&(i.aDataSort=[t.iDataSort]),As(i,t,"aDataSort")}var u=i.mData,c=vh(u),l=i.mRender?vh(i.mRender):null,_=function(P){return typeof P=="string"&&P.indexOf("@")!==-1};i._bAttrSrc=Ee.isPlainObject(u)&&(_(u.sort)||_(u.type)||_(u.filter)),i._setter=null,i.fnGetData=function(P,N,b){var f=c(P,N,void 0,b);return l&&N?l(f,N,P,b):f},i.fnSetData=function(P,N,b){return wl(u)(P,N,b)},typeof u!="number"&&(n._rowReadObject=!0),n.oFeatures.bSort||(i.bSortable=!1,a.addClass(r.sSortableNone));var I=Ee.inArray("asc",i.asSorting)!==-1,M=Ee.inArray("desc",i.asSorting)!==-1;!i.bSortable||!I&&!M?(i.sSortingClass=r.sSortableNone,i.sSortingClassJUI=""):I&&!M?(i.sSortingClass=r.sSortableAsc,i.sSortingClassJUI=r.sSortJUIAscAllowed):!I&&M?(i.sSortingClass=r.sSortableDesc,i.sSortingClassJUI=r.sSortJUIDescAllowed):(i.sSortingClass=r.sSortable,i.sSortingClassJUI=r.sSortJUI)}function hd(n){if(n.oFeatures.bAutoWidth!==!1){var e=n.aoColumns;K0(n);for(var t=0,i=e.length;t<i;t++)e[t].nTh.style.width=e[t].sWidth}var r=n.oScroll;(r.sY!==""||r.sX!=="")&&Av(n),pi(n,null,"column-sizing",[n])}function fd(n,e){var t=_v(n,"bVisible");return typeof t[e]=="number"?t[e]:null}function dd(n,e){var t=_v(n,"bVisible"),i=Ee.inArray(e,t);return i!==-1?i:null}function kh(n){var e=0;return Ee.each(n.aoColumns,function(t,i){i.bVisible&&Ee(i.nTh).css("display")!=="none"&&e++}),e}function _v(n,e){var t=[];return Ee.map(n.aoColumns,function(i,r){i[e]&&t.push(r)}),t}function Y0(n){var e=n.aoColumns,t=n.aoData,i=Bt.ext.type.detect,r,a,o,s,u,c,l,_,I;for(r=0,a=e.length;r<a;r++)if(l=e[r],I=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(o=0,s=i.length;o<s;o++){for(u=0,c=t.length;u<c&&(I[u]===void 0&&(I[u]=ba(n,u,r,"type")),_=i[o](I[u],n),!(!_&&o!==i.length-1||_==="html"&&!so(I[u])));u++);if(_){l.sType=_;break}}l.sType||(l.sType="string")}}function wT(n,e,t,i){var r,a,o,s,u,c,l,_=n.aoColumns;if(e)for(r=e.length-1;r>=0;r--){l=e[r];var I=l.target!==void 0?l.target:l.targets!==void 0?l.targets:l.aTargets;for(Array.isArray(I)||(I=[I]),o=0,s=I.length;o<s;o++)if(typeof I[o]=="number"&&I[o]>=0){for(;_.length<=I[o];)U0(n);i(I[o],l)}else if(typeof I[o]=="number"&&I[o]<0)i(_.length+I[o],l);else if(typeof I[o]=="string")for(u=0,c=_.length;u<c;u++)(I[o]=="_all"||Ee(_[u].nTh).hasClass(I[o]))&&i(u,l)}if(t)for(r=0,a=t.length;r<a;r++)i(r,t[r])}function Hl(n,e,t,i){var r=n.aoData.length,a=Ee.extend(!0,{},Bt.models.oRow,{src:t?"dom":"data",idx:r});a._aData=e,n.aoData.push(a);for(var o=n.aoColumns,s=0,u=o.length;s<u;s++)o[s].sType=null;n.aiDisplayMaster.push(r);var c=n.rowIdFn(e);return c!==void 0&&(n.aIds[c]=a),(t||!n.oFeatures.bDeferRender)&&$0(n,r,t,i),r}function xv(n,e){var t;return e instanceof Ee||(e=Ee(e)),e.map(function(i,r){return t=G0(n,r),Hl(n,t.data,r,t.cells)})}function RN(n,e){return e._DT_RowIndex!==void 0?e._DT_RowIndex:null}function NN(n,e,t){return Ee.inArray(t,n.aoData[e].anCells)}function ba(n,e,t,i){i==="search"?i="filter":i==="order"&&(i="sort");var r=n.iDraw,a=n.aoColumns[t],o=n.aoData[e]._aData,s=a.sDefaultContent,u=a.fnGetData(o,i,{settings:n,row:e,col:t});if(u===void 0)return n.iDrawError!=r&&s===null&&(ls(n,0,"Requested unknown parameter "+(typeof a.mData=="function"?"{function}":"'"+a.mData+"'")+" for row "+e+", column "+t,4),n.iDrawError=r),s;if((u===o||u===null)&&s!==null&&i!==void 0)u=s;else if(typeof u=="function")return u.call(o);if(u===null&&i==="display")return"";if(i==="filter"){var c=Bt.ext.type.search;c[a.sType]&&(u=c[a.sType](u))}return u}function CT(n,e,t,i){var r=n.aoColumns[t],a=n.aoData[e]._aData;r.fnSetData(a,i,{settings:n,row:e,col:t})}var xf=/\[.*?\]$/,Pu=/\(\)$/;function Ub(n){return Ee.map(n.match(/(\\.|[^\.])+/g)||[""],function(e){return e.replace(/\\\./g,".")})}var vh=Bt.util.get,wl=Bt.util.set;function Yb(n){return za(n.aoData,"_aData")}function Ev(n){n.aoData.length=0,n.aiDisplayMaster.length=0,n.aiDisplay.length=0,n.aIds={}}function bg(n,e,t){for(var i=-1,r=0,a=n.length;r<a;r++)n[r]==e?i=r:n[r]>e&&n[r]--;i!=-1&&t===void 0&&n.splice(i,1)}function pd(n,e,t,i){var r=n.aoData[e],a,o,s=function(l,_){for(;l.childNodes.length;)l.removeChild(l.firstChild);l.innerHTML=ba(n,e,_,"display")};if(t==="dom"||(!t||t==="auto")&&r.src==="dom")r._aData=G0(n,r,i,i===void 0?void 0:r._aData).data;else{var u=r.anCells;if(u)if(i!==void 0)s(u[i],i);else for(a=0,o=u.length;a<o;a++)s(u[a],a)}r._aSortData=null,r._aFilterData=null;var c=n.aoColumns;if(i!==void 0)c[i].sType=null;else{for(a=0,o=c.length;a<o;a++)c[a].sType=null;V0(n,r)}}function G0(n,e,t,i){var r=[],a=e.firstChild,o,s,u=0,c,l=n.aoColumns,_=n._rowReadObject;i=i!==void 0?i:_?{}:[];var I=function(v,m){if(typeof v=="string"){var d=v.indexOf("@");if(d!==-1){var g=v.substring(d+1),h=wl(v);h(i,m.getAttribute(g))}}},M=function(v){if(t===void 0||t===u)if(s=l[u],c=v.innerHTML.trim(),s&&s._bAttrSrc){var m=wl(s.mData._);m(i,c),I(s.mData.sort,v),I(s.mData.type,v),I(s.mData.filter,v)}else _?(s._setter||(s._setter=wl(s.mData)),s._setter(i,c)):i[u]=c;u++};if(a)for(;a;)o=a.nodeName.toUpperCase(),(o=="TD"||o=="TH")&&(M(a),r.push(a)),a=a.nextSibling;else{r=e.anCells;for(var P=0,N=r.length;P<N;P++)M(r[P])}var b=e.firstChild?e:e.nTr;if(b){var f=b.getAttribute("id");f&&wl(n.rowId)(i,f)}return{data:i,cells:r}}function $0(n,e,t,i){var r=n.aoData[e],a=r._aData,o=[],s,u,c,l,_,I;if(r.nTr===null){for(s=t||document.createElement("tr"),r.nTr=s,r.anCells=o,s._DT_RowIndex=e,V0(n,r),l=0,_=n.aoColumns.length;l<_;l++)c=n.aoColumns[l],I=!t,u=I?document.createElement(c.sCellType):i[l],u||ls(n,0,"Incorrect column count",18),u._DT_CellIndex={row:e,column:l},o.push(u),(I||(c.mRender||c.mData!==l)&&(!Ee.isPlainObject(c.mData)||c.mData._!==l+".display"))&&(u.innerHTML=ba(n,e,l,"display")),c.sClass&&(u.className+=" "+c.sClass),c.bVisible&&!t?s.appendChild(u):!c.bVisible&&t&&u.parentNode.removeChild(u),c.fnCreatedCell&&c.fnCreatedCell.call(n.oInstance,u,ba(n,e,l),a,e,l);pi(n,"aoRowCreatedCallback",null,[s,a,e,o])}}function V0(n,e){var t=e.nTr,i=e._aData;if(t){var r=n.rowIdFn(i);if(r&&(t.id=r),i.DT_RowClass){var a=i.DT_RowClass.split(" ");e.__rowc=e.__rowc?Sv(e.__rowc.concat(a)):a,Ee(t).removeClass(e.__rowc.join(" ")).addClass(i.DT_RowClass)}i.DT_RowAttr&&Ee(t).attr(i.DT_RowAttr),i.DT_RowData&&Ee(t).data(i.DT_RowData)}}function ST(n){var e,t,i,r,a,o=n.nTHead,s=n.nTFoot,u=Ee("th, td",o).length===0,c=n.oClasses,l=n.aoColumns;for(u&&(r=Ee("<tr/>").appendTo(o)),e=0,t=l.length;e<t;e++)a=l[e],i=Ee(a.nTh).addClass(a.sClass),u&&i.appendTo(r),n.oFeatures.bSort&&(i.addClass(a.sSortingClass),a.bSortable!==!1&&(i.attr("tabindex",n.iTabIndex).attr("aria-controls",n.sTableId),q0(n,a.nTh,e))),a.sTitle!=i[0].innerHTML&&i.html(a.sTitle),nw(n,"header")(n,i,a,c);if(u&&Zf(n.aoHeader,o),Ee(o).children("tr").children("th, td").addClass(c.sHeaderTH),Ee(s).children("tr").children("th, td").addClass(c.sFooterTH),s!==null){var _=n.aoFooter[0];for(e=0,t=_.length;e<t;e++)a=l[e],a?(a.nTf=_[e].cell,a.sClass&&Ee(a.nTf).addClass(a.sClass)):ls(n,0,"Incorrect column count",18)}}function Xf(n,e,t){var i,r,a,o,s,u,c,l=[],_=[],I=n.aoColumns.length,M,P;if(!!e){for(t===void 0&&(t=!1),i=0,r=e.length;i<r;i++){for(l[i]=e[i].slice(),l[i].nTr=e[i].nTr,a=I-1;a>=0;a--)!n.aoColumns[a].bVisible&&!t&&l[i].splice(a,1);_.push([])}for(i=0,r=l.length;i<r;i++){if(c=l[i].nTr,c)for(;u=c.firstChild;)c.removeChild(u);for(a=0,o=l[i].length;a<o;a++)if(M=1,P=1,_[i][a]===void 0){for(c.appendChild(l[i][a].cell),_[i][a]=1;l[i+M]!==void 0&&l[i][a].cell==l[i+M][a].cell;)_[i+M][a]=1,M++;for(;l[i][a+P]!==void 0&&l[i][a].cell==l[i][a+P].cell;){for(s=0;s<M;s++)_[i+s][a+P]=1;P++}Ee(l[i][a].cell).attr("rowspan",M).attr("colspan",P)}}}}function zl(n,e){FN(n);var t=pi(n,"aoPreDrawCallback","preDraw",[n]);if(Ee.inArray(!1,t)!==-1){Fa(n,!1);return}var i=[],r=0,a=n.asStripeClasses,o=a.length,s=n.oLanguage,u=Ur(n)=="ssp",c=n.aiDisplay,l=n._iDisplayStart,_=n.fnDisplayEnd();if(n.bDrawing=!0,n.bDeferLoading)n.bDeferLoading=!1,n.iDraw++,Fa(n,!1);else if(!u)n.iDraw++;else if(!n.bDestroying&&!e){xT(n);return}if(c.length!==0)for(var I=u?0:l,M=u?n.aoData.length:_,P=I;P<M;P++){var N=c[P],b=n.aoData[N];b.nTr===null&&$0(n,N);var f=b.nTr;if(o!==0){var v=a[r%o];b._sRowStripe!=v&&(Ee(f).removeClass(b._sRowStripe).addClass(v),b._sRowStripe=v)}pi(n,"aoRowCallback",null,[f,b._aData,r,P,N]),i.push(f),r++}else{var m=s.sZeroRecords;n.iDraw==1&&Ur(n)=="ajax"?m=s.sLoadingRecords:s.sEmptyTable&&n.fnRecordsTotal()===0&&(m=s.sEmptyTable),i[0]=Ee("<tr/>",{class:o?a[0]:""}).append(Ee("<td />",{valign:"top",colSpan:kh(n),class:n.oClasses.sRowEmpty}).html(m))[0]}pi(n,"aoHeaderCallback","header",[Ee(n.nTHead).children("tr")[0],Yb(n),l,_,c]),pi(n,"aoFooterCallback","footer",[Ee(n.nTFoot).children("tr")[0],Yb(n),l,_,c]);var d=Ee(n.nTBody);d.children().detach(),d.append(Ee(i)),pi(n,"aoDrawCallback","draw",[n]),n.bSorted=!1,n.bFiltered=!1,n.bDrawing=!1}function kc(n,e){var t=n.oFeatures,i=t.bSort,r=t.bFilter;i&&WT(n),r?vd(n,n.oPreviousSearch):n.aiDisplay=n.aiDisplayMaster.slice(),e!==!0&&(n._iDisplayStart=0),n._drawHold=e,zl(n),n._drawHold=!1}function _T(n){var e=n.oClasses,t=Ee(n.nTable),i=Ee("<div/>").insertBefore(t),r=n.oFeatures,a=Ee("<div/>",{id:n.sTableId+"_wrapper",class:e.sWrapper+(n.nTFoot?"":" "+e.sNoFooter)});n.nHolding=i[0],n.nTableWrapper=a[0],n.nTableReinsertBefore=n.nTable.nextSibling;for(var o=n.sDom.split(""),s,u,c,l,_,I,M=0;M<o.length;M++){if(s=null,u=o[M],u=="<"){if(c=Ee("<div/>")[0],l=o[M+1],l=="'"||l=='"'){for(_="",I=2;o[M+I]!=l;)_+=o[M+I],I++;if(_=="H"?_=e.sJUIHeader:_=="F"&&(_=e.sJUIFooter),_.indexOf(".")!=-1){var P=_.split(".");c.id=P[0].substr(1,P[0].length-1),c.className=P[1]}else _.charAt(0)=="#"?c.id=_.substr(1,_.length-1):c.className=_;M+=I}a.append(c),a=Ee(c)}else if(u==">")a=a.parent();else if(u=="l"&&r.bPaginate&&r.bLengthChange)s=RT(n);else if(u=="f"&&r.bFilter)s=IT(n);else if(u=="r"&&r.bProcessing)s=FT(n);else if(u=="t")s=jT(n);else if(u=="i"&&r.bInfo)s=kT(n);else if(u=="p"&&r.bPaginate)s=NT(n);else if(Bt.ext.feature.length!==0){for(var N=Bt.ext.feature,b=0,f=N.length;b<f;b++)if(u==N[b].cFeature){s=N[b].fnInit(n);break}}if(s){var v=n.aanFeatures;v[u]||(v[u]=[]),v[u].push(s),a.append(s)}}i.replaceWith(a),n.nHolding=null}function Zf(n,e){var t=Ee(e).children("tr"),i,r,a,o,s,u,c,l,_,I,M,P=function(N,b,f){for(var v=N[b];v[f];)f++;return f};for(n.splice(0,n.length),a=0,u=t.length;a<u;a++)n.push([]);for(a=0,u=t.length;a<u;a++)for(i=t[a],l=0,r=i.firstChild;r;){if(r.nodeName.toUpperCase()=="TD"||r.nodeName.toUpperCase()=="TH")for(_=r.getAttribute("colspan")*1,I=r.getAttribute("rowspan")*1,_=!_||_===0||_===1?1:_,I=!I||I===0||I===1?1:I,c=P(n,a,l),M=_===1,s=0;s<_;s++)for(o=0;o<I;o++)n[a+o][c+s]={cell:r,unique:M},n[a+o].nTr=i;r=r.nextSibling}}function Tv(n,e,t){var i=[];t||(t=n.aoHeader,e&&(t=[],Zf(t,e)));for(var r=0,a=t.length;r<a;r++)for(var o=0,s=t[r].length;o<s;o++)t[r][o].unique&&(!i[o]||!n.bSortCellsTop)&&(i[o]=t[r][o].cell);return i}function FN(n){var e=Ur(n)=="ssp",t=n.iInitDisplayStart;t!==void 0&&t!==-1&&(n._iDisplayStart=e?t:t>=n.fnRecordsDisplay()?0:t,n.iInitDisplayStart=-1)}function Iv(n,e,t){if(pi(n,"aoServerParams","serverParams",[e]),e&&Array.isArray(e)){var i={},r=/(.*?)\[\]$/;Ee.each(e,function(_,I){var M=I.name.match(r);if(M){var P=M[0];i[P]||(i[P]=[]),i[P].push(I.value)}else i[I.name]=I.value}),e=i}var a,o=n.ajax,s=n.oInstance,u=function(_){var I=n.jqXHR?n.jqXHR.status:null;(_===null||typeof I=="number"&&I==204)&&(_={},gd(n,_,[]));var M=_.error||_.sError;M&&ls(n,0,M),n.json=_,pi(n,null,"xhr",[n,_,n.jqXHR]),t(_)};if(Ee.isPlainObject(o)&&o.data){a=o.data;var c=typeof a=="function"?a(e,n):a;e=typeof a=="function"&&c?c:Ee.extend(!0,e,c),delete o.data}var l={data:e,success:u,dataType:"json",cache:!1,type:n.sServerMethod,error:function(_,I,M){var P=pi(n,null,"xhr",[n,null,n.jqXHR]);Ee.inArray(!0,P)===-1&&(I=="parsererror"?ls(n,0,"Invalid JSON response",1):_.readyState===4&&ls(n,0,"Ajax error",7)),Fa(n,!1)}};n.oAjaxData=e,pi(n,null,"preXhr",[n,e]),n.fnServerData?n.fnServerData.call(s,n.sAjaxSource,Ee.map(e,function(_,I){return{name:I,value:_}}),u,n):n.sAjaxSource||typeof o=="string"?n.jqXHR=Ee.ajax(Ee.extend(l,{url:o||n.sAjaxSource})):typeof o=="function"?n.jqXHR=o.call(s,e,u,n):(n.jqXHR=Ee.ajax(Ee.extend(l,o)),o.data=a)}function xT(n){n.iDraw++,Fa(n,!0),Iv(n,ET(n),function(e){TT(n,e)})}function ET(n){var e=n.aoColumns,t=e.length,i=n.oFeatures,r=n.oPreviousSearch,a=n.aoPreSearchCols,o,s=[],u,c,l,_=Ph(n),I=n._iDisplayStart,M=i.bPaginate!==!1?n._iDisplayLength:-1,P=function(f,v){s.push({name:f,value:v})};P("sEcho",n.iDraw),P("iColumns",t),P("sColumns",za(e,"sName").join(",")),P("iDisplayStart",I),P("iDisplayLength",M);var N={draw:n.iDraw,columns:[],order:[],start:I,length:M,search:{value:r.sSearch,regex:r.bRegex}};for(o=0;o<t;o++)c=e[o],l=a[o],u=typeof c.mData=="function"?"function":c.mData,N.columns.push({data:u,name:c.sName,searchable:c.bSearchable,orderable:c.bSortable,search:{value:l.sSearch,regex:l.bRegex}}),P("mDataProp_"+o,u),i.bFilter&&(P("sSearch_"+o,l.sSearch),P("bRegex_"+o,l.bRegex),P("bSearchable_"+o,c.bSearchable)),i.bSort&&P("bSortable_"+o,c.bSortable);i.bFilter&&(P("sSearch",r.sSearch),P("bRegex",r.bRegex)),i.bSort&&(Ee.each(_,function(f,v){N.order.push({column:v.col,dir:v.dir}),P("iSortCol_"+f,v.col),P("sSortDir_"+f,v.dir)}),P("iSortingCols",_.length));var b=Bt.ext.legacy.ajax;return b===null?n.sAjaxSource?s:N:b?s:N}function TT(n,e){var t=function(c,l){return e[c]!==void 0?e[c]:e[l]},i=gd(n,e),r=t("sEcho","draw"),a=t("iTotalRecords","recordsTotal"),o=t("iTotalDisplayRecords","recordsFiltered");if(r!==void 0){if(r*1<n.iDraw)return;n.iDraw=r*1}i||(i=[]),Ev(n),n._iRecordsTotal=parseInt(a,10),n._iRecordsDisplay=parseInt(o,10);for(var s=0,u=i.length;s<u;s++)Hl(n,i[s]);n.aiDisplay=n.aiDisplayMaster.slice(),zl(n,!0),n._bInitComplete||jg(n,e),Fa(n,!1)}function gd(n,e,t){var i=Ee.isPlainObject(n.ajax)&&n.ajax.dataSrc!==void 0?n.ajax.dataSrc:n.sAjaxDataProp;if(!t)return i==="data"?e.aaData||e[i]:i!==""?vh(i)(e):e;wl(i)(e,t)}function IT(n){var e=n.oClasses,t=n.sTableId,i=n.oLanguage,r=n.oPreviousSearch,a=n.aanFeatures,o='<input type="search" class="'+e.sFilterInput+'"/>',s=i.sSearch;s=s.match(/_INPUT_/)?s.replace("_INPUT_",o):s+o;var u=Ee("<div/>",{id:a.f?null:t+"_filter",class:e.sFilter}).append(Ee("<label/>").append(s)),c=function(I){a.f;var M=this.value?this.value:"";r.return&&I.key!=="Enter"||M!=r.sSearch&&(vd(n,{sSearch:M,bRegex:r.bRegex,bSmart:r.bSmart,bCaseInsensitive:r.bCaseInsensitive,return:r.return}),n._iDisplayStart=0,zl(n))},l=n.searchDelay!==null?n.searchDelay:Ur(n)==="ssp"?400:0,_=Ee("input",u).val(r.sSearch).attr("placeholder",i.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",l?Q0(c,l):c).on("mouseup",function(I){setTimeout(function(){c.call(_[0],I)},10)}).on("keypress.DT",function(I){if(I.keyCode==13)return!1}).attr("aria-controls",t);return Ee(n.nTable).on("search.dt.DT",function(I,M){if(n===M)try{_[0]!==document.activeElement&&_.val(r.sSearch)}catch{}}),u[0]}function vd(n,e,t){var i=n.oPreviousSearch,r=n.aoPreSearchCols,a=function(u){i.sSearch=u.sSearch,i.bRegex=u.bRegex,i.bSmart=u.bSmart,i.bCaseInsensitive=u.bCaseInsensitive,i.return=u.return},o=function(u){return u.bEscapeRegex!==void 0?!u.bEscapeRegex:u.bRegex};if(Y0(n),Ur(n)!="ssp"){MT(n,e.sSearch,t,o(e),e.bSmart,e.bCaseInsensitive,e.return),a(e);for(var s=0;s<r.length;s++)AT(n,r[s].sSearch,s,o(r[s]),r[s].bSmart,r[s].bCaseInsensitive);DT(n)}else a(e);n.bFiltered=!0,pi(n,null,"search",[n])}function DT(n){for(var e=Bt.ext.search,t=n.aiDisplay,i,r,a=0,o=e.length;a<o;a++){for(var s=[],u=0,c=t.length;u<c;u++)r=t[u],i=n.aoData[r],e[a](n,i._aFilterData,r,i._aData,u)&&s.push(r);t.length=0,Ee.merge(t,s)}}function AT(n,e,t,i,r,a){if(e!==""){for(var o,s=[],u=n.aiDisplay,c=X0(e,i,r,a),l=0;l<u.length;l++)o=n.aoData[u[l]]._aFilterData[t],c.test(o)&&s.push(u[l]);n.aiDisplay=s}}function MT(n,e,t,i,r,a){var o=X0(e,i,r,a),s=n.oPreviousSearch.sSearch,u=n.aiDisplayMaster,c,l,_,I=[];if(Bt.ext.search.length!==0&&(t=!0),l=OT(n),e.length<=0)n.aiDisplay=u.slice();else{for((l||t||i||s.length>e.length||e.indexOf(s)!==0||n.bSorted)&&(n.aiDisplay=u.slice()),c=n.aiDisplay,_=0;_<c.length;_++)o.test(n.aoData[c[_]]._sFilterRow)&&I.push(c[_]);n.aiDisplay=I}}function X0(n,e,t,i){if(n=e?n:Z0(n),t){var r=Ee.map(n.match(/"[^"]+"|[^ ]+/g)||[""],function(a){if(a.charAt(0)==='"'){var o=a.match(/^"(.*)"$/);a=o?o[1]:a}return a.replace('"',"")});n="^(?=.*?"+r.join(")(?=.*?")+").*$"}return new RegExp(n,i?"i":"")}var Z0=Bt.util.escapeRegex,wg=Ee("<div>")[0],jN=wg.textContent!==void 0;function OT(n){var e=n.aoColumns,t,i,r,a,o,s,u,c,l=!1;for(i=0,a=n.aoData.length;i<a;i++)if(c=n.aoData[i],!c._aFilterData){for(s=[],r=0,o=e.length;r<o;r++)t=e[r],t.bSearchable?(u=ba(n,i,r,"filter"),u===null&&(u=""),typeof u!="string"&&u.toString&&(u=u.toString())):u="",u.indexOf&&u.indexOf("&")!==-1&&(wg.innerHTML=u,u=jN?wg.textContent:wg.innerText),u.replace&&(u=u.replace(/[\r\n\u2028]/g,"")),s.push(u);c._aFilterData=s,c._sFilterRow=s.join("  "),l=!0}return l}function DS(n){return{search:n.sSearch,smart:n.bSmart,regex:n.bRegex,caseInsensitive:n.bCaseInsensitive}}function AS(n){return{sSearch:n.search,bSmart:n.smart,bRegex:n.regex,bCaseInsensitive:n.caseInsensitive}}function kT(n){var e=n.sTableId,t=n.aanFeatures.i,i=Ee("<div/>",{class:n.oClasses.sInfo,id:t?null:e+"_info"});return t||(n.aoDrawCallback.push({fn:PT,sName:"information"}),i.attr("role","status").attr("aria-live","polite"),Ee(n.nTable).attr("aria-describedby",e+"_info")),i[0]}function PT(n){var e=n.aanFeatures.i;if(e.length!==0){var t=n.oLanguage,i=n._iDisplayStart+1,r=n.fnDisplayEnd(),a=n.fnRecordsTotal(),o=n.fnRecordsDisplay(),s=o?t.sInfo:t.sInfoEmpty;o!==a&&(s+=" "+t.sInfoFiltered),s+=t.sInfoPostFix,s=LT(n,s);var u=t.fnInfoCallback;u!==null&&(s=u.call(n.oInstance,n,i,r,a,o,s)),Ee(e).html(s)}}function LT(n,e){var t=n.fnFormatNumber,i=n._iDisplayStart+1,r=n._iDisplayLength,a=n.fnRecordsDisplay(),o=r===-1;return e.replace(/_START_/g,t.call(n,i)).replace(/_END_/g,t.call(n,n.fnDisplayEnd())).replace(/_MAX_/g,t.call(n,n.fnRecordsTotal())).replace(/_TOTAL_/g,t.call(n,a)).replace(/_PAGE_/g,t.call(n,o?1:Math.ceil(i/r))).replace(/_PAGES_/g,t.call(n,o?1:Math.ceil(a/r)))}function Hf(n){var e,t,i=n.iInitDisplayStart,r=n.aoColumns,a,o=n.oFeatures,s=n.bDeferLoading;if(!n.bInitialised){setTimeout(function(){Hf(n)},200);return}for(_T(n),ST(n),Xf(n,n.aoHeader),Xf(n,n.aoFooter),Fa(n,!0),o.bAutoWidth&&K0(n),e=0,t=r.length;e<t;e++)a=r[e],a.sWidth&&(a.nTh.style.width=Ui(a.sWidth));pi(n,null,"preInit",[n]),kc(n);var u=Ur(n);(u!="ssp"||s)&&(u=="ajax"?Iv(n,[],function(c){var l=gd(n,c);for(e=0;e<l.length;e++)Hl(n,l[e]);n.iInitDisplayStart=i,kc(n),Fa(n,!1),jg(n,c)}):(Fa(n,!1),jg(n)))}function jg(n,e){n._bInitComplete=!0,(e||n.oInit.aaData)&&hd(n),pi(n,null,"plugin-init",[n,e]),pi(n,"aoInitComplete","init",[n,e])}function J0(n,e){var t=parseInt(e,10);n._iDisplayLength=t,tw(n),pi(n,null,"length",[n,t])}function RT(n){for(var e=n.oClasses,t=n.sTableId,i=n.aLengthMenu,r=Array.isArray(i[0]),a=r?i[0]:i,o=r?i[1]:i,s=Ee("<select/>",{name:t+"_length","aria-controls":t,class:e.sLengthSelect}),u=0,c=a.length;u<c;u++)s[0][u]=new Option(typeof o[u]=="number"?n.fnFormatNumber(o[u]):o[u],a[u]);var l=Ee("<div><label/></div>").addClass(e.sLength);return n.aanFeatures.l||(l[0].id=t+"_length"),l.children().append(n.oLanguage.sLengthMenu.replace("_MENU_",s[0].outerHTML)),Ee("select",l).val(n._iDisplayLength).on("change.DT",function(_){J0(n,Ee(this).val()),zl(n)}),Ee(n.nTable).on("length.dt.DT",function(_,I,M){n===I&&Ee("select",l).val(M)}),l[0]}function NT(n){var e=n.sPaginationType,t=Bt.ext.pager[e],i=typeof t=="function",r=function(s){zl(s)},a=Ee("<div/>").addClass(n.oClasses.sPaging+e)[0],o=n.aanFeatures;return i||t.fnInit(n,a,r),o.p||(a.id=n.sTableId+"_paginate",n.aoDrawCallback.push({fn:function(s){if(i){var u=s._iDisplayStart,c=s._iDisplayLength,l=s.fnRecordsDisplay(),_=c===-1,I=_?0:Math.ceil(u/c),M=_?1:Math.ceil(l/c),P=t(I,M),N,b;for(N=0,b=o.p.length;N<b;N++)nw(s,"pageButton")(s,o.p[N],N,P,I,M)}else t.fnUpdate(s,r)},sName:"pagination"})),a}function Dv(n,e,t){var i=n._iDisplayStart,r=n._iDisplayLength,a=n.fnRecordsDisplay();a===0||r===-1?i=0:typeof e=="number"?(i=e*r,i>a&&(i=0)):e=="first"?i=0:e=="previous"?(i=r>=0?i-r:0,i<0&&(i=0)):e=="next"?i+r<a&&(i+=r):e=="last"?i=Math.floor((a-1)/r)*r:ls(n,0,"Unknown paging action: "+e,5);var o=n._iDisplayStart!==i;return n._iDisplayStart=i,o?(pi(n,null,"page",[n]),t&&zl(n)):pi(n,null,"page-nc",[n]),o}function FT(n){return Ee("<div/>",{id:n.aanFeatures.r?null:n.sTableId+"_processing",class:n.oClasses.sProcessing}).html(n.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>").insertBefore(n.nTable)[0]}function Fa(n,e){n.oFeatures.bProcessing&&Ee(n.aanFeatures.r).css("display",e?"block":"none"),pi(n,null,"processing",[n,e])}function jT(n){var e=Ee(n.nTable),t=n.oScroll;if(t.sX===""&&t.sY==="")return n.nTable;var i=t.sX,r=t.sY,a=n.oClasses,o=e.children("caption"),s=o.length?o[0]._captionSide:null,u=Ee(e[0].cloneNode(!1)),c=Ee(e[0].cloneNode(!1)),l=e.children("tfoot"),_="<div/>",I=function(v){return v?Ui(v):null};l.length||(l=null);var M=Ee(_,{class:a.sScrollWrapper}).append(Ee(_,{class:a.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:i?I(i):"100%"}).append(Ee(_,{class:a.sScrollHeadInner}).css({"box-sizing":"content-box",width:t.sXInner||"100%"}).append(u.removeAttr("id").css("margin-left",0).append(s==="top"?o:null).append(e.children("thead"))))).append(Ee(_,{class:a.sScrollBody}).css({position:"relative",overflow:"auto",width:I(i)}).append(e));l&&M.append(Ee(_,{class:a.sScrollFoot}).css({overflow:"hidden",border:0,width:i?I(i):"100%"}).append(Ee(_,{class:a.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append(s==="bottom"?o:null).append(e.children("tfoot")))));var P=M.children(),N=P[0],b=P[1],f=l?P[2]:null;return i&&Ee(b).on("scroll.DT",function(v){var m=this.scrollLeft;N.scrollLeft=m,l&&(f.scrollLeft=m)}),Ee(b).css("max-height",r),t.bCollapse||Ee(b).css("height",r),n.nScrollHead=N,n.nScrollBody=b,n.nScrollFoot=f,n.aoDrawCallback.push({fn:Av,sName:"scrolling"}),M[0]}function Av(n){var e=n.oScroll,t=e.sX,i=e.sXInner,r=e.sY,a=e.iBarWidth,o=Ee(n.nScrollHead),s=o[0].style,u=o.children("div"),c=u[0].style,l=u.children("table"),_=n.nScrollBody,I=Ee(_),M=_.style,P=Ee(n.nScrollFoot),N=P.children("div"),b=N.children("table"),f=Ee(n.nTHead),v=Ee(n.nTable),m=v[0],d=m.style,g=n.nTFoot?Ee(n.nTFoot):null,h=n.oBrowser,C=h.bScrollOversize;za(n.aoColumns,"nTh");var D,S,k,L,B,z,X=[],ee=[],ce=[],le=[],me,je,Pe,it=function(Ke){var Mt=Ke.style;Mt.paddingTop="0",Mt.paddingBottom="0",Mt.borderTopWidth="0",Mt.borderBottomWidth="0",Mt.height=0},Te=_.scrollHeight>_.clientHeight;if(n.scrollBarVis!==Te&&n.scrollBarVis!==void 0){n.scrollBarVis=Te,hd(n);return}else n.scrollBarVis=Te;v.children("thead, tfoot").remove(),g&&(z=g.clone().prependTo(v),S=g.find("tr"),L=z.find("tr"),z.find("[id]").removeAttr("id")),B=f.clone().prependTo(v),D=f.find("tr"),k=B.find("tr"),B.find("th, td").removeAttr("tabindex"),B.find("[id]").removeAttr("id"),t||(M.width="100%",o[0].style.width="100%"),Ee.each(Tv(n,B),function(Ke,Mt){me=fd(n,Ke),Mt.style.width=n.aoColumns[me].sWidth}),g&&to(function(Ke){Ke.style.width=""},L),Pe=v.outerWidth(),t===""?(d.width="100%",C&&(v.find("tbody").height()>_.offsetHeight||I.css("overflow-y")=="scroll")&&(d.width=Ui(v.outerWidth()-a)),Pe=v.outerWidth()):i!==""&&(d.width=Ui(i),Pe=v.outerWidth()),to(it,k),to(function(Ke){var Mt=window.getComputedStyle?window.getComputedStyle(Ke).width:Ui(Ee(Ke).width());ce.push(Ke.innerHTML),X.push(Mt)},k),to(function(Ke,Mt){Ke.style.width=X[Mt]},D),Ee(k).css("height",0),g&&(to(it,L),to(function(Ke){le.push(Ke.innerHTML),ee.push(Ui(Ee(Ke).css("width")))},L),to(function(Ke,Mt){Ke.style.width=ee[Mt]},S),Ee(L).height(0)),to(function(Ke,Mt){Ke.innerHTML='<div class="dataTables_sizing">'+ce[Mt]+"</div>",Ke.childNodes[0].style.height="0",Ke.childNodes[0].style.overflow="hidden",Ke.style.width=X[Mt]},k),g&&to(function(Ke,Mt){Ke.innerHTML='<div class="dataTables_sizing">'+le[Mt]+"</div>",Ke.childNodes[0].style.height="0",Ke.childNodes[0].style.overflow="hidden",Ke.style.width=ee[Mt]},L),Math.round(v.outerWidth())<Math.round(Pe)?(je=_.scrollHeight>_.offsetHeight||I.css("overflow-y")=="scroll"?Pe+a:Pe,C&&(_.scrollHeight>_.offsetHeight||I.css("overflow-y")=="scroll")&&(d.width=Ui(je-a)),(t===""||i!=="")&&ls(n,1,"Possible column misalignment",6)):je="100%",M.width=Ui(je),s.width=Ui(je),g&&(n.nScrollFoot.style.width=Ui(je)),r||C&&(M.height=Ui(m.offsetHeight+a));var lt=v.outerWidth();l[0].style.width=Ui(lt),c.width=Ui(lt);var he=v.height()>_.clientHeight||I.css("overflow-y")=="scroll",Dt="padding"+(h.bScrollbarLeft?"Left":"Right");c[Dt]=he?a+"px":"0px",g&&(b[0].style.width=Ui(lt),N[0].style.width=Ui(lt),N[0].style[Dt]=he?a+"px":"0px"),v.children("colgroup").insertBefore(v.children("thead")),I.trigger("scroll"),(n.bSorted||n.bFiltered)&&!n._drawHold&&(_.scrollTop=0)}function to(n,e,t){for(var i=0,r=0,a=e.length,o,s;r<a;){for(o=e[r].firstChild,s=t?t[r].firstChild:null;o;)o.nodeType===1&&(t?n(o,s,i):n(o,i),i++),o=o.nextSibling,s=t?s.nextSibling:null;r++}}var BN=/<.*?>/g;function K0(n){var e=n.nTable,t=n.aoColumns,i=n.oScroll,r=i.sY,a=i.sX,o=i.sXInner,s=t.length,u=_v(n,"bVisible"),c=Ee("th",n.nTHead),l=e.getAttribute("width"),_=e.parentNode,I=!1,M,P,N,b=n.oBrowser,f=b.bScrollOversize,v=e.style.width;for(v&&v.indexOf("%")!==-1&&(l=v),M=0;M<u.length;M++)P=t[u[M]],P.sWidth!==null&&(P.sWidth=BT(P.sWidthOrig,_),I=!0);if(f||!I&&!a&&!r&&s==kh(n)&&s==c.length)for(M=0;M<s;M++){var m=fd(n,M);m!==null&&(t[m].sWidth=Ui(c.eq(M).width()))}else{var d=Ee(e).clone().css("visibility","hidden").removeAttr("id");d.find("tbody tr").remove();var g=Ee("<tr/>").appendTo(d.find("tbody"));for(d.find("thead, tfoot").remove(),d.append(Ee(n.nTHead).clone()).append(Ee(n.nTFoot).clone()),d.find("tfoot th, tfoot td").css("width",""),c=Tv(n,d.find("thead")[0]),M=0;M<u.length;M++)P=t[u[M]],c[M].style.width=P.sWidthOrig!==null&&P.sWidthOrig!==""?Ui(P.sWidthOrig):"",P.sWidthOrig&&a&&Ee(c[M]).append(Ee("<div/>").css({width:P.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(M=0;M<u.length;M++)N=u[M],P=t[N],Ee(HT(n,N)).clone(!1).append(P.sContentPadding).appendTo(g);Ee("[name]",d).removeAttr("name");var h=Ee("<div/>").css(a||r?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(d).appendTo(_);a&&o?d.width(o):a?(d.css("width","auto"),d.removeAttr("width"),d.width()<_.clientWidth&&l&&d.width(_.clientWidth)):r?d.width(_.clientWidth):l&&d.width(l);var C=0;for(M=0;M<u.length;M++){var D=Ee(c[M]),S=D.outerWidth()-D.width(),k=b.bBounding?Math.ceil(c[M].getBoundingClientRect().width):D.outerWidth();C+=k,t[u[M]].sWidth=Ui(k-S)}e.style.width=Ui(C),h.remove()}if(l&&(e.style.width=Ui(l)),(l||a)&&!n._reszEvt){var L=function(){Ee(window).on("resize.DT-"+n.sInstance,Q0(function(){hd(n)}))};f?setTimeout(L,1e3):L(),n._reszEvt=!0}}var Q0=Bt.util.throttle;function BT(n,e){if(!n)return 0;var t=Ee("<div/>").css("width",Ui(n)).appendTo(e||document.body),i=t[0].offsetWidth;return t.remove(),i}function HT(n,e){var t=zT(n,e);if(t<0)return null;var i=n.aoData[t];return i.nTr?i.anCells[e]:Ee("<td/>").html(ba(n,t,e,"display"))[0]}function zT(n,e){for(var t,i=-1,r=-1,a=0,o=n.aoData.length;a<o;a++)t=ba(n,a,e,"display")+"",t=t.replace(BN,""),t=t.replace(/&nbsp;/g," "),t.length>i&&(i=t.length,r=a);return r}function Ui(n){return n===null?"0px":typeof n=="number"?n<0?"0px":n+"px":n.match(/\d$/)?n+"px":n}function Ph(n){var e,t,i,r=[],a=n.aoColumns,o,s,u,c,l=n.aaSortingFixed,_=Ee.isPlainObject(l),I=[],M=function(P){P.length&&!Array.isArray(P[0])?I.push(P):Ee.merge(I,P)};for(Array.isArray(l)&&M(l),_&&l.pre&&M(l.pre),M(n.aaSorting),_&&l.post&&M(l.post),e=0;e<I.length;e++)for(c=I[e][0],o=a[c].aDataSort,t=0,i=o.length;t<i;t++)s=o[t],u=a[s].sType||"string",I[e]._idx===void 0&&(I[e]._idx=Ee.inArray(I[e][1],a[s].asSorting)),r.push({src:c,col:s,dir:I[e][1],index:I[e]._idx,type:u,formatter:Bt.ext.type.order[u+"-pre"]});return r}function WT(n){var e,t,i,r=[],a=Bt.ext.type.order,o=n.aoData;n.aoColumns;var s=0,u,c=n.aiDisplayMaster,l;for(Y0(n),l=Ph(n),e=0,t=l.length;e<t;e++)u=l[e],u.formatter&&s++,YT(n,u.col);if(Ur(n)!="ssp"&&l.length!==0){for(e=0,i=c.length;e<i;e++)r[c[e]]=e;s===l.length?c.sort(function(_,I){var M,P,N,b,f,v=l.length,m=o[_]._aSortData,d=o[I]._aSortData;for(N=0;N<v;N++)if(f=l[N],M=m[f.col],P=d[f.col],b=M<P?-1:M>P?1:0,b!==0)return f.dir==="asc"?b:-b;return M=r[_],P=r[I],M<P?-1:M>P?1:0}):c.sort(function(_,I){var M,P,N,b,f,v,m=l.length,d=o[_]._aSortData,g=o[I]._aSortData;for(N=0;N<m;N++)if(f=l[N],M=d[f.col],P=g[f.col],v=a[f.type+"-"+f.dir]||a["string-"+f.dir],b=v(M,P),b!==0)return b;return M=r[_],P=r[I],M<P?-1:M>P?1:0})}n.bSorted=!0}function UT(n){for(var e,t,i=n.aoColumns,r=Ph(n),a=n.oLanguage.oAria,o=0,s=i.length;o<s;o++){var u=i[o],c=u.asSorting,l=u.ariaTitle||u.sTitle.replace(/<.*?>/g,""),_=u.nTh;_.removeAttribute("aria-sort"),u.bSortable?(r.length>0&&r[0].col==o?(_.setAttribute("aria-sort",r[0].dir=="asc"?"ascending":"descending"),t=c[r[0].index+1]||c[0]):t=c[0],e=l+(t==="asc"?a.sSortAscending:a.sSortDescending)):e=l,_.setAttribute("aria-label",e)}}function Gb(n,e,t,i){var r=n.aoColumns[e],a=n.aaSorting,o=r.asSorting,s,u=function(l,_){var I=l._idx;return I===void 0&&(I=Ee.inArray(l[1],o)),I+1<o.length?I+1:_?null:0};if(typeof a[0]=="number"&&(a=n.aaSorting=[a]),t&&n.oFeatures.bSortMulti){var c=Ee.inArray(e,za(a,"0"));c!==-1?(s=u(a[c],!0),s===null&&a.length===1&&(s=0),s===null?a.splice(c,1):(a[c][1]=o[s],a[c]._idx=s)):(a.push([e,o[0],0]),a[a.length-1]._idx=0)}else a.length&&a[0][0]==e?(s=u(a[0]),a.length=1,a[0][1]=o[s],a[0]._idx=s):(a.length=0,a.push([e,o[0]]),a[0]._idx=0);kc(n),typeof i=="function"&&i(n)}function q0(n,e,t,i){var r=n.aoColumns[t];ew(e,{},function(a){r.bSortable!==!1&&(n.oFeatures.bProcessing?(Fa(n,!0),setTimeout(function(){Gb(n,t,a.shiftKey,i),Ur(n)!=="ssp"&&Fa(n,!1)},0)):Gb(n,t,a.shiftKey,i))})}function Bg(n){var e=n.aLastSort,t=n.oClasses.sSortColumn,i=Ph(n),r=n.oFeatures,a,o,s;if(r.bSort&&r.bSortClasses){for(a=0,o=e.length;a<o;a++)s=e[a].src,Ee(za(n.aoData,"anCells",s)).removeClass(t+(a<2?a+1:3));for(a=0,o=i.length;a<o;a++)s=i[a].src,Ee(za(n.aoData,"anCells",s)).addClass(t+(a<2?a+1:3))}n.aLastSort=i}function YT(n,e){var t=n.aoColumns[e],i=Bt.ext.order[t.sSortDataType],r;i&&(r=i.call(n.oInstance,n,e,dd(n,e)));for(var a,o,s=Bt.ext.type.order[t.sType+"-pre"],u=0,c=n.aoData.length;u<c;u++)a=n.aoData[u],a._aSortData||(a._aSortData=[]),(!a._aSortData[e]||i)&&(o=i?r[u]:ba(n,u,e,"sort"),a._aSortData[e]=s?s(o):o)}function md(n){if(!n._bLoadingState){var e={time:+new Date,start:n._iDisplayStart,length:n._iDisplayLength,order:Ee.extend(!0,[],n.aaSorting),search:DS(n.oPreviousSearch),columns:Ee.map(n.aoColumns,function(t,i){return{visible:t.bVisible,search:DS(n.aoPreSearchCols[i])}})};n.oSavedState=e,pi(n,"aoStateSaveParams","stateSaveParams",[n,e]),n.oFeatures.bStateSave&&!n.bDestroying&&n.fnStateSaveCallback.call(n.oInstance,n,e)}}function GT(n,e,t){if(!n.oFeatures.bStateSave){t();return}var i=function(a){$b(n,a,t)},r=n.fnStateLoadCallback.call(n.oInstance,n,i);return r!==void 0&&$b(n,r,t),!0}function $b(n,e,t){var i,r,a=n.aoColumns;n._bLoadingState=!0;var o=n._bInitComplete?new Bt.Api(n):null;if(!e||!e.time){n._bLoadingState=!1,t();return}var s=pi(n,"aoStateLoadParams","stateLoadParams",[n,e]);if(Ee.inArray(!1,s)!==-1){n._bLoadingState=!1,t();return}var u=n.iStateDuration;if(u>0&&e.time<+new Date-u*1e3){n._bLoadingState=!1,t();return}if(e.columns&&a.length!==e.columns.length){n._bLoadingState=!1,t();return}if(n.oLoadedState=Ee.extend(!0,{},e),e.length!==void 0&&(o?o.page.len(e.length):n._iDisplayLength=e.length),e.start!==void 0&&(o===null?(n._iDisplayStart=e.start,n.iInitDisplayStart=e.start):Dv(n,e.start/n._iDisplayLength)),e.order!==void 0&&(n.aaSorting=[],Ee.each(e.order,function(l,_){n.aaSorting.push(_[0]>=a.length?[0,_[1]]:_)})),e.search!==void 0&&Ee.extend(n.oPreviousSearch,AS(e.search)),e.columns){for(i=0,r=e.columns.length;i<r;i++){var c=e.columns[i];c.visible!==void 0&&(o?o.column(i).visible(c.visible,!1):a[i].bVisible=c.visible),c.search!==void 0&&Ee.extend(n.aoPreSearchCols[i],AS(c.search))}o&&o.columns.adjust()}n._bLoadingState=!1,pi(n,"aoStateLoaded","stateLoaded",[n,e]),t()}function Hg(n){var e=Bt.settings,t=Ee.inArray(n,za(e,"nTable"));return t!==-1?e[t]:null}function ls(n,e,t,i){if(t="DataTables warning: "+(n?"table id="+n.sTableId+" - ":"")+t,i&&(t+=". For more information about this error, please see http://datatables.net/tn/"+i),e)window.console&&console.log&&console.log(t);else{var r=Bt.ext,a=r.sErrMode||r.errMode;if(n&&pi(n,null,"error",[n,i,t]),a=="alert")alert(t);else{if(a=="throw")throw new Error(t);typeof a=="function"&&a(n,i,t)}}}function As(n,e,t,i){if(Array.isArray(t)){Ee.each(t,function(r,a){Array.isArray(a)?As(n,e,a[0],a[1]):As(n,e,a)});return}i===void 0&&(i=t),e[t]!==void 0&&(n[i]=e[t])}function Vb(n,e,t){var i;for(var r in e)e.hasOwnProperty(r)&&(i=e[r],Ee.isPlainObject(i)?(Ee.isPlainObject(n[r])||(n[r]={}),Ee.extend(!0,n[r],i)):t&&r!=="data"&&r!=="aaData"&&Array.isArray(i)?n[r]=i.slice():n[r]=i);return n}function ew(n,e,t){Ee(n).on("click.DT",e,function(i){Ee(n).trigger("blur"),t(i)}).on("keypress.DT",e,function(i){i.which===13&&(i.preventDefault(),t(i))}).on("selectstart.DT",function(){return!1})}function Jr(n,e,t,i){t&&n[e].push({fn:t,sName:i})}function pi(n,e,t,i){var r=[];if(e&&(r=Ee.map(n[e].slice().reverse(),function(o,s){return o.fn.apply(n.oInstance,i)})),t!==null){var a=Ee.Event(t+".dt");Ee(n.nTable).trigger(a,i),r.push(a.result)}return r}function tw(n){var e=n._iDisplayStart,t=n.fnDisplayEnd(),i=n._iDisplayLength;e>=t&&(e=t-i),e-=e%i,(i===-1||e<0)&&(e=0),n._iDisplayStart=e}function nw(n,e){var t=n.renderer,i=Bt.ext.renderer[e];return Ee.isPlainObject(t)&&t[e]?i[t[e]]||i._:typeof t=="string"&&i[t]||i._}function Ur(n){return n.oFeatures.bServerSide?"ssp":n.ajax||n.sAjaxSource?"ajax":"dom"}var $T=[],Er=Array.prototype,HN=function(n){var e,t,i=Bt.settings,r=Ee.map(i,function(a,o){return a.nTable});if(n){if(n.nTable&&n.oApi)return[n];if(n.nodeName&&n.nodeName.toLowerCase()==="table")return e=Ee.inArray(n,r),e!==-1?[i[e]]:null;if(n&&typeof n.settings=="function")return n.settings().toArray();typeof n=="string"?t=Ee(n):n instanceof Ee&&(t=n)}else return[];if(t)return t.map(function(a){return e=Ee.inArray(this,r),e!==-1?i[e]:null}).toArray()};ni=function(n,e){if(!(this instanceof ni))return new ni(n,e);var t=[],i=function(o){var s=HN(o);s&&t.push.apply(t,s)};if(Array.isArray(n))for(var r=0,a=n.length;r<a;r++)i(n[r]);else i(n);this.context=Sv(t),e&&Ee.merge(this,e),this.selector={rows:null,cols:null,opts:null},ni.extend(this,this,$T)};Bt.Api=ni;Ee.extend(ni.prototype,{any:function(){return this.count()!==0},concat:Er.concat,context:[],count:function(){return this.flatten().length},each:function(n){for(var e=0,t=this.length;e<t;e++)n.call(this,this[e],e,this);return this},eq:function(n){var e=this.context;return e.length>n?new ni(e[n],this[n]):null},filter:function(n){var e=[];if(Er.filter)e=Er.filter.call(this,n,this);else for(var t=0,i=this.length;t<i;t++)n.call(this,this[t],t,this)&&e.push(this[t]);return new ni(this.context,e)},flatten:function(){var n=[];return new ni(this.context,n.concat.apply(n,this.toArray()))},join:Er.join,indexOf:Er.indexOf||function(n,e){for(var t=e||0,i=this.length;t<i;t++)if(this[t]===n)return t;return-1},iterator:function(n,e,t,i){var r=[],a,o,s,u,c,l=this.context,_,I,M,P=this.selector;for(typeof n=="string"&&(i=t,t=e,e=n,n=!1),o=0,s=l.length;o<s;o++){var N=new ni(l[o]);if(e==="table")a=t.call(N,l[o],o),a!==void 0&&r.push(a);else if(e==="columns"||e==="rows")a=t.call(N,l[o],this[o],o),a!==void 0&&r.push(a);else if(e==="column"||e==="column-rows"||e==="row"||e==="cell")for(I=this[o],e==="column-rows"&&(_=Mv(l[o],P.opts)),u=0,c=I.length;u<c;u++)M=I[u],e==="cell"?a=t.call(N,l[o],M.row,M.column,o,u):a=t.call(N,l[o],M,o,u,_),a!==void 0&&r.push(a)}if(r.length||i){var b=new ni(l,n?r.concat.apply([],r):r),f=b.selector;return f.rows=P.rows,f.cols=P.cols,f.opts=P.opts,b}return this},lastIndexOf:Er.lastIndexOf||function(n,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(n){var e=[];if(Er.map)e=Er.map.call(this,n,this);else for(var t=0,i=this.length;t<i;t++)e.push(n.call(this,this[t],t));return new ni(this.context,e)},pluck:function(n){let e=Bt.util.get(n);return this.map(function(t){return e(t)})},pop:Er.pop,push:Er.push,reduce:Er.reduce||function(n,e){return IS(this,n,e,0,this.length,1)},reduceRight:Er.reduceRight||function(n,e){return IS(this,n,e,this.length-1,-1,-1)},reverse:Er.reverse,selector:null,shift:Er.shift,slice:function(){return new ni(this.context,this)},sort:Er.sort,splice:Er.splice,toArray:function(){return Er.slice.call(this)},to$:function(){return Ee(this)},toJQuery:function(){return Ee(this)},unique:function(){return new ni(this.context,Sv(this))},unshift:Er.unshift});ni.extend=function(n,e,t){if(!(!t.length||!e||!(e instanceof ni)&&!e.__dt_wrapper)){var i,r,a,o=function(s,u,c){return function(){var l=u.apply(s,arguments);return ni.extend(l,l,c.methodExt),l}};for(i=0,r=t.length;i<r;i++)a=t[i],e[a.name]=a.type==="function"?o(n,a.val,a):a.type==="object"?{}:a.val,e[a.name].__dt_wrapper=!0,ni.extend(n,e[a.name],a.propExt)}};ni.register=Tn=function(n,e){if(Array.isArray(n)){for(var t=0,i=n.length;t<i;t++)ni.register(n[t],e);return}var r,a,o=n.split("."),s=$T,u,c,l=function(I,M){for(var P=0,N=I.length;P<N;P++)if(I[P].name===M)return I[P];return null};for(r=0,a=o.length;r<a;r++){c=o[r].indexOf("()")!==-1,u=c?o[r].replace("()",""):o[r];var _=l(s,u);_||(_={name:u,val:{},methodExt:[],propExt:[],type:"object"},s.push(_)),r===a-1?(_.val=e,_.type=typeof e=="function"?"function":Ee.isPlainObject(e)?"object":"other"):s=c?_.methodExt:_.propExt}};ni.registerPlural=Ai=function(n,e,t){ni.register(n,t),ni.register(e,function(){var i=t.apply(this,arguments);return i===this?this:i instanceof ni?i.length?Array.isArray(i[0])?new ni(i.context,i[0]):i[0]:void 0:i})};var VT=function(n,e){if(Array.isArray(n))return Ee.map(n,function(i){return VT(i,e)});if(typeof n=="number")return[e[n]];var t=Ee.map(e,function(i,r){return i.nTable});return Ee(t).filter(n).map(function(i){var r=Ee.inArray(this,t);return e[r]}).toArray()};Tn("tables()",function(n){return n!=null?new ni(VT(n,this.context)):this});Tn("table()",function(n){var e=this.tables(n),t=e.context;return t.length?new ni(t[0]):e});Ai("tables().nodes()","table().node()",function(){return this.iterator("table",function(n){return n.nTable},1)});Ai("tables().body()","table().body()",function(){return this.iterator("table",function(n){return n.nTBody},1)});Ai("tables().header()","table().header()",function(){return this.iterator("table",function(n){return n.nTHead},1)});Ai("tables().footer()","table().footer()",function(){return this.iterator("table",function(n){return n.nTFoot},1)});Ai("tables().containers()","table().container()",function(){return this.iterator("table",function(n){return n.nTableWrapper},1)});Tn("draw()",function(n){return this.iterator("table",function(e){n==="page"?zl(e):(typeof n=="string"&&(n=n!=="full-hold"),kc(e,n===!1))})});Tn("page()",function(n){return n===void 0?this.page.info().page:this.iterator("table",function(e){Dv(e,n)})});Tn("page.info()",function(n){if(this.context.length!==0){var e=this.context[0],t=e._iDisplayStart,i=e.oFeatures.bPaginate?e._iDisplayLength:-1,r=e.fnRecordsDisplay(),a=i===-1;return{page:a?0:Math.floor(t/i),pages:a?1:Math.ceil(r/i),start:t,end:e.fnDisplayEnd(),length:i,recordsTotal:e.fnRecordsTotal(),recordsDisplay:r,serverSide:Ur(e)==="ssp"}}});Tn("page.len()",function(n){return n===void 0?this.context.length!==0?this.context[0]._iDisplayLength:void 0:this.iterator("table",function(e){J0(e,n)})});var XT=function(n,e,t){if(t){var i=new ni(n);i.one("draw",function(){t(i.ajax.json())})}if(Ur(n)=="ssp")kc(n,e);else{Fa(n,!0);var r=n.jqXHR;r&&r.readyState!==4&&r.abort(),Iv(n,[],function(a){Ev(n);for(var o=gd(n,a),s=0,u=o.length;s<u;s++)Hl(n,o[s]);kc(n,e),Fa(n,!1)})}};Tn("ajax.json()",function(){var n=this.context;if(n.length>0)return n[0].json});Tn("ajax.params()",function(){var n=this.context;if(n.length>0)return n[0].oAjaxData});Tn("ajax.reload()",function(n,e){return this.iterator("table",function(t){XT(t,e===!1,n)})});Tn("ajax.url()",function(n){var e=this.context;return n===void 0?e.length===0?void 0:(e=e[0],e.ajax?Ee.isPlainObject(e.ajax)?e.ajax.url:e.ajax:e.sAjaxSource):this.iterator("table",function(t){Ee.isPlainObject(t.ajax)?t.ajax.url=n:t.ajax=n})});Tn("ajax.url().load()",function(n,e){return this.iterator("table",function(t){XT(t,e===!1,n)})});var iw=function(n,e,t,i,r){var a=[],o,s,u,c,l,_,I=typeof e;for((!e||I==="string"||I==="function"||e.length===void 0)&&(e=[e]),u=0,c=e.length;u<c;u++)for(s=e[u]&&e[u].split&&!e[u].match(/[\[\(:]/)?e[u].split(","):[e[u]],l=0,_=s.length;l<_;l++)o=t(typeof s[l]=="string"?s[l].trim():s[l]),o&&o.length&&(a=a.concat(o));var M=ar.selector[n];if(M.length)for(u=0,c=M.length;u<c;u++)a=M[u](i,r,a);return Sv(a)},rw=function(n){return n||(n={}),n.filter&&n.search===void 0&&(n.search=n.filter),Ee.extend({search:"none",order:"current",page:"all"},n)},aw=function(n){for(var e=0,t=n.length;e<t;e++)if(n[e].length>0)return n[0]=n[e],n[0].length=1,n.length=1,n.context=[n.context[e]],n;return n.length=0,n},Mv=function(n,e){var t,i,r,a=[],o=n.aiDisplay,s=n.aiDisplayMaster,u=e.search,c=e.order,l=e.page;if(Ur(n)=="ssp")return u==="removed"?[]:qu(0,s.length);if(l=="current")for(t=n._iDisplayStart,i=n.fnDisplayEnd();t<i;t++)a.push(o[t]);else if(c=="current"||c=="applied"){if(u=="none")a=s.slice();else if(u=="applied")a=o.slice();else if(u=="removed"){for(var _={},t=0,i=o.length;t<i;t++)_[o[t]]=null;a=Ee.map(s,function(I){return _.hasOwnProperty(I)?null:I})}}else if(c=="index"||c=="original")for(t=0,i=n.aoData.length;t<i;t++)u=="none"?a.push(t):(r=Ee.inArray(t,o),(r===-1&&u=="removed"||r>=0&&u=="applied")&&a.push(t));return a},zN=function(n,e,t){var i,r=function(a){var o=dT(a),s=n.aoData;if(o!==null&&!t)return[o];if(i||(i=Mv(n,t)),o!==null&&Ee.inArray(o,i)!==-1)return[o];if(a==null||a==="")return i;if(typeof a=="function")return Ee.map(i,function(M){var P=s[M];return a(M,P._aData,P.nTr)?M:null});if(a.nodeName){var u=a._DT_RowIndex,c=a._DT_CellIndex;if(u!==void 0)return s[u]&&s[u].nTr===a?[u]:[];if(c)return s[c.row]&&s[c.row].nTr===a.parentNode?[c.row]:[];var l=Ee(a).closest("*[data-dt-row]");return l.length?[l.data("dt-row")]:[]}if(typeof a=="string"&&a.charAt(0)==="#"){var _=n.aIds[a.replace(/^#/,"")];if(_!==void 0)return[_.idx]}var I=gT(cd(n.aoData,i,"nTr"));return Ee(I).filter(a).map(function(){return this._DT_RowIndex}).toArray()};return iw("row",e,r,n,t)};Tn("rows()",function(n,e){n===void 0?n="":Ee.isPlainObject(n)&&(e=n,n=""),e=rw(e);var t=this.iterator("table",function(i){return zN(i,n,e)},1);return t.selector.rows=n,t.selector.opts=e,t});Tn("rows().nodes()",function(){return this.iterator("row",function(n,e){return n.aoData[e].nTr||void 0},1)});Tn("rows().data()",function(){return this.iterator(!0,"rows",function(n,e){return cd(n.aoData,e,"_aData")},1)});Ai("rows().cache()","row().cache()",function(n){return this.iterator("row",function(e,t){var i=e.aoData[t];return n==="search"?i._aFilterData:i._aSortData},1)});Ai("rows().invalidate()","row().invalidate()",function(n){return this.iterator("row",function(e,t){pd(e,t,n)})});Ai("rows().indexes()","row().index()",function(){return this.iterator("row",function(n,e){return e},1)});Ai("rows().ids()","row().id()",function(n){for(var e=[],t=this.context,i=0,r=t.length;i<r;i++)for(var a=0,o=this[i].length;a<o;a++){var s=t[i].rowIdFn(t[i].aoData[this[i][a]]._aData);e.push((n===!0?"#":"")+s)}return new ni(t,e)});Ai("rows().remove()","row().remove()",function(){var n=this;return this.iterator("row",function(e,t,i){var r=e.aoData,a=r[t],o,s,u,c,l,_;for(r.splice(t,1),o=0,s=r.length;o<s;o++)if(l=r[o],_=l.anCells,l.nTr!==null&&(l.nTr._DT_RowIndex=o),_!==null)for(u=0,c=_.length;u<c;u++)_[u]._DT_CellIndex.row=o;bg(e.aiDisplayMaster,t),bg(e.aiDisplay,t),bg(n[i],t,!1),e._iRecordsDisplay>0&&e._iRecordsDisplay--,tw(e);var I=e.rowIdFn(a._aData);I!==void 0&&delete e.aIds[I]}),this.iterator("table",function(e){for(var t=0,i=e.aoData.length;t<i;t++)e.aoData[t].idx=t}),this});Tn("rows.add()",function(n){var e=this.iterator("table",function(i){var r,a,o,s=[];for(a=0,o=n.length;a<o;a++)r=n[a],r.nodeName&&r.nodeName.toUpperCase()==="TR"?s.push(xv(i,r)[0]):s.push(Hl(i,r));return s},1),t=this.rows(-1);return t.pop(),Ee.merge(t,e),t});Tn("row()",function(n,e){return aw(this.rows(n,e))});Tn("row().data()",function(n){var e=this.context;if(n===void 0)return e.length&&this.length?e[0].aoData[this[0]]._aData:void 0;var t=e[0].aoData[this[0]];return t._aData=n,Array.isArray(n)&&t.nTr&&t.nTr.id&&wl(e[0].rowId)(n,t.nTr.id),pd(e[0],this[0],"data"),this});Tn("row().node()",function(){var n=this.context;return n.length&&this.length&&n[0].aoData[this[0]].nTr||null});Tn("row.add()",function(n){n instanceof Ee&&n.length&&(n=n[0]);var e=this.iterator("table",function(t){return n.nodeName&&n.nodeName.toUpperCase()==="TR"?xv(t,n)[0]:Hl(t,n)});return this.row(e[0])});Ee(document).on("plugin-init.dt",function(n,e){var t=new ni(e);const i="on-plugin-init",r=`stateSaveParams.${i}`,a=`destroy.${i}`;t.on(r,function(s,u,c){for(var l=u.rowIdFn,_=u.aoData,I=[],M=0;M<_.length;M++)_[M]._detailsShow&&I.push("#"+l(_[M]._aData));c.childRows=I}),t.on(a,function(){t.off(`${r} ${a}`)});var o=t.state.loaded();o&&o.childRows&&t.rows(Ee.map(o.childRows,function(s){return s.replace(/:/g,"\\:")})).every(function(){pi(e,null,"requestChild",[this])})});var WN=function(n,e,t,i){var r=[],a=function(o,s){if(Array.isArray(o)||o instanceof Ee){for(var u=0,c=o.length;u<c;u++)a(o[u],s);return}if(o.nodeName&&o.nodeName.toLowerCase()==="tr")r.push(o);else{var l=Ee("<tr><td></td></tr>").addClass(s);Ee("td",l).addClass(s).html(o)[0].colSpan=kh(n),r.push(l[0])}};a(t,i),e._details&&e._details.detach(),e._details=Ee(r),e._detailsShow&&e._details.insertAfter(e.nTr)},ZT=Bt.util.throttle(function(n){md(n[0])},500),sw=function(n,e){var t=n.context;if(t.length){var i=t[0].aoData[e!==void 0?e:n[0]];i&&i._details&&(i._details.remove(),i._detailsShow=void 0,i._details=void 0,Ee(i.nTr).removeClass("dt-hasChild"),ZT(t))}},JT=function(n,e){var t=n.context;if(t.length&&n.length){var i=t[0].aoData[n[0]];i._details&&(i._detailsShow=e,e?(i._details.insertAfter(i.nTr),Ee(i.nTr).addClass("dt-hasChild")):(i._details.detach(),Ee(i.nTr).removeClass("dt-hasChild")),pi(t[0],null,"childRow",[e,n.row(n[0])]),UN(t[0]),ZT(t))}},UN=function(n){var e=new ni(n),t=".dt.DT_details",i="draw"+t,r="column-sizing"+t,a="destroy"+t,o=n.aoData;e.off(i+" "+r+" "+a),za(o,"_details").length>0&&(e.on(i,function(s,u){n===u&&e.rows({page:"current"}).eq(0).each(function(c){var l=o[c];l._detailsShow&&l._details.insertAfter(l.nTr)})}),e.on(r,function(s,u,c,l){if(n===u)for(var _,I=kh(u),M=0,P=o.length;M<P;M++)_=o[M],_._details&&_._details.children("td[colspan]").attr("colspan",I)}),e.on(a,function(s,u){if(n===u)for(var c=0,l=o.length;c<l;c++)o[c]._details&&sw(e,c)}))},YN="",yd=YN+"row().child",Ov=yd+"()";Tn(Ov,function(n,e){var t=this.context;return n===void 0?t.length&&this.length?t[0].aoData[this[0]]._details:void 0:(n===!0?this.child.show():n===!1?sw(this):t.length&&this.length&&WN(t[0],t[0].aoData[this[0]],n,e),this)});Tn([yd+".show()",Ov+".show()"],function(n){return JT(this,!0),this});Tn([yd+".hide()",Ov+".hide()"],function(){return JT(this,!1),this});Tn([yd+".remove()",Ov+".remove()"],function(){return sw(this),this});Tn(yd+".isShown()",function(){var n=this.context;return n.length&&this.length&&n[0].aoData[this[0]]._detailsShow||!1});var GN=/^([^:]+):(name|visIdx|visible)$/,KT=function(n,e,t,i,r){for(var a=[],o=0,s=r.length;o<s;o++)a.push(ba(n,r[o],e));return a},$N=function(n,e,t){var i=n.aoColumns,r=za(i,"sName"),a=za(i,"nTh"),o=function(s){var u=dT(s);if(s==="")return qu(i.length);if(u!==null)return[u>=0?u:i.length+u];if(typeof s=="function"){var c=Mv(n,t);return Ee.map(i,function(N,b){return s(b,KT(n,b,0,0,c),a[b])?b:null})}var l=typeof s=="string"?s.match(GN):"";if(l)switch(l[2]){case"visIdx":case"visible":var _=parseInt(l[1],10);if(_<0){var I=Ee.map(i,function(N,b){return N.bVisible?b:null});return[I[I.length+_]]}return[fd(n,_)];case"name":return Ee.map(r,function(N,b){return N===l[1]?b:null});default:return[]}if(s.nodeName&&s._DT_CellIndex)return[s._DT_CellIndex.column];var M=Ee(a).filter(s).map(function(){return Ee.inArray(this,a)}).toArray();if(M.length||!s.nodeName)return M;var P=Ee(s).closest("*[data-dt-column]");return P.length?[P.data("dt-column")]:[]};return iw("column",e,o,n,t)},VN=function(n,e,t){var i=n.aoColumns,r=i[e],a=n.aoData,o,s,u,c;if(t===void 0)return r.bVisible;if(r.bVisible!==t){if(t){var l=Ee.inArray(!0,za(i,"bVisible"),e+1);for(s=0,u=a.length;s<u;s++)c=a[s].nTr,o=a[s].anCells,c&&c.insertBefore(o[e],o[l]||null)}else Ee(za(n.aoData,"anCells",e)).detach();r.bVisible=t}};Tn("columns()",function(n,e){n===void 0?n="":Ee.isPlainObject(n)&&(e=n,n=""),e=rw(e);var t=this.iterator("table",function(i){return $N(i,n,e)},1);return t.selector.cols=n,t.selector.opts=e,t});Ai("columns().header()","column().header()",function(n,e){return this.iterator("column",function(t,i){return t.aoColumns[i].nTh},1)});Ai("columns().footer()","column().footer()",function(n,e){return this.iterator("column",function(t,i){return t.aoColumns[i].nTf},1)});Ai("columns().data()","column().data()",function(){return this.iterator("column-rows",KT,1)});Ai("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(n,e){return n.aoColumns[e].mData},1)});Ai("columns().cache()","column().cache()",function(n){return this.iterator("column-rows",function(e,t,i,r,a){return cd(e.aoData,a,n==="search"?"_aFilterData":"_aSortData",t)},1)});Ai("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(n,e,t,i,r){return cd(n.aoData,r,"anCells",e)},1)});Ai("columns().visible()","column().visible()",function(n,e){var t=this,i=this.iterator("column",function(r,a){if(n===void 0)return r.aoColumns[a].bVisible;VN(r,a,n)});return n!==void 0&&this.iterator("table",function(r){Xf(r,r.aoHeader),Xf(r,r.aoFooter),r.aiDisplay.length||Ee(r.nTBody).find("td[colspan]").attr("colspan",kh(r)),md(r),t.iterator("column",function(a,o){pi(a,null,"column-visibility",[a,o,n,e])}),(e===void 0||e)&&t.columns.adjust()}),i});Ai("columns().indexes()","column().index()",function(n){return this.iterator("column",function(e,t){return n==="visible"?dd(e,t):t},1)});Tn("columns.adjust()",function(){return this.iterator("table",function(n){hd(n)},1)});Tn("column.index()",function(n,e){if(this.context.length!==0){var t=this.context[0];if(n==="fromVisible"||n==="toData")return fd(t,e);if(n==="fromData"||n==="toVisible")return dd(t,e)}});Tn("column()",function(n,e){return aw(this.columns(n,e))});var XN=function(n,e,t){var i=n.aoData,r=Mv(n,t),a=gT(cd(i,r,"anCells")),o=Ee(vT([],a)),s,u=n.aoColumns.length,c,l,_,I,M,P,N=function(b){var f=typeof b=="function";if(b==null||f){for(c=[],l=0,_=r.length;l<_;l++)for(s=r[l],I=0;I<u;I++)M={row:s,column:I},f?(P=i[s],b(M,ba(n,s,I),P.anCells?P.anCells[I]:null)&&c.push(M)):c.push(M);return c}if(Ee.isPlainObject(b))return b.column!==void 0&&b.row!==void 0&&Ee.inArray(b.row,r)!==-1?[b]:[];var v=o.filter(b).map(function(m,d){return{row:d._DT_CellIndex.row,column:d._DT_CellIndex.column}}).toArray();return v.length||!b.nodeName?v:(P=Ee(b).closest("*[data-dt-row]"),P.length?[{row:P.data("dt-row"),column:P.data("dt-column")}]:[])};return iw("cell",e,N,n,t)};Tn("cells()",function(n,e,t){if(Ee.isPlainObject(n)&&(n.row===void 0?(t=n,n=null):(t=e,e=null)),Ee.isPlainObject(e)&&(t=e,e=null),e==null)return this.iterator("table",function(I){return XN(I,n,rw(t))});var i=t?{page:t.page,order:t.order,search:t.search}:{},r=this.columns(e,i),a=this.rows(n,i),o,s,u,c,l=this.iterator("table",function(I,M){var P=[];for(o=0,s=a[M].length;o<s;o++)for(u=0,c=r[M].length;u<c;u++)P.push({row:a[M][o],column:r[M][u]});return P},1),_=t&&t.selected?this.cells(l,t):l;return Ee.extend(_.selector,{cols:e,rows:n,opts:t}),_});Ai("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(n,e,t){var i=n.aoData[e];return i&&i.anCells?i.anCells[t]:void 0},1)});Tn("cells().data()",function(){return this.iterator("cell",function(n,e,t){return ba(n,e,t)},1)});Ai("cells().cache()","cell().cache()",function(n){return n=n==="search"?"_aFilterData":"_aSortData",this.iterator("cell",function(e,t,i){return e.aoData[t][n][i]},1)});Ai("cells().render()","cell().render()",function(n){return this.iterator("cell",function(e,t,i){return ba(e,t,i,n)},1)});Ai("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(n,e,t){return{row:e,column:t,columnVisible:dd(n,t)}},1)});Ai("cells().invalidate()","cell().invalidate()",function(n){return this.iterator("cell",function(e,t,i){pd(e,t,n,i)})});Tn("cell()",function(n,e,t){return aw(this.cells(n,e,t))});Tn("cell().data()",function(n){var e=this.context,t=this[0];return n===void 0?e.length&&t.length?ba(e[0],t[0].row,t[0].column):void 0:(CT(e[0],t[0].row,t[0].column,n),pd(e[0],t[0].row,"data",t[0].column),this)});Tn("order()",function(n,e){var t=this.context;return n===void 0?t.length!==0?t[0].aaSorting:void 0:(typeof n=="number"?n=[[n,e]]:n.length&&!Array.isArray(n[0])&&(n=Array.prototype.slice.call(arguments)),this.iterator("table",function(i){i.aaSorting=n.slice()}))});Tn("order.listener()",function(n,e,t){return this.iterator("table",function(i){q0(i,n,e,t)})});Tn("order.fixed()",function(n){if(!n){var e=this.context,t=e.length?e[0].aaSortingFixed:void 0;return Array.isArray(t)?{pre:t}:t}return this.iterator("table",function(i){i.aaSortingFixed=Ee.extend(!0,{},n)})});Tn(["columns().order()","column().order()"],function(n){var e=this;return this.iterator("table",function(t,i){var r=[];Ee.each(e[i],function(a,o){r.push([o,n])}),t.aaSorting=r})});Tn("search()",function(n,e,t,i){var r=this.context;return n===void 0?r.length!==0?r[0].oPreviousSearch.sSearch:void 0:this.iterator("table",function(a){!a.oFeatures.bFilter||vd(a,Ee.extend({},a.oPreviousSearch,{sSearch:n+"",bRegex:e===null?!1:e,bSmart:t===null?!0:t,bCaseInsensitive:i===null?!0:i}),1)})});Ai("columns().search()","column().search()",function(n,e,t,i){return this.iterator("column",function(r,a){var o=r.aoPreSearchCols;if(n===void 0)return o[a].sSearch;!r.oFeatures.bFilter||(Ee.extend(o[a],{sSearch:n+"",bRegex:e===null?!1:e,bSmart:t===null?!0:t,bCaseInsensitive:i===null?!0:i}),vd(r,r.oPreviousSearch,1))})});Tn("state()",function(){return this.context.length?this.context[0].oSavedState:null});Tn("state.clear()",function(){return this.iterator("table",function(n){n.fnStateSaveCallback.call(n.oInstance,n,{})})});Tn("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});Tn("state.save()",function(){return this.iterator("table",function(n){md(n)})});Bt.versionCheck=Bt.fnVersionCheck=function(n){for(var e=Bt.version.split("."),t=n.split("."),i,r,a=0,o=t.length;a<o;a++)if(i=parseInt(e[a],10)||0,r=parseInt(t[a],10)||0,i!==r)return i>r;return!0};Bt.isDataTable=Bt.fnIsDataTable=function(n){var e=Ee(n).get(0),t=!1;return n instanceof Bt.Api?!0:(Ee.each(Bt.settings,function(i,r){var a=r.nScrollHead?Ee("table",r.nScrollHead)[0]:null,o=r.nScrollFoot?Ee("table",r.nScrollFoot)[0]:null;(r.nTable===e||a===e||o===e)&&(t=!0)}),t)};Bt.tables=Bt.fnTables=function(n){var e=!1;Ee.isPlainObject(n)&&(e=n.api,n=n.visible);var t=Ee.map(Bt.settings,function(i){if(!n||n&&Ee(i.nTable).is(":visible"))return i.nTable});return e?new ni(t):t};Bt.camelToHungarian=Mo;Tn("$()",function(n,e){var t=this.rows(e).nodes(),i=Ee(t);return Ee([].concat(i.filter(n).toArray(),i.find(n).toArray()))});Ee.each(["on","one","off"],function(n,e){Tn(e+"()",function(){var t=Array.prototype.slice.call(arguments);t[0]=Ee.map(t[0].split(/\s/),function(r){return r.match(/\.dt\b/)?r:r+".dt"}).join(" ");var i=Ee(this.tables().nodes());return i[e].apply(i,t),this})});Tn("clear()",function(){return this.iterator("table",function(n){Ev(n)})});Tn("settings()",function(){return new ni(this.context,this.context)});Tn("init()",function(){var n=this.context;return n.length?n[0].oInit:null});Tn("data()",function(){return this.iterator("table",function(n){return za(n.aoData,"_aData")}).flatten()});Tn("destroy()",function(n){return n=n||!1,this.iterator("table",function(e){var t=e.oClasses,i=e.nTable,r=e.nTBody,a=e.nTHead,o=e.nTFoot,s=Ee(i),u=Ee(r),c=Ee(e.nTableWrapper),l=Ee.map(e.aoData,function(N){return N.nTr}),_;e.bDestroying=!0,pi(e,"aoDestroyCallback","destroy",[e]),n||new ni(e).columns().visible(!0),c.off(".DT").find(":not(tbody *)").off(".DT"),Ee(window).off(".DT-"+e.sInstance),i!=a.parentNode&&(s.children("thead").detach(),s.append(a)),o&&i!=o.parentNode&&(s.children("tfoot").detach(),s.append(o)),e.aaSorting=[],e.aaSortingFixed=[],Bg(e),Ee(l).removeClass(e.asStripeClasses.join(" ")),Ee("th, td",a).removeClass(t.sSortable+" "+t.sSortableAsc+" "+t.sSortableDesc+" "+t.sSortableNone),u.children().detach(),u.append(l);var I=e.nTableWrapper.parentNode,M=n?"remove":"detach";s[M](),c[M](),!n&&I&&(I.insertBefore(i,e.nTableReinsertBefore),s.css("width",e.sDestroyWidth).removeClass(t.sTable),_=e.asDestroyStripes.length,_&&u.children().each(function(N){Ee(this).addClass(e.asDestroyStripes[N%_])}));var P=Ee.inArray(e,Bt.settings);P!==-1&&Bt.settings.splice(P,1)})});Ee.each(["column","row","cell"],function(n,e){Tn(e+"s().every()",function(t){var i=this.selector.opts,r=this;return this.iterator(e,function(a,o,s,u,c){t.call(r[e](o,e==="cell"?s:i,e==="cell"?i:void 0),o,s,u,c)})})});Tn("i18n()",function(n,e,t){var i=this.context[0],r=vh(n)(i.oLanguage);return r===void 0&&(r=e),t!==void 0&&Ee.isPlainObject(r)&&(r=r[t]!==void 0?r[t]:r._),r.replace("%d",t)});Bt.version="1.13.1";Bt.settings=[];Bt.models={};Bt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,return:!1};Bt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1};Bt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};Bt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(n){try{return JSON.parse((n.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+n.sInstance+"_"+location.pathname))}catch{return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(n,e){try{(n.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+n.sInstance+"_"+location.pathname,JSON.stringify(e))}catch{}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:Ee.extend({},Bt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"};ud(Bt.defaults);Bt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};ud(Bt.defaults.column);Bt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:void 0,oAjaxData:void 0,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return Ur(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return Ur(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var n=this._iDisplayLength,e=this._iDisplayStart,t=e+n,i=this.aiDisplay.length,r=this.oFeatures,a=r.bPaginate;return r.bServerSide?a===!1||n===-1?e+i:Math.min(e+n,this._iRecordsDisplay):!a||t>i||n===-1?i:t},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null};Bt.ext=ar={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Bt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Bt.version};Ee.extend(ar,{afnFiltering:ar.search,aTypes:ar.type.detect,ofnSearch:ar.type.search,oSort:ar.type.order,afnSortData:ar.order,aoFeatures:ar.feature,oApi:ar.internal,oStdClasses:ar.classes,oPagination:ar.pager});Ee.extend(Bt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var QT=Bt.ext.pager;function Ef(n,e){var t=[],i=QT.numbers_length,r=Math.floor(i/2);return e<=i?t=qu(0,e):n<=r?(t=qu(0,i-2),t.push("ellipsis"),t.push(e-1)):n>=e-1-r?(t=qu(e-(i-2),e),t.splice(0,0,"ellipsis"),t.splice(0,0,0)):(t=qu(n-r+2,n+r-1),t.push("ellipsis"),t.push(e-1),t.splice(0,0,"ellipsis"),t.splice(0,0,0)),t.DT_el="span",t}Ee.extend(QT,{simple:function(n,e){return["previous","next"]},full:function(n,e){return["first","previous","next","last"]},numbers:function(n,e){return[Ef(n,e)]},simple_numbers:function(n,e){return["previous",Ef(n,e),"next"]},full_numbers:function(n,e){return["first","previous",Ef(n,e),"next","last"]},first_last_numbers:function(n,e){return["first",Ef(n,e),"last"]},_numbers:Ef,numbers_length:7});Ee.extend(!0,Bt.ext.renderer,{pageButton:{_:function(n,e,t,i,r,a){var o=n.oClasses,s=n.oLanguage.oPaginate,u=n.oLanguage.oAria.paginate||{},c,l,_=function(M,P){var N,b,f,v,m,d=o.sPageButtonDisabled,g=function(C){Dv(n,C.data.action,!0)};for(N=0,b=P.length;N<b;N++)if(v=P[N],Array.isArray(v)){var h=Ee("<"+(v.DT_el||"div")+"/>").appendTo(M);_(h,v)}else{switch(c=null,l=v,m=n.iTabIndex,v){case"ellipsis":M.append('<span class="ellipsis">&#x2026;</span>');break;case"first":c=s.sFirst,r===0&&(m=-1,l+=" "+d);break;case"previous":c=s.sPrevious,r===0&&(m=-1,l+=" "+d);break;case"next":c=s.sNext,(a===0||r===a-1)&&(m=-1,l+=" "+d);break;case"last":c=s.sLast,(a===0||r===a-1)&&(m=-1,l+=" "+d);break;default:c=n.fnFormatNumber(v+1),l=r===v?o.sPageButtonActive:"";break}c!==null&&(f=Ee("<a>",{class:o.sPageButton+" "+l,"aria-controls":n.sTableId,"aria-label":u[v],"data-dt-idx":v,tabindex:m,id:t===0&&typeof v=="string"?n.sTableId+"_"+v:null}).html(c).appendTo(M),ew(f,{action:v},g))}},I;try{I=Ee(e).find(document.activeElement).data("dt-idx")}catch{}_(Ee(e).empty(),i),I!==void 0&&Ee(e).find("[data-dt-idx="+I+"]").trigger("focus")}}});Ee.extend(Bt.ext.type.detect,[function(n,e){var t=e.oLanguage.sDecimal;return zb(n,t)?"num"+t:null},function(n,e){if(n&&!(n instanceof Date)&&!MN.test(n))return null;var t=Date.parse(n);return t!==null&&!isNaN(t)||so(n)?"date":null},function(n,e){var t=e.oLanguage.sDecimal;return zb(n,t,!0)?"num-fmt"+t:null},function(n,e){var t=e.oLanguage.sDecimal;return ES(n,t)?"html-num"+t:null},function(n,e){var t=e.oLanguage.sDecimal;return ES(n,t,!0)?"html-num-fmt"+t:null},function(n,e){return so(n)||typeof n=="string"&&n.indexOf("<")!==-1?"html":null}]);Ee.extend(Bt.ext.type.search,{html:function(n){return so(n)?n:typeof n=="string"?n.replace(xS," ").replace(Ng,""):""},string:function(n){return so(n)?n:typeof n=="string"?n.replace(xS," "):n}});var tg=function(n,e,t,i){return n!==0&&(!n||n==="-")?-1/0:(e&&(n=pT(n,e)),n.replace&&(t&&(n=n.replace(t,"")),i&&(n=n.replace(i,""))),n*1)};function Xb(n){Ee.each({num:function(e){return tg(e,n)},"num-fmt":function(e){return tg(e,n,Hb)},"html-num":function(e){return tg(e,n,Ng)},"html-num-fmt":function(e){return tg(e,n,Ng,Hb)}},function(e,t){ar.type.order[e+n+"-pre"]=t,e.match(/^html\-/)&&(ar.type.search[e+n]=ar.type.search.html)})}Ee.extend(ar.type.order,{"date-pre":function(n){var e=Date.parse(n);return isNaN(e)?-1/0:e},"html-pre":function(n){return so(n)?"":n.replace?n.replace(/<.*?>/g,"").toLowerCase():n+""},"string-pre":function(n){return so(n)?"":typeof n=="string"?n.toLowerCase():n.toString?n.toString():""},"string-asc":function(n,e){return n<e?-1:n>e?1:0},"string-desc":function(n,e){return n<e?1:n>e?-1:0}});Xb("");Ee.extend(!0,Bt.ext.renderer,{header:{_:function(n,e,t,i){Ee(n.nTable).on("order.dt.DT",function(r,a,o,s){if(n===a){var u=t.idx;e.removeClass(i.sSortAsc+" "+i.sSortDesc).addClass(s[u]=="asc"?i.sSortAsc:s[u]=="desc"?i.sSortDesc:t.sSortingClass)}})},jqueryui:function(n,e,t,i){Ee("<div/>").addClass(i.sSortJUIWrapper).append(e.contents()).append(Ee("<span/>").addClass(i.sSortIcon+" "+t.sSortingClassJUI)).appendTo(e),Ee(n.nTable).on("order.dt.DT",function(r,a,o,s){if(n===a){var u=t.idx;e.removeClass(i.sSortAsc+" "+i.sSortDesc).addClass(s[u]=="asc"?i.sSortAsc:s[u]=="desc"?i.sSortDesc:t.sSortingClass),e.find("span."+i.sSortIcon).removeClass(i.sSortJUIAsc+" "+i.sSortJUIDesc+" "+i.sSortJUI+" "+i.sSortJUIAscAllowed+" "+i.sSortJUIDescAllowed).addClass(s[u]=="asc"?i.sSortJUIAsc:s[u]=="desc"?i.sSortJUIDesc:t.sSortingClassJUI)}})}}});var Cg=function(n){return Array.isArray(n)&&(n=n.join(",")),typeof n=="string"?n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):n};function MS(n,e,t,i,r){return window.moment?n[e](r):window.luxon?n[t](r):i?n[i](r):n}var OS=!1;function zg(n,e,t){var i;if(window.moment){if(i=window.moment.utc(n,e,t,!0),!i.isValid())return null}else if(window.luxon){if(i=e&&typeof n=="string"?window.luxon.DateTime.fromFormat(n,e):window.luxon.DateTime.fromISO(n),!i.isValid)return null;i.setLocale(t)}else e?(OS||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),OS=!0):i=new Date(n);return i}function zy(n){return function(e,t,i,r){arguments.length===0?(i="en",t=null,e=null):arguments.length===1?(i="en",t=e,e=null):arguments.length===2&&(i=t,t=e,e=null);var a="datetime-"+t;return Bt.ext.type.order[a]||(Bt.ext.type.detect.unshift(function(o){return o===a?a:!1}),Bt.ext.type.order[a+"-asc"]=function(o,s){var u=o.valueOf(),c=s.valueOf();return u===c?0:u<c?-1:1},Bt.ext.type.order[a+"-desc"]=function(o,s){var u=o.valueOf(),c=s.valueOf();return u===c?0:u>c?-1:1}),function(o,s){if(o==null)if(r==="--now"){var u=new Date;o=new Date(Date.UTC(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes(),u.getSeconds()))}else o="";if(s==="type")return a;if(o==="")return s!=="sort"?"":zg("0000-01-01 00:00:00",null,i);if(t!==null&&e===t&&s!=="sort"&&s!=="type"&&!(o instanceof Date))return o;var c=zg(o,e,i);if(c===null)return o;if(s==="sort")return c;var l=t===null?MS(c,"toDate","toJSDate","")[n]():MS(c,"format","toFormat","toISOString",t);return s==="display"?Cg(l):l}}}var qT=",",e1=".";if(Intl)try{for(var Tf=new Intl.NumberFormat().formatToParts(100000.1),Lu=0;Lu<Tf.length;Lu++)Tf[Lu].type==="group"?qT=Tf[Lu].value:Tf[Lu].type==="decimal"&&(e1=Tf[Lu].value)}catch{}Bt.datetime=function(n,e){var t="datetime-detect-"+n;e||(e="en"),Bt.ext.type.order[t]||(Bt.ext.type.detect.unshift(function(i){var r=zg(i,n,e);return i===""||r?t:!1}),Bt.ext.type.order[t+"-pre"]=function(i){return zg(i,n,e)||0})};Bt.render={date:zy("toLocaleDateString"),datetime:zy("toLocaleString"),time:zy("toLocaleTimeString"),number:function(n,e,t,i,r){return n==null&&(n=qT),e==null&&(e=e1),{display:function(a){if(typeof a!="number"&&typeof a!="string"||a===""||a===null)return a;var o=a<0?"-":"",s=parseFloat(a);if(isNaN(s))return Cg(a);s=s.toFixed(t),a=Math.abs(s);var u=parseInt(a,10),c=t?e+(a-u).toFixed(t).substring(2):"";return u===0&&parseFloat(c)===0&&(o=""),o+(i||"")+u.toString().replace(/\B(?=(\d{3})+(?!\d))/g,n)+c+(r||"")}}},text:function(){return{display:Cg,filter:Cg}}};function t1(n){return function(){var e=[Hg(this[Bt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Bt.ext.internal[n].apply(this,e)}}Ee.extend(Bt.ext.internal,{_fnExternApiFunc:t1,_fnBuildAjax:Iv,_fnAjaxUpdate:xT,_fnAjaxParameters:ET,_fnAjaxUpdateDraw:TT,_fnAjaxDataSrc:gd,_fnAddColumn:U0,_fnColumnOptions:Fg,_fnAdjustColumnSizing:hd,_fnVisibleToColumnIndex:fd,_fnColumnIndexToVisible:dd,_fnVisbleColumns:kh,_fnGetColumns:_v,_fnColumnTypes:Y0,_fnApplyColumnDefs:wT,_fnHungarianMap:ud,_fnCamelToHungarian:Mo,_fnLanguageCompat:Wb,_fnBrowserDetect:bT,_fnAddData:Hl,_fnAddTr:xv,_fnNodeToDataIndex:RN,_fnNodeToColumnIndex:NN,_fnGetCellData:ba,_fnSetCellData:CT,_fnSplitObjNotation:Ub,_fnGetObjectDataFn:vh,_fnSetObjectDataFn:wl,_fnGetDataMaster:Yb,_fnClearTable:Ev,_fnDeleteIndex:bg,_fnInvalidate:pd,_fnGetRowElements:G0,_fnCreateTr:$0,_fnBuildHead:ST,_fnDrawHead:Xf,_fnDraw:zl,_fnReDraw:kc,_fnAddOptionsHtml:_T,_fnDetectHeader:Zf,_fnGetUniqueThs:Tv,_fnFeatureHtmlFilter:IT,_fnFilterComplete:vd,_fnFilterCustom:DT,_fnFilterColumn:AT,_fnFilter:MT,_fnFilterCreateSearch:X0,_fnEscapeRegex:Z0,_fnFilterData:OT,_fnFeatureHtmlInfo:kT,_fnUpdateInfo:PT,_fnInfoMacros:LT,_fnInitialise:Hf,_fnInitComplete:jg,_fnLengthChange:J0,_fnFeatureHtmlLength:RT,_fnFeatureHtmlPaginate:NT,_fnPageChange:Dv,_fnFeatureHtmlProcessing:FT,_fnProcessingDisplay:Fa,_fnFeatureHtmlTable:jT,_fnScrollDraw:Av,_fnApplyToChildren:to,_fnCalculateColumnWidths:K0,_fnThrottle:Q0,_fnConvertToWidth:BT,_fnGetWidestNode:HT,_fnGetMaxLenString:zT,_fnStringToCss:Ui,_fnSortFlatten:Ph,_fnSort:WT,_fnSortAria:UT,_fnSortListener:Gb,_fnSortAttachListener:q0,_fnSortingClasses:Bg,_fnSortData:YT,_fnSaveState:md,_fnLoadState:GT,_fnImplementState:$b,_fnSettingsFromNode:Hg,_fnLog:ls,_fnMap:As,_fnBindAction:ew,_fnCallbackReg:Jr,_fnCallbackFire:pi,_fnLengthOverflow:tw,_fnRenderer:nw,_fnDataSource:Ur,_fnRowAttributes:V0,_fnExtend:Vb,_fnCalculateEnd:function(){}});Ee.fn.dataTable=Bt;Bt.$=Ee;Ee.fn.dataTableSettings=Bt.settings;Ee.fn.dataTableExt=Bt.ext;Ee.fn.DataTable=function(n){return Ee(this).dataTable(n).api()};Ee.each(Bt,function(n,e){Ee.fn.DataTable[n]=e});Bt.use=function(n,e){e==="lib"||n.fn?Ee=n:(e=="win"||n.document)&&(window=n)};/*! DataTables Bootstrap 5 integration
 * 2020 SpryMedia Ltd - datatables.net/license
 */bl.extend(!0,Bt.defaults,{dom:"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>><'row dt-row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",renderer:"bootstrap"});bl.extend(Bt.ext.classes,{sWrapper:"dataTables_wrapper dt-bootstrap5",sFilterInput:"form-control form-control-sm",sLengthSelect:"form-select form-select-sm",sProcessing:"dataTables_processing card",sPageButton:"paginate_button page-item"});Bt.ext.renderer.pageButton.bootstrap=function(n,e,t,i,r,a){var o=new Bt.Api(n),s=n.oClasses,u=n.oLanguage.oPaginate,c=n.oLanguage.oAria.paginate||{},l,_,I=function(b,f){var v,m,d,g,h=function(C){C.preventDefault(),!bl(C.currentTarget).hasClass("disabled")&&o.page()!=C.data.action&&o.page(C.data.action).draw("page")};for(v=0,m=f.length;v<m;v++)if(g=f[v],Array.isArray(g))I(b,g);else{switch(l="",_="",g){case"ellipsis":l="&#x2026;",_="disabled";break;case"first":l=u.sFirst,_=g+(r>0?"":" disabled");break;case"previous":l=u.sPrevious,_=g+(r>0?"":" disabled");break;case"next":l=u.sNext,_=g+(r<a-1?"":" disabled");break;case"last":l=u.sLast,_=g+(r<a-1?"":" disabled");break;default:l=g+1,_=r===g?"active":"";break}l&&(d=bl("<li>",{class:s.sPageButton+" "+_,id:t===0&&typeof g=="string"?n.sTableId+"_"+g:null}).append(bl("<a>",{href:"#","aria-controls":n.sTableId,"aria-label":c[g],"data-dt-idx":g,tabindex:n.iTabIndex,class:"page-link"}).html(l)).appendTo(b),n.oApi._fnBindAction(d,{action:g},h))}},M=bl(e),P;try{P=M.find(document.activeElement).data("dt-idx")}catch{}var N=M.children("ul.pagination");N.length?N.empty():N=M.html("<ul/>").children("ul").addClass("pagination"),I(N,i),P!==void 0&&M.find("[data-dt-idx="+P+"]").trigger("focus")};var Wg=globalThis&&globalThis.__assign||function(){return Wg=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Wg.apply(this,arguments)},ZN={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",fadeColor:"transparent",animation:"spinner-line-fade-default",rotate:0,direction:1,speed:1,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:"0 0 1px transparent",position:"absolute"},JN=function(){function n(e){e===void 0&&(e={}),this.opts=Wg(Wg({},ZN),e)}return n.prototype.spin=function(e){return this.stop(),this.el=document.createElement("div"),this.el.className=this.opts.className,this.el.setAttribute("role","progressbar"),Zb(this.el,{position:this.opts.position,width:0,zIndex:this.opts.zIndex,left:this.opts.left,top:this.opts.top,transform:"scale("+this.opts.scale+")"}),e&&e.insertBefore(this.el,e.firstChild||null),KN(this.el,this.opts),this},n.prototype.stop=function(){return this.el&&(typeof requestAnimationFrame<"u"?cancelAnimationFrame(this.animateId):clearTimeout(this.animateId),this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=void 0),this},n}();function Zb(n,e){for(var t in e)n.style[t]=e[t];return n}function kS(n,e){return typeof n=="string"?n:n[e%n.length]}function KN(n,e){var t=Math.round(e.corners*e.width*500)/1e3+"px",i="none";e.shadow===!0?i="0 2px 4px #000":typeof e.shadow=="string"&&(i=e.shadow);for(var r=QN(i),a=0;a<e.lines;a++){var o=~~(360/e.lines*a+e.rotate),s=Zb(document.createElement("div"),{position:"absolute",top:-e.width/2+"px",width:e.length+e.width+"px",height:e.width+"px",background:kS(e.fadeColor,a),borderRadius:t,transformOrigin:"left",transform:"rotate("+o+"deg) translateX("+e.radius+"px)"}),u=a*e.direction/e.lines/e.speed;u-=1/e.speed;var c=Zb(document.createElement("div"),{width:"100%",height:"100%",background:kS(e.color,a),borderRadius:t,boxShadow:qN(r,o),animation:1/e.speed+"s linear "+u+"s infinite "+e.animation});s.appendChild(c),n.appendChild(s)}}function QN(n){for(var e=/^\s*([a-zA-Z]+\s+)?(-?\d+(\.\d+)?)([a-zA-Z]*)\s+(-?\d+(\.\d+)?)([a-zA-Z]*)(.*)$/,t=[],i=0,r=n.split(",");i<r.length;i++){var a=r[i],o=a.match(e);if(o!==null){var s=+o[2],u=+o[5],c=o[4],l=o[7];s===0&&!c&&(c=l),u===0&&!l&&(l=c),c===l&&t.push({prefix:o[1]||"",x:s,y:u,xUnits:c,yUnits:l,end:o[8]})}}return t}function qN(n,e){for(var t=[],i=0,r=n;i<r.length;i++){var a=r[i],o=eF(a.x,a.y,e);t.push(a.prefix+o[0]+a.xUnits+" "+o[1]+a.yUnits+a.end)}return t.join(", ")}function eF(n,e,t){var i=t*Math.PI/180,r=Math.sin(i),a=Math.cos(i);return[Math.round((n*a+e*r)*1e3)/1e3,Math.round((-n*r+e*a)*1e3)/1e3]}/*!
 * Ladda
 * http://lab.hakim.se/ladda
 * MIT licensed
 *
 * Copyright (C) 2018 Hakim El Hattab, http://hakim.se
 */function PS(n){if(typeof n>"u"){console.warn("Ladda button target must be defined.");return}if(n.classList.contains("ladda-button")||n.classList.add("ladda-button"),n.hasAttribute("data-style")||n.setAttribute("data-style","expand-right"),!n.querySelector(".ladda-label")){var e=document.createElement("span");e.className="ladda-label",nF(n,e)}var t=n.querySelector(".ladda-spinner");t||(t=document.createElement("span"),t.className="ladda-spinner"),n.appendChild(t);var i,r,a={start:function(){return r||(r=tF(n)),n.disabled=!0,n.setAttribute("data-loading",""),clearTimeout(i),r.spin(t),this.setProgress(0),this},startAfter:function(o){return clearTimeout(i),i=setTimeout(function(){a.start()},o),this},stop:function(){return a.isLoading()&&(n.disabled=!1,n.removeAttribute("data-loading")),clearTimeout(i),r&&(i=setTimeout(function(){r.stop()},1e3)),this},toggle:function(){return this.isLoading()?this.stop():this.start()},setProgress:function(o){o=Math.max(Math.min(o,1),0);var s=n.querySelector(".ladda-progress");o===0&&s&&s.parentNode?s.parentNode.removeChild(s):(s||(s=document.createElement("div"),s.className="ladda-progress",n.appendChild(s)),s.style.width=(o||0)*n.offsetWidth+"px")},isLoading:function(){return n.hasAttribute("data-loading")},remove:function(){clearTimeout(i),n.disabled=!1,n.removeAttribute("data-loading"),r&&(r.stop(),r=null)}};return a}function tF(n){var e=n.offsetHeight,t,i;e===0&&(e=parseFloat(window.getComputedStyle(n).height)),e>32&&(e*=.8),n.hasAttribute("data-spinner-size")&&(e=parseInt(n.getAttribute("data-spinner-size"),10)),n.hasAttribute("data-spinner-color")&&(t=n.getAttribute("data-spinner-color")),n.hasAttribute("data-spinner-lines")&&(i=parseInt(n.getAttribute("data-spinner-lines"),10));var r=e*.2,a=r*.6,o=r<7?2:3;return new JN({color:t||"#fff",lines:i||12,radius:r,length:a,width:o,animation:"ladda-spinner-line-fade",zIndex:"auto",top:"auto",left:"auto",className:""})}function nF(n,e){var t=document.createRange();t.selectNodeContents(n),t.surroundContents(e),n.appendChild(e)}var n1={exports:{}},ow={exports:{}},i1=function(e,t){return function(){for(var r=new Array(arguments.length),a=0;a<r.length;a++)r[a]=arguments[a];return e.apply(t,r)}},iF=i1,lw=Object.prototype.toString,cw=function(n){return function(e){var t=lw.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())}}(Object.create(null));function Hc(n){return n=n.toLowerCase(),function(t){return cw(t)===n}}function uw(n){return Array.isArray(n)}function Ug(n){return typeof n>"u"}function rF(n){return n!==null&&!Ug(n)&&n.constructor!==null&&!Ug(n.constructor)&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}var r1=Hc("ArrayBuffer");function aF(n){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&r1(n.buffer),e}function sF(n){return typeof n=="string"}function oF(n){return typeof n=="number"}function a1(n){return n!==null&&typeof n=="object"}function Sg(n){if(cw(n)!=="object")return!1;var e=Object.getPrototypeOf(n);return e===null||e===Object.prototype}var lF=Hc("Date"),cF=Hc("File"),uF=Hc("Blob"),hF=Hc("FileList");function hw(n){return lw.call(n)==="[object Function]"}function fF(n){return a1(n)&&hw(n.pipe)}function dF(n){var e="[object FormData]";return n&&(typeof FormData=="function"&&n instanceof FormData||lw.call(n)===e||hw(n.toString)&&n.toString()===e)}var pF=Hc("URLSearchParams");function gF(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function vF(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function fw(n,e){if(!(n===null||typeof n>"u"))if(typeof n!="object"&&(n=[n]),uw(n))for(var t=0,i=n.length;t<i;t++)e.call(null,n[t],t,n);else for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.call(null,n[r],r,n)}function Jb(){var n={};function e(r,a){Sg(n[a])&&Sg(r)?n[a]=Jb(n[a],r):Sg(r)?n[a]=Jb({},r):uw(r)?n[a]=r.slice():n[a]=r}for(var t=0,i=arguments.length;t<i;t++)fw(arguments[t],e);return n}function mF(n,e,t){return fw(e,function(r,a){t&&typeof r=="function"?n[a]=iF(r,t):n[a]=r}),n}function yF(n){return n.charCodeAt(0)===65279&&(n=n.slice(1)),n}function bF(n,e,t,i){n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,t&&Object.assign(n.prototype,t)}function wF(n,e,t){var i,r,a,o={};e=e||{};do{for(i=Object.getOwnPropertyNames(n),r=i.length;r-- >0;)a=i[r],o[a]||(e[a]=n[a],o[a]=!0);n=Object.getPrototypeOf(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e}function CF(n,e,t){n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return i!==-1&&i===t}function SF(n){if(!n)return null;var e=n.length;if(Ug(e))return null;for(var t=new Array(e);e-- >0;)t[e]=n[e];return t}var _F=function(n){return function(e){return n&&e instanceof n}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Fr={isArray:uw,isArrayBuffer:r1,isBuffer:rF,isFormData:dF,isArrayBufferView:aF,isString:sF,isNumber:oF,isObject:a1,isPlainObject:Sg,isUndefined:Ug,isDate:lF,isFile:cF,isBlob:uF,isFunction:hw,isStream:fF,isURLSearchParams:pF,isStandardBrowserEnv:vF,forEach:fw,merge:Jb,extend:mF,trim:gF,stripBOM:yF,inherits:bF,toFlatObject:wF,kindOf:cw,kindOfTest:Hc,endsWith:CF,toArray:SF,isTypedArray:_F,isFileList:hF},Ru=Fr;function LS(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var s1=function(e,t,i){if(!t)return e;var r;if(i)r=i(t);else if(Ru.isURLSearchParams(t))r=t.toString();else{var a=[];Ru.forEach(t,function(u,c){u===null||typeof u>"u"||(Ru.isArray(u)?c=c+"[]":u=[u],Ru.forEach(u,function(_){Ru.isDate(_)?_=_.toISOString():Ru.isObject(_)&&(_=JSON.stringify(_)),a.push(LS(c)+"="+LS(_))}))}),r=a.join("&")}if(r){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e},xF=Fr;function kv(){this.handlers=[]}kv.prototype.use=function(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};kv.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};kv.prototype.forEach=function(e){xF.forEach(this.handlers,function(i){i!==null&&e(i)})};var EF=kv,TF=Fr,IF=function(e,t){TF.forEach(e,function(r,a){a!==t&&a.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[a])})},o1=Fr;function mh(n,e,t,i,r){Error.call(this),this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),r&&(this.response=r)}o1.inherits(mh,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var l1=mh.prototype,c1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(n){c1[n]={value:n}});Object.defineProperties(mh,c1);Object.defineProperty(l1,"isAxiosError",{value:!0});mh.from=function(n,e,t,i,r,a){var o=Object.create(l1);return o1.toFlatObject(n,o,function(u){return u!==Error.prototype}),mh.call(o,n.message,e,t,i,r),o.name=n.name,a&&Object.assign(o,a),o};var Lh=mh,u1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Es=Fr;function DF(n,e){e=e||new FormData;var t=[];function i(a){return a===null?"":Es.isDate(a)?a.toISOString():Es.isArrayBuffer(a)||Es.isTypedArray(a)?typeof Blob=="function"?new Blob([a]):Buffer.from(a):a}function r(a,o){if(Es.isPlainObject(a)||Es.isArray(a)){if(t.indexOf(a)!==-1)throw Error("Circular reference detected in "+o);t.push(a),Es.forEach(a,function(u,c){if(!Es.isUndefined(u)){var l=o?o+"."+c:c,_;if(u&&!o&&typeof u=="object"){if(Es.endsWith(c,"{}"))u=JSON.stringify(u);else if(Es.endsWith(c,"[]")&&(_=Es.toArray(u))){_.forEach(function(I){!Es.isUndefined(I)&&e.append(l,i(I))});return}}r(u,l)}}),t.pop()}else e.append(o,i(a))}return r(n),e}var h1=DF,Wy,RS;function AF(){if(RS)return Wy;RS=1;var n=Lh;return Wy=function(t,i,r){var a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):i(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))},Wy}var Uy,NS;function MF(){if(NS)return Uy;NS=1;var n=Fr;return Uy=n.isStandardBrowserEnv()?function(){return{write:function(i,r,a,o,s,u){var c=[];c.push(i+"="+encodeURIComponent(r)),n.isNumber(a)&&c.push("expires="+new Date(a).toGMTString()),n.isString(o)&&c.push("path="+o),n.isString(s)&&c.push("domain="+s),u===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(i){var r=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Uy}var OF=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},kF=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},PF=OF,LF=kF,f1=function(e,t){return e&&!PF(t)?LF(e,t):t},Yy,FS;function RF(){if(FS)return Yy;FS=1;var n=Fr,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Yy=function(i){var r={},a,o,s;return i&&n.forEach(i.split(`
`),function(c){if(s=c.indexOf(":"),a=n.trim(c.substr(0,s)).toLowerCase(),o=n.trim(c.substr(s+1)),a){if(r[a]&&e.indexOf(a)>=0)return;a==="set-cookie"?r[a]=(r[a]?r[a]:[]).concat([o]):r[a]=r[a]?r[a]+", "+o:o}}),r},Yy}var Gy,jS;function NF(){if(jS)return Gy;jS=1;var n=Fr;return Gy=n.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),r;function a(o){var s=o;return t&&(i.setAttribute("href",s),s=i.href),i.setAttribute("href",s),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return r=a(window.location.href),function(s){var u=n.isString(s)?a(s):s;return u.protocol===r.protocol&&u.host===r.host}}():function(){return function(){return!0}}(),Gy}var $y,BS;function Pv(){if(BS)return $y;BS=1;var n=Lh,e=Fr;function t(i){n.call(this,i==null?"canceled":i,n.ERR_CANCELED),this.name="CanceledError"}return e.inherits(t,n,{__CANCEL__:!0}),$y=t,$y}var Vy,HS;function FF(){return HS||(HS=1,Vy=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}),Vy}var Xy,zS;function WS(){if(zS)return Xy;zS=1;var n=Fr,e=AF(),t=MF(),i=s1,r=f1,a=RF(),o=NF(),s=u1,u=Lh,c=Pv(),l=FF();return Xy=function(I){return new Promise(function(P,N){var b=I.data,f=I.headers,v=I.responseType,m;function d(){I.cancelToken&&I.cancelToken.unsubscribe(m),I.signal&&I.signal.removeEventListener("abort",m)}n.isFormData(b)&&n.isStandardBrowserEnv()&&delete f["Content-Type"];var g=new XMLHttpRequest;if(I.auth){var h=I.auth.username||"",C=I.auth.password?unescape(encodeURIComponent(I.auth.password)):"";f.Authorization="Basic "+btoa(h+":"+C)}var D=r(I.baseURL,I.url);g.open(I.method.toUpperCase(),i(D,I.params,I.paramsSerializer),!0),g.timeout=I.timeout;function S(){if(!!g){var B="getAllResponseHeaders"in g?a(g.getAllResponseHeaders()):null,z=!v||v==="text"||v==="json"?g.responseText:g.response,X={data:z,status:g.status,statusText:g.statusText,headers:B,config:I,request:g};e(function(ce){P(ce),d()},function(ce){N(ce),d()},X),g=null}}if("onloadend"in g?g.onloadend=S:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(S)},g.onabort=function(){!g||(N(new u("Request aborted",u.ECONNABORTED,I,g)),g=null)},g.onerror=function(){N(new u("Network Error",u.ERR_NETWORK,I,g,g)),g=null},g.ontimeout=function(){var z=I.timeout?"timeout of "+I.timeout+"ms exceeded":"timeout exceeded",X=I.transitional||s;I.timeoutErrorMessage&&(z=I.timeoutErrorMessage),N(new u(z,X.clarifyTimeoutError?u.ETIMEDOUT:u.ECONNABORTED,I,g)),g=null},n.isStandardBrowserEnv()){var k=(I.withCredentials||o(D))&&I.xsrfCookieName?t.read(I.xsrfCookieName):void 0;k&&(f[I.xsrfHeaderName]=k)}"setRequestHeader"in g&&n.forEach(f,function(z,X){typeof b>"u"&&X.toLowerCase()==="content-type"?delete f[X]:g.setRequestHeader(X,z)}),n.isUndefined(I.withCredentials)||(g.withCredentials=!!I.withCredentials),v&&v!=="json"&&(g.responseType=I.responseType),typeof I.onDownloadProgress=="function"&&g.addEventListener("progress",I.onDownloadProgress),typeof I.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",I.onUploadProgress),(I.cancelToken||I.signal)&&(m=function(B){!g||(N(!B||B&&B.type?new c:B),g.abort(),g=null)},I.cancelToken&&I.cancelToken.subscribe(m),I.signal&&(I.signal.aborted?m():I.signal.addEventListener("abort",m))),b||(b=null);var L=l(D);if(L&&["http","https","file"].indexOf(L)===-1){N(new u("Unsupported protocol "+L+":",u.ERR_BAD_REQUEST,I));return}g.send(b)})},Xy}var Zy,US;function jF(){return US||(US=1,Zy=null),Zy}var Tr=Fr,YS=IF,GS=Lh,BF=u1,HF=h1,zF={"Content-Type":"application/x-www-form-urlencoded"};function $S(n,e){!Tr.isUndefined(n)&&Tr.isUndefined(n["Content-Type"])&&(n["Content-Type"]=e)}function WF(){var n;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(n=WS()),n}function UF(n,e,t){if(Tr.isString(n))try{return(e||JSON.parse)(n),Tr.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}var Lv={transitional:BF,adapter:WF(),transformRequest:[function(e,t){if(YS(t,"Accept"),YS(t,"Content-Type"),Tr.isFormData(e)||Tr.isArrayBuffer(e)||Tr.isBuffer(e)||Tr.isStream(e)||Tr.isFile(e)||Tr.isBlob(e))return e;if(Tr.isArrayBufferView(e))return e.buffer;if(Tr.isURLSearchParams(e))return $S(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var i=Tr.isObject(e),r=t&&t["Content-Type"],a;if((a=Tr.isFileList(e))||i&&r==="multipart/form-data"){var o=this.env&&this.env.FormData;return HF(a?{"files[]":e}:e,o&&new o)}else if(i||r==="application/json")return $S(t,"application/json"),UF(e);return e}],transformResponse:[function(e){var t=this.transitional||Lv.transitional,i=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,a=!i&&this.responseType==="json";if(a||r&&Tr.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?GS.from(o,GS.ERR_BAD_RESPONSE,this,null,this.response):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jF()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Tr.forEach(["delete","get","head"],function(e){Lv.headers[e]={}});Tr.forEach(["post","put","patch"],function(e){Lv.headers[e]=Tr.merge(zF)});var dw=Lv,YF=Fr,GF=dw,$F=function(e,t,i){var r=this||GF;return YF.forEach(i,function(o){e=o.call(r,e,t)}),e},Jy,VS;function d1(){return VS||(VS=1,Jy=function(e){return!!(e&&e.__CANCEL__)}),Jy}var XS=Fr,Ky=$F,VF=d1(),XF=dw,ZF=Pv();function Qy(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ZF}var JF=function(e){Qy(e),e.headers=e.headers||{},e.data=Ky.call(e,e.data,e.headers,e.transformRequest),e.headers=XS.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),XS.forEach(["delete","get","head","post","put","patch","common"],function(r){delete e.headers[r]});var t=e.adapter||XF.adapter;return t(e).then(function(r){return Qy(e),r.data=Ky.call(e,r.data,r.headers,e.transformResponse),r},function(r){return VF(r)||(Qy(e),r&&r.response&&(r.response.data=Ky.call(e,r.response.data,r.response.headers,e.transformResponse))),Promise.reject(r)})},La=Fr,p1=function(e,t){t=t||{};var i={};function r(l,_){return La.isPlainObject(l)&&La.isPlainObject(_)?La.merge(l,_):La.isPlainObject(_)?La.merge({},_):La.isArray(_)?_.slice():_}function a(l){if(La.isUndefined(t[l])){if(!La.isUndefined(e[l]))return r(void 0,e[l])}else return r(e[l],t[l])}function o(l){if(!La.isUndefined(t[l]))return r(void 0,t[l])}function s(l){if(La.isUndefined(t[l])){if(!La.isUndefined(e[l]))return r(void 0,e[l])}else return r(void 0,t[l])}function u(l){if(l in t)return r(e[l],t[l]);if(l in e)return r(void 0,e[l])}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return La.forEach(Object.keys(e).concat(Object.keys(t)),function(_){var I=c[_]||a,M=I(_);La.isUndefined(M)&&I!==u||(i[_]=M)}),i},qy,ZS;function g1(){return ZS||(ZS=1,qy={version:"0.27.2"}),qy}var KF=g1().version,ml=Lh,pw={};["object","boolean","number","function","string","symbol"].forEach(function(n,e){pw[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});var JS={};pw.transitional=function(e,t,i){function r(a,o){return"[Axios v"+KF+"] Transitional option '"+a+"'"+o+(i?". "+i:"")}return function(a,o,s){if(e===!1)throw new ml(r(o," has been removed"+(t?" in "+t:"")),ml.ERR_DEPRECATED);return t&&!JS[o]&&(JS[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,o,s):!0}};function QF(n,e,t){if(typeof n!="object")throw new ml("options must be an object",ml.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(n),r=i.length;r-- >0;){var a=i[r],o=e[a];if(o){var s=n[a],u=s===void 0||o(s,a,n);if(u!==!0)throw new ml("option "+a+" must be "+u,ml.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ml("Unknown option "+a,ml.ERR_BAD_OPTION)}}var qF={assertOptions:QF,validators:pw},v1=Fr,ej=s1,KS=EF,QS=JF,Rv=p1,tj=f1,m1=qF,Nu=m1.validators;function yh(n){this.defaults=n,this.interceptors={request:new KS,response:new KS}}yh.prototype.request=function(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Rv(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var i=t.transitional;i!==void 0&&m1.assertOptions(i,{silentJSONParsing:Nu.transitional(Nu.boolean),forcedJSONParsing:Nu.transitional(Nu.boolean),clarifyTimeoutError:Nu.transitional(Nu.boolean)},!1);var r=[],a=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(t)===!1||(a=a&&M.synchronous,r.unshift(M.fulfilled,M.rejected))});var o=[];this.interceptors.response.forEach(function(M){o.push(M.fulfilled,M.rejected)});var s;if(!a){var u=[QS,void 0];for(Array.prototype.unshift.apply(u,r),u=u.concat(o),s=Promise.resolve(t);u.length;)s=s.then(u.shift(),u.shift());return s}for(var c=t;r.length;){var l=r.shift(),_=r.shift();try{c=l(c)}catch(I){_(I);break}}try{s=QS(c)}catch(I){return Promise.reject(I)}for(;o.length;)s=s.then(o.shift(),o.shift());return s};yh.prototype.getUri=function(e){e=Rv(this.defaults,e);var t=tj(e.baseURL,e.url);return ej(t,e.params,e.paramsSerializer)};v1.forEach(["delete","get","head","options"],function(e){yh.prototype[e]=function(t,i){return this.request(Rv(i||{},{method:e,url:t,data:(i||{}).data}))}});v1.forEach(["post","put","patch"],function(e){function t(i){return function(a,o,s){return this.request(Rv(s||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}yh.prototype[e]=t(),yh.prototype[e+"Form"]=t(!0)});var nj=yh,eb,qS;function ij(){if(qS)return eb;qS=1;var n=Pv();function e(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var i;this.promise=new Promise(function(o){i=o});var r=this;this.promise.then(function(a){if(!!r._listeners){var o,s=r._listeners.length;for(o=0;o<s;o++)r._listeners[o](a);r._listeners=null}}),this.promise.then=function(a){var o,s=new Promise(function(u){r.subscribe(u),o=u}).then(a);return s.cancel=function(){r.unsubscribe(o)},s},t(function(o){r.reason||(r.reason=new n(o),i(r.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]},e.prototype.unsubscribe=function(i){if(!!this._listeners){var r=this._listeners.indexOf(i);r!==-1&&this._listeners.splice(r,1)}},e.source=function(){var i,r=new e(function(o){i=o});return{token:r,cancel:i}},eb=e,eb}var tb,e_;function rj(){return e_||(e_=1,tb=function(e){return function(i){return e.apply(null,i)}}),tb}var nb,t_;function aj(){if(t_)return nb;t_=1;var n=Fr;return nb=function(t){return n.isObject(t)&&t.isAxiosError===!0},nb}var n_=Fr,sj=i1,_g=nj,oj=p1,lj=dw;function y1(n){var e=new _g(n),t=sj(_g.prototype.request,e);return n_.extend(t,_g.prototype,e),n_.extend(t,e),t.create=function(r){return y1(oj(n,r))},t}var wa=y1(lj);wa.Axios=_g;wa.CanceledError=Pv();wa.CancelToken=ij();wa.isCancel=d1();wa.VERSION=g1().version;wa.toFormData=h1;wa.AxiosError=Lh;wa.Cancel=wa.CanceledError;wa.all=function(e){return Promise.all(e)};wa.spread=rj();wa.isAxiosError=aj();ow.exports=wa;ow.exports.default=wa;(function(n){n.exports=ow.exports})(n1);const eh=hT(n1.exports),rh=n=>typeof n=="object"&&n!==null&&n.constructor===Object&&Object.prototype.toString.call(n)==="[object Object]",Kr=(...n)=>{let e=!1;typeof n[0]=="boolean"&&(e=n.shift());let t=n[0];if(!t||typeof t!="object")throw new Error("extendee must be an object");const i=n.slice(1),r=i.length;for(let a=0;a<r;a++){const o=i[a];for(let s in o)if(o.hasOwnProperty(s)){const u=o[s];if(e&&(Array.isArray(u)||rh(u))){const c=Array.isArray(u)?[]:{};t[s]=Kr(!0,t.hasOwnProperty(s)?t[s]:c,u)}else t[s]=u}}return t},rr=(n,e=1e4)=>(n=parseFloat(n)||0,Math.round((n+Number.EPSILON)*e)/e),Yg=function(n){return!!(n&&typeof n=="object"&&n instanceof Element&&n!==document.body)&&!n.__Panzoom&&(function(e){const t=getComputedStyle(e)["overflow-y"],i=getComputedStyle(e)["overflow-x"],r=(t==="scroll"||t==="auto")&&Math.abs(e.scrollHeight-e.clientHeight)>1,a=(i==="scroll"||i==="auto")&&Math.abs(e.scrollWidth-e.clientWidth)>1;return r||a}(n)?n:Yg(n.parentNode))},cj=typeof window<"u"&&window.ResizeObserver||class{constructor(n){this.observables=[],this.boundCheck=this.check.bind(this),this.boundCheck(),this.callback=n}observe(n){if(this.observables.some(t=>t.el===n))return;const e={el:n,size:{height:n.clientHeight,width:n.clientWidth}};this.observables.push(e)}unobserve(n){this.observables=this.observables.filter(e=>e.el!==n)}disconnect(){this.observables=[]}check(){const n=this.observables.filter(e=>{const t=e.el.clientHeight,i=e.el.clientWidth;if(e.size.height!==t||e.size.width!==i)return e.size.height=t,e.size.width=i,!0}).map(e=>e.el);n.length>0&&this.callback(n),window.requestAnimationFrame(this.boundCheck)}};class Fu{constructor(e){this.id=self.Touch&&e instanceof Touch?e.identifier:-1,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY}}const i_=(n,e)=>e?Math.sqrt((e.clientX-n.clientX)**2+(e.clientY-n.clientY)**2):0,ib=(n,e)=>e?{clientX:(n.clientX+e.clientX)/2,clientY:(n.clientY+e.clientY)/2}:n;class uj{constructor(e,{start:t=()=>!0,move:i=()=>{},end:r=()=>{}}={}){this._element=e,this.startPointers=[],this.currentPointers=[],this._pointerStart=a=>{if(a.buttons>0&&a.button!==0)return;const o=new Fu(a);this.currentPointers.some(s=>s.id===o.id)||this._triggerPointerStart(o,a)&&(window.addEventListener("mousemove",this._move),window.addEventListener("mouseup",this._pointerEnd))},this._touchStart=a=>{for(const o of Array.from(a.changedTouches||[]))this._triggerPointerStart(new Fu(o),a)},this._move=a=>{const o=this.currentPointers.slice(),s=(u=>"changedTouches"in u)(a)?Array.from(a.changedTouches).map(u=>new Fu(u)):[new Fu(a)];for(const u of s){const c=this.currentPointers.findIndex(l=>l.id===u.id);c<0||(this.currentPointers[c]=u)}this._moveCallback(o,this.currentPointers.slice(),a)},this._triggerPointerEnd=(a,o)=>{const s=this.currentPointers.findIndex(u=>u.id===a.id);return!(s<0)&&(this.currentPointers.splice(s,1),this.startPointers.splice(s,1),this._endCallback(a,o),!0)},this._pointerEnd=a=>{a.buttons>0&&a.button!==0||this._triggerPointerEnd(new Fu(a),a)&&(window.removeEventListener("mousemove",this._move,{passive:!1}),window.removeEventListener("mouseup",this._pointerEnd,{passive:!1}))},this._touchEnd=a=>{for(const o of Array.from(a.changedTouches||[]))this._triggerPointerEnd(new Fu(o),a)},this._startCallback=t,this._moveCallback=i,this._endCallback=r,this._element.addEventListener("mousedown",this._pointerStart,{passive:!1}),this._element.addEventListener("touchstart",this._touchStart,{passive:!1}),this._element.addEventListener("touchmove",this._move,{passive:!1}),this._element.addEventListener("touchend",this._touchEnd),this._element.addEventListener("touchcancel",this._touchEnd)}stop(){this._element.removeEventListener("mousedown",this._pointerStart,{passive:!1}),this._element.removeEventListener("touchstart",this._touchStart,{passive:!1}),this._element.removeEventListener("touchmove",this._move,{passive:!1}),this._element.removeEventListener("touchend",this._touchEnd),this._element.removeEventListener("touchcancel",this._touchEnd),window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)}_triggerPointerStart(e,t){return!!this._startCallback(e,t)&&(this.currentPointers.push(e),this.startPointers.push(e),!0)}}class gw{constructor(e={}){this.options=Kr(!0,{},e),this.plugins=[],this.events={};for(const t of["on","once"])for(const i of Object.entries(this.options[t]||{}))this[t](...i)}option(e,t,...i){e=String(e);let r=(a=e,o=this.options,a.split(".").reduce(function(s,u){return s&&s[u]},o));var a,o;return typeof r=="function"&&(r=r.call(this,this,...i)),r===void 0?t:r}localize(e,t=[]){return e=(e=String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,(i,r,a)=>{let o="";a?o=this.option(`${r[0]+r.toLowerCase().substring(1)}.l10n.${a}`):r&&(o=this.option(`l10n.${r}`)),o||(o=i);for(let s=0;s<t.length;s++)o=o.split(t[s][0]).join(t[s][1]);return o})).replace(/\{\{(.*)\}\}/,(i,r)=>r)}on(e,t){if(rh(e)){for(const i of Object.entries(e))this.on(...i);return this}return String(e).split(" ").forEach(i=>{const r=this.events[i]=this.events[i]||[];r.indexOf(t)==-1&&r.push(t)}),this}once(e,t){if(rh(e)){for(const i of Object.entries(e))this.once(...i);return this}return String(e).split(" ").forEach(i=>{const r=(...a)=>{this.off(i,r),t.call(this,this,...a)};r._=t,this.on(i,r)}),this}off(e,t){if(!rh(e))return e.split(" ").forEach(i=>{const r=this.events[i];if(!r||!r.length)return this;let a=-1;for(let o=0,s=r.length;o<s;o++){const u=r[o];if(u&&(u===t||u._===t)){a=o;break}}a!=-1&&r.splice(a,1)}),this;for(const i of Object.entries(e))this.off(...i)}trigger(e,...t){for(const i of[...this.events[e]||[]].slice())if(i&&i.call(this,this,...t)===!1)return!1;for(const i of[...this.events["*"]||[]].slice())if(i&&i.call(this,e,this,...t)===!1)return!1;return!0}attachPlugins(e){const t={};for(const[i,r]of Object.entries(e||{}))this.options[i]===!1||this.plugins[i]||(this.options[i]=Kr({},r.defaults||{},this.options[i]),t[i]=new r(this));for(const[i,r]of Object.entries(t))r.attach(this);return this.plugins=Object.assign({},this.plugins,t),this}detachPlugins(){for(const e in this.plugins){let t;(t=this.plugins[e])&&typeof t.detach=="function"&&t.detach(this)}return this.plugins={},this}}const hj={touch:!0,zoom:!0,pinchToZoom:!0,panOnlyZoomed:!1,lockAxis:!1,friction:.64,decelFriction:.88,zoomFriction:.74,bounceForce:.2,baseScale:1,minScale:1,maxScale:2,step:.5,textSelection:!1,click:"toggleZoom",wheel:"zoom",wheelFactor:42,wheelLimit:5,draggableClass:"is-draggable",draggingClass:"is-dragging",ratio:1};class bh extends gw{constructor(e,t={}){super(Kr(!0,{},hj,t)),this.state="init",this.$container=e;for(const i of["onLoad","onWheel","onClick"])this[i]=this[i].bind(this);this.initLayout(),this.resetValues(),this.attachPlugins(bh.Plugins),this.trigger("init"),this.updateMetrics(),this.attachEvents(),this.trigger("ready"),this.option("centerOnStart")===!1?this.state="ready":this.panTo({friction:0}),e.__Panzoom=this}initLayout(){const e=this.$container;if(!(e instanceof HTMLElement))throw new Error("Panzoom: Container not found");const t=this.option("content")||e.querySelector(".panzoom__content");if(!t)throw new Error("Panzoom: Content not found");this.$content=t;let i=this.option("viewport")||e.querySelector(".panzoom__viewport");i||this.option("wrapInner")===!1||(i=document.createElement("div"),i.classList.add("panzoom__viewport"),i.append(...e.childNodes),e.appendChild(i)),this.$viewport=i||t.parentNode}resetValues(){this.updateRate=this.option("updateRate",/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?250:24),this.container={width:0,height:0},this.viewport={width:0,height:0},this.content={origWidth:0,origHeight:0,width:0,height:0,x:this.option("x",0),y:this.option("y",0),scale:this.option("baseScale")},this.transform={x:0,y:0,scale:1},this.resetDragPosition()}onLoad(e){this.updateMetrics(),this.panTo({scale:this.option("baseScale"),friction:0}),this.trigger("load",e)}onClick(e){if(e.defaultPrevented||document.activeElement&&document.activeElement.closest("[contenteditable]"))return;if(this.option("textSelection")&&window.getSelection().toString().length&&(!e.target||!e.target.hasAttribute("data-fancybox-close")))return void e.stopPropagation();const t=this.$content.getClientRects()[0];if(this.state!=="ready"&&(this.dragPosition.midPoint||Math.abs(t.top-this.dragStart.rect.top)>1||Math.abs(t.left-this.dragStart.rect.left)>1))return e.preventDefault(),void e.stopPropagation();this.trigger("click",e)!==!1&&this.option("zoom")&&this.option("click")==="toggleZoom"&&(e.preventDefault(),e.stopPropagation(),this.zoomWithClick(e))}onWheel(e){this.trigger("wheel",e)!==!1&&this.option("zoom")&&this.option("wheel")&&this.zoomWithWheel(e)}zoomWithWheel(e){this.changedDelta===void 0&&(this.changedDelta=0);const t=Math.max(-1,Math.min(1,-e.deltaY||-e.deltaX||e.wheelDelta||-e.detail)),i=this.content.scale;let r=i*(100+t*this.option("wheelFactor"))/100;if(t<0&&Math.abs(i-this.option("minScale"))<.01||t>0&&Math.abs(i-this.option("maxScale"))<.01?(this.changedDelta+=Math.abs(t),r=i):(this.changedDelta=0,r=Math.max(Math.min(r,this.option("maxScale")),this.option("minScale"))),this.changedDelta>this.option("wheelLimit")||(e.preventDefault(),r===i))return;const a=this.$content.getBoundingClientRect(),o=e.clientX-a.left,s=e.clientY-a.top;this.zoomTo(r,{x:o,y:s})}zoomWithClick(e){const t=this.$content.getClientRects()[0],i=e.clientX-t.left,r=e.clientY-t.top;this.toggleZoom({x:i,y:r})}attachEvents(){this.$content.addEventListener("load",this.onLoad),this.$container.addEventListener("wheel",this.onWheel,{passive:!1}),this.$container.addEventListener("click",this.onClick,{passive:!1}),this.initObserver();const e=new uj(this.$container,{start:(t,i)=>{if(!this.option("touch")||this.velocity.scale<0)return!1;const r=i.composedPath()[0];return!e.currentPointers.length&&(["BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(r.nodeName)!==-1||this.option("textSelection")&&((a,o,s)=>{const u=a.childNodes,c=document.createRange();for(let l=0;l<u.length;l++){const _=u[l];if(_.nodeType!==Node.TEXT_NODE)continue;c.selectNodeContents(_);const I=c.getBoundingClientRect();if(o>=I.left&&s>=I.top&&o<=I.right&&s<=I.bottom)return _}return!1})(r,t.clientX,t.clientY))?!1:!Yg(r)&&this.trigger("touchStart",i)!==!1&&(i.type==="mousedown"&&i.preventDefault(),this.state="pointerdown",this.resetDragPosition(),this.dragPosition.midPoint=null,this.dragPosition.time=Date.now(),!0)},move:(t,i,r)=>{if(this.state!=="pointerdown")return;if(this.trigger("touchMove",r)===!1)return void r.preventDefault();if(i.length<2&&this.option("panOnlyZoomed")===!0&&this.content.width<=this.viewport.width&&this.content.height<=this.viewport.height&&this.transform.scale<=this.option("baseScale")||i.length>1&&(!this.option("zoom")||this.option("pinchToZoom")===!1))return;const a=ib(t[0],t[1]),o=ib(i[0],i[1]),s=o.clientX-a.clientX,u=o.clientY-a.clientY,c=i_(t[0],t[1]),l=i_(i[0],i[1]),_=c&&l?l/c:1;this.dragOffset.x+=s,this.dragOffset.y+=u,this.dragOffset.scale*=_,this.dragOffset.time=Date.now()-this.dragPosition.time;const I=this.dragStart.scale===1&&this.option("lockAxis");if(I&&!this.lockAxis){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void r.preventDefault();const M=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockAxis=M>45&&M<135?"y":"x"}if(I==="xy"||this.lockAxis!=="y"){if(r.preventDefault(),r.stopPropagation(),r.stopImmediatePropagation(),this.lockAxis&&(this.dragOffset[this.lockAxis==="x"?"y":"x"]=0),this.$container.classList.add(this.option("draggingClass")),this.transform.scale===this.option("baseScale")&&this.lockAxis==="y"||(this.dragPosition.x=this.dragStart.x+this.dragOffset.x),this.transform.scale===this.option("baseScale")&&this.lockAxis==="x"||(this.dragPosition.y=this.dragStart.y+this.dragOffset.y),this.dragPosition.scale=this.dragStart.scale*this.dragOffset.scale,i.length>1){const M=ib(e.startPointers[0],e.startPointers[1]),P=M.clientX-this.dragStart.rect.x,N=M.clientY-this.dragStart.rect.y,{deltaX:b,deltaY:f}=this.getZoomDelta(this.content.scale*this.dragOffset.scale,P,N);this.dragPosition.x-=b,this.dragPosition.y-=f,this.dragPosition.midPoint=o}else this.setDragResistance();this.transform={x:this.dragPosition.x,y:this.dragPosition.y,scale:this.dragPosition.scale},this.startAnimation()}},end:(t,i)=>{if(this.state!=="pointerdown")return;if(this._dragOffset={...this.dragOffset},e.currentPointers.length)return void this.resetDragPosition();if(this.state="decel",this.friction=this.option("decelFriction"),this.recalculateTransform(),this.$container.classList.remove(this.option("draggingClass")),this.trigger("touchEnd",i)===!1||this.state!=="decel")return;const r=this.option("minScale");if(this.transform.scale<r)return void this.zoomTo(r,{friction:.64});const a=this.option("maxScale");if(this.transform.scale-a>.01){const o=this.dragPosition.midPoint||t,s=this.$content.getClientRects()[0];this.zoomTo(a,{friction:.64,x:o.clientX-s.left,y:o.clientY-s.top})}}});this.pointerTracker=e}initObserver(){this.resizeObserver||(this.resizeObserver=new cj(()=>{this.updateTimer||(this.updateTimer=setTimeout(()=>{const e=this.$container.getBoundingClientRect();e.width&&e.height?((Math.abs(e.width-this.container.width)>1||Math.abs(e.height-this.container.height)>1)&&(this.isAnimating()&&this.endAnimation(!0),this.updateMetrics(),this.panTo({x:this.content.x,y:this.content.y,scale:this.option("baseScale"),friction:0})),this.updateTimer=null):this.updateTimer=null},this.updateRate))}),this.resizeObserver.observe(this.$container))}resetDragPosition(){this.lockAxis=null,this.friction=this.option("friction"),this.velocity={x:0,y:0,scale:0};const{x:e,y:t,scale:i}=this.content;this.dragStart={rect:this.$content.getBoundingClientRect(),x:e,y:t,scale:i},this.dragPosition={...this.dragPosition,x:e,y:t,scale:i},this.dragOffset={x:0,y:0,scale:1,time:0}}updateMetrics(e){e!==!0&&this.trigger("beforeUpdate");const t=this.$container,i=this.$content,r=this.$viewport,a=i instanceof HTMLImageElement,o=this.option("zoom"),s=this.option("resizeParent",o);let u=this.option("width"),c=this.option("height"),l=u||(_=i,Math.max(parseFloat(_.naturalWidth||0),parseFloat(_.width&&_.width.baseVal&&_.width.baseVal.value||0),parseFloat(_.offsetWidth||0),parseFloat(_.scrollWidth||0)));var _;let I=c||(d=>Math.max(parseFloat(d.naturalHeight||0),parseFloat(d.height&&d.height.baseVal&&d.height.baseVal.value||0),parseFloat(d.offsetHeight||0),parseFloat(d.scrollHeight||0)))(i);Object.assign(i.style,{width:u?`${u}px`:"",height:c?`${c}px`:"",maxWidth:"",maxHeight:""}),s&&Object.assign(r.style,{width:"",height:""});const M=this.option("ratio");l=rr(l*M),I=rr(I*M),u=l,c=I;const P=i.getBoundingClientRect(),N=r.getBoundingClientRect(),b=r==t?N:t.getBoundingClientRect();let f=Math.max(r.offsetWidth,rr(N.width)),v=Math.max(r.offsetHeight,rr(N.height)),m=window.getComputedStyle(r);if(f-=parseFloat(m.paddingLeft)+parseFloat(m.paddingRight),v-=parseFloat(m.paddingTop)+parseFloat(m.paddingBottom),this.viewport.width=f,this.viewport.height=v,o){if(Math.abs(l-P.width)>.1||Math.abs(I-P.height)>.1){const d=((g,h,C,D)=>{const S=Math.min(C/g||0,D/h);return{width:g*S||0,height:h*S||0}})(l,I,Math.min(l,P.width),Math.min(I,P.height));u=rr(d.width),c=rr(d.height)}Object.assign(i.style,{width:`${u}px`,height:`${c}px`,transform:""})}if(s&&(Object.assign(r.style,{width:`${u}px`,height:`${c}px`}),this.viewport={...this.viewport,width:u,height:c}),a&&o&&typeof this.options.maxScale!="function"){const d=this.option("maxScale");this.options.maxScale=function(){return this.content.origWidth>0&&this.content.fitWidth>0?this.content.origWidth/this.content.fitWidth:d}}this.content={...this.content,origWidth:l,origHeight:I,fitWidth:u,fitHeight:c,width:u,height:c,scale:1,isZoomable:o},this.container={width:b.width,height:b.height},e!==!0&&this.trigger("afterUpdate")}zoomIn(e){this.zoomTo(this.content.scale+(e||this.option("step")))}zoomOut(e){this.zoomTo(this.content.scale-(e||this.option("step")))}toggleZoom(e={}){const t=this.option("maxScale"),i=this.option("baseScale"),r=this.content.scale>i+.5*(t-i)?i:t;this.zoomTo(r,e)}zoomTo(e=this.option("baseScale"),{x:t=null,y:i=null}={}){e=Math.max(Math.min(e,this.option("maxScale")),this.option("minScale"));const r=rr(this.content.scale/(this.content.width/this.content.fitWidth),1e7);t===null&&(t=this.content.width*r*.5),i===null&&(i=this.content.height*r*.5);const{deltaX:a,deltaY:o}=this.getZoomDelta(e,t,i);t=this.content.x-a,i=this.content.y-o,this.panTo({x:t,y:i,scale:e,friction:this.option("zoomFriction")})}getZoomDelta(e,t=0,i=0){const r=this.content.fitWidth*this.content.scale,a=this.content.fitHeight*this.content.scale,o=t>0&&r?t/r:0,s=i>0&&a?i/a:0;return{deltaX:(this.content.fitWidth*e-r)*o,deltaY:(this.content.fitHeight*e-a)*s}}panTo({x:e=this.content.x,y:t=this.content.y,scale:i,friction:r=this.option("friction"),ignoreBounds:a=!1}={}){if(i=i||this.content.scale||1,!a){const{boundX:o,boundY:s}=this.getBounds(i);o&&(e=Math.max(Math.min(e,o.to),o.from)),s&&(t=Math.max(Math.min(t,s.to),s.from))}this.friction=r,this.transform={...this.transform,x:e,y:t,scale:i},r?(this.state="panning",this.velocity={x:(1/this.friction-1)*(e-this.content.x),y:(1/this.friction-1)*(t-this.content.y),scale:(1/this.friction-1)*(i-this.content.scale)},this.startAnimation()):this.endAnimation()}startAnimation(){this.rAF?cancelAnimationFrame(this.rAF):this.trigger("startAnimation"),this.rAF=requestAnimationFrame(()=>this.animate())}animate(){if(this.setEdgeForce(),this.setDragForce(),this.velocity.x*=this.friction,this.velocity.y*=this.friction,this.velocity.scale*=this.friction,this.content.x+=this.velocity.x,this.content.y+=this.velocity.y,this.content.scale+=this.velocity.scale,this.isAnimating())this.setTransform();else if(this.state!=="pointerdown")return void this.endAnimation();this.rAF=requestAnimationFrame(()=>this.animate())}getBounds(e){let t=this.boundX,i=this.boundY;if(t!==void 0&&i!==void 0)return{boundX:t,boundY:i};t={from:0,to:0},i={from:0,to:0},e=e||this.transform.scale;const r=this.content.fitWidth*e,a=this.content.fitHeight*e,o=this.viewport.width,s=this.viewport.height;if(r<o){const u=rr(.5*(o-r));t.from=u,t.to=u}else t.from=rr(o-r);if(a<s){const u=.5*(s-a);i.from=u,i.to=u}else i.from=rr(s-a);return{boundX:t,boundY:i}}setEdgeForce(){if(this.state!=="decel")return;const e=this.option("bounceForce"),{boundX:t,boundY:i}=this.getBounds(Math.max(this.transform.scale,this.content.scale));let r,a,o,s;if(t&&(r=this.content.x<t.from,a=this.content.x>t.to),i&&(o=this.content.y<i.from,s=this.content.y>i.to),r||a){let u=((r?t.from:t.to)-this.content.x)*e;const c=this.content.x+(this.velocity.x+u)/this.friction;c>=t.from&&c<=t.to&&(u+=this.velocity.x),this.velocity.x=u,this.recalculateTransform()}if(o||s){let u=((o?i.from:i.to)-this.content.y)*e;const c=this.content.y+(u+this.velocity.y)/this.friction;c>=i.from&&c<=i.to&&(u+=this.velocity.y),this.velocity.y=u,this.recalculateTransform()}}setDragResistance(){if(this.state!=="pointerdown")return;const{boundX:e,boundY:t}=this.getBounds(this.dragPosition.scale);let i,r,a,o;if(e&&(i=this.dragPosition.x<e.from,r=this.dragPosition.x>e.to),t&&(a=this.dragPosition.y<t.from,o=this.dragPosition.y>t.to),(i||r)&&(!i||!r)){const s=i?e.from:e.to,u=s-this.dragPosition.x;this.dragPosition.x=s-.3*u}if((a||o)&&(!a||!o)){const s=a?t.from:t.to,u=s-this.dragPosition.y;this.dragPosition.y=s-.3*u}}setDragForce(){this.state==="pointerdown"&&(this.velocity.x=this.dragPosition.x-this.content.x,this.velocity.y=this.dragPosition.y-this.content.y,this.velocity.scale=this.dragPosition.scale-this.content.scale)}recalculateTransform(){this.transform.x=this.content.x+this.velocity.x/(1/this.friction-1),this.transform.y=this.content.y+this.velocity.y/(1/this.friction-1),this.transform.scale=this.content.scale+this.velocity.scale/(1/this.friction-1)}isAnimating(){return!(!this.friction||!(Math.abs(this.velocity.x)>.05||Math.abs(this.velocity.y)>.05||Math.abs(this.velocity.scale)>.05))}setTransform(e){let t,i,r;if(e?(t=rr(this.transform.x),i=rr(this.transform.y),r=this.transform.scale,this.content={...this.content,x:t,y:i,scale:r}):(t=rr(this.content.x),i=rr(this.content.y),r=this.content.scale/(this.content.width/this.content.fitWidth),this.content={...this.content,x:t,y:i}),this.trigger("beforeTransform"),t=rr(this.content.x),i=rr(this.content.y),e&&this.option("zoom")){let a,o;a=rr(this.content.fitWidth*r),o=rr(this.content.fitHeight*r),this.content.width=a,this.content.height=o,this.transform={...this.transform,width:a,height:o,scale:r},Object.assign(this.$content.style,{width:`${a}px`,height:`${o}px`,maxWidth:"none",maxHeight:"none",transform:`translate3d(${t}px, ${i}px, 0) scale(1)`})}else this.$content.style.transform=`translate3d(${t}px, ${i}px, 0) scale(${r})`;this.trigger("afterTransform")}endAnimation(e){cancelAnimationFrame(this.rAF),this.rAF=null,this.velocity={x:0,y:0,scale:0},this.setTransform(!0),this.state="ready",this.handleCursor(),e!==!0&&this.trigger("endAnimation")}handleCursor(){const e=this.option("draggableClass");e&&this.option("touch")&&(this.option("panOnlyZoomed")==1&&this.content.width<=this.viewport.width&&this.content.height<=this.viewport.height&&this.transform.scale<=this.option("baseScale")?this.$container.classList.remove(e):this.$container.classList.add(e))}detachEvents(){this.$content.removeEventListener("load",this.onLoad),this.$container.removeEventListener("wheel",this.onWheel,{passive:!1}),this.$container.removeEventListener("click",this.onClick,{passive:!1}),this.pointerTracker&&(this.pointerTracker.stop(),this.pointerTracker=null),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}destroy(){this.state!=="destroy"&&(this.state="destroy",clearTimeout(this.updateTimer),this.updateTimer=null,cancelAnimationFrame(this.rAF),this.rAF=null,this.detachEvents(),this.detachPlugins(),this.resetDragPosition())}}bh.version="4.0.31",bh.Plugins={};const r_=(n,e)=>{let t=0;return function(...i){const r=new Date().getTime();if(!(r-t<e))return t=r,n(...i)}};class b1{constructor(e){this.$container=null,this.$prev=null,this.$next=null,this.carousel=e,this.onRefresh=this.onRefresh.bind(this)}option(e){return this.carousel.option(`Navigation.${e}`)}createButton(e){const t=document.createElement("button");t.setAttribute("title",this.carousel.localize(`{{${e.toUpperCase()}}}`));const i=this.option("classNames.button")+" "+this.option(`classNames.${e}`);return t.classList.add(...i.split(" ")),t.setAttribute("tabindex","0"),t.innerHTML=this.carousel.localize(this.option(`${e}Tpl`)),t.addEventListener("click",r=>{r.preventDefault(),r.stopPropagation(),this.carousel["slide"+(e==="next"?"Next":"Prev")]()}),t}build(){this.$container||(this.$container=document.createElement("div"),this.$container.classList.add(...this.option("classNames.main").split(" ")),this.carousel.$container.appendChild(this.$container)),this.$next||(this.$next=this.createButton("next"),this.$container.appendChild(this.$next)),this.$prev||(this.$prev=this.createButton("prev"),this.$container.appendChild(this.$prev))}onRefresh(){const e=this.carousel.pages.length;e<=1||e>1&&this.carousel.elemDimWidth<this.carousel.wrapDimWidth&&!Number.isInteger(this.carousel.option("slidesPerPage"))?this.cleanup():(this.build(),this.$prev.removeAttribute("disabled"),this.$next.removeAttribute("disabled"),this.carousel.option("infiniteX",this.carousel.option("infinite"))||(this.carousel.page<=0&&this.$prev.setAttribute("disabled",""),this.carousel.page>=e-1&&this.$next.setAttribute("disabled","")))}cleanup(){this.$prev&&this.$prev.remove(),this.$prev=null,this.$next&&this.$next.remove(),this.$next=null,this.$container&&this.$container.remove(),this.$container=null}attach(){this.carousel.on("refresh change",this.onRefresh)}detach(){this.carousel.off("refresh change",this.onRefresh),this.cleanup()}}b1.defaults={prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>',nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',classNames:{main:"carousel__nav",button:"carousel__button",next:"is-next",prev:"is-prev"}};class w1{constructor(e){this.carousel=e,this.selectedIndex=null,this.friction=0,this.onNavReady=this.onNavReady.bind(this),this.onNavClick=this.onNavClick.bind(this),this.onNavCreateSlide=this.onNavCreateSlide.bind(this),this.onTargetChange=this.onTargetChange.bind(this)}addAsTargetFor(e){this.target=this.carousel,this.nav=e,this.attachEvents()}addAsNavFor(e){this.target=e,this.nav=this.carousel,this.attachEvents()}attachEvents(){this.nav.options.initialSlide=this.target.options.initialPage,this.nav.on("ready",this.onNavReady),this.nav.on("createSlide",this.onNavCreateSlide),this.nav.on("Panzoom.click",this.onNavClick),this.target.on("change",this.onTargetChange),this.target.on("Panzoom.afterUpdate",this.onTargetChange)}onNavReady(){this.onTargetChange(!0)}onNavClick(e,t,i){const r=i.target.closest(".carousel__slide");if(!r)return;i.stopPropagation();const a=parseInt(r.dataset.index,10),o=this.target.findPageForSlide(a);this.target.page!==o&&this.target.slideTo(o,{friction:this.friction}),this.markSelectedSlide(a)}onNavCreateSlide(e,t){t.index===this.selectedIndex&&this.markSelectedSlide(t.index)}onTargetChange(){const e=this.target.pages[this.target.page].indexes[0],t=this.nav.findPageForSlide(e);this.nav.slideTo(t),this.markSelectedSlide(e)}markSelectedSlide(e){this.selectedIndex=e,[...this.nav.slides].filter(i=>i.$el&&i.$el.classList.remove("is-nav-selected"));const t=this.nav.slides[e];t&&t.$el&&t.$el.classList.add("is-nav-selected")}attach(e){const t=e.options.Sync;(t.target||t.nav)&&(t.target?this.addAsNavFor(t.target):t.nav&&this.addAsTargetFor(t.nav),this.friction=t.friction)}detach(){this.nav&&(this.nav.off("ready",this.onNavReady),this.nav.off("Panzoom.click",this.onNavClick),this.nav.off("createSlide",this.onNavCreateSlide)),this.target&&(this.target.off("Panzoom.afterUpdate",this.onTargetChange),this.target.off("change",this.onTargetChange))}}w1.defaults={friction:.92};const fj={Navigation:b1,Dots:class{constructor(n){this.carousel=n,this.$list=null,this.events={change:this.onChange.bind(this),refresh:this.onRefresh.bind(this)}}buildList(){if(this.carousel.pages.length<this.carousel.option("Dots.minSlideCount"))return;const n=document.createElement("ol");return n.classList.add("carousel__dots"),n.addEventListener("click",e=>{if(!("page"in e.target.dataset))return;e.preventDefault(),e.stopPropagation();const t=parseInt(e.target.dataset.page,10),i=this.carousel;t!==i.page&&(i.pages.length<3&&i.option("infinite")?i[t==0?"slidePrev":"slideNext"]():i.slideTo(t))}),this.$list=n,this.carousel.$container.appendChild(n),this.carousel.$container.classList.add("has-dots"),n}removeList(){this.$list&&(this.$list.parentNode.removeChild(this.$list),this.$list=null),this.carousel.$container.classList.remove("has-dots")}rebuildDots(){let n=this.$list;const e=!!n,t=this.carousel.pages.length;if(t<2)return void(e&&this.removeList());e||(n=this.buildList());const i=this.$list.children.length;if(i>t)for(let r=t;r<i;r++)this.$list.removeChild(this.$list.lastChild);else{for(let r=i;r<t;r++){const a=document.createElement("li");a.classList.add("carousel__dot"),a.dataset.page=r,a.setAttribute("role","button"),a.setAttribute("tabindex","0"),a.setAttribute("title",this.carousel.localize("{{GOTO}}",[["%d",r+1]])),a.addEventListener("keydown",o=>{const s=o.code;let u;s==="Enter"||s==="NumpadEnter"?u=a:s==="ArrowRight"?u=a.nextSibling:s==="ArrowLeft"&&(u=a.previousSibling),u&&u.click()}),this.$list.appendChild(a)}this.setActiveDot()}}setActiveDot(){if(!this.$list)return;this.$list.childNodes.forEach(e=>{e.classList.remove("is-selected")});const n=this.$list.childNodes[this.carousel.page];n&&n.classList.add("is-selected")}onChange(){this.setActiveDot()}onRefresh(){this.rebuildDots()}attach(){this.carousel.on(this.events)}detach(){this.removeList(),this.carousel.off(this.events),this.carousel=null}},Sync:w1},dj={slides:[],preload:0,slidesPerPage:"auto",initialPage:null,initialSlide:null,friction:.92,center:!0,infinite:!0,fill:!0,dragFree:!1,prefix:"",classNames:{viewport:"carousel__viewport",track:"carousel__track",slide:"carousel__slide",slideSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}};class wh extends gw{constructor(e,t={}){if(super(t=Kr(!0,{},dj,t)),this.state="init",this.$container=e,!(this.$container instanceof HTMLElement))throw new Error("No root element provided");this.slideNext=r_(this.slideNext.bind(this),250),this.slidePrev=r_(this.slidePrev.bind(this),250),this.init(),e.__Carousel=this}init(){this.pages=[],this.page=this.pageIndex=null,this.prevPage=this.prevPageIndex=null,this.attachPlugins(wh.Plugins),this.trigger("init"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.$track&&this.pages.length&&(this.$track.style.transform=`translate3d(${-1*this.pages[this.page].left}px, 0px, 0) scale(1)`),this.manageSlideVisiblity(),this.initPanzoom(),this.state="ready",this.trigger("ready")}initLayout(){const e=this.option("prefix"),t=this.option("classNames");this.$viewport=this.option("viewport")||this.$container.querySelector(`.${e}${t.viewport}`),this.$viewport||(this.$viewport=document.createElement("div"),this.$viewport.classList.add(...(e+t.viewport).split(" ")),this.$viewport.append(...this.$container.childNodes),this.$container.appendChild(this.$viewport)),this.$track=this.option("track")||this.$container.querySelector(`.${e}${t.track}`),this.$track||(this.$track=document.createElement("div"),this.$track.classList.add(...(e+t.track).split(" ")),this.$track.append(...this.$viewport.childNodes),this.$viewport.appendChild(this.$track))}initSlides(){this.slides=[],this.$viewport.querySelectorAll(`.${this.option("prefix")}${this.option("classNames.slide")}`).forEach(e=>{const t={$el:e,isDom:!0};this.slides.push(t),this.trigger("createSlide",t,this.slides.length)}),Array.isArray(this.options.slides)&&(this.slides=Kr(!0,[...this.slides],this.options.slides))}updateMetrics(){let e,t=0,i=[];this.slides.forEach((M,P)=>{const N=M.$el,b=M.isDom||!e?this.getSlideMetrics(N):e;M.index=P,M.width=b,M.left=t,e=b,t+=b,i.push(P)});let r=Math.max(this.$track.offsetWidth,rr(this.$track.getBoundingClientRect().width)),a=getComputedStyle(this.$track);r-=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight),this.contentWidth=t,this.viewportWidth=r;const o=[],s=this.option("slidesPerPage");if(Number.isInteger(s)&&t>r)for(let M=0;M<this.slides.length;M+=s)o.push({indexes:i.slice(M,M+s),slides:this.slides.slice(M,M+s)});else{let M=0,P=0;for(let N=0;N<this.slides.length;N+=1){let b=this.slides[N];(!o.length||P+b.width>r)&&(o.push({indexes:[],slides:[]}),M=o.length-1,P=0),P+=b.width,o[M].indexes.push(N),o[M].slides.push(b)}}const u=this.option("center"),c=this.option("fill");o.forEach((M,P)=>{M.index=P,M.width=M.slides.reduce((N,b)=>N+b.width,0),M.left=M.slides[0].left,u&&(M.left+=.5*(r-M.width)*-1),c&&!this.option("infiniteX",this.option("infinite"))&&t>r&&(M.left=Math.max(M.left,0),M.left=Math.min(M.left,t-r))});const l=[];let _;o.forEach(M=>{const P={...M};_&&P.left===_.left?(_.width+=P.width,_.slides=[..._.slides,...P.slides],_.indexes=[..._.indexes,...P.indexes]):(P.index=l.length,_=P,l.push(P))}),this.pages=l;let I=this.page;if(I===null){const M=this.option("initialSlide");I=M!==null?this.findPageForSlide(M):parseInt(this.option("initialPage",0),10)||0,l[I]||(I=l.length&&I>l.length?l[l.length-1].index:0),this.page=I,this.pageIndex=I}this.updatePanzoom(),this.trigger("refresh")}getSlideMetrics(e){if(!e){const r=this.slides[0];(e=document.createElement("div")).dataset.isTestEl=1,e.style.visibility="hidden",e.classList.add(...(this.option("prefix")+this.option("classNames.slide")).split(" ")),r.customClass&&e.classList.add(...r.customClass.split(" ")),this.$track.prepend(e)}let t=Math.max(e.offsetWidth,rr(e.getBoundingClientRect().width));const i=e.currentStyle||window.getComputedStyle(e);return t=t+(parseFloat(i.marginLeft)||0)+(parseFloat(i.marginRight)||0),e.dataset.isTestEl&&e.remove(),t}findPageForSlide(e){e=parseInt(e,10)||0;const t=this.pages.find(i=>i.indexes.indexOf(e)>-1);return t?t.index:null}slideNext(){this.slideTo(this.pageIndex+1)}slidePrev(){this.slideTo(this.pageIndex-1)}slideTo(e,t={}){const{x:i=-1*this.setPage(e,!0),y:r=0,friction:a=this.option("friction")}=t;this.Panzoom.content.x===i&&!this.Panzoom.velocity.x&&a||(this.Panzoom.panTo({x:i,y:r,friction:a,ignoreBounds:!0}),this.state==="ready"&&this.Panzoom.state==="ready"&&this.trigger("settle"))}initPanzoom(){this.Panzoom&&this.Panzoom.destroy();const e=Kr(!0,{},{content:this.$track,wrapInner:!1,resizeParent:!1,zoom:!1,click:!1,lockAxis:"x",x:this.pages.length?-1*this.pages[this.page].left:0,centerOnStart:!1,textSelection:()=>this.option("textSelection",!1),panOnlyZoomed:function(){return this.content.width<=this.viewport.width}},this.option("Panzoom"));this.Panzoom=new bh(this.$container,e),this.Panzoom.on({"*":(t,...i)=>this.trigger(`Panzoom.${t}`,...i),afterUpdate:()=>{this.updatePage()},beforeTransform:this.onBeforeTransform.bind(this),touchEnd:this.onTouchEnd.bind(this),endAnimation:()=>{this.trigger("settle")}}),this.updateMetrics(),this.manageSlideVisiblity()}updatePanzoom(){this.Panzoom&&(this.Panzoom.content={...this.Panzoom.content,fitWidth:this.contentWidth,origWidth:this.contentWidth,width:this.contentWidth},this.pages.length>1&&this.option("infiniteX",this.option("infinite"))?this.Panzoom.boundX=null:this.pages.length&&(this.Panzoom.boundX={from:-1*this.pages[this.pages.length-1].left,to:-1*this.pages[0].left}),this.option("infiniteY",this.option("infinite"))?this.Panzoom.boundY=null:this.Panzoom.boundY={from:0,to:0},this.Panzoom.handleCursor())}manageSlideVisiblity(){const e=this.contentWidth,t=this.viewportWidth;let i=this.Panzoom?-1*this.Panzoom.content.x:this.pages.length?this.pages[this.page].left:0;const r=this.option("preload"),a=this.option("infiniteX",this.option("infinite")),o=parseFloat(getComputedStyle(this.$viewport,null).getPropertyValue("padding-left")),s=parseFloat(getComputedStyle(this.$viewport,null).getPropertyValue("padding-right"));this.slides.forEach(l=>{let _,I,M=0;_=i-o,I=i+t+s,_-=r*(t+o+s),I+=r*(t+o+s);const P=l.left+l.width>_&&l.left<I;_=i+e-o,I=i+e+t+s,_-=r*(t+o+s);const N=a&&l.left+l.width>_&&l.left<I;_=i-e-o,I=i-e+t+s,_-=r*(t+o+s);const b=a&&l.left+l.width>_&&l.left<I;N||P||b?(this.createSlideEl(l),P&&(M=0),N&&(M=-1),b&&(M=1),l.left+l.width>i&&l.left<=i+t+s&&(M=0)):this.removeSlideEl(l),l.hasDiff=M});let u=0,c=0;this.slides.forEach((l,_)=>{let I=0;l.$el?(_!==u||l.hasDiff?I=c+l.hasDiff*e:c=0,l.$el.style.left=Math.abs(I)>.1?`${c+l.hasDiff*e}px`:"",u++):c+=l.width}),this.markSelectedSlides()}createSlideEl(e){if(!e)return;if(e.$el){let o=e.$el.dataset.index;if(!o||parseInt(o,10)!==e.index){let s;e.$el.dataset.index=e.index,e.$el.querySelectorAll("[data-lazy-srcset]").forEach(u=>{u.srcset=u.dataset.lazySrcset}),e.$el.querySelectorAll("[data-lazy-src]").forEach(u=>{let c=u.dataset.lazySrc;u instanceof HTMLImageElement?u.src=c:u.style.backgroundImage=`url('${c}')`}),(s=e.$el.dataset.lazySrc)&&(e.$el.style.backgroundImage=`url('${s}')`),e.state="ready"}return}const t=document.createElement("div");t.dataset.index=e.index,t.classList.add(...(this.option("prefix")+this.option("classNames.slide")).split(" ")),e.customClass&&t.classList.add(...e.customClass.split(" ")),e.html&&(t.innerHTML=e.html);const i=[];this.slides.forEach((o,s)=>{o.$el&&i.push(s)});const r=e.index;let a=null;if(i.length){let o=i.reduce((s,u)=>Math.abs(u-r)<Math.abs(s-r)?u:s);a=this.slides[o]}return this.$track.insertBefore(t,a&&a.$el?a.index<e.index?a.$el.nextSibling:a.$el:null),e.$el=t,this.trigger("createSlide",e,r),e}removeSlideEl(e){e.$el&&!e.isDom&&(this.trigger("removeSlide",e),e.$el.remove(),e.$el=null)}markSelectedSlides(){const e=this.option("classNames.slideSelected"),t="aria-hidden";this.slides.forEach((i,r)=>{const a=i.$el;if(!a)return;const o=this.pages[this.page];o&&o.indexes&&o.indexes.indexOf(r)>-1?(e&&!a.classList.contains(e)&&(a.classList.add(e),this.trigger("selectSlide",i)),a.removeAttribute(t)):(e&&a.classList.contains(e)&&(a.classList.remove(e),this.trigger("unselectSlide",i)),a.setAttribute(t,!0))})}updatePage(){this.updateMetrics(),this.slideTo(this.page,{friction:0})}onBeforeTransform(){this.option("infiniteX",this.option("infinite"))&&this.manageInfiniteTrack(),this.manageSlideVisiblity()}manageInfiniteTrack(){const e=this.contentWidth,t=this.viewportWidth;if(!this.option("infiniteX",this.option("infinite"))||this.pages.length<2||e<t)return;const i=this.Panzoom;let r=!1;return i.content.x<-1*(e-t)&&(i.content.x+=e,this.pageIndex=this.pageIndex-this.pages.length,r=!0),i.content.x>t&&(i.content.x-=e,this.pageIndex=this.pageIndex+this.pages.length,r=!0),r&&i.state==="pointerdown"&&i.resetDragPosition(),r}onTouchEnd(e,t){const i=this.option("dragFree");if(!i&&this.pages.length>1&&e.dragOffset.time<350&&Math.abs(e.dragOffset.y)<1&&Math.abs(e.dragOffset.x)>5)this[e.dragOffset.x<0?"slideNext":"slidePrev"]();else if(i){const[,r]=this.getPageFromPosition(-1*e.transform.x);this.setPage(r)}else this.slideToClosest()}slideToClosest(e={}){let[,t]=this.getPageFromPosition(-1*this.Panzoom.content.x);this.slideTo(t,e)}getPageFromPosition(e){const t=this.pages.length;this.option("center")&&(e+=.5*this.viewportWidth);const i=Math.floor(e/this.contentWidth);e-=i*this.contentWidth;let r=this.slides.find(a=>a.left<=e&&a.left+a.width>e);if(r){let a=this.findPageForSlide(r.index);return[a,a+i*t]}return[0,0]}setPage(e,t){let i=0,r=parseInt(e,10)||0;const a=this.page,o=this.pageIndex,s=this.pages.length,u=this.contentWidth,c=this.viewportWidth;if(e=(r%s+s)%s,this.option("infiniteX",this.option("infinite"))&&u>c){const l=Math.floor(r/s)||0,_=u;if(i=this.pages[e].left+l*_,t===!0&&s>2){let I=-1*this.Panzoom.content.x;const M=i-_,P=i+_,N=Math.abs(I-i),b=Math.abs(I-M),f=Math.abs(I-P);f<N&&f<=b?(i=P,r+=s):b<N&&b<f&&(i=M,r-=s)}}else e=r=Math.max(0,Math.min(r,s-1)),i=this.pages.length?this.pages[e].left:0;return this.page=e,this.pageIndex=r,a!==null&&e!==a&&(this.prevPage=a,this.prevPageIndex=o,this.trigger("change",e,a)),i}destroy(){this.state="destroy",this.slides.forEach(e=>{this.removeSlideEl(e)}),this.slides=[],this.Panzoom.destroy(),this.detachPlugins()}}wh.version="4.0.31",wh.Plugins=fj;const Gg=!(typeof window>"u"||!window.document||!window.document.createElement);let rb=null;const a_=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'],If=n=>{if(n&&Gg){rb===null&&document.createElement("div").focus({get preventScroll(){return rb=!0,!1}});try{if(n.setActive)n.setActive();else if(rb)n.focus({preventScroll:!0});else{const e=window.pageXOffset||document.body.scrollTop,t=window.pageYOffset||document.body.scrollLeft;n.focus(),document.body.scrollTo({top:e,left:t,behavior:"auto"})}}catch{}}},pj={minSlideCount:2,minScreenHeight:500,autoStart:!0,key:"t",Carousel:{},tpl:`<div class="fancybox__thumb" style="background-image:url('{{src}}')"></div>`};class C1{constructor(e){this.fancybox=e,this.$container=null,this.state="init";for(const t of["onPrepare","onClosing","onKeydown"])this[t]=this[t].bind(this);this.events={prepare:this.onPrepare,closing:this.onClosing,keydown:this.onKeydown}}onPrepare(){this.getSlides().length<this.fancybox.option("Thumbs.minSlideCount")?this.state="disabled":this.fancybox.option("Thumbs.autoStart")===!0&&this.fancybox.Carousel.Panzoom.content.height>=this.fancybox.option("Thumbs.minScreenHeight")&&this.build()}onClosing(){this.Carousel&&this.Carousel.Panzoom.detachEvents()}onKeydown(e,t){t===e.option("Thumbs.key")&&this.toggle()}build(){if(this.$container)return;const e=document.createElement("div");e.classList.add("fancybox__thumbs"),this.fancybox.$carousel.parentNode.insertBefore(e,this.fancybox.$carousel.nextSibling),this.Carousel=new wh(e,Kr(!0,{Dots:!1,Navigation:!1,Sync:{friction:0},infinite:!1,center:!0,fill:!0,dragFree:!0,slidesPerPage:1,preload:1},this.fancybox.option("Thumbs.Carousel"),{Sync:{target:this.fancybox.Carousel},slides:this.getSlides()})),this.Carousel.Panzoom.on("wheel",(t,i)=>{i.preventDefault(),this.fancybox[i.deltaY<0?"prev":"next"]()}),this.$container=e,this.state="visible"}getSlides(){const e=[];for(const t of this.fancybox.items){const i=t.thumb;i&&e.push({html:this.fancybox.option("Thumbs.tpl").replace(/\{\{src\}\}/gi,i),customClass:`has-thumb has-${t.type||"image"}`})}return e}toggle(){this.state==="visible"?this.hide():this.state==="hidden"?this.show():this.build()}show(){this.state==="hidden"&&(this.$container.style.display="",this.Carousel.Panzoom.attachEvents(),this.state="visible")}hide(){this.state==="visible"&&(this.Carousel.Panzoom.detachEvents(),this.$container.style.display="none",this.state="hidden")}cleanup(){this.Carousel&&(this.Carousel.destroy(),this.Carousel=null),this.$container&&(this.$container.remove(),this.$container=null),this.state="init"}attach(){this.fancybox.on(this.events)}detach(){this.fancybox.off(this.events),this.cleanup()}}C1.defaults=pj;const s_=(n,e)=>{const t=new URL(n),i=new URLSearchParams(t.search);let r=new URLSearchParams;for(const[o,s]of[...i,...Object.entries(e)])o==="t"?r.set("start",parseInt(s)):r.set(o,s);r=r.toString();let a=n.match(/#t=((.*)?\d+s)/);return a&&(r+=`#t=${a[1]}`),r},S1={video:{autoplay:!0,ratio:16/9},youtube:{autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},vimeo:{hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},html5video:{tpl:`<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">
  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn't support embedded videos.</video>`,format:""}};class _1{constructor(e){this.fancybox=e;for(const t of["onInit","onReady","onCreateSlide","onRemoveSlide","onSelectSlide","onUnselectSlide","onRefresh","onMessage"])this[t]=this[t].bind(this);this.events={init:this.onInit,ready:this.onReady,"Carousel.createSlide":this.onCreateSlide,"Carousel.removeSlide":this.onRemoveSlide,"Carousel.selectSlide":this.onSelectSlide,"Carousel.unselectSlide":this.onUnselectSlide,"Carousel.refresh":this.onRefresh}}onInit(){for(const e of this.fancybox.items)this.processType(e)}processType(e){if(e.html)return e.src=e.html,e.type="html",void delete e.html;const t=e.src||"";let i=e.type||this.fancybox.options.type,r=null;if(!t||typeof t=="string"){if(r=t.match(/(?:youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){const a=s_(t,this.fancybox.option("Html.youtube")),o=encodeURIComponent(r[1]);e.videoId=o,e.src=`https://www.youtube-nocookie.com/embed/${o}?${a}`,e.thumb=e.thumb||`https://i.ytimg.com/vi/${o}/mqdefault.jpg`,e.vendor="youtube",i="video"}else if(r=t.match(/^.+vimeo.com\/(?:\/)?([\d]+)(.*)?/)){const a=s_(t,this.fancybox.option("Html.vimeo")),o=encodeURIComponent(r[1]);e.videoId=o,e.src=`https://player.vimeo.com/video/${o}?${a}`,e.vendor="vimeo",i="video"}else(r=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(e.src=`//maps.google.${r[1]}/?ll=${(r[2]?r[2]+"&z="+Math.floor(r[3])+(r[4]?r[4].replace(/^\//,"&"):""):r[4]+"").replace(/\?/,"&")}&output=${r[4]&&r[4].indexOf("layer=c")>0?"svembed":"embed"}`,i="map"):(r=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(e.src=`//maps.google.${r[1]}/maps?q=${r[2].replace("query=","q=").replace("api=1","")}&output=embed`,i="map");i||(t.charAt(0)==="#"?i="inline":(r=t.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(i="html5video",e.format=e.format||"video/"+(r[1]==="ogv"?"ogg":r[1])):t.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?i="image":t.match(/\.(pdf)((\?|#).*)?$/i)&&(i="pdf")),e.type=i||this.fancybox.option("defaultType","image"),i!=="html5video"&&i!=="video"||(e.video=Kr({},this.fancybox.option("Html.video"),e.video),e._width&&e._height?e.ratio=parseFloat(e._width)/parseFloat(e._height):e.ratio=e.ratio||e.video.ratio||S1.video.ratio)}}onReady(){this.fancybox.Carousel.slides.forEach(e=>{e.$el&&(this.setContent(e),e.index===this.fancybox.getSlide().index&&this.playVideo(e))})}onCreateSlide(e,t,i){this.fancybox.state==="ready"&&this.setContent(i)}loadInlineContent(e){let t;if(e.src instanceof HTMLElement)t=e.src;else if(typeof e.src=="string"){const i=e.src.split("#",2),r=i.length===2&&i[0]===""?i[1]:i[0];t=document.getElementById(r)}if(t){if(e.type==="clone"||t.$placeHolder){t=t.cloneNode(!0);let i=t.getAttribute("id");i=i?`${i}--clone`:`clone-${this.fancybox.id}-${e.index}`,t.setAttribute("id",i)}else{const i=document.createElement("div");i.classList.add("fancybox-placeholder"),t.parentNode.insertBefore(i,t),t.$placeHolder=i}this.fancybox.setContent(e,t)}else this.fancybox.setError(e,"{{ELEMENT_NOT_FOUND}}")}loadAjaxContent(e){const t=this.fancybox,i=new XMLHttpRequest;t.showLoading(e),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&t.state==="ready"&&(t.hideLoading(e),i.status===200?t.setContent(e,i.responseText):t.setError(e,i.status===404?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};const r=e.ajax||null;i.open(r?"POST":"GET",e.src),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(r),e.xhr=i}loadIframeContent(e){const t=this.fancybox,i=document.createElement("iframe");if(i.className="fancybox__iframe",i.setAttribute("id",`fancybox__iframe_${t.id}_${e.index}`),i.setAttribute("allow","autoplay; fullscreen"),i.setAttribute("scrolling","auto"),e.$iframe=i,e.type!=="iframe"||e.preload===!1)return i.setAttribute("src",e.src),this.fancybox.setContent(e,i),void this.resizeIframe(e);t.showLoading(e);const r=document.createElement("div");r.style.visibility="hidden",this.fancybox.setContent(e,r),r.appendChild(i),i.onerror=()=>{t.setError(e,"{{IFRAME_ERROR}}")},i.onload=()=>{t.hideLoading(e);let a=!1;i.isReady||(i.isReady=!0,a=!0),i.src.length&&(i.parentNode.style.visibility="",this.resizeIframe(e),a&&t.revealContent(e))},i.setAttribute("src",e.src)}setAspectRatio(e){const t=e.$content,i=e.ratio;if(!t)return;let r=e._width,a=e._height;if(i||r&&a){Object.assign(t.style,{width:r&&a?"100%":"",height:r&&a?"100%":"",maxWidth:"",maxHeight:""});let o=t.offsetWidth,s=t.offsetHeight;if(r=r||o,a=a||s,r>o||a>s){let u=Math.min(o/r,s/a);r*=u,a*=u}Math.abs(r/a-i)>.01&&(i<r/a?r=a*i:a=r/i),Object.assign(t.style,{width:`${r}px`,height:`${a}px`})}}resizeIframe(e){const t=e.$iframe;if(!t)return;let i=e._width||0,r=e._height||0;i&&r&&(e.autoSize=!1);const a=t.parentNode,o=a&&a.style;if(e.preload!==!1&&e.autoSize!==!1&&o)try{const s=window.getComputedStyle(a),u=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),c=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),l=t.contentWindow.document,_=l.getElementsByTagName("html")[0],I=l.body;o.width="",I.style.overflow="hidden",i=i||_.scrollWidth+u,o.width=`${i}px`,I.style.overflow="",o.flex="0 0 auto",o.height=`${I.scrollHeight}px`,r=_.scrollHeight+c}catch{}if(i||r){const s={flex:"0 1 auto"};i&&(s.width=`${i}px`),r&&(s.height=`${r}px`),Object.assign(o,s)}}onRefresh(e,t){t.slides.forEach(i=>{i.$el&&(i.$iframe&&this.resizeIframe(i),i.ratio&&this.setAspectRatio(i))})}setContent(e){if(e&&!e.isDom){switch(e.type){case"html":this.fancybox.setContent(e,e.src);break;case"html5video":this.fancybox.setContent(e,this.fancybox.option("Html.html5video.tpl").replace(/\{\{src\}\}/gi,e.src).replace("{{format}}",e.format||e.html5video&&e.html5video.format||"").replace("{{poster}}",e.poster||e.thumb||""));break;case"inline":case"clone":this.loadInlineContent(e);break;case"ajax":this.loadAjaxContent(e);break;case"pdf":case"video":case"map":e.preload=!1;case"iframe":this.loadIframeContent(e)}e.ratio&&this.setAspectRatio(e)}}onSelectSlide(e,t,i){e.state==="ready"&&this.playVideo(i)}playVideo(e){if(e.type==="html5video"&&e.video.autoplay)try{const i=e.$el.querySelector("video");if(i){const r=i.play();r!==void 0&&r.then(()=>{}).catch(a=>{i.muted=!0,i.play()})}}catch{}if(e.type!=="video"||!e.$iframe||!e.$iframe.contentWindow)return;const t=()=>{if(e.state==="done"&&e.$iframe&&e.$iframe.contentWindow){let i;if(e.$iframe.isReady)return e.video&&e.video.autoplay&&(i=e.vendor=="youtube"?{event:"command",func:"playVideo"}:{method:"play",value:"true"}),void(i&&e.$iframe.contentWindow.postMessage(JSON.stringify(i),"*"));e.vendor==="youtube"&&(i={event:"listening",id:e.$iframe.getAttribute("id")},e.$iframe.contentWindow.postMessage(JSON.stringify(i),"*"))}e.poller=setTimeout(t,250)};t()}onUnselectSlide(e,t,i){if(i.type==="html5video"){try{i.$el.querySelector("video").pause()}catch{}return}let r=!1;i.vendor=="vimeo"?r={method:"pause",value:"true"}:i.vendor==="youtube"&&(r={event:"command",func:"pauseVideo"}),r&&i.$iframe&&i.$iframe.contentWindow&&i.$iframe.contentWindow.postMessage(JSON.stringify(r),"*"),clearTimeout(i.poller)}onRemoveSlide(e,t,i){i.xhr&&(i.xhr.abort(),i.xhr=null),i.$iframe&&(i.$iframe.onload=i.$iframe.onerror=null,i.$iframe.src="//about:blank",i.$iframe=null);const r=i.$content;i.type==="inline"&&r&&(r.classList.remove("fancybox__content"),r.style.display!=="none"&&(r.style.display="none")),i.$closeButton&&(i.$closeButton.remove(),i.$closeButton=null);const a=r&&r.$placeHolder;a&&(a.parentNode.insertBefore(r,a),a.remove(),r.$placeHolder=null)}onMessage(e){try{let t=JSON.parse(e.data);if(e.origin==="https://player.vimeo.com"){if(t.event==="ready")for(let i of document.getElementsByClassName("fancybox__iframe"))i.contentWindow===e.source&&(i.isReady=1)}else e.origin==="https://www.youtube-nocookie.com"&&t.event==="onReady"&&(document.getElementById(t.id).isReady=1)}catch{}}attach(){this.fancybox.on(this.events),window.addEventListener("message",this.onMessage,!1)}detach(){this.fancybox.off(this.events),window.removeEventListener("message",this.onMessage,!1)}}_1.defaults=S1;class x1{constructor(e){this.fancybox=e;for(const t of["onReady","onClosing","onDone","onPageChange","onCreateSlide","onRemoveSlide","onImageStatusChange"])this[t]=this[t].bind(this);this.events={ready:this.onReady,closing:this.onClosing,done:this.onDone,"Carousel.change":this.onPageChange,"Carousel.createSlide":this.onCreateSlide,"Carousel.removeSlide":this.onRemoveSlide}}onReady(){this.fancybox.Carousel.slides.forEach(e=>{e.$el&&this.setContent(e)})}onDone(e,t){this.handleCursor(t)}onClosing(e){clearTimeout(this.clickTimer),this.clickTimer=null,e.Carousel.slides.forEach(t=>{t.$image&&(t.state="destroy"),t.Panzoom&&t.Panzoom.detachEvents()}),this.fancybox.state==="closing"&&this.canZoom(e.getSlide())&&this.zoomOut()}onCreateSlide(e,t,i){this.fancybox.state==="ready"&&this.setContent(i)}onRemoveSlide(e,t,i){i.$image&&(i.$el.classList.remove(e.option("Image.canZoomInClass")),i.$image.remove(),i.$image=null),i.Panzoom&&(i.Panzoom.destroy(),i.Panzoom=null),i.$el&&i.$el.dataset&&delete i.$el.dataset.imageFit}setContent(e){if(e.isDom||e.html||e.type&&e.type!=="image"||e.$image)return;e.type="image",e.state="loading";const t=document.createElement("div");t.style.visibility="hidden";const i=document.createElement("img");i.addEventListener("load",a=>{a.stopImmediatePropagation(),this.onImageStatusChange(e)}),i.addEventListener("error",()=>{this.onImageStatusChange(e)}),i.src=e.src,i.alt="",i.draggable=!1,i.classList.add("fancybox__image"),e.srcset&&i.setAttribute("srcset",e.srcset),e.sizes&&i.setAttribute("sizes",e.sizes),e.$image=i;const r=this.fancybox.option("Image.wrap");if(r){const a=document.createElement("div");a.classList.add(typeof r=="string"?r:"fancybox__image-wrap"),a.appendChild(i),t.appendChild(a),e.$wrap=a}else t.appendChild(i);e.$el.dataset.imageFit=this.fancybox.option("Image.fit"),this.fancybox.setContent(e,t),i.complete||i.error?this.onImageStatusChange(e):this.fancybox.showLoading(e)}onImageStatusChange(e){const t=e.$image;t&&e.state==="loading"&&(t.complete&&t.naturalWidth&&t.naturalHeight?(this.fancybox.hideLoading(e),this.fancybox.option("Image.fit")==="contain"&&this.initSlidePanzoom(e),e.$el.addEventListener("wheel",i=>this.onWheel(e,i),{passive:!1}),e.$content.addEventListener("click",i=>this.onClick(e,i),{passive:!1}),this.revealContent(e)):this.fancybox.setError(e,"{{IMAGE_ERROR}}"))}initSlidePanzoom(e){e.Panzoom||(e.Panzoom=new bh(e.$el,Kr(!0,this.fancybox.option("Image.Panzoom",{}),{viewport:e.$wrap,content:e.$image,width:e._width,height:e._height,wrapInner:!1,textSelection:!0,touch:this.fancybox.option("Image.touch"),panOnlyZoomed:!0,click:!1,wheel:!1})),e.Panzoom.on("startAnimation",()=>{this.fancybox.trigger("Image.startAnimation",e)}),e.Panzoom.on("endAnimation",()=>{e.state==="zoomIn"&&this.fancybox.done(e),this.handleCursor(e),this.fancybox.trigger("Image.endAnimation",e)}),e.Panzoom.on("afterUpdate",()=>{this.handleCursor(e),this.fancybox.trigger("Image.afterUpdate",e)}))}revealContent(e){this.fancybox.Carousel.prevPage===null&&e.index===this.fancybox.options.startIndex&&this.canZoom(e)?this.zoomIn():this.fancybox.revealContent(e)}getZoomInfo(e){const t=e.$thumb.getBoundingClientRect(),i=t.width,r=t.height,a=e.$content.getBoundingClientRect(),o=a.width,s=a.height,u=a.top-t.top,c=a.left-t.left;let l=this.fancybox.option("Image.zoomOpacity");return l==="auto"&&(l=Math.abs(i/r-o/s)>.1),{top:u,left:c,scale:o&&i?i/o:1,opacity:l}}canZoom(e){const t=this.fancybox,i=t.$container;if(window.visualViewport&&window.visualViewport.scale!==1||e.Panzoom&&!e.Panzoom.content.width||!t.option("Image.zoom")||t.option("Image.fit")!=="contain")return!1;const r=e.$thumb;if(!r||e.state==="loading")return!1;i.classList.add("fancybox__no-click");const a=r.getBoundingClientRect();let o;if(this.fancybox.option("Image.ignoreCoveredThumbnail")){const s=document.elementFromPoint(a.left+1,a.top+1)===r,u=document.elementFromPoint(a.right-1,a.bottom-1)===r;o=s&&u}else o=document.elementFromPoint(a.left+.5*a.width,a.top+.5*a.height)===r;return i.classList.remove("fancybox__no-click"),o}zoomIn(){const e=this.fancybox,t=e.getSlide(),i=t.Panzoom,{top:r,left:a,scale:o,opacity:s}=this.getZoomInfo(t);e.trigger("reveal",t),i.panTo({x:-1*a,y:-1*r,scale:o,friction:0,ignoreBounds:!0}),t.$content.style.visibility="",t.state="zoomIn",s===!0&&i.on("afterTransform",u=>{t.state!=="zoomIn"&&t.state!=="zoomOut"||(u.$content.style.opacity=Math.min(1,1-(1-u.content.scale)/(1-o)))}),i.panTo({x:0,y:0,scale:1,friction:this.fancybox.option("Image.zoomFriction")})}zoomOut(){const e=this.fancybox,t=e.getSlide(),i=t.Panzoom;if(!i)return;t.state="zoomOut",e.state="customClosing",t.$caption&&(t.$caption.style.visibility="hidden");let r=this.fancybox.option("Image.zoomFriction");const a=o=>{const{top:s,left:u,scale:c,opacity:l}=this.getZoomInfo(t);o||l||(r*=.82),i.panTo({x:-1*u,y:-1*s,scale:c,friction:r,ignoreBounds:!0}),r*=.98};window.addEventListener("scroll",a),i.once("endAnimation",()=>{window.removeEventListener("scroll",a),e.destroy()}),a()}handleCursor(e){if(e.type!=="image"||!e.$el)return;const t=e.Panzoom,i=this.fancybox.option("Image.click",!1,e),r=this.fancybox.option("Image.touch"),a=e.$el.classList,o=this.fancybox.option("Image.canZoomInClass"),s=this.fancybox.option("Image.canZoomOutClass");a.remove(s),a.remove(o),t&&i==="toggleZoom"?t&&t.content.scale===1&&t.option("maxScale")-t.content.scale>.01?a.add(o):t.content.scale>1&&!r&&a.add(s):i==="close"&&a.add(s)}onWheel(e,t){if(this.fancybox.state==="ready"&&this.fancybox.trigger("Image.wheel",t)!==!1)switch(this.fancybox.option("Image.wheel")){case"zoom":e.state==="done"&&e.Panzoom&&e.Panzoom.zoomWithWheel(t);break;case"close":this.fancybox.close();break;case"slide":this.fancybox[t.deltaY<0?"prev":"next"]()}}onClick(e,t){if(this.fancybox.state!=="ready")return;const i=e.Panzoom;if(i&&(i.dragPosition.midPoint||i.dragOffset.x!==0||i.dragOffset.y!==0||i.dragOffset.scale!==1))return;if(this.fancybox.Carousel.Panzoom.lockAxis)return!1;const r=s=>{switch(s){case"toggleZoom":t.stopPropagation(),e.Panzoom&&e.Panzoom.zoomWithClick(t);break;case"close":this.fancybox.close();break;case"next":t.stopPropagation(),this.fancybox.next()}},a=this.fancybox.option("Image.click"),o=this.fancybox.option("Image.doubleClick");o?this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null,r(o)):this.clickTimer=setTimeout(()=>{this.clickTimer=null,r(a)},300):r(a)}onPageChange(e,t){const i=e.getSlide();t.slides.forEach(r=>{r.Panzoom&&r.state==="done"&&r.index!==i.index&&r.Panzoom.panTo({x:0,y:0,scale:1,friction:.8})})}attach(){this.fancybox.on(this.events)}detach(){this.fancybox.off(this.events)}}x1.defaults={canZoomInClass:"can-zoom_in",canZoomOutClass:"can-zoom_out",zoom:!0,zoomOpacity:"auto",zoomFriction:.82,ignoreCoveredThumbnail:!1,touch:!0,click:"toggleZoom",doubleClick:null,wheel:"zoom",fit:"contain",wrap:!1,Panzoom:{ratio:1}};class Ds{constructor(e){this.fancybox=e;for(const t of["onChange","onClosing"])this[t]=this[t].bind(this);this.events={initCarousel:this.onChange,"Carousel.change":this.onChange,closing:this.onClosing},this.hasCreatedHistory=!1,this.origHash="",this.timer=null}onChange(e){const t=e.Carousel;this.timer&&clearTimeout(this.timer);const i=t.prevPage===null,r=e.getSlide(),a=new URL(document.URL).hash;let o=!1;if(r.slug)o="#"+r.slug;else{const s=r.$trigger&&r.$trigger.dataset,u=e.option("slug")||s&&s.fancybox;u&&u.length&&u!=="true"&&(o="#"+u+(t.slides.length>1?"-"+(r.index+1):""))}i&&(this.origHash=a!==o?a:""),o&&a!==o&&(this.timer=setTimeout(()=>{try{window.history[i?"pushState":"replaceState"]({},document.title,window.location.pathname+window.location.search+o),i&&(this.hasCreatedHistory=!0)}catch{}},300))}onClosing(){if(this.timer&&clearTimeout(this.timer),this.hasSilentClose!==!0)try{return void window.history.replaceState({},document.title,window.location.pathname+window.location.search+(this.origHash||""))}catch{}}attach(e){e.on(this.events)}detach(e){e.off(this.events)}static startFromUrl(){const e=Ds.Fancybox;if(!e||e.getInstance()||e.defaults.Hash===!1)return;const{hash:t,slug:i,index:r}=Ds.getParsedURL();if(!i)return;let a=document.querySelector(`[data-slug="${t}"]`);if(a&&a.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),e.getInstance())return;const o=document.querySelectorAll(`[data-fancybox="${i}"]`);o.length&&(r===null&&o.length===1?a=o[0]:r&&(a=o[r-1]),a&&a.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))}static onHashChange(){const{slug:e,index:t}=Ds.getParsedURL(),i=Ds.Fancybox,r=i&&i.getInstance();if(r&&r.plugins.Hash){if(e){const a=r.Carousel;if(e===r.option("slug"))return a.slideTo(t-1);for(let u of a.slides)if(u.slug&&u.slug===e)return a.slideTo(u.index);const o=r.getSlide(),s=o.$trigger&&o.$trigger.dataset;if(s&&s.fancybox===e)return a.slideTo(t-1)}r.plugins.Hash.hasSilentClose=!0,r.close()}Ds.startFromUrl()}static create(e){function t(){window.addEventListener("hashchange",Ds.onHashChange,!1),Ds.startFromUrl()}Ds.Fancybox=e,Gg&&window.requestAnimationFrame(()=>{/complete|interactive|loaded/.test(document.readyState)?t():document.addEventListener("DOMContentLoaded",t)})}static destroy(){window.removeEventListener("hashchange",Ds.onHashChange,!1)}static getParsedURL(){const e=window.location.hash.substr(1),t=e.split("-"),i=t.length>1&&/^\+?\d+$/.test(t[t.length-1])&&parseInt(t.pop(-1),10)||null;return{hash:e,slug:t.join("-"),index:i}}}const Oo={pageXOffset:0,pageYOffset:0,element:()=>document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement,activate(n){Oo.pageXOffset=window.pageXOffset,Oo.pageYOffset=window.pageYOffset,n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen&&n.msRequestFullscreen()},deactivate(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}};class gj{constructor(e){this.fancybox=e,this.active=!1,this.handleVisibilityChange=this.handleVisibilityChange.bind(this)}isActive(){return this.active}setTimer(){if(!this.active||this.timer)return;const e=this.fancybox.option("slideshow.delay",3e3);this.timer=setTimeout(()=>{this.timer=null,this.fancybox.option("infinite")||this.fancybox.getSlide().index!==this.fancybox.Carousel.slides.length-1?this.fancybox.next():this.fancybox.jumpTo(0,{friction:0})},e);let t=this.$progress;t||(t=document.createElement("div"),t.classList.add("fancybox__progress"),this.fancybox.$carousel.parentNode.insertBefore(t,this.fancybox.$carousel),this.$progress=t,t.offsetHeight),t.style.transitionDuration=`${e}ms`,t.style.transform="scaleX(1)"}clearTimer(){clearTimeout(this.timer),this.timer=null,this.$progress&&(this.$progress.style.transitionDuration="",this.$progress.style.transform="",this.$progress.offsetHeight)}activate(){this.active||(this.active=!0,this.fancybox.$container.classList.add("has-slideshow"),this.fancybox.getSlide().state==="done"&&this.setTimer(),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1))}handleVisibilityChange(){this.deactivate()}deactivate(){this.active=!1,this.clearTimer(),this.fancybox.$container.classList.remove("has-slideshow"),document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1)}toggle(){this.active?this.deactivate():this.fancybox.Carousel.slides.length>1&&this.activate()}}const vj={display:["counter","zoom","slideshow","fullscreen","thumbs","close"],autoEnable:!0,items:{counter:{position:"left",type:"div",class:"fancybox__counter",html:'<span data-fancybox-index=""></span>&nbsp;/&nbsp;<span data-fancybox-count=""></span>',attr:{tabindex:-1}},prev:{type:"button",class:"fancybox__button--prev",label:"PREV",html:'<svg viewBox="0 0 24 24"><path d="M15 4l-8 8 8 8"/></svg>',attr:{"data-fancybox-prev":""}},next:{type:"button",class:"fancybox__button--next",label:"NEXT",html:'<svg viewBox="0 0 24 24"><path d="M8 4l8 8-8 8"/></svg>',attr:{"data-fancybox-next":""}},fullscreen:{type:"button",class:"fancybox__button--fullscreen",label:"TOGGLE_FULLSCREEN",html:`<svg viewBox="0 0 24 24">
                <g><path d="M3 8 V3h5"></path><path d="M21 8V3h-5"></path><path d="M8 21H3v-5"></path><path d="M16 21h5v-5"></path></g>
                <g><path d="M7 2v5H2M17 2v5h5M2 17h5v5M22 17h-5v5"/></g>
            </svg>`,click:function(n){n.preventDefault(),Oo.element()?Oo.deactivate():Oo.activate(this.fancybox.$container)}},slideshow:{type:"button",class:"fancybox__button--slideshow",label:"TOGGLE_SLIDESHOW",html:`<svg viewBox="0 0 24 24">
                <g><path d="M6 4v16"/><path d="M20 12L6 20"/><path d="M20 12L6 4"/></g>
                <g><path d="M7 4v15M17 4v15"/></g>
            </svg>`,click:function(n){n.preventDefault(),this.Slideshow.toggle()}},zoom:{type:"button",class:"fancybox__button--zoom",label:"TOGGLE_ZOOM",html:'<svg viewBox="0 0 24 24"><circle cx="10" cy="10" r="7"></circle><path d="M16 16 L21 21"></svg>',click:function(n){n.preventDefault();const e=this.fancybox.getSlide().Panzoom;e&&e.toggleZoom()}},download:{type:"link",label:"DOWNLOAD",class:"fancybox__button--download",html:'<svg viewBox="0 0 24 24"><path d="M12 15V3m0 12l-4-4m4 4l4-4M2 17l.62 2.48A2 2 0 004.56 21h14.88a2 2 0 001.94-1.51L22 17"/></svg>',click:function(n){n.stopPropagation()}},thumbs:{type:"button",label:"TOGGLE_THUMBS",class:"fancybox__button--thumbs",html:'<svg viewBox="0 0 24 24"><circle cx="4" cy="4" r="1" /><circle cx="12" cy="4" r="1" transform="rotate(90 12 4)"/><circle cx="20" cy="4" r="1" transform="rotate(90 20 4)"/><circle cx="4" cy="12" r="1" transform="rotate(90 4 12)"/><circle cx="12" cy="12" r="1" transform="rotate(90 12 12)"/><circle cx="20" cy="12" r="1" transform="rotate(90 20 12)"/><circle cx="4" cy="20" r="1" transform="rotate(90 4 20)"/><circle cx="12" cy="20" r="1" transform="rotate(90 12 20)"/><circle cx="20" cy="20" r="1" transform="rotate(90 20 20)"/></svg>',click:function(n){n.stopPropagation();const e=this.fancybox.plugins.Thumbs;e&&e.toggle()}},close:{type:"button",label:"CLOSE",class:"fancybox__button--close",html:'<svg viewBox="0 0 24 24"><path d="M20 20L4 4m16 0L4 20"></path></svg>',attr:{"data-fancybox-close":"",tabindex:0}}}};class E1{constructor(e){this.fancybox=e,this.$container=null,this.state="init";for(const t of["onInit","onPrepare","onDone","onKeydown","onClosing","onChange","onSettle","onRefresh"])this[t]=this[t].bind(this);this.events={init:this.onInit,prepare:this.onPrepare,done:this.onDone,keydown:this.onKeydown,closing:this.onClosing,"Carousel.change":this.onChange,"Carousel.settle":this.onSettle,"Carousel.Panzoom.touchStart":()=>this.onRefresh(),"Image.startAnimation":(t,i)=>this.onRefresh(i),"Image.afterUpdate":(t,i)=>this.onRefresh(i)}}onInit(){if(this.fancybox.option("Toolbar.autoEnable")){let e=!1;for(const t of this.fancybox.items)if(t.type==="image"){e=!0;break}if(!e)return void(this.state="disabled")}for(const e of this.fancybox.option("Toolbar.display"))if((rh(e)?e.id:e)==="close"){this.fancybox.options.closeButton=!1;break}}onPrepare(){const e=this.fancybox;if(this.state==="init"&&(this.build(),this.update(),this.Slideshow=new gj(e),!e.Carousel.prevPage&&(e.option("slideshow.autoStart")&&this.Slideshow.activate(),e.option("fullscreen.autoStart")&&!Oo.element())))try{Oo.activate(e.$container)}catch{}}onFsChange(){window.scrollTo(Oo.pageXOffset,Oo.pageYOffset)}onSettle(){const e=this.fancybox,t=this.Slideshow;t&&t.isActive()&&(e.getSlide().index!==e.Carousel.slides.length-1||e.option("infinite")?e.getSlide().state==="done"&&t.setTimer():t.deactivate())}onChange(){this.update(),this.Slideshow&&this.Slideshow.isActive()&&this.Slideshow.clearTimer()}onDone(e,t){const i=this.Slideshow;t.index===e.getSlide().index&&(this.update(),i&&i.isActive()&&(e.option("infinite")||t.index!==e.Carousel.slides.length-1?i.setTimer():i.deactivate()))}onRefresh(e){e&&e.index!==this.fancybox.getSlide().index||(this.update(),!this.Slideshow||!this.Slideshow.isActive()||e&&e.state!=="done"||this.Slideshow.deactivate())}onKeydown(e,t,i){t===" "&&this.Slideshow&&(this.Slideshow.toggle(),i.preventDefault())}onClosing(){this.Slideshow&&this.Slideshow.deactivate(),document.removeEventListener("fullscreenchange",this.onFsChange)}createElement(e){let t;e.type==="div"?t=document.createElement("div"):(t=document.createElement(e.type==="link"?"a":"button"),t.classList.add("carousel__button")),t.innerHTML=e.html,t.setAttribute("tabindex",e.tabindex||0),e.class&&t.classList.add(...e.class.split(" "));for(const r in e.attr)t.setAttribute(r,e.attr[r]);e.label&&t.setAttribute("title",this.fancybox.localize(`{{${e.label}}}`)),e.click&&t.addEventListener("click",e.click.bind(this)),e.id==="prev"&&t.setAttribute("data-fancybox-prev",""),e.id==="next"&&t.setAttribute("data-fancybox-next","");const i=t.querySelector("svg");return i&&(i.setAttribute("role","img"),i.setAttribute("tabindex","-1"),i.setAttribute("xmlns","http://www.w3.org/2000/svg")),t}build(){this.cleanup();const e=this.fancybox.option("Toolbar.items"),t=[{position:"left",items:[]},{position:"center",items:[]},{position:"right",items:[]}],i=this.fancybox.plugins.Thumbs;for(const a of this.fancybox.option("Toolbar.display")){let o,s;if(rh(a)?(o=a.id,s=Kr({},e[o],a)):(o=a,s=e[o]),["counter","next","prev","slideshow"].includes(o)&&this.fancybox.items.length<2)continue;if(o==="fullscreen"){if(!document.fullscreenEnabled||window.fullScreen)continue;document.addEventListener("fullscreenchange",this.onFsChange)}if(o==="thumbs"&&(!i||i.state==="disabled")||!s)continue;let u=s.position||"right",c=t.find(l=>l.position===u);c&&c.items.push(s)}const r=document.createElement("div");r.classList.add("fancybox__toolbar");for(const a of t)if(a.items.length){const o=document.createElement("div");o.classList.add("fancybox__toolbar__items"),o.classList.add(`fancybox__toolbar__items--${a.position}`);for(const s of a.items)o.appendChild(this.createElement(s));r.appendChild(o)}this.fancybox.$carousel.parentNode.insertBefore(r,this.fancybox.$carousel),this.$container=r}update(){const e=this.fancybox.getSlide(),t=e.index,i=this.fancybox.items.length,r=e.downloadSrc||(e.type!=="image"||e.error?null:e.src);for(const s of this.fancybox.$container.querySelectorAll("a.fancybox__button--download"))r?(s.removeAttribute("disabled"),s.removeAttribute("tabindex"),s.setAttribute("href",r),s.setAttribute("download",r),s.setAttribute("target","_blank")):(s.setAttribute("disabled",""),s.setAttribute("tabindex",-1),s.removeAttribute("href"),s.removeAttribute("download"));const a=e.Panzoom,o=a&&a.option("maxScale")>a.option("baseScale");for(const s of this.fancybox.$container.querySelectorAll(".fancybox__button--zoom"))o?s.removeAttribute("disabled"):s.setAttribute("disabled","");for(const s of this.fancybox.$container.querySelectorAll("[data-fancybox-index]"))s.innerHTML=e.index+1;for(const s of this.fancybox.$container.querySelectorAll("[data-fancybox-count]"))s.innerHTML=i;if(!this.fancybox.option("infinite")){for(const s of this.fancybox.$container.querySelectorAll("[data-fancybox-prev]"))t===0?s.setAttribute("disabled",""):s.removeAttribute("disabled");for(const s of this.fancybox.$container.querySelectorAll("[data-fancybox-next]"))t===i-1?s.setAttribute("disabled",""):s.removeAttribute("disabled")}}cleanup(){this.Slideshow&&this.Slideshow.isActive()&&this.Slideshow.clearTimer(),this.$container&&this.$container.remove(),this.$container=null}attach(){this.fancybox.on(this.events)}detach(){this.fancybox.off(this.events),this.cleanup()}}E1.defaults=vj;const mj={ScrollLock:class{constructor(n){this.fancybox=n,this.viewport=null,this.pendingUpdate=null;for(const e of["onReady","onResize","onTouchstart","onTouchmove"])this[e]=this[e].bind(this)}onReady(){const n=window.visualViewport;n&&(this.viewport=n,this.startY=0,n.addEventListener("resize",this.onResize),this.updateViewport()),window.addEventListener("touchstart",this.onTouchstart,{passive:!1}),window.addEventListener("touchmove",this.onTouchmove,{passive:!1}),window.addEventListener("wheel",this.onWheel,{passive:!1})}onResize(){this.updateViewport()}updateViewport(){const n=this.fancybox,e=this.viewport,t=e.scale||1,i=n.$container;if(!i)return;let r="",a="",o="";t-1>.1&&(r=e.width*t+"px",a=e.height*t+"px",o=`translate3d(${e.offsetLeft}px, ${e.offsetTop}px, 0) scale(${1/t})`),i.style.width=r,i.style.height=a,i.style.transform=o}onTouchstart(n){this.startY=n.touches?n.touches[0].screenY:n.screenY}onTouchmove(n){const e=this.startY,t=window.innerWidth/window.document.documentElement.clientWidth;if(!n.cancelable||n.touches.length>1||t!==1)return;const i=Yg(n.composedPath()[0]);if(!i)return void n.preventDefault();const r=window.getComputedStyle(i),a=parseInt(r.getPropertyValue("height"),10),o=n.touches?n.touches[0].screenY:n.screenY,s=e<=o&&i.scrollTop===0,u=e>=o&&i.scrollHeight-i.scrollTop===a;(s||u)&&n.preventDefault()}onWheel(n){Yg(n.composedPath()[0])||n.preventDefault()}cleanup(){this.pendingUpdate&&(cancelAnimationFrame(this.pendingUpdate),this.pendingUpdate=null);const n=this.viewport;n&&(n.removeEventListener("resize",this.onResize),this.viewport=null),window.removeEventListener("touchstart",this.onTouchstart,!1),window.removeEventListener("touchmove",this.onTouchmove,!1),window.removeEventListener("wheel",this.onWheel,{passive:!1})}attach(){this.fancybox.on("initLayout",this.onReady)}detach(){this.fancybox.off("initLayout",this.onReady),this.cleanup()}},Thumbs:C1,Html:_1,Toolbar:E1,Image:x1,Hash:Ds},T1={startIndex:0,preload:1,infinite:!0,showClass:"fancybox-zoomInUp",hideClass:"fancybox-fadeOut",animated:!0,hideScrollbar:!0,parentEl:null,mainClass:null,autoFocus:!0,trapFocus:!0,placeFocusBack:!0,click:"close",closeButton:"inside",dragToClose:!0,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"next",ArrowDown:"prev",ArrowRight:"next",ArrowLeft:"prev"},template:{closeButton:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg>',spinner:'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="25 25 50 50" tabindex="-1"><circle cx="50" cy="50" r="20"/></svg>',main:null},l10n:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}},Df=new Map;let yj=0;class Qn extends gw{constructor(e,t={}){e=e.map(i=>(i.width&&(i._width=i.width),i.height&&(i._height=i.height),i)),super(Kr(!0,{},T1,t)),this.bindHandlers(),this.state="init",this.setItems(e),this.attachPlugins(Qn.Plugins),this.trigger("init"),this.option("hideScrollbar")===!0&&this.hideScrollbar(),this.initLayout(),this.initCarousel(),this.attachEvents(),Df.set(this.id,this),this.trigger("prepare"),this.state="ready",this.trigger("ready"),this.$container.setAttribute("aria-hidden","false"),this.option("trapFocus")&&this.focus()}option(e,...t){const i=this.getSlide();let r=i?i[e]:void 0;return r!==void 0?(typeof r=="function"&&(r=r.call(this,this,...t)),r):super.option(e,...t)}bindHandlers(){for(const e of["onMousedown","onKeydown","onClick","onFocus","onCreateSlide","onSettle","onTouchMove","onTouchEnd","onTransform"])this[e]=this[e].bind(this)}attachEvents(){document.addEventListener("mousedown",this.onMousedown),document.addEventListener("keydown",this.onKeydown,!0),this.option("trapFocus")&&document.addEventListener("focus",this.onFocus,!0),this.$container.addEventListener("click",this.onClick)}detachEvents(){document.removeEventListener("mousedown",this.onMousedown),document.removeEventListener("keydown",this.onKeydown,!0),document.removeEventListener("focus",this.onFocus,!0),this.$container.removeEventListener("click",this.onClick)}initLayout(){this.$root=this.option("parentEl")||document.body;let e=this.option("template.main");e&&(this.$root.insertAdjacentHTML("beforeend",this.localize(e)),this.$container=this.$root.querySelector(".fancybox__container")),this.$container||(this.$container=document.createElement("div"),this.$root.appendChild(this.$container)),this.$container.onscroll=()=>(this.$container.scrollLeft=0,!1),Object.entries({class:"fancybox__container",role:"dialog",tabIndex:"-1","aria-modal":"true","aria-hidden":"true","aria-label":this.localize("{{MODAL}}")}).forEach(i=>this.$container.setAttribute(...i)),this.option("animated")&&this.$container.classList.add("is-animated"),this.$backdrop=this.$container.querySelector(".fancybox__backdrop"),this.$backdrop||(this.$backdrop=document.createElement("div"),this.$backdrop.classList.add("fancybox__backdrop"),this.$container.appendChild(this.$backdrop)),this.$carousel=this.$container.querySelector(".fancybox__carousel"),this.$carousel||(this.$carousel=document.createElement("div"),this.$carousel.classList.add("fancybox__carousel"),this.$container.appendChild(this.$carousel)),this.$container.Fancybox=this,this.id=this.$container.getAttribute("id"),this.id||(this.id=this.options.id||++yj,this.$container.setAttribute("id","fancybox-"+this.id));const t=this.option("mainClass");return t&&this.$container.classList.add(...t.split(" ")),document.documentElement.classList.add("with-fancybox"),this.trigger("initLayout"),this}setItems(e){const t=[];for(const i of e){const r=i.$trigger;if(r){const s=r.dataset||{};i.src=s.src||r.getAttribute("href")||i.src,i.type=s.type||i.type,!i.src&&r instanceof HTMLImageElement&&(i.src=r.currentSrc||i.$trigger.src)}let a=i.$thumb;if(!a){let s=i.$trigger&&i.$trigger.origTarget;s&&(a=s instanceof HTMLImageElement?s:s.querySelector("img:not([aria-hidden])")),!a&&i.$trigger&&(a=i.$trigger instanceof HTMLImageElement?i.$trigger:i.$trigger.querySelector("img:not([aria-hidden])"))}i.$thumb=a||null;let o=i.thumb;!o&&a&&(o=a.currentSrc||a.src,!o&&a.dataset&&(o=a.dataset.lazySrc||a.dataset.src)),o||i.type!=="image"||(o=i.src),i.thumb=o||null,i.caption=i.caption||"",t.push(i)}this.items=t}initCarousel(){return this.Carousel=new wh(this.$carousel,Kr(!0,{},{prefix:"",classNames:{viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"},textSelection:!0,preload:this.option("preload"),friction:.88,slides:this.items,initialPage:this.options.startIndex,slidesPerPage:1,infiniteX:this.option("infinite"),infiniteY:!0,l10n:this.option("l10n"),Dots:!1,Navigation:{classNames:{main:"fancybox__nav",button:"carousel__button",next:"is-next",prev:"is-prev"}},Panzoom:{textSelection:!0,panOnlyZoomed:()=>this.Carousel&&this.Carousel.pages&&this.Carousel.pages.length<2&&!this.option("dragToClose"),lockAxis:()=>{if(this.Carousel){let e="x";return this.option("dragToClose")&&(e+="y"),e}}},on:{"*":(e,...t)=>this.trigger(`Carousel.${e}`,...t),init:e=>this.Carousel=e,createSlide:this.onCreateSlide,settle:this.onSettle}},this.option("Carousel"))),this.option("dragToClose")&&this.Carousel.Panzoom.on({touchMove:this.onTouchMove,afterTransform:this.onTransform,touchEnd:this.onTouchEnd}),this.trigger("initCarousel"),this}onCreateSlide(e,t){let i=t.caption||"";if(typeof this.options.caption=="function"&&(i=this.options.caption.call(this,this,this.Carousel,t)),typeof i=="string"&&i.length){const r=document.createElement("div"),a=`fancybox__caption_${this.id}_${t.index}`;r.className="fancybox__caption",r.innerHTML=i,r.setAttribute("id",a),t.$caption=t.$el.appendChild(r),t.$el.classList.add("has-caption"),t.$el.setAttribute("aria-labelledby",a)}}onSettle(){this.option("autoFocus")&&this.focus()}onFocus(e){this.isTopmost()&&this.focus(e)}onClick(e){if(e.defaultPrevented)return;let t=e.composedPath()[0];if(t.matches("[data-fancybox-close]"))return e.preventDefault(),void Qn.close(!1,e);if(t.matches("[data-fancybox-next]"))return e.preventDefault(),void Qn.next();if(t.matches("[data-fancybox-prev]"))return e.preventDefault(),void Qn.prev();const i=document.activeElement;if(i){if(i.closest("[contenteditable]"))return;t.matches(a_)||i.blur()}if(!t.closest(".fancybox__content")&&!getSelection().toString().length&&this.trigger("click",e)!==!1)switch(this.option("click")){case"close":this.close();break;case"next":this.next()}}onTouchMove(){const e=this.getSlide().Panzoom;return!e||e.content.scale===1}onTouchEnd(e){const t=e.dragOffset.y;Math.abs(t)>=150||Math.abs(t)>=35&&e.dragOffset.time<350?(this.option("hideClass")&&(this.getSlide().hideClass="fancybox-throwOut"+(e.content.y<0?"Up":"Down")),this.close()):e.lockAxis==="y"&&e.panTo({y:0})}onTransform(e){if(this.$backdrop){const t=Math.abs(e.content.y),i=t<1?"":Math.max(.33,Math.min(1,1-t/e.content.fitHeight*1.5));this.$container.style.setProperty("--fancybox-ts",i?"0s":""),this.$container.style.setProperty("--fancybox-opacity",i)}}onMousedown(){this.state==="ready"&&document.body.classList.add("is-using-mouse")}onKeydown(e){if(!this.isTopmost())return;document.body.classList.remove("is-using-mouse");const t=e.key,i=this.option("keyboard");if(!i||e.ctrlKey||e.altKey||e.shiftKey)return;const r=e.composedPath()[0],a=document.activeElement&&document.activeElement.classList,o=a&&a.contains("carousel__button");if(t!=="Escape"&&!o&&(e.target.isContentEditable||["BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(r.nodeName)!==-1)||this.trigger("keydown",t,e)===!1)return;const s=i[t];typeof this[s]=="function"&&this[s]()}getSlide(){const e=this.Carousel;if(!e)return null;const t=e.page===null?e.option("initialPage"):e.page,i=e.pages||[];return i.length&&i[t]?i[t].slides[0]:null}focus(e){if(Qn.ignoreFocusChange||["init","closing","customClosing","destroy"].indexOf(this.state)>-1)return;const t=this.$container,i=this.getSlide(),r=i.state==="done"?i.$el:null;if(r&&r.contains(document.activeElement))return;e&&e.preventDefault(),Qn.ignoreFocusChange=!0;const a=Array.from(t.querySelectorAll(a_));let o,s=[];for(let u of a){const c=u.offsetParent,l=r&&r.contains(u),_=!this.Carousel.$viewport.contains(u);c&&(l||_)?(s.push(u),u.dataset.origTabindex!==void 0&&(u.tabIndex=u.dataset.origTabindex,u.removeAttribute("data-orig-tabindex")),(u.hasAttribute("autoFocus")||!o&&l&&!u.classList.contains("carousel__button"))&&(o=u)):(u.dataset.origTabindex=u.dataset.origTabindex===void 0?u.getAttribute("tabindex"):u.dataset.origTabindex,u.tabIndex=-1)}e?s.indexOf(e.target)>-1?this.lastFocus=e.target:this.lastFocus===t?If(s[s.length-1]):If(t):this.option("autoFocus")&&o?If(o):s.indexOf(document.activeElement)<0&&If(t),this.lastFocus=document.activeElement,Qn.ignoreFocusChange=!1}hideScrollbar(){if(!Gg)return;const e=window.innerWidth-document.documentElement.getBoundingClientRect().width,t="fancybox-style-noscroll";let i=document.getElementById(t);i||e>0&&(i=document.createElement("style"),i.id=t,i.type="text/css",i.innerHTML=`.compensate-for-scrollbar {padding-right: ${e}px;}`,document.getElementsByTagName("head")[0].appendChild(i),document.body.classList.add("compensate-for-scrollbar"))}revealScrollbar(){document.body.classList.remove("compensate-for-scrollbar");const e=document.getElementById("fancybox-style-noscroll");e&&e.remove()}clearContent(e){this.Carousel.trigger("removeSlide",e),e.$content&&(e.$content.remove(),e.$content=null),e.$closeButton&&(e.$closeButton.remove(),e.$closeButton=null),e._className&&e.$el.classList.remove(e._className)}setContent(e,t,i={}){let r;const a=e.$el;if(t instanceof HTMLElement)["img","iframe","video","audio"].indexOf(t.nodeName.toLowerCase())>-1?(r=document.createElement("div"),r.appendChild(t)):r=t;else{const o=document.createRange().createContextualFragment(t);r=document.createElement("div"),r.appendChild(o)}if(e.filter&&!e.error&&(r=r.querySelector(e.filter)),r instanceof Element)return e._className=`has-${i.suffix||e.type||"unknown"}`,a.classList.add(e._className),r.classList.add("fancybox__content"),r.style.display!=="none"&&getComputedStyle(r).getPropertyValue("display")!=="none"||(r.style.display=e.display||this.option("defaultDisplay")||"flex"),e.id&&r.setAttribute("id",e.id),e.$content=r,a.prepend(r),this.manageCloseButton(e),e.state!=="loading"&&this.revealContent(e),r;this.setError(e,"{{ELEMENT_NOT_FOUND}}")}manageCloseButton(e){const t=e.closeButton===void 0?this.option("closeButton"):e.closeButton;if(!t||t==="top"&&this.$closeButton)return;const i=document.createElement("button");i.classList.add("carousel__button","is-close"),i.setAttribute("title",this.options.l10n.CLOSE),i.innerHTML=this.option("template.closeButton"),i.addEventListener("click",r=>this.close(r)),t==="inside"?(e.$closeButton&&e.$closeButton.remove(),e.$closeButton=e.$content.appendChild(i)):this.$closeButton=this.$container.insertBefore(i,this.$container.firstChild)}revealContent(e){this.trigger("reveal",e),e.$content.style.visibility="";let t=!1;e.error||e.state==="loading"||this.Carousel.prevPage!==null||e.index!==this.options.startIndex||(t=e.showClass===void 0?this.option("showClass"):e.showClass),t?(e.state="animating",this.animateCSS(e.$content,t,()=>{this.done(e)})):this.done(e)}animateCSS(e,t,i){if(e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!0,cancelable:!0})),!e||!t)return void(typeof i=="function"&&i());const r=function(a){a.currentTarget===this&&(e.removeEventListener("animationend",r),i&&i(),e.classList.remove(t))};e.addEventListener("animationend",r),e.classList.add(t)}done(e){e.state="done",this.trigger("done",e);const t=this.getSlide();t&&e.index===t.index&&this.option("autoFocus")&&this.focus()}setError(e,t){e.error=t,this.hideLoading(e),this.clearContent(e);const i=document.createElement("div");i.classList.add("fancybox-error"),i.innerHTML=this.localize(t||"<p>{{ERROR}}</p>"),this.setContent(e,i,{suffix:"error"})}showLoading(e){e.state="loading",e.$el.classList.add("is-loading");let t=e.$el.querySelector(".fancybox__spinner");t||(t=document.createElement("div"),t.classList.add("fancybox__spinner"),t.innerHTML=this.option("template.spinner"),t.addEventListener("click",()=>{this.Carousel.Panzoom.velocity||this.close()}),e.$el.prepend(t))}hideLoading(e){const t=e.$el&&e.$el.querySelector(".fancybox__spinner");t&&(t.remove(),e.$el.classList.remove("is-loading")),e.state==="loading"&&(this.trigger("load",e),e.state="ready")}next(){const e=this.Carousel;e&&e.pages.length>1&&e.slideNext()}prev(){const e=this.Carousel;e&&e.pages.length>1&&e.slidePrev()}jumpTo(...e){this.Carousel&&this.Carousel.slideTo(...e)}isClosing(){return["closing","customClosing","destroy"].includes(this.state)}isTopmost(){return Qn.getInstance().id==this.id}close(e){if(e&&e.preventDefault(),this.isClosing()||this.trigger("shouldClose",e)===!1||(this.state="closing",this.Carousel.Panzoom.destroy(),this.detachEvents(),this.trigger("closing",e),this.state==="destroy"))return;this.$container.setAttribute("aria-hidden","true"),this.$container.classList.add("is-closing");const t=this.getSlide();if(this.Carousel.slides.forEach(i=>{i.$content&&i.index!==t.index&&this.Carousel.trigger("removeSlide",i)}),this.state==="closing"){const i=t.hideClass===void 0?this.option("hideClass"):t.hideClass;this.animateCSS(t.$content,i,()=>{this.destroy()},!0)}}destroy(){if(this.state==="destroy")return;this.state="destroy",this.trigger("destroy");const e=this.option("placeFocusBack")?this.option("triggerTarget",this.getSlide().$trigger):null;this.Carousel.destroy(),this.detachPlugins(),this.Carousel=null,this.options={},this.events={},this.$container.remove(),this.$container=this.$backdrop=this.$carousel=null,e&&If(e),Df.delete(this.id);const t=Qn.getInstance();t?t.focus():(document.documentElement.classList.remove("with-fancybox"),document.body.classList.remove("is-using-mouse"),this.revealScrollbar())}static show(e,t={}){return new Qn(e,t)}static fromEvent(e,t={}){if(e.defaultPrevented||e.button&&e.button!==0||e.ctrlKey||e.metaKey||e.shiftKey)return;const i=e.composedPath()[0];let r,a,o,s=i;if((s.matches("[data-fancybox-trigger]")||(s=s.closest("[data-fancybox-trigger]")))&&(t.triggerTarget=s,r=s&&s.dataset&&s.dataset.fancyboxTrigger),r){const c=document.querySelectorAll(`[data-fancybox="${r}"]`),l=parseInt(s.dataset.fancyboxIndex,10)||0;s=c.length?c[l]:s}Array.from(Qn.openers.keys()).reverse().some(c=>{o=s||i;let l=!1;try{o instanceof Element&&(typeof c=="string"||c instanceof String)&&(l=o.matches(c)||(o=o.closest(c)))}catch{}return!!l&&(e.preventDefault(),a=c,!0)});let u=!1;if(a){t.event=e,t.target=o,o.origTarget=i,u=Qn.fromOpener(a,t);const c=Qn.getInstance();c&&c.state==="ready"&&e.detail&&document.body.classList.add("is-using-mouse")}return u}static fromOpener(e,t={}){let i=[],r=t.startIndex||0,a=t.target||null;const o=(t=Kr({},t,Qn.openers.get(e))).groupAll!==void 0&&t.groupAll,s=t.groupAttr===void 0?"data-fancybox":t.groupAttr,u=s&&a?a.getAttribute(`${s}`):"";if(!a||u||o){const l=t.root||(a?a.getRootNode():document.body);i=[].slice.call(l.querySelectorAll(e))}if(a&&!o&&(i=u?i.filter(l=>l.getAttribute(`${s}`)===u):[a]),!i.length)return!1;const c=Qn.getInstance();return!(c&&i.indexOf(c.options.$trigger)>-1)&&(r=a?i.indexOf(a):r,i=i.map(function(l){const _=["false","0","no","null","undefined"],I=["true","1","yes"],M=Object.assign({},l.dataset),P={};for(let[N,b]of Object.entries(M))if(N!=="fancybox")if(N==="width"||N==="height")P[`_${N}`]=b;else if(typeof b=="string"||b instanceof String)if(_.indexOf(b)>-1)P[N]=!1;else if(I.indexOf(P[N])>-1)P[N]=!0;else try{P[N]=JSON.parse(b)}catch{P[N]=b}else P[N]=b;return l instanceof Element&&(P.$trigger=l),P}),new Qn(i,Kr({},t,{startIndex:r,$trigger:a})))}static bind(e,t={}){function i(){document.body.addEventListener("click",Qn.fromEvent,!1)}Gg&&(Qn.openers.size||(/complete|interactive|loaded/.test(document.readyState)?i():document.addEventListener("DOMContentLoaded",i)),Qn.openers.set(e,t))}static unbind(e){Qn.openers.delete(e),Qn.openers.size||Qn.destroy()}static destroy(){let e;for(;e=Qn.getInstance();)e.destroy();Qn.openers=new Map,document.body.removeEventListener("click",Qn.fromEvent,!1)}static getInstance(e){return e?Df.get(e):Array.from(Df.values()).reverse().find(t=>!t.isClosing()&&t)||null}static close(e=!0,t){if(e)for(const i of Df.values())i.close(t);else{const i=Qn.getInstance();i&&i.close(t)}}static next(){const e=Qn.getInstance();e&&e.next()}static prev(){const e=Qn.getInstance();e&&e.prev()}}Qn.version="4.0.31",Qn.defaults=T1,Qn.openers=new Map,Qn.Plugins=mj,Qn.bind("[data-fancybox]");for(const[n,e]of Object.entries(Qn.Plugins||{}))typeof e.create=="function"&&e.create(Qn);var Kb={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,e){(function(){var t,i="4.17.21",r=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",c=500,l="__lodash_placeholder__",_=1,I=2,M=4,P=1,N=2,b=1,f=2,v=4,m=8,d=16,g=32,h=64,C=128,D=256,S=512,k=30,L="...",B=800,z=16,X=1,ee=2,ce=3,le=1/0,me=9007199254740991,je=17976931348623157e292,Pe=0/0,it=4294967295,Te=it-1,lt=it>>>1,he=[["ary",C],["bind",b],["bindKey",f],["curry",m],["curryRight",d],["flip",S],["partial",g],["partialRight",h],["rearg",D]],Dt="[object Arguments]",Ke="[object Array]",Mt="[object AsyncFunction]",Me="[object Boolean]",Be="[object Date]",Oe="[object DOMException]",Se="[object Error]",Ye="[object Function]",ve="[object GeneratorFunction]",Ce="[object Map]",_e="[object Number]",pe="[object Null]",Ve="[object Object]",Ze="[object Promise]",ht="[object Proxy]",ot="[object RegExp]",st="[object Set]",re="[object String]",H="[object Symbol]",q="[object Undefined]",ie="[object WeakMap]",ue="[object WeakSet]",be="[object ArrayBuffer]",ke="[object DataView]",Xe="[object Float32Array]",qe="[object Float64Array]",Le="[object Int8Array]",ut="[object Int16Array]",bt="[object Int32Array]",zt="[object Uint8Array]",qt="[object Uint8ClampedArray]",Zt="[object Uint16Array]",Xt="[object Uint32Array]",Jt=/\b__p \+= '';/g,Mn=/\b(__p \+=) '' \+/g,kn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,qn=/&(?:amp|lt|gt|quot|#39);/g,wt=/[&<>"']/g,St=RegExp(qn.source),Lt=RegExp(wt.source),Wt=/<%-([\s\S]+?)%>/g,$t=/<%([\s\S]+?)%>/g,At=/<%=([\s\S]+?)%>/g,ii=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,li=/^\w*$/,Kt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gt=/[\\^$.*+?()[\]{}|]/g,Jn=RegExp(gt.source),an=/^\s+/,bn=/\s/,vi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_i=/\{\n\/\* \[wrapped with (.+)\] \*/,ui=/,? & /,Mi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wn=/[()=,{}\[\]\/\s]/,Ua=/\\(\\)?/g,Ca=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ya=/\w*$/,Sa=/^[-+]0x[0-9a-f]+$/i,vr=/^0b[01]+$/i,mr=/^\[object .+?Constructor\]$/,Ir=/^0o[0-7]+$/i,yi=/^(?:0|[1-9]\d*)$/,$i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ea=/($^)/,Ga=/['\n\r\u2028\u2029\\]/g,xe="\\ud800-\\udfff",Tt="\\u0300-\\u036f",Et="\\ufe20-\\ufe2f",kt="\\u20d0-\\u20ff",Nt=Tt+Et+kt,on="\\u2700-\\u27bf",nn="a-z\\xdf-\\xf6\\xf8-\\xff",In="\\xac\\xb1\\xd7\\xf7",Pn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",hi="\\u2000-\\u206f",Li=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ft="A-Z\\xc0-\\xd6\\xd8-\\xde",bi="\\ufe0e\\ufe0f",cr=In+Pn+hi+Li,Dr="['\u2019]",$a="["+xe+"]",fs="["+cr+"]",Ti="["+Nt+"]",Vi="\\d+",ho="["+on+"]",Va="["+nn+"]",Ns="[^"+xe+cr+Vi+on+nn+Ft+"]",yr="\\ud83c[\\udffb-\\udfff]",ta="(?:"+Ti+"|"+yr+")",Ar="[^"+xe+"]",na="(?:\\ud83c[\\udde6-\\uddff]){2}",Xa="[\\ud800-\\udbff][\\udc00-\\udfff]",ia="["+Ft+"]",ds="\\u200d",Za="(?:"+Va+"|"+Ns+")",$o="(?:"+ia+"|"+Ns+")",Fs="(?:"+Dr+"(?:d|ll|m|re|s|t|ve))?",Vo="(?:"+Dr+"(?:D|LL|M|RE|S|T|VE))?",ra=ta+"?",Xo="["+bi+"]?",Zo="(?:"+ds+"(?:"+[Ar,na,Xa].join("|")+")"+Xo+ra+")*",js="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Yl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ps=Xo+ra+Zo,Jo="(?:"+[ho,na,Xa].join("|")+")"+ps,Ko="(?:"+[Ar+Ti+"?",Ti,na,Xa,$a].join("|")+")",Gl=RegExp(Dr,"g"),$l=RegExp(Ti,"g"),Bs=RegExp(yr+"(?="+yr+")|"+Ko+ps,"g"),Qo=RegExp([ia+"?"+Va+"+"+Fs+"(?="+[fs,ia,"$"].join("|")+")",$o+"+"+Vo+"(?="+[fs,ia+Za,"$"].join("|")+")",ia+"?"+Za+"+"+Fs,ia+"+"+Vo,Yl,js,Vi,Jo].join("|"),"g"),Hs=RegExp("["+ds+xe+Nt+bi+"]"),fi=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_a=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qo=-1,di={};di[Xe]=di[qe]=di[Le]=di[ut]=di[bt]=di[zt]=di[qt]=di[Zt]=di[Xt]=!0,di[Dt]=di[Ke]=di[be]=di[Me]=di[ke]=di[Be]=di[Se]=di[Ye]=di[Ce]=di[_e]=di[Ve]=di[ot]=di[st]=di[re]=di[ie]=!1;var jn={};jn[Dt]=jn[Ke]=jn[be]=jn[ke]=jn[Me]=jn[Be]=jn[Xe]=jn[qe]=jn[Le]=jn[ut]=jn[bt]=jn[Ce]=jn[_e]=jn[Ve]=jn[ot]=jn[st]=jn[re]=jn[H]=jn[zt]=jn[qt]=jn[Zt]=jn[Xt]=!0,jn[Se]=jn[Ye]=jn[ie]=!1;var gs={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Vl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Qi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fo=parseFloat,zs=parseInt,po=typeof sr=="object"&&sr&&sr.Object===Object&&sr,Zl=typeof self=="object"&&self&&self.Object===Object&&self,Ri=po||Zl||Function("return this")(),O=e&&!e.nodeType&&e,R=O&&!0&&n&&!n.nodeType&&n,Y=R&&R.exports===O,Z=Y&&po.process,te=function(){try{var Je=R&&R.require&&R.require("util").types;return Je||Z&&Z.binding&&Z.binding("util")}catch{}}(),ne=te&&te.isArrayBuffer,fe=te&&te.isDate,Re=te&&te.isMap,De=te&&te.isRegExp,We=te&&te.isSet,ft=te&&te.isTypedArray;function et(Je,_t,pt){switch(pt.length){case 0:return Je.call(_t);case 1:return Je.call(_t,pt[0]);case 2:return Je.call(_t,pt[0],pt[1]);case 3:return Je.call(_t,pt[0],pt[1],pt[2])}return Je.apply(_t,pt)}function ct(Je,_t,pt,en){for(var Cn=-1,$n=Je==null?0:Je.length;++Cn<$n;){var Ii=Je[Cn];_t(en,Ii,pt(Ii),Je)}return en}function vt(Je,_t){for(var pt=-1,en=Je==null?0:Je.length;++pt<en&&_t(Je[pt],pt,Je)!==!1;);return Je}function fn(Je,_t){for(var pt=Je==null?0:Je.length;pt--&&_t(Je[pt],pt,Je)!==!1;);return Je}function En(Je,_t){for(var pt=-1,en=Je==null?0:Je.length;++pt<en;)if(!_t(Je[pt],pt,Je))return!1;return!0}function ln(Je,_t){for(var pt=-1,en=Je==null?0:Je.length,Cn=0,$n=[];++pt<en;){var Ii=Je[pt];_t(Ii,pt,Je)&&($n[Cn++]=Ii)}return $n}function wi(Je,_t){var pt=Je==null?0:Je.length;return!!pt&&br(Je,_t,0)>-1}function ri(Je,_t,pt){for(var en=-1,Cn=Je==null?0:Je.length;++en<Cn;)if(pt(_t,Je[en]))return!0;return!1}function Nn(Je,_t){for(var pt=-1,en=Je==null?0:Je.length,Cn=Array(en);++pt<en;)Cn[pt]=_t(Je[pt],pt,Je);return Cn}function Ln(Je,_t){for(var pt=-1,en=_t.length,Cn=Je.length;++pt<en;)Je[Cn+pt]=_t[pt];return Je}function un(Je,_t,pt,en){var Cn=-1,$n=Je==null?0:Je.length;for(en&&$n&&(pt=Je[++Cn]);++Cn<$n;)pt=_t(pt,Je[Cn],Cn,Je);return pt}function Bi(Je,_t,pt,en){var Cn=Je==null?0:Je.length;for(en&&Cn&&(pt=Je[--Cn]);Cn--;)pt=_t(pt,Je[Cn],Cn,Je);return pt}function wn(Je,_t){for(var pt=-1,en=Je==null?0:Je.length;++pt<en;)if(_t(Je[pt],pt,Je))return!0;return!1}var Ci=wr("length");function vs(Je){return Je.split("")}function Ws(Je){return Je.match(Mi)||[]}function qi(Je,_t,pt){var en;return pt(Je,function(Cn,$n,Ii){if(_t(Cn,$n,Ii))return en=$n,!1}),en}function jr(Je,_t,pt,en){for(var Cn=Je.length,$n=pt+(en?1:-1);en?$n--:++$n<Cn;)if(_t(Je[$n],$n,Je))return $n;return-1}function br(Je,_t,pt){return _t===_t?nl(Je,_t,pt):jr(Je,Gr,pt)}function er(Je,_t,pt,en){for(var Cn=pt-1,$n=Je.length;++Cn<$n;)if(en(Je[Cn],_t))return Cn;return-1}function Gr(Je){return Je!==Je}function ur(Je,_t){var pt=Je==null?0:Je.length;return pt?Vn(Je,_t)/pt:Pe}function wr(Je){return function(_t){return _t==null?t:_t[Je]}}function ms(Je){return function(_t){return Je==null?t:Je[_t]}}function aa(Je,_t,pt,en,Cn){return Cn(Je,function($n,Ii,ei){pt=en?(en=!1,$n):_t(pt,$n,Ii,ei)}),pt}function go(Je,_t){var pt=Je.length;for(Je.sort(_t);pt--;)Je[pt]=Je[pt].value;return Je}function Vn(Je,_t){for(var pt,en=-1,Cn=Je.length;++en<Cn;){var $n=_t(Je[en]);$n!==t&&(pt=pt===t?$n:pt+$n)}return pt}function Br(Je,_t){for(var pt=-1,en=Array(Je);++pt<Je;)en[pt]=_t(pt);return en}function el(Je,_t){return Nn(_t,function(pt){return[pt,Je[pt]]})}function Ja(Je){return Je&&Je.slice(0,nr(Je)+1).replace(an,"")}function tr(Je){return function(_t){return Je(_t)}}function xa(Je,_t){return Nn(_t,function(pt){return Je[pt]})}function Ea(Je,_t){return Je.has(_t)}function vo(Je,_t){for(var pt=-1,en=Je.length;++pt<en&&br(_t,Je[pt],0)>-1;);return pt}function tl(Je,_t){for(var pt=Je.length;pt--&&br(_t,Je[pt],0)>-1;);return pt}function Jl(Je,_t){for(var pt=Je.length,en=0;pt--;)Je[pt]===_t&&++en;return en}var Us=ms(gs),Ys=ms(Vl);function Kl(Je){return"\\"+Qi[Je]}function Ql(Je,_t){return Je==null?t:Je[_t]}function Ka(Je){return Hs.test(Je)}function Qa(Je){return fi.test(Je)}function ql(Je){for(var _t,pt=[];!(_t=Je.next()).done;)pt.push(_t.value);return pt}function ys(Je){var _t=-1,pt=Array(Je.size);return Je.forEach(function(en,Cn){pt[++_t]=[Cn,en]}),pt}function Hr(Je,_t){return function(pt){return Je(_t(pt))}}function Hi(Je,_t){for(var pt=-1,en=Je.length,Cn=0,$n=[];++pt<en;){var Ii=Je[pt];(Ii===_t||Ii===l)&&(Je[pt]=l,$n[Cn++]=pt)}return $n}function qa(Je){var _t=-1,pt=Array(Je.size);return Je.forEach(function(en){pt[++_t]=en}),pt}function mo(Je){var _t=-1,pt=Array(Je.size);return Je.forEach(function(en){pt[++_t]=[en,en]}),pt}function nl(Je,_t,pt){for(var en=pt-1,Cn=Je.length;++en<Cn;)if(Je[en]===_t)return en;return-1}function ec(Je,_t,pt){for(var en=pt+1;en--;)if(Je[en]===_t)return en;return en}function Xn(Je){return Ka(Je)?yo(Je):Ci(Je)}function Xi(Je){return Ka(Je)?il(Je):vs(Je)}function nr(Je){for(var _t=Je.length;_t--&&bn.test(Je.charAt(_t)););return _t}var Mr=ms(Xl);function yo(Je){for(var _t=Bs.lastIndex=0;Bs.test(Je);)++_t;return _t}function il(Je){return Je.match(Bs)||[]}function tc(Je){return Je.match(Qo)||[]}var rl=function Je(_t){_t=_t==null?Ri:Ta.defaults(Ri.Object(),_t,Ta.pick(Ri,_a));var pt=_t.Array,en=_t.Date,Cn=_t.Error,$n=_t.Function,Ii=_t.Math,ei=_t.Object,Cr=_t.RegExp,Gs=_t.String,hr=_t.TypeError,ye=pt.prototype,Ne=$n.prototype,$e=ei.prototype,xt=_t["__core-js_shared__"],tt=Ne.toString,dt=$e.hasOwnProperty,Rt=0,Vt=function(){var p=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}(),Yt=$e.toString,dn=tt.call(ei),vn=Ri._,mn=Cr("^"+tt.call(dt).replace(gt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),On=Y?_t.Buffer:t,Bn=_t.Symbol,pn=_t.Uint8Array,Ei=On?On.allocUnsafe:t,Di=Hr(ei.getPrototypeOf,ei),Ni=ei.create,W=$e.propertyIsEnumerable,V=ye.splice,ae=Bn?Bn.isConcatSpreadable:t,Ie=Bn?Bn.iterator:t,Ct=Bn?Bn.toStringTag:t,tn=function(){try{var p=Qs(ei,"defineProperty");return p({},"",{}),p}catch{}}(),Si=_t.clearTimeout!==Ri.clearTimeout&&_t.clearTimeout,$r=en&&en.now!==Ri.Date.now&&en.now,fr=_t.setTimeout!==Ri.setTimeout&&_t.setTimeout,Ia=Ii.ceil,Vr=Ii.floor,zc=ei.getOwnPropertySymbols,Xv=On?On.isBuffer:t,Md=_t.isFinite,Od=ye.join,Zv=Hr(ei.keys,ei),Oi=Ii.max,Sr=Ii.min,sa=en.now,Jv=_t.parseInt,kd=Ii.random,Kv=ye.reverse,Hh=Qs(_t,"DataView"),nc=Qs(_t,"Map"),zh=Qs(_t,"Promise"),al=Qs(_t,"Set"),ic=Qs(_t,"WeakMap"),rc=Qs(ei,"create"),Wc=ic&&new ic,sl={},Qv=Q(Hh),qv=Q(nc),Pd=Q(zh),Wh=Q(al),em=Q(ic),bo=Bn?Bn.prototype:t,ac=bo?bo.valueOf:t,Ld=bo?bo.toString:t;function ge(p){if(Wi(p)&&!Rn(p)&&!(p instanceof Zn)){if(p instanceof oa)return p;if(dt.call(p,"__wrapped__"))return se(p)}return new oa(p)}var ol=function(){function p(){}return function(T){if(!Fi(T))return{};if(Ni)return Ni(T);p.prototype=T;var F=new p;return p.prototype=t,F}}();function Uc(){}function oa(p,T){this.__wrapped__=p,this.__actions__=[],this.__chain__=!!T,this.__index__=0,this.__values__=t}ge.templateSettings={escape:Wt,evaluate:$t,interpolate:At,variable:"",imports:{_:ge}},ge.prototype=Uc.prototype,ge.prototype.constructor=ge,oa.prototype=ol(Uc.prototype),oa.prototype.constructor=oa;function Zn(p){this.__wrapped__=p,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=it,this.__views__=[]}function tm(){var p=new Zn(this.__wrapped__);return p.__actions__=zr(this.__actions__),p.__dir__=this.__dir__,p.__filtered__=this.__filtered__,p.__iteratees__=zr(this.__iteratees__),p.__takeCount__=this.__takeCount__,p.__views__=zr(this.__views__),p}function nm(){if(this.__filtered__){var p=new Zn(this);p.__dir__=-1,p.__filtered__=!0}else p=this.clone(),p.__dir__*=-1;return p}function im(){var p=this.__wrapped__.value(),T=this.__dir__,F=Rn(p),J=T<0,oe=F?p.length:0,we=ty(0,oe,this.__views__),Fe=we.start,Ge=we.end,at=Ge-Fe,Ot=J?Ge:Fe-1,Pt=this.__iteratees__,jt=Pt.length,rn=0,gn=Sr(at,this.__takeCount__);if(!F||!J&&oe==at&&gn==at)return ip(p,this.__actions__);var Dn=[];e:for(;at--&&rn<gn;){Ot+=T;for(var Un=-1,An=p[Ot];++Un<jt;){var Kn=Pt[Un],si=Kn.iteratee,ka=Kn.type,Zr=si(An);if(ka==ee)An=Zr;else if(!Zr){if(ka==X)continue e;break e}}Dn[rn++]=An}return Dn}Zn.prototype=ol(Uc.prototype),Zn.prototype.constructor=Zn;function wo(p){var T=-1,F=p==null?0:p.length;for(this.clear();++T<F;){var J=p[T];this.set(J[0],J[1])}}function rm(){this.__data__=rc?rc(null):{},this.size=0}function am(p){var T=this.has(p)&&delete this.__data__[p];return this.size-=T?1:0,T}function sm(p){var T=this.__data__;if(rc){var F=T[p];return F===u?t:F}return dt.call(T,p)?T[p]:t}function om(p){var T=this.__data__;return rc?T[p]!==t:dt.call(T,p)}function lm(p,T){var F=this.__data__;return this.size+=this.has(p)?0:1,F[p]=rc&&T===t?u:T,this}wo.prototype.clear=rm,wo.prototype.delete=am,wo.prototype.get=sm,wo.prototype.has=om,wo.prototype.set=lm;function bs(p){var T=-1,F=p==null?0:p.length;for(this.clear();++T<F;){var J=p[T];this.set(J[0],J[1])}}function cm(){this.__data__=[],this.size=0}function um(p){var T=this.__data__,F=Yc(T,p);if(F<0)return!1;var J=T.length-1;return F==J?T.pop():V.call(T,F,1),--this.size,!0}function hm(p){var T=this.__data__,F=Yc(T,p);return F<0?t:T[F][1]}function Rd(p){return Yc(this.__data__,p)>-1}function fm(p,T){var F=this.__data__,J=Yc(F,p);return J<0?(++this.size,F.push([p,T])):F[J][1]=T,this}bs.prototype.clear=cm,bs.prototype.delete=um,bs.prototype.get=hm,bs.prototype.has=Rd,bs.prototype.set=fm;function ws(p){var T=-1,F=p==null?0:p.length;for(this.clear();++T<F;){var J=p[T];this.set(J[0],J[1])}}function Nd(){this.size=0,this.__data__={hash:new wo,map:new(nc||bs),string:new wo}}function dm(p){var T=uu(this,p).delete(p);return this.size-=T?1:0,T}function pm(p){return uu(this,p).get(p)}function gm(p){return uu(this,p).has(p)}function vm(p,T){var F=uu(this,p),J=F.size;return F.set(p,T),this.size+=F.size==J?0:1,this}ws.prototype.clear=Nd,ws.prototype.delete=dm,ws.prototype.get=pm,ws.prototype.has=gm,ws.prototype.set=vm;function Co(p){var T=-1,F=p==null?0:p.length;for(this.__data__=new ws;++T<F;)this.add(p[T])}function mm(p){return this.__data__.set(p,u),this}function ym(p){return this.__data__.has(p)}Co.prototype.add=Co.prototype.push=mm,Co.prototype.has=ym;function Da(p){var T=this.__data__=new bs(p);this.size=T.size}function bm(){this.__data__=new bs,this.size=0}function wm(p){var T=this.__data__,F=T.delete(p);return this.size=T.size,F}function Cm(p){return this.__data__.get(p)}function Sm(p){return this.__data__.has(p)}function _m(p,T){var F=this.__data__;if(F instanceof bs){var J=F.__data__;if(!nc||J.length<r-1)return J.push([p,T]),this.size=++F.size,this;F=this.__data__=new ws(J)}return F.set(p,T),this.size=F.size,this}Da.prototype.clear=bm,Da.prototype.delete=wm,Da.prototype.get=Cm,Da.prototype.has=Sm,Da.prototype.set=_m;function Fd(p,T){var F=Rn(p),J=!F&&mc(p),oe=!F&&!J&&pl(p),we=!F&&!J&&!oe&&Au(p),Fe=F||J||oe||we,Ge=Fe?Br(p.length,Gs):[],at=Ge.length;for(var Ot in p)(T||dt.call(p,Ot))&&!(Fe&&(Ot=="length"||oe&&(Ot=="offset"||Ot=="parent")||we&&(Ot=="buffer"||Ot=="byteLength"||Ot=="byteOffset")||rs(Ot,at)))&&Ge.push(Ot);return Ge}function jd(p){var T=p.length;return T?p[ef(0,T-1)]:t}function xm(p,T){return E(zr(p),So(T,0,p.length))}function Em(p){return E(zr(p))}function Uh(p,T,F){(F!==t&&!_s(p[T],F)||F===t&&!(T in p))&&Cs(p,T,F)}function sc(p,T,F){var J=p[T];(!(dt.call(p,T)&&_s(J,F))||F===t&&!(T in p))&&Cs(p,T,F)}function Yc(p,T){for(var F=p.length;F--;)if(_s(p[F][0],T))return F;return-1}function Tm(p,T,F,J){return $s(p,function(oe,we,Fe){T(J,oe,F(oe),Fe)}),J}function Bd(p,T){return p&&ns(T,xr(T),p)}function Im(p,T){return p&&ns(T,ha(T),p)}function Cs(p,T,F){T=="__proto__"&&tn?tn(p,T,{configurable:!0,enumerable:!0,value:F,writable:!0}):p[T]=F}function Yh(p,T){for(var F=-1,J=T.length,oe=pt(J),we=p==null;++F<J;)oe[F]=we?t:yy(p,T[F]);return oe}function So(p,T,F){return p===p&&(F!==t&&(p=p<=F?p:F),T!==t&&(p=p>=T?p:T)),p}function la(p,T,F,J,oe,we){var Fe,Ge=T&_,at=T&I,Ot=T&M;if(F&&(Fe=oe?F(p,J,oe,we):F(p)),Fe!==t)return Fe;if(!Fi(p))return p;var Pt=Rn(p);if(Pt){if(Fe=xp(p),!Ge)return zr(p,Fe)}else{var jt=_r(p),rn=jt==Ye||jt==ve;if(pl(p))return sp(p,Ge);if(jt==Ve||jt==Dt||rn&&!oe){if(Fe=at||rn?{}:vf(p),!Ge)return at?Vm(p,Im(Fe,p)):$m(p,Bd(Fe,p))}else{if(!jn[jt])return oe?p:{};Fe=ny(p,jt,Ge)}}we||(we=new Da);var gn=we.get(p);if(gn)return gn;we.set(p,Fe),DC(p)?p.forEach(function(An){Fe.add(la(An,T,F,An,p,we))}):TC(p)&&p.forEach(function(An,Kn){Fe.set(Kn,la(An,T,F,Kn,p,we))});var Dn=Ot?at?ff:hf:at?ha:xr,Un=Pt?t:Dn(p);return vt(Un||p,function(An,Kn){Un&&(Kn=An,An=p[Kn]),sc(Fe,Kn,la(An,T,F,Kn,p,we))}),Fe}function Dm(p){var T=xr(p);return function(F){return oc(F,p,T)}}function oc(p,T,F){var J=F.length;if(p==null)return!J;for(p=ei(p);J--;){var oe=F[J],we=T[oe],Fe=p[oe];if(Fe===t&&!(oe in p)||!we(Fe))return!1}return!0}function Hd(p,T,F){if(typeof p!="function")throw new hr(o);return A(function(){p.apply(t,F)},T)}function lc(p,T,F,J){var oe=-1,we=wi,Fe=!0,Ge=p.length,at=[],Ot=T.length;if(!Ge)return at;F&&(T=Nn(T,tr(F))),J?(we=ri,Fe=!1):T.length>=r&&(we=Ea,Fe=!1,T=new Co(T));e:for(;++oe<Ge;){var Pt=p[oe],jt=F==null?Pt:F(Pt);if(Pt=J||Pt!==0?Pt:0,Fe&&jt===jt){for(var rn=Ot;rn--;)if(T[rn]===jt)continue e;at.push(Pt)}else we(T,jt,J)||at.push(Pt)}return at}var $s=fp(ts),es=fp($h,!0);function zd(p,T){var F=!0;return $s(p,function(J,oe,we){return F=!!T(J,oe,we),F}),F}function ll(p,T,F){for(var J=-1,oe=p.length;++J<oe;){var we=p[J],Fe=T(we);if(Fe!=null&&(Ge===t?Fe===Fe&&!Oa(Fe):F(Fe,Ge)))var Ge=Fe,at=we}return at}function Am(p,T,F,J){var oe=p.length;for(F=zn(F),F<0&&(F=-F>oe?0:oe+F),J=J===t||J>oe?oe:zn(J),J<0&&(J+=oe),J=F>J?0:MC(J);F<J;)p[F++]=T;return p}function cl(p,T){var F=[];return $s(p,function(J,oe,we){T(J,oe,we)&&F.push(J)}),F}function zi(p,T,F,J,oe){var we=-1,Fe=p.length;for(F||(F=ry),oe||(oe=[]);++we<Fe;){var Ge=p[we];T>0&&F(Ge)?T>1?zi(Ge,T-1,F,J,oe):Ln(oe,Ge):J||(oe[oe.length]=Ge)}return oe}var Gh=dp(),Gc=dp(!0);function ts(p,T){return p&&Gh(p,T,xr)}function $h(p,T){return p&&Gc(p,T,xr)}function $c(p,T){return ln(T,function(F){return Eo(p[F])})}function Vs(p,T){T=Js(T,p);for(var F=0,J=T.length;p!=null&&F<J;)p=p[U(T[F++])];return F&&F==J?p:t}function Wd(p,T,F){var J=T(p);return Rn(p)?J:Ln(J,F(p))}function Or(p){return p==null?p===t?q:pe:Ct&&Ct in ei(p)?ey(p):hy(p)}function Vc(p,T){return p>T}function Mm(p,T){return p!=null&&dt.call(p,T)}function Om(p,T){return p!=null&&T in ei(p)}function km(p,T,F){return p>=Sr(T,F)&&p<Oi(T,F)}function Vh(p,T,F){for(var J=F?ri:wi,oe=p[0].length,we=p.length,Fe=we,Ge=pt(we),at=1/0,Ot=[];Fe--;){var Pt=p[Fe];Fe&&T&&(Pt=Nn(Pt,tr(T))),at=Sr(Pt.length,at),Ge[Fe]=!F&&(T||oe>=120&&Pt.length>=120)?new Co(Fe&&Pt):t}Pt=p[0];var jt=-1,rn=Ge[0];e:for(;++jt<oe&&Ot.length<at;){var gn=Pt[jt],Dn=T?T(gn):gn;if(gn=F||gn!==0?gn:0,!(rn?Ea(rn,Dn):J(Ot,Dn,F))){for(Fe=we;--Fe;){var Un=Ge[Fe];if(!(Un?Ea(Un,Dn):J(p[Fe],Dn,F)))continue e}rn&&rn.push(Dn),Ot.push(gn)}}return Ot}function Pm(p,T,F,J){return ts(p,function(oe,we,Fe){T(J,F(oe),we,Fe)}),J}function cc(p,T,F){T=Js(T,p),p=bf(p,T);var J=p==null?p:p[U(Rr(T))];return J==null?t:et(J,p,F)}function Xh(p){return Wi(p)&&Or(p)==Dt}function Lm(p){return Wi(p)&&Or(p)==be}function Ud(p){return Wi(p)&&Or(p)==Be}function uc(p,T,F,J,oe){return p===T?!0:p==null||T==null||!Wi(p)&&!Wi(T)?p!==p&&T!==T:Rm(p,T,F,J,uc,oe)}function Rm(p,T,F,J,oe,we){var Fe=Rn(p),Ge=Rn(T),at=Fe?Ke:_r(p),Ot=Ge?Ke:_r(T);at=at==Dt?Ve:at,Ot=Ot==Dt?Ve:Ot;var Pt=at==Ve,jt=Ot==Ve,rn=at==Ot;if(rn&&pl(p)){if(!pl(T))return!1;Fe=!0,Pt=!1}if(rn&&!Pt)return we||(we=new Da),Fe||Au(p)?Cp(p,T,F,J,oe,we):Qm(p,T,at,F,J,oe,we);if(!(F&P)){var gn=Pt&&dt.call(p,"__wrapped__"),Dn=jt&&dt.call(T,"__wrapped__");if(gn||Dn){var Un=gn?p.value():p,An=Dn?T.value():T;return we||(we=new Da),oe(Un,An,F,J,we)}}return rn?(we||(we=new Da),qm(p,T,F,J,oe,we)):!1}function Yd(p){return Wi(p)&&_r(p)==Ce}function Zh(p,T,F,J){var oe=F.length,we=oe,Fe=!J;if(p==null)return!we;for(p=ei(p);oe--;){var Ge=F[oe];if(Fe&&Ge[2]?Ge[1]!==p[Ge[0]]:!(Ge[0]in p))return!1}for(;++oe<we;){Ge=F[oe];var at=Ge[0],Ot=p[at],Pt=Ge[1];if(Fe&&Ge[2]){if(Ot===t&&!(at in p))return!1}else{var jt=new Da;if(J)var rn=J(Ot,Pt,at,p,T,jt);if(!(rn===t?uc(Pt,Ot,P|N,J,jt):rn))return!1}}return!0}function Gd(p){if(!Fi(p)||sy(p))return!1;var T=Eo(p)?mn:mr;return T.test(Q(p))}function Nm(p){return Wi(p)&&Or(p)==ot}function $d(p){return Wi(p)&&_r(p)==st}function Fm(p){return Wi(p)&&Gp(p.length)&&!!di[Or(p)]}function Vd(p){return typeof p=="function"?p:p==null?fa:typeof p=="object"?Rn(p)?hc(p[0],p[1]):Jc(p):zC(p)}function Jh(p){if(!pc(p))return Zv(p);var T=[];for(var F in ei(p))dt.call(p,F)&&F!="constructor"&&T.push(F);return T}function Kh(p){if(!Fi(p))return uy(p);var T=pc(p),F=[];for(var J in p)J=="constructor"&&(T||!dt.call(p,J))||F.push(J);return F}function Xc(p,T){return p<T}function Zc(p,T){var F=-1,J=ua(p)?pt(p.length):[];return $s(p,function(oe,we,Fe){J[++F]=T(oe,we,Fe)}),J}function Jc(p){var T=pf(p);return T.length==1&&T[0][2]?yf(T[0][0],T[0][1]):function(F){return F===p||Zh(F,p,T)}}function hc(p,T){return fu(p)&&mf(T)?yf(U(p),T):function(F){var J=yy(F,p);return J===t&&J===T?by(F,p):uc(T,J,P|N)}}function fc(p,T,F,J,oe){p!==T&&Gh(T,function(we,Fe){if(oe||(oe=new Da),Fi(we))jm(p,T,Fe,F,fc,J,oe);else{var Ge=J?J(wf(p,Fe),we,Fe+"",p,T,oe):t;Ge===t&&(Ge=we),Uh(p,Fe,Ge)}},ha)}function jm(p,T,F,J,oe,we,Fe){var Ge=wf(p,F),at=wf(T,F),Ot=Fe.get(at);if(Ot){Uh(p,F,Ot);return}var Pt=we?we(Ge,at,F+"",p,T,Fe):t,jt=Pt===t;if(jt){var rn=Rn(at),gn=!rn&&pl(at),Dn=!rn&&!gn&&Au(at);Pt=at,rn||gn||Dn?Rn(Ge)?Pt=Ge:Zi(Ge)?Pt=zr(Ge):gn?(jt=!1,Pt=sp(at,!0)):Dn?(jt=!1,Pt=cp(at,!0)):Pt=[]:Cf(at)||mc(at)?(Pt=Ge,mc(Ge)?Pt=OC(Ge):(!Fi(Ge)||Eo(Ge))&&(Pt=vf(at))):jt=!1}jt&&(Fe.set(at,Pt),oe(Pt,at,J,we,Fe),Fe.delete(at)),Uh(p,F,Pt)}function Xd(p,T){var F=p.length;if(!!F)return T+=T<0?F:0,rs(T,F)?p[T]:t}function Zd(p,T,F){T.length?T=Nn(T,function(we){return Rn(we)?function(Fe){return Vs(Fe,we.length===1?we[0]:we)}:we}):T=[fa];var J=-1;T=Nn(T,tr(Sn()));var oe=Zc(p,function(we,Fe,Ge){var at=Nn(T,function(Ot){return Ot(we)});return{criteria:at,index:++J,value:we}});return go(oe,function(we,Fe){return lf(we,Fe,F)})}function Jd(p,T){return Qh(p,T,function(F,J){return by(p,J)})}function Qh(p,T,F){for(var J=-1,oe=T.length,we={};++J<oe;){var Fe=T[J],Ge=Vs(p,Fe);F(Ge,Fe)&&dc(we,Js(Fe,p),Ge)}return we}function Bm(p){return function(T){return Vs(T,p)}}function qh(p,T,F,J){var oe=J?er:br,we=-1,Fe=T.length,Ge=p;for(p===T&&(T=zr(T)),F&&(Ge=Nn(p,tr(F)));++we<Fe;)for(var at=0,Ot=T[we],Pt=F?F(Ot):Ot;(at=oe(Ge,Pt,at,J))>-1;)Ge!==p&&V.call(Ge,at,1),V.call(p,at,1);return p}function Kd(p,T){for(var F=p?T.length:0,J=F-1;F--;){var oe=T[F];if(F==J||oe!==we){var we=oe;rs(oe)?V.call(p,oe,1):nf(p,oe)}}return p}function ef(p,T){return p+Vr(kd()*(T-p+1))}function Qd(p,T,F,J){for(var oe=-1,we=Oi(Ia((T-p)/(F||1)),0),Fe=pt(we);we--;)Fe[J?we:++oe]=p,p+=F;return Fe}function Kc(p,T){var F="";if(!p||T<1||T>me)return F;do T%2&&(F+=p),T=Vr(T/2),T&&(p+=p);while(T);return F}function Hn(p,T){return w(Ep(p,T,fa),p+"")}function Xs(p){return jd(Mu(p))}function Hm(p,T){var F=Mu(p);return E(F,So(T,0,F.length))}function dc(p,T,F,J){if(!Fi(p))return p;T=Js(T,p);for(var oe=-1,we=T.length,Fe=we-1,Ge=p;Ge!=null&&++oe<we;){var at=U(T[oe]),Ot=F;if(at==="__proto__"||at==="constructor"||at==="prototype")return p;if(oe!=Fe){var Pt=Ge[at];Ot=J?J(Pt,at,Ge):t,Ot===t&&(Ot=Fi(Pt)?Pt:rs(T[oe+1])?[]:{})}sc(Ge,at,Ot),Ge=Ge[at]}return p}var qd=Wc?function(p,T){return Wc.set(p,T),p}:fa,zm=tn?function(p,T){return tn(p,"toString",{configurable:!0,enumerable:!1,value:Cy(T),writable:!0})}:fa;function Wm(p){return E(Mu(p))}function ca(p,T,F){var J=-1,oe=p.length;T<0&&(T=-T>oe?0:oe+T),F=F>oe?oe:F,F<0&&(F+=oe),oe=T>F?0:F-T>>>0,T>>>=0;for(var we=pt(oe);++J<oe;)we[J]=p[J+T];return we}function Um(p,T){var F;return $s(p,function(J,oe,we){return F=T(J,oe,we),!F}),!!F}function Qc(p,T,F){var J=0,oe=p==null?J:p.length;if(typeof T=="number"&&T===T&&oe<=lt){for(;J<oe;){var we=J+oe>>>1,Fe=p[we];Fe!==null&&!Oa(Fe)&&(F?Fe<=T:Fe<T)?J=we+1:oe=we}return oe}return tf(p,T,fa,F)}function tf(p,T,F,J){var oe=0,we=p==null?0:p.length;if(we===0)return 0;T=F(T);for(var Fe=T!==T,Ge=T===null,at=Oa(T),Ot=T===t;oe<we;){var Pt=Vr((oe+we)/2),jt=F(p[Pt]),rn=jt!==t,gn=jt===null,Dn=jt===jt,Un=Oa(jt);if(Fe)var An=J||Dn;else Ot?An=Dn&&(J||rn):Ge?An=Dn&&rn&&(J||!gn):at?An=Dn&&rn&&!gn&&(J||!Un):gn||Un?An=!1:An=J?jt<=T:jt<T;An?oe=Pt+1:we=Pt}return Sr(we,Te)}function ep(p,T){for(var F=-1,J=p.length,oe=0,we=[];++F<J;){var Fe=p[F],Ge=T?T(Fe):Fe;if(!F||!_s(Ge,at)){var at=Ge;we[oe++]=Fe===0?0:Fe}}return we}function tp(p){return typeof p=="number"?p:Oa(p)?Pe:+p}function Xr(p){if(typeof p=="string")return p;if(Rn(p))return Nn(p,Xr)+"";if(Oa(p))return Ld?Ld.call(p):"";var T=p+"";return T=="0"&&1/p==-le?"-0":T}function Zs(p,T,F){var J=-1,oe=wi,we=p.length,Fe=!0,Ge=[],at=Ge;if(F)Fe=!1,oe=ri;else if(we>=r){var Ot=T?null:Jm(p);if(Ot)return qa(Ot);Fe=!1,oe=Ea,at=new Co}else at=T?[]:Ge;e:for(;++J<we;){var Pt=p[J],jt=T?T(Pt):Pt;if(Pt=F||Pt!==0?Pt:0,Fe&&jt===jt){for(var rn=at.length;rn--;)if(at[rn]===jt)continue e;T&&at.push(jt),Ge.push(Pt)}else oe(at,jt,F)||(at!==Ge&&at.push(jt),Ge.push(Pt))}return Ge}function nf(p,T){return T=Js(T,p),p=bf(p,T),p==null||delete p[U(Rr(T))]}function np(p,T,F,J){return dc(p,T,F(Vs(p,T)),J)}function qc(p,T,F,J){for(var oe=p.length,we=J?oe:-1;(J?we--:++we<oe)&&T(p[we],we,p););return F?ca(p,J?0:we,J?we+1:oe):ca(p,J?we+1:0,J?oe:we)}function ip(p,T){var F=p;return F instanceof Zn&&(F=F.value()),un(T,function(J,oe){return oe.func.apply(oe.thisArg,Ln([J],oe.args))},F)}function rf(p,T,F){var J=p.length;if(J<2)return J?Zs(p[0]):[];for(var oe=-1,we=pt(J);++oe<J;)for(var Fe=p[oe],Ge=-1;++Ge<J;)Ge!=oe&&(we[oe]=lc(we[oe]||Fe,p[Ge],T,F));return Zs(zi(we,1),T,F)}function rp(p,T,F){for(var J=-1,oe=p.length,we=T.length,Fe={};++J<oe;){var Ge=J<we?T[J]:t;F(Fe,p[J],Ge)}return Fe}function af(p){return Zi(p)?p:[]}function sf(p){return typeof p=="function"?p:fa}function Js(p,T){return Rn(p)?p:fu(p,T)?[p]:j(mi(p))}var Ym=Hn;function Ks(p,T,F){var J=p.length;return F=F===t?J:F,!T&&F>=J?p:ca(p,T,F)}var ap=Si||function(p){return Ri.clearTimeout(p)};function sp(p,T){if(T)return p.slice();var F=p.length,J=Ei?Ei(F):new p.constructor(F);return p.copy(J),J}function of(p){var T=new p.constructor(p.byteLength);return new pn(T).set(new pn(p)),T}function Gm(p,T){var F=T?of(p.buffer):p.buffer;return new p.constructor(F,p.byteOffset,p.byteLength)}function op(p){var T=new p.constructor(p.source,Ya.exec(p));return T.lastIndex=p.lastIndex,T}function lp(p){return ac?ei(ac.call(p)):{}}function cp(p,T){var F=T?of(p.buffer):p.buffer;return new p.constructor(F,p.byteOffset,p.length)}function eu(p,T){if(p!==T){var F=p!==t,J=p===null,oe=p===p,we=Oa(p),Fe=T!==t,Ge=T===null,at=T===T,Ot=Oa(T);if(!Ge&&!Ot&&!we&&p>T||we&&Fe&&at&&!Ge&&!Ot||J&&Fe&&at||!F&&at||!oe)return 1;if(!J&&!we&&!Ot&&p<T||Ot&&F&&oe&&!J&&!we||Ge&&F&&oe||!Fe&&oe||!at)return-1}return 0}function lf(p,T,F){for(var J=-1,oe=p.criteria,we=T.criteria,Fe=oe.length,Ge=F.length;++J<Fe;){var at=eu(oe[J],we[J]);if(at){if(J>=Ge)return at;var Ot=F[J];return at*(Ot=="desc"?-1:1)}}return p.index-T.index}function up(p,T,F,J){for(var oe=-1,we=p.length,Fe=F.length,Ge=-1,at=T.length,Ot=Oi(we-Fe,0),Pt=pt(at+Ot),jt=!J;++Ge<at;)Pt[Ge]=T[Ge];for(;++oe<Fe;)(jt||oe<we)&&(Pt[F[oe]]=p[oe]);for(;Ot--;)Pt[Ge++]=p[oe++];return Pt}function hp(p,T,F,J){for(var oe=-1,we=p.length,Fe=-1,Ge=F.length,at=-1,Ot=T.length,Pt=Oi(we-Ge,0),jt=pt(Pt+Ot),rn=!J;++oe<Pt;)jt[oe]=p[oe];for(var gn=oe;++at<Ot;)jt[gn+at]=T[at];for(;++Fe<Ge;)(rn||oe<we)&&(jt[gn+F[Fe]]=p[oe++]);return jt}function zr(p,T){var F=-1,J=p.length;for(T||(T=pt(J));++F<J;)T[F]=p[F];return T}function ns(p,T,F,J){var oe=!F;F||(F={});for(var we=-1,Fe=T.length;++we<Fe;){var Ge=T[we],at=J?J(F[Ge],p[Ge],Ge,F,p):t;at===t&&(at=p[Ge]),oe?Cs(F,Ge,at):sc(F,Ge,at)}return F}function $m(p,T){return ns(p,hu(p),T)}function Vm(p,T){return ns(p,gf(p),T)}function tu(p,T){return function(F,J){var oe=Rn(F)?ct:Tm,we=T?T():{};return oe(F,p,Sn(J,2),we)}}function ul(p){return Hn(function(T,F){var J=-1,oe=F.length,we=oe>1?F[oe-1]:t,Fe=oe>2?F[2]:t;for(we=p.length>3&&typeof we=="function"?(oe--,we):t,Fe&&kr(F[0],F[1],Fe)&&(we=oe<3?t:we,oe=1),T=ei(T);++J<oe;){var Ge=F[J];Ge&&p(T,Ge,J,we)}return T})}function fp(p,T){return function(F,J){if(F==null)return F;if(!ua(F))return p(F,J);for(var oe=F.length,we=T?oe:-1,Fe=ei(F);(T?we--:++we<oe)&&J(Fe[we],we,Fe)!==!1;);return F}}function dp(p){return function(T,F,J){for(var oe=-1,we=ei(T),Fe=J(T),Ge=Fe.length;Ge--;){var at=Fe[p?Ge:++oe];if(F(we[at],at,we)===!1)break}return T}}function nu(p,T,F){var J=T&b,oe=fl(p);function we(){var Fe=this&&this!==Ri&&this instanceof we?oe:p;return Fe.apply(J?F:this,arguments)}return we}function pp(p){return function(T){T=mi(T);var F=Ka(T)?Xi(T):t,J=F?F[0]:T.charAt(0),oe=F?Ks(F,1).join(""):T.slice(1);return J[p]()+oe}}function hl(p){return function(T){return un(BC(jC(T).replace(Gl,"")),p,"")}}function fl(p){return function(){var T=arguments;switch(T.length){case 0:return new p;case 1:return new p(T[0]);case 2:return new p(T[0],T[1]);case 3:return new p(T[0],T[1],T[2]);case 4:return new p(T[0],T[1],T[2],T[3]);case 5:return new p(T[0],T[1],T[2],T[3],T[4]);case 6:return new p(T[0],T[1],T[2],T[3],T[4],T[5]);case 7:return new p(T[0],T[1],T[2],T[3],T[4],T[5],T[6])}var F=ol(p.prototype),J=p.apply(F,T);return Fi(J)?J:F}}function Xm(p,T,F){var J=fl(p);function oe(){for(var we=arguments.length,Fe=pt(we),Ge=we,at=_o(oe);Ge--;)Fe[Ge]=arguments[Ge];var Ot=we<3&&Fe[0]!==at&&Fe[we-1]!==at?[]:Hi(Fe,at);if(we-=Ot.length,we<F)return bp(p,T,iu,oe.placeholder,t,Fe,Ot,t,t,F-we);var Pt=this&&this!==Ri&&this instanceof oe?J:p;return et(Pt,this,Fe)}return oe}function gp(p){return function(T,F,J){var oe=ei(T);if(!ua(T)){var we=Sn(F,3);T=xr(T),F=function(Ge){return we(oe[Ge],Ge,oe)}}var Fe=p(T,F,J);return Fe>-1?oe[we?T[Fe]:Fe]:t}}function vp(p){return Ss(function(T){var F=T.length,J=F,oe=oa.prototype.thru;for(p&&T.reverse();J--;){var we=T[J];if(typeof we!="function")throw new hr(o);if(oe&&!Fe&&cu(we)=="wrapper")var Fe=new oa([],!0)}for(J=Fe?J:F;++J<F;){we=T[J];var Ge=cu(we),at=Ge=="wrapper"?df(we):t;at&&du(at[0])&&at[1]==(C|m|g|D)&&!at[4].length&&at[9]==1?Fe=Fe[cu(at[0])].apply(Fe,at[3]):Fe=we.length==1&&du(we)?Fe[Ge]():Fe.thru(we)}return function(){var Ot=arguments,Pt=Ot[0];if(Fe&&Ot.length==1&&Rn(Pt))return Fe.plant(Pt).value();for(var jt=0,rn=F?T[jt].apply(this,Ot):Pt;++jt<F;)rn=T[jt].call(this,rn);return rn}})}function iu(p,T,F,J,oe,we,Fe,Ge,at,Ot){var Pt=T&C,jt=T&b,rn=T&f,gn=T&(m|d),Dn=T&S,Un=rn?t:fl(p);function An(){for(var Kn=arguments.length,si=pt(Kn),ka=Kn;ka--;)si[ka]=arguments[ka];if(gn)var Zr=_o(An),Pa=Jl(si,Zr);if(J&&(si=up(si,J,oe,gn)),we&&(si=hp(si,we,Fe,gn)),Kn-=Pa,gn&&Kn<Ot){var Ji=Hi(si,Zr);return bp(p,T,iu,An.placeholder,F,si,Ji,Ge,at,Ot-Kn)}var xs=jt?F:this,Io=rn?xs[p]:p;return Kn=si.length,Ge?si=fy(si,Ge):Dn&&Kn>1&&si.reverse(),Pt&&at<Kn&&(si.length=at),this&&this!==Ri&&this instanceof An&&(Io=Un||fl(Io)),Io.apply(xs,si)}return An}function mp(p,T){return function(F,J){return Pm(F,p,T(J),{})}}function ru(p,T){return function(F,J){var oe;if(F===t&&J===t)return T;if(F!==t&&(oe=F),J!==t){if(oe===t)return J;typeof F=="string"||typeof J=="string"?(F=Xr(F),J=Xr(J)):(F=tp(F),J=tp(J)),oe=p(F,J)}return oe}}function au(p){return Ss(function(T){return T=Nn(T,tr(Sn())),Hn(function(F){var J=this;return p(T,function(oe){return et(oe,J,F)})})})}function su(p,T){T=T===t?" ":Xr(T);var F=T.length;if(F<2)return F?Kc(T,p):T;var J=Kc(T,Ia(p/Xn(T)));return Ka(T)?Ks(Xi(J),0,p).join(""):J.slice(0,p)}function Zm(p,T,F,J){var oe=T&b,we=fl(p);function Fe(){for(var Ge=-1,at=arguments.length,Ot=-1,Pt=J.length,jt=pt(Pt+at),rn=this&&this!==Ri&&this instanceof Fe?we:p;++Ot<Pt;)jt[Ot]=J[Ot];for(;at--;)jt[Ot++]=arguments[++Ge];return et(rn,oe?F:this,jt)}return Fe}function yp(p){return function(T,F,J){return J&&typeof J!="number"&&kr(T,F,J)&&(F=J=t),T=To(T),F===t?(F=T,T=0):F=To(F),J=J===t?T<F?1:-1:To(J),Qd(T,F,J,p)}}function ou(p){return function(T,F){return typeof T=="string"&&typeof F=="string"||(T=as(T),F=as(F)),p(T,F)}}function bp(p,T,F,J,oe,we,Fe,Ge,at,Ot){var Pt=T&m,jt=Pt?Fe:t,rn=Pt?t:Fe,gn=Pt?we:t,Dn=Pt?t:we;T|=Pt?g:h,T&=~(Pt?h:g),T&v||(T&=~(b|f));var Un=[p,T,oe,gn,jt,Dn,rn,Ge,at,Ot],An=F.apply(t,Un);return du(p)&&G(An,Un),An.placeholder=J,x(An,p,T)}function cf(p){var T=Ii[p];return function(F,J){if(F=as(F),J=J==null?0:Sr(zn(J),292),J&&Md(F)){var oe=(mi(F)+"e").split("e"),we=T(oe[0]+"e"+(+oe[1]+J));return oe=(mi(we)+"e").split("e"),+(oe[0]+"e"+(+oe[1]-J))}return T(F)}}var Jm=al&&1/qa(new al([,-0]))[1]==le?function(p){return new al(p)}:xy;function uf(p){return function(T){var F=_r(T);return F==Ce?ys(T):F==st?mo(T):el(T,p(T))}}function is(p,T,F,J,oe,we,Fe,Ge){var at=T&f;if(!at&&typeof p!="function")throw new hr(o);var Ot=J?J.length:0;if(Ot||(T&=~(g|h),J=oe=t),Fe=Fe===t?Fe:Oi(zn(Fe),0),Ge=Ge===t?Ge:zn(Ge),Ot-=oe?oe.length:0,T&h){var Pt=J,jt=oe;J=oe=t}var rn=at?t:df(p),gn=[p,T,F,J,oe,Pt,jt,we,Fe,Ge];if(rn&&cy(gn,rn),p=gn[0],T=gn[1],F=gn[2],J=gn[3],oe=gn[4],Ge=gn[9]=gn[9]===t?at?0:p.length:Oi(gn[9]-Ot,0),!Ge&&T&(m|d)&&(T&=~(m|d)),!T||T==b)var Dn=nu(p,T,F);else T==m||T==d?Dn=Xm(p,T,Ge):(T==g||T==(b|g))&&!oe.length?Dn=Zm(p,T,F,J):Dn=iu.apply(t,gn);var Un=rn?qd:G;return x(Un(Dn,gn),p,T)}function wp(p,T,F,J){return p===t||_s(p,$e[F])&&!dt.call(J,F)?T:p}function lu(p,T,F,J,oe,we){return Fi(p)&&Fi(T)&&(we.set(T,p),fc(p,T,t,lu,we),we.delete(T)),p}function Km(p){return Cf(p)?t:p}function Cp(p,T,F,J,oe,we){var Fe=F&P,Ge=p.length,at=T.length;if(Ge!=at&&!(Fe&&at>Ge))return!1;var Ot=we.get(p),Pt=we.get(T);if(Ot&&Pt)return Ot==T&&Pt==p;var jt=-1,rn=!0,gn=F&N?new Co:t;for(we.set(p,T),we.set(T,p);++jt<Ge;){var Dn=p[jt],Un=T[jt];if(J)var An=Fe?J(Un,Dn,jt,T,p,we):J(Dn,Un,jt,p,T,we);if(An!==t){if(An)continue;rn=!1;break}if(gn){if(!wn(T,function(Kn,si){if(!Ea(gn,si)&&(Dn===Kn||oe(Dn,Kn,F,J,we)))return gn.push(si)})){rn=!1;break}}else if(!(Dn===Un||oe(Dn,Un,F,J,we))){rn=!1;break}}return we.delete(p),we.delete(T),rn}function Qm(p,T,F,J,oe,we,Fe){switch(F){case ke:if(p.byteLength!=T.byteLength||p.byteOffset!=T.byteOffset)return!1;p=p.buffer,T=T.buffer;case be:return!(p.byteLength!=T.byteLength||!we(new pn(p),new pn(T)));case Me:case Be:case _e:return _s(+p,+T);case Se:return p.name==T.name&&p.message==T.message;case ot:case re:return p==T+"";case Ce:var Ge=ys;case st:var at=J&P;if(Ge||(Ge=qa),p.size!=T.size&&!at)return!1;var Ot=Fe.get(p);if(Ot)return Ot==T;J|=N,Fe.set(p,T);var Pt=Cp(Ge(p),Ge(T),J,oe,we,Fe);return Fe.delete(p),Pt;case H:if(ac)return ac.call(p)==ac.call(T)}return!1}function qm(p,T,F,J,oe,we){var Fe=F&P,Ge=hf(p),at=Ge.length,Ot=hf(T),Pt=Ot.length;if(at!=Pt&&!Fe)return!1;for(var jt=at;jt--;){var rn=Ge[jt];if(!(Fe?rn in T:dt.call(T,rn)))return!1}var gn=we.get(p),Dn=we.get(T);if(gn&&Dn)return gn==T&&Dn==p;var Un=!0;we.set(p,T),we.set(T,p);for(var An=Fe;++jt<at;){rn=Ge[jt];var Kn=p[rn],si=T[rn];if(J)var ka=Fe?J(si,Kn,rn,T,p,we):J(Kn,si,rn,p,T,we);if(!(ka===t?Kn===si||oe(Kn,si,F,J,we):ka)){Un=!1;break}An||(An=rn=="constructor")}if(Un&&!An){var Zr=p.constructor,Pa=T.constructor;Zr!=Pa&&"constructor"in p&&"constructor"in T&&!(typeof Zr=="function"&&Zr instanceof Zr&&typeof Pa=="function"&&Pa instanceof Pa)&&(Un=!1)}return we.delete(p),we.delete(T),Un}function Ss(p){return w(Ep(p,t,Pr),p+"")}function hf(p){return Wd(p,xr,hu)}function ff(p){return Wd(p,ha,gf)}var df=Wc?function(p){return Wc.get(p)}:xy;function cu(p){for(var T=p.name+"",F=sl[T],J=dt.call(sl,T)?F.length:0;J--;){var oe=F[J],we=oe.func;if(we==null||we==p)return oe.name}return T}function _o(p){var T=dt.call(ge,"placeholder")?ge:p;return T.placeholder}function Sn(){var p=ge.iteratee||Sy;return p=p===Sy?Vd:p,arguments.length?p(arguments[0],arguments[1]):p}function uu(p,T){var F=p.__data__;return ay(T)?F[typeof T=="string"?"string":"hash"]:F.map}function pf(p){for(var T=xr(p),F=T.length;F--;){var J=T[F],oe=p[J];T[F]=[J,oe,mf(oe)]}return T}function Qs(p,T){var F=Ql(p,T);return Gd(F)?F:t}function ey(p){var T=dt.call(p,Ct),F=p[Ct];try{p[Ct]=t;var J=!0}catch{}var oe=Yt.call(p);return J&&(T?p[Ct]=F:delete p[Ct]),oe}var hu=zc?function(p){return p==null?[]:(p=ei(p),ln(zc(p),function(T){return W.call(p,T)}))}:Ey,gf=zc?function(p){for(var T=[];p;)Ln(T,hu(p)),p=Di(p);return T}:Ey,_r=Or;(Hh&&_r(new Hh(new ArrayBuffer(1)))!=ke||nc&&_r(new nc)!=Ce||zh&&_r(zh.resolve())!=Ze||al&&_r(new al)!=st||ic&&_r(new ic)!=ie)&&(_r=function(p){var T=Or(p),F=T==Ve?p.constructor:t,J=F?Q(F):"";if(J)switch(J){case Qv:return ke;case qv:return Ce;case Pd:return Ze;case Wh:return st;case em:return ie}return T});function ty(p,T,F){for(var J=-1,oe=F.length;++J<oe;){var we=F[J],Fe=we.size;switch(we.type){case"drop":p+=Fe;break;case"dropRight":T-=Fe;break;case"take":T=Sr(T,p+Fe);break;case"takeRight":p=Oi(p,T-Fe);break}}return{start:p,end:T}}function Sp(p){var T=p.match(_i);return T?T[1].split(ui):[]}function _p(p,T,F){T=Js(T,p);for(var J=-1,oe=T.length,we=!1;++J<oe;){var Fe=U(T[J]);if(!(we=p!=null&&F(p,Fe)))break;p=p[Fe]}return we||++J!=oe?we:(oe=p==null?0:p.length,!!oe&&Gp(oe)&&rs(Fe,oe)&&(Rn(p)||mc(p)))}function xp(p){var T=p.length,F=new p.constructor(T);return T&&typeof p[0]=="string"&&dt.call(p,"index")&&(F.index=p.index,F.input=p.input),F}function vf(p){return typeof p.constructor=="function"&&!pc(p)?ol(Di(p)):{}}function ny(p,T,F){var J=p.constructor;switch(T){case be:return of(p);case Me:case Be:return new J(+p);case ke:return Gm(p,F);case Xe:case qe:case Le:case ut:case bt:case zt:case qt:case Zt:case Xt:return cp(p,F);case Ce:return new J;case _e:case re:return new J(p);case ot:return op(p);case st:return new J;case H:return lp(p)}}function iy(p,T){var F=T.length;if(!F)return p;var J=F-1;return T[J]=(F>1?"& ":"")+T[J],T=T.join(F>2?", ":" "),p.replace(vi,`{
/* [wrapped with `+T+`] */
`)}function ry(p){return Rn(p)||mc(p)||!!(ae&&p&&p[ae])}function rs(p,T){var F=typeof p;return T=T==null?me:T,!!T&&(F=="number"||F!="symbol"&&yi.test(p))&&p>-1&&p%1==0&&p<T}function kr(p,T,F){if(!Fi(F))return!1;var J=typeof T;return(J=="number"?ua(F)&&rs(T,F.length):J=="string"&&T in F)?_s(F[T],p):!1}function fu(p,T){if(Rn(p))return!1;var F=typeof p;return F=="number"||F=="symbol"||F=="boolean"||p==null||Oa(p)?!0:li.test(p)||!ii.test(p)||T!=null&&p in ei(T)}function ay(p){var T=typeof p;return T=="string"||T=="number"||T=="symbol"||T=="boolean"?p!=="__proto__":p===null}function du(p){var T=cu(p),F=ge[T];if(typeof F!="function"||!(T in Zn.prototype))return!1;if(p===F)return!0;var J=df(F);return!!J&&p===J[0]}function sy(p){return!!Vt&&Vt in p}var oy=xt?Eo:Ty;function pc(p){var T=p&&p.constructor,F=typeof T=="function"&&T.prototype||$e;return p===F}function mf(p){return p===p&&!Fi(p)}function yf(p,T){return function(F){return F==null?!1:F[p]===T&&(T!==t||p in ei(F))}}function ly(p){var T=Up(p,function(J){return F.size===c&&F.clear(),J}),F=T.cache;return T}function cy(p,T){var F=p[1],J=T[1],oe=F|J,we=oe<(b|f|C),Fe=J==C&&F==m||J==C&&F==D&&p[7].length<=T[8]||J==(C|D)&&T[7].length<=T[8]&&F==m;if(!(we||Fe))return p;J&b&&(p[2]=T[2],oe|=F&b?0:v);var Ge=T[3];if(Ge){var at=p[3];p[3]=at?up(at,Ge,T[4]):Ge,p[4]=at?Hi(p[3],l):T[4]}return Ge=T[5],Ge&&(at=p[5],p[5]=at?hp(at,Ge,T[6]):Ge,p[6]=at?Hi(p[5],l):T[6]),Ge=T[7],Ge&&(p[7]=Ge),J&C&&(p[8]=p[8]==null?T[8]:Sr(p[8],T[8])),p[9]==null&&(p[9]=T[9]),p[0]=T[0],p[1]=oe,p}function uy(p){var T=[];if(p!=null)for(var F in ei(p))T.push(F);return T}function hy(p){return Yt.call(p)}function Ep(p,T,F){return T=Oi(T===t?p.length-1:T,0),function(){for(var J=arguments,oe=-1,we=Oi(J.length-T,0),Fe=pt(we);++oe<we;)Fe[oe]=J[T+oe];oe=-1;for(var Ge=pt(T+1);++oe<T;)Ge[oe]=J[oe];return Ge[T]=F(Fe),et(p,this,Ge)}}function bf(p,T){return T.length<2?p:Vs(p,ca(T,0,-1))}function fy(p,T){for(var F=p.length,J=Sr(T.length,F),oe=zr(p);J--;){var we=T[J];p[J]=rs(we,F)?oe[we]:t}return p}function wf(p,T){if(!(T==="constructor"&&typeof p[T]=="function")&&T!="__proto__")return p[T]}var G=y(qd),A=fr||function(p,T){return Ri.setTimeout(p,T)},w=y(zm);function x(p,T,F){var J=T+"";return w(p,iy(J,K(Sp(J),F)))}function y(p){var T=0,F=0;return function(){var J=sa(),oe=z-(J-F);if(F=J,oe>0){if(++T>=B)return arguments[0]}else T=0;return p.apply(t,arguments)}}function E(p,T){var F=-1,J=p.length,oe=J-1;for(T=T===t?J:T;++F<T;){var we=ef(F,oe),Fe=p[we];p[we]=p[F],p[F]=Fe}return p.length=T,p}var j=ly(function(p){var T=[];return p.charCodeAt(0)===46&&T.push(""),p.replace(Kt,function(F,J,oe,we){T.push(oe?we.replace(Ua,"$1"):J||F)}),T});function U(p){if(typeof p=="string"||Oa(p))return p;var T=p+"";return T=="0"&&1/p==-le?"-0":T}function Q(p){if(p!=null){try{return tt.call(p)}catch{}try{return p+""}catch{}}return""}function K(p,T){return vt(he,function(F){var J="_."+F[0];T&F[1]&&!wi(p,J)&&p.push(J)}),p.sort()}function se(p){if(p instanceof Zn)return p.clone();var T=new oa(p.__wrapped__,p.__chain__);return T.__actions__=zr(p.__actions__),T.__index__=p.__index__,T.__values__=p.__values__,T}function de(p,T,F){(F?kr(p,T,F):T===t)?T=1:T=Oi(zn(T),0);var J=p==null?0:p.length;if(!J||T<1)return[];for(var oe=0,we=0,Fe=pt(Ia(J/T));oe<J;)Fe[we++]=ca(p,oe,oe+=T);return Fe}function He(p){for(var T=-1,F=p==null?0:p.length,J=0,oe=[];++T<F;){var we=p[T];we&&(oe[J++]=we)}return oe}function Ue(){var p=arguments.length;if(!p)return[];for(var T=pt(p-1),F=arguments[0],J=p;J--;)T[J-1]=arguments[J];return Ln(Rn(F)?zr(F):[F],zi(T,1))}var nt=Hn(function(p,T){return Zi(p)?lc(p,zi(T,1,Zi,!0)):[]}),Qe=Hn(function(p,T){var F=Rr(T);return Zi(F)&&(F=t),Zi(p)?lc(p,zi(T,1,Zi,!0),Sn(F,2)):[]}),rt=Hn(function(p,T){var F=Rr(T);return Zi(F)&&(F=t),Zi(p)?lc(p,zi(T,1,Zi,!0),t,F):[]});function It(p,T,F){var J=p==null?0:p.length;return J?(T=F||T===t?1:zn(T),ca(p,T<0?0:T,J)):[]}function cn(p,T,F){var J=p==null?0:p.length;return J?(T=F||T===t?1:zn(T),T=J-T,ca(p,0,T<0?0:T)):[]}function hn(p,T){return p&&p.length?qc(p,Sn(T,3),!0,!0):[]}function yn(p,T){return p&&p.length?qc(p,Sn(T,3),!0):[]}function Gt(p,T,F,J){var oe=p==null?0:p.length;return oe?(F&&typeof F!="number"&&kr(p,T,F)&&(F=0,J=oe),Am(p,T,F,J)):[]}function ai(p,T,F){var J=p==null?0:p.length;if(!J)return-1;var oe=F==null?0:zn(F);return oe<0&&(oe=Oi(J+oe,0)),jr(p,Sn(T,3),oe)}function ir(p,T,F){var J=p==null?0:p.length;if(!J)return-1;var oe=J-1;return F!==t&&(oe=zn(F),oe=F<0?Oi(J+oe,0):Sr(oe,J-1)),jr(p,Sn(T,3),oe,!0)}function Pr(p){var T=p==null?0:p.length;return T?zi(p,1):[]}function ki(p){var T=p==null?0:p.length;return T?zi(p,le):[]}function Aa(p,T){var F=p==null?0:p.length;return F?(T=T===t?1:zn(T),zi(p,T)):[]}function qs(p){for(var T=-1,F=p==null?0:p.length,J={};++T<F;){var oe=p[T];J[oe[0]]=oe[1]}return J}function Lr(p){return p&&p.length?p[0]:t}function gc(p,T,F){var J=p==null?0:p.length;if(!J)return-1;var oe=F==null?0:zn(F);return oe<0&&(oe=Oi(J+oe,0)),br(p,T,oe)}function pu(p){var T=p==null?0:p.length;return T?ca(p,0,-1):[]}var gu=Hn(function(p){var T=Nn(p,af);return T.length&&T[0]===p[0]?Vh(T):[]}),vu=Hn(function(p){var T=Rr(p),F=Nn(p,af);return T===Rr(F)?T=t:F.pop(),F.length&&F[0]===p[0]?Vh(F,Sn(T,2)):[]}),mu=Hn(function(p){var T=Rr(p),F=Nn(p,af);return T=typeof T=="function"?T:t,T&&F.pop(),F.length&&F[0]===p[0]?Vh(F,t,T):[]});function yu(p,T){return p==null?"":Od.call(p,T)}function Rr(p){var T=p==null?0:p.length;return T?p[T-1]:t}function bu(p,T,F){var J=p==null?0:p.length;if(!J)return-1;var oe=J;return F!==t&&(oe=zn(F),oe=oe<0?Oi(J+oe,0):Sr(oe,J-1)),T===T?ec(p,T,oe):jr(p,Gr,oe,!0)}function wu(p,T){return p&&p.length?Xd(p,zn(T)):t}var Cu=Hn(vc);function vc(p,T){return p&&p.length&&T&&T.length?qh(p,T):p}function Su(p,T,F){return p&&p.length&&T&&T.length?qh(p,T,Sn(F,2)):p}function _u(p,T,F){return p&&p.length&&T&&T.length?qh(p,T,t,F):p}var xu=Ss(function(p,T){var F=p==null?0:p.length,J=Yh(p,T);return Kd(p,Nn(T,function(oe){return rs(oe,F)?+oe:oe}).sort(eu)),J});function Eu(p,T){var F=[];if(!(p&&p.length))return F;var J=-1,oe=[],we=p.length;for(T=Sn(T,3);++J<we;){var Fe=p[J];T(Fe,J,p)&&(F.push(Fe),oe.push(J))}return Kd(p,oe),F}function dl(p){return p==null?p:Kv.call(p)}function Tu(p,T,F){var J=p==null?0:p.length;return J?(F&&typeof F!="number"&&kr(p,T,F)?(T=0,F=J):(T=T==null?0:zn(T),F=F===t?J:zn(F)),ca(p,T,F)):[]}function Iu(p,T){return Qc(p,T)}function Du(p,T,F){return tf(p,T,Sn(F,2))}function Ma(p,T){var F=p==null?0:p.length;if(F){var J=Qc(p,T);if(J<F&&_s(p[J],T))return J}return-1}function xo(p,T){return Qc(p,T,!0)}function Tp(p,T,F){return tf(p,T,Sn(F,2),!0)}function Ip(p,T){var F=p==null?0:p.length;if(F){var J=Qc(p,T,!0)-1;if(_s(p[J],T))return J}return-1}function Dp(p){return p&&p.length?ep(p):[]}function Ap(p,T){return p&&p.length?ep(p,Sn(T,2)):[]}function Mp(p){var T=p==null?0:p.length;return T?ca(p,1,T):[]}function Op(p,T,F){return p&&p.length?(T=F||T===t?1:zn(T),ca(p,0,T<0?0:T)):[]}function kp(p,T,F){var J=p==null?0:p.length;return J?(T=F||T===t?1:zn(T),T=J-T,ca(p,T<0?0:T,J)):[]}function Pp(p,T){return p&&p.length?qc(p,Sn(T,3),!1,!0):[]}function Lp(p,T){return p&&p.length?qc(p,Sn(T,3)):[]}var Rp=Hn(function(p){return Zs(zi(p,1,Zi,!0))}),Np=Hn(function(p){var T=Rr(p);return Zi(T)&&(T=t),Zs(zi(p,1,Zi,!0),Sn(T,2))}),Fp=Hn(function(p){var T=Rr(p);return T=typeof T=="function"?T:t,Zs(zi(p,1,Zi,!0),t,T)});function jp(p){return p&&p.length?Zs(p):[]}function Bp(p,T){return p&&p.length?Zs(p,Sn(T,2)):[]}function oA(p,T){return T=typeof T=="function"?T:t,p&&p.length?Zs(p,t,T):[]}function dy(p){if(!(p&&p.length))return[];var T=0;return p=ln(p,function(F){if(Zi(F))return T=Oi(F.length,T),!0}),Br(T,function(F){return Nn(p,wr(F))})}function pC(p,T){if(!(p&&p.length))return[];var F=dy(p);return T==null?F:Nn(F,function(J){return et(T,t,J)})}var lA=Hn(function(p,T){return Zi(p)?lc(p,T):[]}),cA=Hn(function(p){return rf(ln(p,Zi))}),uA=Hn(function(p){var T=Rr(p);return Zi(T)&&(T=t),rf(ln(p,Zi),Sn(T,2))}),hA=Hn(function(p){var T=Rr(p);return T=typeof T=="function"?T:t,rf(ln(p,Zi),t,T)}),fA=Hn(dy);function dA(p,T){return rp(p||[],T||[],sc)}function pA(p,T){return rp(p||[],T||[],dc)}var gA=Hn(function(p){var T=p.length,F=T>1?p[T-1]:t;return F=typeof F=="function"?(p.pop(),F):t,pC(p,F)});function gC(p){var T=ge(p);return T.__chain__=!0,T}function vA(p,T){return T(p),p}function Hp(p,T){return T(p)}var mA=Ss(function(p){var T=p.length,F=T?p[0]:0,J=this.__wrapped__,oe=function(we){return Yh(we,p)};return T>1||this.__actions__.length||!(J instanceof Zn)||!rs(F)?this.thru(oe):(J=J.slice(F,+F+(T?1:0)),J.__actions__.push({func:Hp,args:[oe],thisArg:t}),new oa(J,this.__chain__).thru(function(we){return T&&!we.length&&we.push(t),we}))});function yA(){return gC(this)}function bA(){return new oa(this.value(),this.__chain__)}function wA(){this.__values__===t&&(this.__values__=AC(this.value()));var p=this.__index__>=this.__values__.length,T=p?t:this.__values__[this.__index__++];return{done:p,value:T}}function CA(){return this}function SA(p){for(var T,F=this;F instanceof Uc;){var J=se(F);J.__index__=0,J.__values__=t,T?oe.__wrapped__=J:T=J;var oe=J;F=F.__wrapped__}return oe.__wrapped__=p,T}function _A(){var p=this.__wrapped__;if(p instanceof Zn){var T=p;return this.__actions__.length&&(T=new Zn(this)),T=T.reverse(),T.__actions__.push({func:Hp,args:[dl],thisArg:t}),new oa(T,this.__chain__)}return this.thru(dl)}function xA(){return ip(this.__wrapped__,this.__actions__)}var EA=tu(function(p,T,F){dt.call(p,F)?++p[F]:Cs(p,F,1)});function TA(p,T,F){var J=Rn(p)?En:zd;return F&&kr(p,T,F)&&(T=t),J(p,Sn(T,3))}function IA(p,T){var F=Rn(p)?ln:cl;return F(p,Sn(T,3))}var DA=gp(ai),AA=gp(ir);function MA(p,T){return zi(zp(p,T),1)}function OA(p,T){return zi(zp(p,T),le)}function kA(p,T,F){return F=F===t?1:zn(F),zi(zp(p,T),F)}function vC(p,T){var F=Rn(p)?vt:$s;return F(p,Sn(T,3))}function mC(p,T){var F=Rn(p)?fn:es;return F(p,Sn(T,3))}var PA=tu(function(p,T,F){dt.call(p,F)?p[F].push(T):Cs(p,F,[T])});function LA(p,T,F,J){p=ua(p)?p:Mu(p),F=F&&!J?zn(F):0;var oe=p.length;return F<0&&(F=Oi(oe+F,0)),$p(p)?F<=oe&&p.indexOf(T,F)>-1:!!oe&&br(p,T,F)>-1}var RA=Hn(function(p,T,F){var J=-1,oe=typeof T=="function",we=ua(p)?pt(p.length):[];return $s(p,function(Fe){we[++J]=oe?et(T,Fe,F):cc(Fe,T,F)}),we}),NA=tu(function(p,T,F){Cs(p,F,T)});function zp(p,T){var F=Rn(p)?Nn:Zc;return F(p,Sn(T,3))}function FA(p,T,F,J){return p==null?[]:(Rn(T)||(T=T==null?[]:[T]),F=J?t:F,Rn(F)||(F=F==null?[]:[F]),Zd(p,T,F))}var jA=tu(function(p,T,F){p[F?0:1].push(T)},function(){return[[],[]]});function BA(p,T,F){var J=Rn(p)?un:aa,oe=arguments.length<3;return J(p,Sn(T,4),F,oe,$s)}function HA(p,T,F){var J=Rn(p)?Bi:aa,oe=arguments.length<3;return J(p,Sn(T,4),F,oe,es)}function zA(p,T){var F=Rn(p)?ln:cl;return F(p,Yp(Sn(T,3)))}function WA(p){var T=Rn(p)?jd:Xs;return T(p)}function UA(p,T,F){(F?kr(p,T,F):T===t)?T=1:T=zn(T);var J=Rn(p)?xm:Hm;return J(p,T)}function YA(p){var T=Rn(p)?Em:Wm;return T(p)}function GA(p){if(p==null)return 0;if(ua(p))return $p(p)?Xn(p):p.length;var T=_r(p);return T==Ce||T==st?p.size:Jh(p).length}function $A(p,T,F){var J=Rn(p)?wn:Um;return F&&kr(p,T,F)&&(T=t),J(p,Sn(T,3))}var VA=Hn(function(p,T){if(p==null)return[];var F=T.length;return F>1&&kr(p,T[0],T[1])?T=[]:F>2&&kr(T[0],T[1],T[2])&&(T=[T[0]]),Zd(p,zi(T,1),[])}),Wp=$r||function(){return Ri.Date.now()};function XA(p,T){if(typeof T!="function")throw new hr(o);return p=zn(p),function(){if(--p<1)return T.apply(this,arguments)}}function yC(p,T,F){return T=F?t:T,T=p&&T==null?p.length:T,is(p,C,t,t,t,t,T)}function bC(p,T){var F;if(typeof T!="function")throw new hr(o);return p=zn(p),function(){return--p>0&&(F=T.apply(this,arguments)),p<=1&&(T=t),F}}var py=Hn(function(p,T,F){var J=b;if(F.length){var oe=Hi(F,_o(py));J|=g}return is(p,J,T,F,oe)}),wC=Hn(function(p,T,F){var J=b|f;if(F.length){var oe=Hi(F,_o(wC));J|=g}return is(T,J,p,F,oe)});function CC(p,T,F){T=F?t:T;var J=is(p,m,t,t,t,t,t,T);return J.placeholder=CC.placeholder,J}function SC(p,T,F){T=F?t:T;var J=is(p,d,t,t,t,t,t,T);return J.placeholder=SC.placeholder,J}function _C(p,T,F){var J,oe,we,Fe,Ge,at,Ot=0,Pt=!1,jt=!1,rn=!0;if(typeof p!="function")throw new hr(o);T=as(T)||0,Fi(F)&&(Pt=!!F.leading,jt="maxWait"in F,we=jt?Oi(as(F.maxWait)||0,T):we,rn="trailing"in F?!!F.trailing:rn);function gn(Ji){var xs=J,Io=oe;return J=oe=t,Ot=Ji,Fe=p.apply(Io,xs),Fe}function Dn(Ji){return Ot=Ji,Ge=A(Kn,T),Pt?gn(Ji):Fe}function Un(Ji){var xs=Ji-at,Io=Ji-Ot,WC=T-xs;return jt?Sr(WC,we-Io):WC}function An(Ji){var xs=Ji-at,Io=Ji-Ot;return at===t||xs>=T||xs<0||jt&&Io>=we}function Kn(){var Ji=Wp();if(An(Ji))return si(Ji);Ge=A(Kn,Un(Ji))}function si(Ji){return Ge=t,rn&&J?gn(Ji):(J=oe=t,Fe)}function ka(){Ge!==t&&ap(Ge),Ot=0,J=at=oe=Ge=t}function Zr(){return Ge===t?Fe:si(Wp())}function Pa(){var Ji=Wp(),xs=An(Ji);if(J=arguments,oe=this,at=Ji,xs){if(Ge===t)return Dn(at);if(jt)return ap(Ge),Ge=A(Kn,T),gn(at)}return Ge===t&&(Ge=A(Kn,T)),Fe}return Pa.cancel=ka,Pa.flush=Zr,Pa}var ZA=Hn(function(p,T){return Hd(p,1,T)}),JA=Hn(function(p,T,F){return Hd(p,as(T)||0,F)});function KA(p){return is(p,S)}function Up(p,T){if(typeof p!="function"||T!=null&&typeof T!="function")throw new hr(o);var F=function(){var J=arguments,oe=T?T.apply(this,J):J[0],we=F.cache;if(we.has(oe))return we.get(oe);var Fe=p.apply(this,J);return F.cache=we.set(oe,Fe)||we,Fe};return F.cache=new(Up.Cache||ws),F}Up.Cache=ws;function Yp(p){if(typeof p!="function")throw new hr(o);return function(){var T=arguments;switch(T.length){case 0:return!p.call(this);case 1:return!p.call(this,T[0]);case 2:return!p.call(this,T[0],T[1]);case 3:return!p.call(this,T[0],T[1],T[2])}return!p.apply(this,T)}}function QA(p){return bC(2,p)}var qA=Ym(function(p,T){T=T.length==1&&Rn(T[0])?Nn(T[0],tr(Sn())):Nn(zi(T,1),tr(Sn()));var F=T.length;return Hn(function(J){for(var oe=-1,we=Sr(J.length,F);++oe<we;)J[oe]=T[oe].call(this,J[oe]);return et(p,this,J)})}),gy=Hn(function(p,T){var F=Hi(T,_o(gy));return is(p,g,t,T,F)}),xC=Hn(function(p,T){var F=Hi(T,_o(xC));return is(p,h,t,T,F)}),eM=Ss(function(p,T){return is(p,D,t,t,t,T)});function tM(p,T){if(typeof p!="function")throw new hr(o);return T=T===t?T:zn(T),Hn(p,T)}function nM(p,T){if(typeof p!="function")throw new hr(o);return T=T==null?0:Oi(zn(T),0),Hn(function(F){var J=F[T],oe=Ks(F,0,T);return J&&Ln(oe,J),et(p,this,oe)})}function iM(p,T,F){var J=!0,oe=!0;if(typeof p!="function")throw new hr(o);return Fi(F)&&(J="leading"in F?!!F.leading:J,oe="trailing"in F?!!F.trailing:oe),_C(p,T,{leading:J,maxWait:T,trailing:oe})}function rM(p){return yC(p,1)}function aM(p,T){return gy(sf(T),p)}function sM(){if(!arguments.length)return[];var p=arguments[0];return Rn(p)?p:[p]}function oM(p){return la(p,M)}function lM(p,T){return T=typeof T=="function"?T:t,la(p,M,T)}function cM(p){return la(p,_|M)}function uM(p,T){return T=typeof T=="function"?T:t,la(p,_|M,T)}function hM(p,T){return T==null||oc(p,T,xr(T))}function _s(p,T){return p===T||p!==p&&T!==T}var fM=ou(Vc),dM=ou(function(p,T){return p>=T}),mc=Xh(function(){return arguments}())?Xh:function(p){return Wi(p)&&dt.call(p,"callee")&&!W.call(p,"callee")},Rn=pt.isArray,pM=ne?tr(ne):Lm;function ua(p){return p!=null&&Gp(p.length)&&!Eo(p)}function Zi(p){return Wi(p)&&ua(p)}function gM(p){return p===!0||p===!1||Wi(p)&&Or(p)==Me}var pl=Xv||Ty,vM=fe?tr(fe):Ud;function mM(p){return Wi(p)&&p.nodeType===1&&!Cf(p)}function yM(p){if(p==null)return!0;if(ua(p)&&(Rn(p)||typeof p=="string"||typeof p.splice=="function"||pl(p)||Au(p)||mc(p)))return!p.length;var T=_r(p);if(T==Ce||T==st)return!p.size;if(pc(p))return!Jh(p).length;for(var F in p)if(dt.call(p,F))return!1;return!0}function bM(p,T){return uc(p,T)}function wM(p,T,F){F=typeof F=="function"?F:t;var J=F?F(p,T):t;return J===t?uc(p,T,t,F):!!J}function vy(p){if(!Wi(p))return!1;var T=Or(p);return T==Se||T==Oe||typeof p.message=="string"&&typeof p.name=="string"&&!Cf(p)}function CM(p){return typeof p=="number"&&Md(p)}function Eo(p){if(!Fi(p))return!1;var T=Or(p);return T==Ye||T==ve||T==Mt||T==ht}function EC(p){return typeof p=="number"&&p==zn(p)}function Gp(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=me}function Fi(p){var T=typeof p;return p!=null&&(T=="object"||T=="function")}function Wi(p){return p!=null&&typeof p=="object"}var TC=Re?tr(Re):Yd;function SM(p,T){return p===T||Zh(p,T,pf(T))}function _M(p,T,F){return F=typeof F=="function"?F:t,Zh(p,T,pf(T),F)}function xM(p){return IC(p)&&p!=+p}function EM(p){if(oy(p))throw new Cn(a);return Gd(p)}function TM(p){return p===null}function IM(p){return p==null}function IC(p){return typeof p=="number"||Wi(p)&&Or(p)==_e}function Cf(p){if(!Wi(p)||Or(p)!=Ve)return!1;var T=Di(p);if(T===null)return!0;var F=dt.call(T,"constructor")&&T.constructor;return typeof F=="function"&&F instanceof F&&tt.call(F)==dn}var my=De?tr(De):Nm;function DM(p){return EC(p)&&p>=-me&&p<=me}var DC=We?tr(We):$d;function $p(p){return typeof p=="string"||!Rn(p)&&Wi(p)&&Or(p)==re}function Oa(p){return typeof p=="symbol"||Wi(p)&&Or(p)==H}var Au=ft?tr(ft):Fm;function AM(p){return p===t}function MM(p){return Wi(p)&&_r(p)==ie}function OM(p){return Wi(p)&&Or(p)==ue}var kM=ou(Xc),PM=ou(function(p,T){return p<=T});function AC(p){if(!p)return[];if(ua(p))return $p(p)?Xi(p):zr(p);if(Ie&&p[Ie])return ql(p[Ie]());var T=_r(p),F=T==Ce?ys:T==st?qa:Mu;return F(p)}function To(p){if(!p)return p===0?p:0;if(p=as(p),p===le||p===-le){var T=p<0?-1:1;return T*je}return p===p?p:0}function zn(p){var T=To(p),F=T%1;return T===T?F?T-F:T:0}function MC(p){return p?So(zn(p),0,it):0}function as(p){if(typeof p=="number")return p;if(Oa(p))return Pe;if(Fi(p)){var T=typeof p.valueOf=="function"?p.valueOf():p;p=Fi(T)?T+"":T}if(typeof p!="string")return p===0?p:+p;p=Ja(p);var F=vr.test(p);return F||Ir.test(p)?zs(p.slice(2),F?2:8):Sa.test(p)?Pe:+p}function OC(p){return ns(p,ha(p))}function LM(p){return p?So(zn(p),-me,me):p===0?p:0}function mi(p){return p==null?"":Xr(p)}var RM=ul(function(p,T){if(pc(T)||ua(T)){ns(T,xr(T),p);return}for(var F in T)dt.call(T,F)&&sc(p,F,T[F])}),kC=ul(function(p,T){ns(T,ha(T),p)}),Vp=ul(function(p,T,F,J){ns(T,ha(T),p,J)}),NM=ul(function(p,T,F,J){ns(T,xr(T),p,J)}),FM=Ss(Yh);function jM(p,T){var F=ol(p);return T==null?F:Bd(F,T)}var BM=Hn(function(p,T){p=ei(p);var F=-1,J=T.length,oe=J>2?T[2]:t;for(oe&&kr(T[0],T[1],oe)&&(J=1);++F<J;)for(var we=T[F],Fe=ha(we),Ge=-1,at=Fe.length;++Ge<at;){var Ot=Fe[Ge],Pt=p[Ot];(Pt===t||_s(Pt,$e[Ot])&&!dt.call(p,Ot))&&(p[Ot]=we[Ot])}return p}),HM=Hn(function(p){return p.push(t,lu),et(PC,t,p)});function zM(p,T){return qi(p,Sn(T,3),ts)}function WM(p,T){return qi(p,Sn(T,3),$h)}function UM(p,T){return p==null?p:Gh(p,Sn(T,3),ha)}function YM(p,T){return p==null?p:Gc(p,Sn(T,3),ha)}function GM(p,T){return p&&ts(p,Sn(T,3))}function $M(p,T){return p&&$h(p,Sn(T,3))}function VM(p){return p==null?[]:$c(p,xr(p))}function XM(p){return p==null?[]:$c(p,ha(p))}function yy(p,T,F){var J=p==null?t:Vs(p,T);return J===t?F:J}function ZM(p,T){return p!=null&&_p(p,T,Mm)}function by(p,T){return p!=null&&_p(p,T,Om)}var JM=mp(function(p,T,F){T!=null&&typeof T.toString!="function"&&(T=Yt.call(T)),p[T]=F},Cy(fa)),KM=mp(function(p,T,F){T!=null&&typeof T.toString!="function"&&(T=Yt.call(T)),dt.call(p,T)?p[T].push(F):p[T]=[F]},Sn),QM=Hn(cc);function xr(p){return ua(p)?Fd(p):Jh(p)}function ha(p){return ua(p)?Fd(p,!0):Kh(p)}function qM(p,T){var F={};return T=Sn(T,3),ts(p,function(J,oe,we){Cs(F,T(J,oe,we),J)}),F}function eO(p,T){var F={};return T=Sn(T,3),ts(p,function(J,oe,we){Cs(F,oe,T(J,oe,we))}),F}var tO=ul(function(p,T,F){fc(p,T,F)}),PC=ul(function(p,T,F,J){fc(p,T,F,J)}),nO=Ss(function(p,T){var F={};if(p==null)return F;var J=!1;T=Nn(T,function(we){return we=Js(we,p),J||(J=we.length>1),we}),ns(p,ff(p),F),J&&(F=la(F,_|I|M,Km));for(var oe=T.length;oe--;)nf(F,T[oe]);return F});function iO(p,T){return LC(p,Yp(Sn(T)))}var rO=Ss(function(p,T){return p==null?{}:Jd(p,T)});function LC(p,T){if(p==null)return{};var F=Nn(ff(p),function(J){return[J]});return T=Sn(T),Qh(p,F,function(J,oe){return T(J,oe[0])})}function aO(p,T,F){T=Js(T,p);var J=-1,oe=T.length;for(oe||(oe=1,p=t);++J<oe;){var we=p==null?t:p[U(T[J])];we===t&&(J=oe,we=F),p=Eo(we)?we.call(p):we}return p}function sO(p,T,F){return p==null?p:dc(p,T,F)}function oO(p,T,F,J){return J=typeof J=="function"?J:t,p==null?p:dc(p,T,F,J)}var RC=uf(xr),NC=uf(ha);function lO(p,T,F){var J=Rn(p),oe=J||pl(p)||Au(p);if(T=Sn(T,4),F==null){var we=p&&p.constructor;oe?F=J?new we:[]:Fi(p)?F=Eo(we)?ol(Di(p)):{}:F={}}return(oe?vt:ts)(p,function(Fe,Ge,at){return T(F,Fe,Ge,at)}),F}function cO(p,T){return p==null?!0:nf(p,T)}function uO(p,T,F){return p==null?p:np(p,T,sf(F))}function hO(p,T,F,J){return J=typeof J=="function"?J:t,p==null?p:np(p,T,sf(F),J)}function Mu(p){return p==null?[]:xa(p,xr(p))}function fO(p){return p==null?[]:xa(p,ha(p))}function dO(p,T,F){return F===t&&(F=T,T=t),F!==t&&(F=as(F),F=F===F?F:0),T!==t&&(T=as(T),T=T===T?T:0),So(as(p),T,F)}function pO(p,T,F){return T=To(T),F===t?(F=T,T=0):F=To(F),p=as(p),km(p,T,F)}function gO(p,T,F){if(F&&typeof F!="boolean"&&kr(p,T,F)&&(T=F=t),F===t&&(typeof T=="boolean"?(F=T,T=t):typeof p=="boolean"&&(F=p,p=t)),p===t&&T===t?(p=0,T=1):(p=To(p),T===t?(T=p,p=0):T=To(T)),p>T){var J=p;p=T,T=J}if(F||p%1||T%1){var oe=kd();return Sr(p+oe*(T-p+fo("1e-"+((oe+"").length-1))),T)}return ef(p,T)}var vO=hl(function(p,T,F){return T=T.toLowerCase(),p+(F?FC(T):T)});function FC(p){return wy(mi(p).toLowerCase())}function jC(p){return p=mi(p),p&&p.replace($i,Us).replace($l,"")}function mO(p,T,F){p=mi(p),T=Xr(T);var J=p.length;F=F===t?J:So(zn(F),0,J);var oe=F;return F-=T.length,F>=0&&p.slice(F,oe)==T}function yO(p){return p=mi(p),p&&Lt.test(p)?p.replace(wt,Ys):p}function bO(p){return p=mi(p),p&&Jn.test(p)?p.replace(gt,"\\$&"):p}var wO=hl(function(p,T,F){return p+(F?"-":"")+T.toLowerCase()}),CO=hl(function(p,T,F){return p+(F?" ":"")+T.toLowerCase()}),SO=pp("toLowerCase");function _O(p,T,F){p=mi(p),T=zn(T);var J=T?Xn(p):0;if(!T||J>=T)return p;var oe=(T-J)/2;return su(Vr(oe),F)+p+su(Ia(oe),F)}function xO(p,T,F){p=mi(p),T=zn(T);var J=T?Xn(p):0;return T&&J<T?p+su(T-J,F):p}function EO(p,T,F){p=mi(p),T=zn(T);var J=T?Xn(p):0;return T&&J<T?su(T-J,F)+p:p}function TO(p,T,F){return F||T==null?T=0:T&&(T=+T),Jv(mi(p).replace(an,""),T||0)}function IO(p,T,F){return(F?kr(p,T,F):T===t)?T=1:T=zn(T),Kc(mi(p),T)}function DO(){var p=arguments,T=mi(p[0]);return p.length<3?T:T.replace(p[1],p[2])}var AO=hl(function(p,T,F){return p+(F?"_":"")+T.toLowerCase()});function MO(p,T,F){return F&&typeof F!="number"&&kr(p,T,F)&&(T=F=t),F=F===t?it:F>>>0,F?(p=mi(p),p&&(typeof T=="string"||T!=null&&!my(T))&&(T=Xr(T),!T&&Ka(p))?Ks(Xi(p),0,F):p.split(T,F)):[]}var OO=hl(function(p,T,F){return p+(F?" ":"")+wy(T)});function kO(p,T,F){return p=mi(p),F=F==null?0:So(zn(F),0,p.length),T=Xr(T),p.slice(F,F+T.length)==T}function PO(p,T,F){var J=ge.templateSettings;F&&kr(p,T,F)&&(T=t),p=mi(p),T=Vp({},T,J,wp);var oe=Vp({},T.imports,J.imports,wp),we=xr(oe),Fe=xa(oe,we),Ge,at,Ot=0,Pt=T.interpolate||ea,jt="__p += '",rn=Cr((T.escape||ea).source+"|"+Pt.source+"|"+(Pt===At?Ca:ea).source+"|"+(T.evaluate||ea).source+"|$","g"),gn="//# sourceURL="+(dt.call(T,"sourceURL")?(T.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qo+"]")+`
`;p.replace(rn,function(An,Kn,si,ka,Zr,Pa){return si||(si=ka),jt+=p.slice(Ot,Pa).replace(Ga,Kl),Kn&&(Ge=!0,jt+=`' +
__e(`+Kn+`) +
'`),Zr&&(at=!0,jt+=`';
`+Zr+`;
__p += '`),si&&(jt+=`' +
((__t = (`+si+`)) == null ? '' : __t) +
'`),Ot=Pa+An.length,An}),jt+=`';
`;var Dn=dt.call(T,"variable")&&T.variable;if(!Dn)jt=`with (obj) {
`+jt+`
}
`;else if(Wn.test(Dn))throw new Cn(s);jt=(at?jt.replace(Jt,""):jt).replace(Mn,"$1").replace(kn,"$1;"),jt="function("+(Dn||"obj")+`) {
`+(Dn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ge?", __e = _.escape":"")+(at?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+jt+`return __p
}`;var Un=HC(function(){return $n(we,gn+"return "+jt).apply(t,Fe)});if(Un.source=jt,vy(Un))throw Un;return Un}function LO(p){return mi(p).toLowerCase()}function RO(p){return mi(p).toUpperCase()}function NO(p,T,F){if(p=mi(p),p&&(F||T===t))return Ja(p);if(!p||!(T=Xr(T)))return p;var J=Xi(p),oe=Xi(T),we=vo(J,oe),Fe=tl(J,oe)+1;return Ks(J,we,Fe).join("")}function FO(p,T,F){if(p=mi(p),p&&(F||T===t))return p.slice(0,nr(p)+1);if(!p||!(T=Xr(T)))return p;var J=Xi(p),oe=tl(J,Xi(T))+1;return Ks(J,0,oe).join("")}function jO(p,T,F){if(p=mi(p),p&&(F||T===t))return p.replace(an,"");if(!p||!(T=Xr(T)))return p;var J=Xi(p),oe=vo(J,Xi(T));return Ks(J,oe).join("")}function BO(p,T){var F=k,J=L;if(Fi(T)){var oe="separator"in T?T.separator:oe;F="length"in T?zn(T.length):F,J="omission"in T?Xr(T.omission):J}p=mi(p);var we=p.length;if(Ka(p)){var Fe=Xi(p);we=Fe.length}if(F>=we)return p;var Ge=F-Xn(J);if(Ge<1)return J;var at=Fe?Ks(Fe,0,Ge).join(""):p.slice(0,Ge);if(oe===t)return at+J;if(Fe&&(Ge+=at.length-Ge),my(oe)){if(p.slice(Ge).search(oe)){var Ot,Pt=at;for(oe.global||(oe=Cr(oe.source,mi(Ya.exec(oe))+"g")),oe.lastIndex=0;Ot=oe.exec(Pt);)var jt=Ot.index;at=at.slice(0,jt===t?Ge:jt)}}else if(p.indexOf(Xr(oe),Ge)!=Ge){var rn=at.lastIndexOf(oe);rn>-1&&(at=at.slice(0,rn))}return at+J}function HO(p){return p=mi(p),p&&St.test(p)?p.replace(qn,Mr):p}var zO=hl(function(p,T,F){return p+(F?" ":"")+T.toUpperCase()}),wy=pp("toUpperCase");function BC(p,T,F){return p=mi(p),T=F?t:T,T===t?Qa(p)?tc(p):Ws(p):p.match(T)||[]}var HC=Hn(function(p,T){try{return et(p,t,T)}catch(F){return vy(F)?F:new Cn(F)}}),WO=Ss(function(p,T){return vt(T,function(F){F=U(F),Cs(p,F,py(p[F],p))}),p});function UO(p){var T=p==null?0:p.length,F=Sn();return p=T?Nn(p,function(J){if(typeof J[1]!="function")throw new hr(o);return[F(J[0]),J[1]]}):[],Hn(function(J){for(var oe=-1;++oe<T;){var we=p[oe];if(et(we[0],this,J))return et(we[1],this,J)}})}function YO(p){return Dm(la(p,_))}function Cy(p){return function(){return p}}function GO(p,T){return p==null||p!==p?T:p}var $O=vp(),VO=vp(!0);function fa(p){return p}function Sy(p){return Vd(typeof p=="function"?p:la(p,_))}function XO(p){return Jc(la(p,_))}function ZO(p,T){return hc(p,la(T,_))}var JO=Hn(function(p,T){return function(F){return cc(F,p,T)}}),KO=Hn(function(p,T){return function(F){return cc(p,F,T)}});function _y(p,T,F){var J=xr(T),oe=$c(T,J);F==null&&!(Fi(T)&&(oe.length||!J.length))&&(F=T,T=p,p=this,oe=$c(T,xr(T)));var we=!(Fi(F)&&"chain"in F)||!!F.chain,Fe=Eo(p);return vt(oe,function(Ge){var at=T[Ge];p[Ge]=at,Fe&&(p.prototype[Ge]=function(){var Ot=this.__chain__;if(we||Ot){var Pt=p(this.__wrapped__),jt=Pt.__actions__=zr(this.__actions__);return jt.push({func:at,args:arguments,thisArg:p}),Pt.__chain__=Ot,Pt}return at.apply(p,Ln([this.value()],arguments))})}),p}function QO(){return Ri._===this&&(Ri._=vn),this}function xy(){}function qO(p){return p=zn(p),Hn(function(T){return Xd(T,p)})}var ek=au(Nn),tk=au(En),nk=au(wn);function zC(p){return fu(p)?wr(U(p)):Bm(p)}function ik(p){return function(T){return p==null?t:Vs(p,T)}}var rk=yp(),ak=yp(!0);function Ey(){return[]}function Ty(){return!1}function sk(){return{}}function ok(){return""}function lk(){return!0}function ck(p,T){if(p=zn(p),p<1||p>me)return[];var F=it,J=Sr(p,it);T=Sn(T),p-=it;for(var oe=Br(J,T);++F<p;)T(F);return oe}function uk(p){return Rn(p)?Nn(p,U):Oa(p)?[p]:zr(j(mi(p)))}function hk(p){var T=++Rt;return mi(p)+T}var fk=ru(function(p,T){return p+T},0),dk=cf("ceil"),pk=ru(function(p,T){return p/T},1),gk=cf("floor");function vk(p){return p&&p.length?ll(p,fa,Vc):t}function mk(p,T){return p&&p.length?ll(p,Sn(T,2),Vc):t}function yk(p){return ur(p,fa)}function bk(p,T){return ur(p,Sn(T,2))}function wk(p){return p&&p.length?ll(p,fa,Xc):t}function Ck(p,T){return p&&p.length?ll(p,Sn(T,2),Xc):t}var Sk=ru(function(p,T){return p*T},1),_k=cf("round"),xk=ru(function(p,T){return p-T},0);function Ek(p){return p&&p.length?Vn(p,fa):0}function Tk(p,T){return p&&p.length?Vn(p,Sn(T,2)):0}return ge.after=XA,ge.ary=yC,ge.assign=RM,ge.assignIn=kC,ge.assignInWith=Vp,ge.assignWith=NM,ge.at=FM,ge.before=bC,ge.bind=py,ge.bindAll=WO,ge.bindKey=wC,ge.castArray=sM,ge.chain=gC,ge.chunk=de,ge.compact=He,ge.concat=Ue,ge.cond=UO,ge.conforms=YO,ge.constant=Cy,ge.countBy=EA,ge.create=jM,ge.curry=CC,ge.curryRight=SC,ge.debounce=_C,ge.defaults=BM,ge.defaultsDeep=HM,ge.defer=ZA,ge.delay=JA,ge.difference=nt,ge.differenceBy=Qe,ge.differenceWith=rt,ge.drop=It,ge.dropRight=cn,ge.dropRightWhile=hn,ge.dropWhile=yn,ge.fill=Gt,ge.filter=IA,ge.flatMap=MA,ge.flatMapDeep=OA,ge.flatMapDepth=kA,ge.flatten=Pr,ge.flattenDeep=ki,ge.flattenDepth=Aa,ge.flip=KA,ge.flow=$O,ge.flowRight=VO,ge.fromPairs=qs,ge.functions=VM,ge.functionsIn=XM,ge.groupBy=PA,ge.initial=pu,ge.intersection=gu,ge.intersectionBy=vu,ge.intersectionWith=mu,ge.invert=JM,ge.invertBy=KM,ge.invokeMap=RA,ge.iteratee=Sy,ge.keyBy=NA,ge.keys=xr,ge.keysIn=ha,ge.map=zp,ge.mapKeys=qM,ge.mapValues=eO,ge.matches=XO,ge.matchesProperty=ZO,ge.memoize=Up,ge.merge=tO,ge.mergeWith=PC,ge.method=JO,ge.methodOf=KO,ge.mixin=_y,ge.negate=Yp,ge.nthArg=qO,ge.omit=nO,ge.omitBy=iO,ge.once=QA,ge.orderBy=FA,ge.over=ek,ge.overArgs=qA,ge.overEvery=tk,ge.overSome=nk,ge.partial=gy,ge.partialRight=xC,ge.partition=jA,ge.pick=rO,ge.pickBy=LC,ge.property=zC,ge.propertyOf=ik,ge.pull=Cu,ge.pullAll=vc,ge.pullAllBy=Su,ge.pullAllWith=_u,ge.pullAt=xu,ge.range=rk,ge.rangeRight=ak,ge.rearg=eM,ge.reject=zA,ge.remove=Eu,ge.rest=tM,ge.reverse=dl,ge.sampleSize=UA,ge.set=sO,ge.setWith=oO,ge.shuffle=YA,ge.slice=Tu,ge.sortBy=VA,ge.sortedUniq=Dp,ge.sortedUniqBy=Ap,ge.split=MO,ge.spread=nM,ge.tail=Mp,ge.take=Op,ge.takeRight=kp,ge.takeRightWhile=Pp,ge.takeWhile=Lp,ge.tap=vA,ge.throttle=iM,ge.thru=Hp,ge.toArray=AC,ge.toPairs=RC,ge.toPairsIn=NC,ge.toPath=uk,ge.toPlainObject=OC,ge.transform=lO,ge.unary=rM,ge.union=Rp,ge.unionBy=Np,ge.unionWith=Fp,ge.uniq=jp,ge.uniqBy=Bp,ge.uniqWith=oA,ge.unset=cO,ge.unzip=dy,ge.unzipWith=pC,ge.update=uO,ge.updateWith=hO,ge.values=Mu,ge.valuesIn=fO,ge.without=lA,ge.words=BC,ge.wrap=aM,ge.xor=cA,ge.xorBy=uA,ge.xorWith=hA,ge.zip=fA,ge.zipObject=dA,ge.zipObjectDeep=pA,ge.zipWith=gA,ge.entries=RC,ge.entriesIn=NC,ge.extend=kC,ge.extendWith=Vp,_y(ge,ge),ge.add=fk,ge.attempt=HC,ge.camelCase=vO,ge.capitalize=FC,ge.ceil=dk,ge.clamp=dO,ge.clone=oM,ge.cloneDeep=cM,ge.cloneDeepWith=uM,ge.cloneWith=lM,ge.conformsTo=hM,ge.deburr=jC,ge.defaultTo=GO,ge.divide=pk,ge.endsWith=mO,ge.eq=_s,ge.escape=yO,ge.escapeRegExp=bO,ge.every=TA,ge.find=DA,ge.findIndex=ai,ge.findKey=zM,ge.findLast=AA,ge.findLastIndex=ir,ge.findLastKey=WM,ge.floor=gk,ge.forEach=vC,ge.forEachRight=mC,ge.forIn=UM,ge.forInRight=YM,ge.forOwn=GM,ge.forOwnRight=$M,ge.get=yy,ge.gt=fM,ge.gte=dM,ge.has=ZM,ge.hasIn=by,ge.head=Lr,ge.identity=fa,ge.includes=LA,ge.indexOf=gc,ge.inRange=pO,ge.invoke=QM,ge.isArguments=mc,ge.isArray=Rn,ge.isArrayBuffer=pM,ge.isArrayLike=ua,ge.isArrayLikeObject=Zi,ge.isBoolean=gM,ge.isBuffer=pl,ge.isDate=vM,ge.isElement=mM,ge.isEmpty=yM,ge.isEqual=bM,ge.isEqualWith=wM,ge.isError=vy,ge.isFinite=CM,ge.isFunction=Eo,ge.isInteger=EC,ge.isLength=Gp,ge.isMap=TC,ge.isMatch=SM,ge.isMatchWith=_M,ge.isNaN=xM,ge.isNative=EM,ge.isNil=IM,ge.isNull=TM,ge.isNumber=IC,ge.isObject=Fi,ge.isObjectLike=Wi,ge.isPlainObject=Cf,ge.isRegExp=my,ge.isSafeInteger=DM,ge.isSet=DC,ge.isString=$p,ge.isSymbol=Oa,ge.isTypedArray=Au,ge.isUndefined=AM,ge.isWeakMap=MM,ge.isWeakSet=OM,ge.join=yu,ge.kebabCase=wO,ge.last=Rr,ge.lastIndexOf=bu,ge.lowerCase=CO,ge.lowerFirst=SO,ge.lt=kM,ge.lte=PM,ge.max=vk,ge.maxBy=mk,ge.mean=yk,ge.meanBy=bk,ge.min=wk,ge.minBy=Ck,ge.stubArray=Ey,ge.stubFalse=Ty,ge.stubObject=sk,ge.stubString=ok,ge.stubTrue=lk,ge.multiply=Sk,ge.nth=wu,ge.noConflict=QO,ge.noop=xy,ge.now=Wp,ge.pad=_O,ge.padEnd=xO,ge.padStart=EO,ge.parseInt=TO,ge.random=gO,ge.reduce=BA,ge.reduceRight=HA,ge.repeat=IO,ge.replace=DO,ge.result=aO,ge.round=_k,ge.runInContext=Je,ge.sample=WA,ge.size=GA,ge.snakeCase=AO,ge.some=$A,ge.sortedIndex=Iu,ge.sortedIndexBy=Du,ge.sortedIndexOf=Ma,ge.sortedLastIndex=xo,ge.sortedLastIndexBy=Tp,ge.sortedLastIndexOf=Ip,ge.startCase=OO,ge.startsWith=kO,ge.subtract=xk,ge.sum=Ek,ge.sumBy=Tk,ge.template=PO,ge.times=ck,ge.toFinite=To,ge.toInteger=zn,ge.toLength=MC,ge.toLower=LO,ge.toNumber=as,ge.toSafeInteger=LM,ge.toString=mi,ge.toUpper=RO,ge.trim=NO,ge.trimEnd=FO,ge.trimStart=jO,ge.truncate=BO,ge.unescape=HO,ge.uniqueId=hk,ge.upperCase=zO,ge.upperFirst=wy,ge.each=vC,ge.eachRight=mC,ge.first=Lr,_y(ge,function(){var p={};return ts(ge,function(T,F){dt.call(ge.prototype,F)||(p[F]=T)}),p}(),{chain:!1}),ge.VERSION=i,vt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(p){ge[p].placeholder=ge}),vt(["drop","take"],function(p,T){Zn.prototype[p]=function(F){F=F===t?1:Oi(zn(F),0);var J=this.__filtered__&&!T?new Zn(this):this.clone();return J.__filtered__?J.__takeCount__=Sr(F,J.__takeCount__):J.__views__.push({size:Sr(F,it),type:p+(J.__dir__<0?"Right":"")}),J},Zn.prototype[p+"Right"]=function(F){return this.reverse()[p](F).reverse()}}),vt(["filter","map","takeWhile"],function(p,T){var F=T+1,J=F==X||F==ce;Zn.prototype[p]=function(oe){var we=this.clone();return we.__iteratees__.push({iteratee:Sn(oe,3),type:F}),we.__filtered__=we.__filtered__||J,we}}),vt(["head","last"],function(p,T){var F="take"+(T?"Right":"");Zn.prototype[p]=function(){return this[F](1).value()[0]}}),vt(["initial","tail"],function(p,T){var F="drop"+(T?"":"Right");Zn.prototype[p]=function(){return this.__filtered__?new Zn(this):this[F](1)}}),Zn.prototype.compact=function(){return this.filter(fa)},Zn.prototype.find=function(p){return this.filter(p).head()},Zn.prototype.findLast=function(p){return this.reverse().find(p)},Zn.prototype.invokeMap=Hn(function(p,T){return typeof p=="function"?new Zn(this):this.map(function(F){return cc(F,p,T)})}),Zn.prototype.reject=function(p){return this.filter(Yp(Sn(p)))},Zn.prototype.slice=function(p,T){p=zn(p);var F=this;return F.__filtered__&&(p>0||T<0)?new Zn(F):(p<0?F=F.takeRight(-p):p&&(F=F.drop(p)),T!==t&&(T=zn(T),F=T<0?F.dropRight(-T):F.take(T-p)),F)},Zn.prototype.takeRightWhile=function(p){return this.reverse().takeWhile(p).reverse()},Zn.prototype.toArray=function(){return this.take(it)},ts(Zn.prototype,function(p,T){var F=/^(?:filter|find|map|reject)|While$/.test(T),J=/^(?:head|last)$/.test(T),oe=ge[J?"take"+(T=="last"?"Right":""):T],we=J||/^find/.test(T);!oe||(ge.prototype[T]=function(){var Fe=this.__wrapped__,Ge=J?[1]:arguments,at=Fe instanceof Zn,Ot=Ge[0],Pt=at||Rn(Fe),jt=function(Kn){var si=oe.apply(ge,Ln([Kn],Ge));return J&&rn?si[0]:si};Pt&&F&&typeof Ot=="function"&&Ot.length!=1&&(at=Pt=!1);var rn=this.__chain__,gn=!!this.__actions__.length,Dn=we&&!rn,Un=at&&!gn;if(!we&&Pt){Fe=Un?Fe:new Zn(this);var An=p.apply(Fe,Ge);return An.__actions__.push({func:Hp,args:[jt],thisArg:t}),new oa(An,rn)}return Dn&&Un?p.apply(this,Ge):(An=this.thru(jt),Dn?J?An.value()[0]:An.value():An)})}),vt(["pop","push","shift","sort","splice","unshift"],function(p){var T=ye[p],F=/^(?:push|sort|unshift)$/.test(p)?"tap":"thru",J=/^(?:pop|shift)$/.test(p);ge.prototype[p]=function(){var oe=arguments;if(J&&!this.__chain__){var we=this.value();return T.apply(Rn(we)?we:[],oe)}return this[F](function(Fe){return T.apply(Rn(Fe)?Fe:[],oe)})}}),ts(Zn.prototype,function(p,T){var F=ge[T];if(F){var J=F.name+"";dt.call(sl,J)||(sl[J]=[]),sl[J].push({name:T,func:F})}}),sl[iu(t,f).name]=[{name:"wrapper",func:t}],Zn.prototype.clone=tm,Zn.prototype.reverse=nm,Zn.prototype.value=im,ge.prototype.at=mA,ge.prototype.chain=yA,ge.prototype.commit=bA,ge.prototype.next=wA,ge.prototype.plant=SA,ge.prototype.reverse=_A,ge.prototype.toJSON=ge.prototype.valueOf=ge.prototype.value=xA,ge.prototype.first=ge.prototype.head,Ie&&(ge.prototype[Ie]=CA),ge},Ta=rl();R?((R.exports=Ta)._=Ta,O._=Ta):Ri._=Ta}).call(sr)})(Kb,Kb.exports);const o_=Kb.exports,l_=["transitionend","webkitTransitionEnd","oTransitionEnd"],bj=["transition","MozTransition","webkitTransition","WebkitTransition","OTransition"],wj=`
.layout-menu-fixed .layout-navbar-full .layout-menu,
.layout-page {
  padding-top: {navbarHeight}px !important;
}
.content-wrapper {
  padding-bottom: {footerHeight}px !important;
}`;function yc(n){throw new Error(`Parameter required${n?`: \`${n}\``:""}`)}const Cl={ROOT_EL:typeof window<"u"?document.documentElement:null,LAYOUT_BREAKPOINT:1200,RESIZE_DELAY:200,menuPsScroll:null,mainMenu:null,_curStyle:null,_styleEl:null,_resizeTimeout:null,_resizeCallback:null,_transitionCallback:null,_transitionCallbackTimeout:null,_listeners:[],_initialized:!1,_autoUpdate:!1,_lastWindowHeight:0,_scrollToActive(n=!1,e=500){const t=this.getLayoutMenu();if(!t)return;let i=t.querySelector("li.menu-item.active:not(.open)");if(i){const r=(c,l,_,I)=>(c/=I/2,c<1?_/2*c*c+l:(c-=1,-_/2*(c*(c-2)-1)+l)),a=this.getLayoutMenu().querySelector(".menu-inner");if(typeof i=="string"&&(i=document.querySelector(i)),typeof i!="number"&&(i=i.getBoundingClientRect().top+a.scrollTop),i<parseInt(a.clientHeight*2/3,10))return;const o=a.scrollTop,s=i-o-parseInt(a.clientHeight/2,10),u=+new Date;if(n===!0){const c=()=>{const _=+new Date-u,I=r(_,o,s,e);a.scrollTop=I,_<e?requestAnimationFrame(c):a.scrollTop=s};c()}else a.scrollTop=s}},_addClass(n,e=this.ROOT_EL){e.length!==void 0?e.forEach(t=>{n.split(" ").forEach(i=>t.classList.add(i))}):n.split(" ").forEach(t=>e.classList.add(t))},_removeClass(n,e=this.ROOT_EL){e.length!==void 0?e.forEach(t=>{n.split(" ").forEach(i=>t.classList.remove(i))}):n.split(" ").forEach(t=>e.classList.remove(t))},_toggleClass(n=this.ROOT_EL,e,t){n.classList.contains(e)?n.classList.replace(e,t):n.classList.replace(t,e)},_hasClass(n,e=this.ROOT_EL){let t=!1;return n.split(" ").forEach(i=>{e.classList.contains(i)&&(t=!0)}),t},_findParent(n,e){if(n&&n.tagName.toUpperCase()==="BODY"||n.tagName.toUpperCase()==="HTML")return null;for(n=n.parentNode;n&&n.tagName.toUpperCase()!=="BODY"&&!n.classList.contains(e);)n=n.parentNode;return n=n&&n.tagName.toUpperCase()!=="BODY"?n:null,n},_triggerWindowEvent(n){if(!(typeof window>"u"))if(document.createEvent){let e;typeof Event=="function"?e=new Event(n):(e=document.createEvent("Event"),e.initEvent(n,!1,!0)),window.dispatchEvent(e)}else window.fireEvent(`on${n}`,document.createEventObject())},_triggerEvent(n){this._triggerWindowEvent(`layout${n}`),this._listeners.filter(e=>e.event===n).forEach(e=>e.callback.call(null))},_updateInlineStyle(n=0,e=0){this._styleEl||(this._styleEl=document.createElement("style"),this._styleEl.type="text/css",document.head.appendChild(this._styleEl));const t=wj.replace(/\{navbarHeight\}/gi,n).replace(/\{footerHeight\}/gi,e);this._curStyle!==t&&(this._curStyle=t,this._styleEl.textContent=t)},_removeInlineStyle(){this._styleEl&&document.head.removeChild(this._styleEl),this._styleEl=null,this._curStyle=null},_redrawLayoutMenu(){const n=this.getLayoutMenu();if(n&&n.querySelector(".menu")){const e=n.querySelector(".menu-inner"),{scrollTop:t}=e,i=document.documentElement.scrollTop;return n.style.display="none",n.style.display="",e.scrollTop=t,document.documentElement.scrollTop=i,!0}return!1},_supportsTransitionEnd(){if(window.QUnit)return!1;const n=document.body||document.documentElement;if(!n)return!1;let e=!1;return bj.forEach(t=>{typeof n.style[t]<"u"&&(e=!0)}),e},_getNavbarHeight(){const n=this.getLayoutNavbar();if(!n)return 0;if(!this.isSmallScreen())return n.getBoundingClientRect().height;const e=n.cloneNode(!0);e.id=null,e.style.visibility="hidden",e.style.position="absolute",Array.prototype.slice.call(e.querySelectorAll(".collapse.show")).forEach(i=>this._removeClass("show",i)),n.parentNode.insertBefore(e,n);const t=e.getBoundingClientRect().height;return e.parentNode.removeChild(e),t},_getFooterHeight(){const n=this.getLayoutFooter();return n?n.getBoundingClientRect().height:0},_getAnimationDuration(n){const e=window.getComputedStyle(n).transitionDuration;return parseFloat(e)*(e.indexOf("ms")!==-1?1:1e3)},_setMenuHoverState(n){this[n?"_addClass":"_removeClass"]("layout-menu-hover")},_setCollapsed(n){this.isSmallScreen()&&(n?this._removeClass("layout-menu-expanded"):setTimeout(()=>{this._addClass("layout-menu-expanded")},this._redrawLayoutMenu()?5:0))},_bindLayoutAnimationEndEvent(n,e){const t=this.getMenu(),i=t?this._getAnimationDuration(t)+50:0;if(!i){n.call(this),e.call(this);return}this._transitionCallback=r=>{r.target===t&&(this._unbindLayoutAnimationEndEvent(),e.call(this))},l_.forEach(r=>{t.addEventListener(r,this._transitionCallback,!1)}),n.call(this),this._transitionCallbackTimeout=setTimeout(()=>{this._transitionCallback.call(this,{target:t})},i)},_unbindLayoutAnimationEndEvent(){const n=this.getMenu();this._transitionCallbackTimeout&&(clearTimeout(this._transitionCallbackTimeout),this._transitionCallbackTimeout=null),n&&this._transitionCallback&&l_.forEach(e=>{n.removeEventListener(e,this._transitionCallback,!1)}),this._transitionCallback&&(this._transitionCallback=null)},_bindWindowResizeEvent(){this._unbindWindowResizeEvent();const n=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),this._resizeTimeout=null),this._triggerEvent("resize")};this._resizeCallback=()=>{this._resizeTimeout&&clearTimeout(this._resizeTimeout),this._resizeTimeout=setTimeout(n,this.RESIZE_DELAY)},window.addEventListener("resize",this._resizeCallback,!1)},_unbindWindowResizeEvent(){this._resizeTimeout&&(clearTimeout(this._resizeTimeout),this._resizeTimeout=null),this._resizeCallback&&(window.removeEventListener("resize",this._resizeCallback,!1),this._resizeCallback=null)},_bindMenuMouseEvents(){if(this._menuMouseEnter&&this._menuMouseLeave&&this._windowTouchStart)return;const n=this.getLayoutMenu();if(!n)return this._unbindMenuMouseEvents();this._menuMouseEnter||(this._menuMouseEnter=()=>this.isSmallScreen()||this._hasClass("layout-transitioning")?this._setMenuHoverState(!1):this._setMenuHoverState(!1),n.addEventListener("mouseenter",this._menuMouseEnter,!1),n.addEventListener("touchstart",this._menuMouseEnter,!1)),this._menuMouseLeave||(this._menuMouseLeave=()=>{this._setMenuHoverState(!1)},n.addEventListener("mouseleave",this._menuMouseLeave,!1)),this._windowTouchStart||(this._windowTouchStart=e=>{(!e||!e.target||!this._findParent(e.target,".layout-menu"))&&this._setMenuHoverState(!1)},window.addEventListener("touchstart",this._windowTouchStart,!0))},_unbindMenuMouseEvents(){if(!this._menuMouseEnter&&!this._menuMouseLeave&&!this._windowTouchStart)return;const n=this.getLayoutMenu();this._menuMouseEnter&&(n&&(n.removeEventListener("mouseenter",this._menuMouseEnter,!1),n.removeEventListener("touchstart",this._menuMouseEnter,!1)),this._menuMouseEnter=null),this._menuMouseLeave&&(n&&n.removeEventListener("mouseleave",this._menuMouseLeave,!1),this._menuMouseLeave=null),this._windowTouchStart&&(n&&window.addEventListener("touchstart",this._windowTouchStart,!0),this._windowTouchStart=null),this._setMenuHoverState(!1)},scrollToActive(n=!1){this._scrollToActive(n)},setCollapsed(n=yc("collapsed"),e=!0){!this.getLayoutMenu()||(this._unbindLayoutAnimationEndEvent(),e&&this._supportsTransitionEnd()?(this._addClass("layout-transitioning"),n&&this._setMenuHoverState(!1),this._bindLayoutAnimationEndEvent(()=>{this.isSmallScreen&&this._setCollapsed(n)},()=>{this._removeClass("layout-transitioning"),this._triggerWindowEvent("resize"),this._triggerEvent("toggle"),this._setMenuHoverState(!1)})):(this._addClass("layout-no-transition"),n&&this._setMenuHoverState(!1),this._setCollapsed(n),setTimeout(()=>{this._removeClass("layout-no-transition"),this._triggerWindowEvent("resize"),this._triggerEvent("toggle"),this._setMenuHoverState(!1)},1)))},toggleCollapsed(n=!0){this.setCollapsed(!this.isCollapsed(),n)},setPosition(n=yc("fixed"),e=yc("offcanvas")){this._removeClass("layout-menu-offcanvas layout-menu-fixed layout-menu-fixed-offcanvas"),!n&&e?this._addClass("layout-menu-offcanvas"):n&&!e?(this._addClass("layout-menu-fixed"),this._redrawLayoutMenu()):n&&e&&(this._addClass("layout-menu-fixed-offcanvas"),this._redrawLayoutMenu()),this.update()},getLayoutMenu(){return document.querySelector(".layout-menu")},getMenu(){const n=this.getLayoutMenu();return n?this._hasClass("menu",n)?n:n.querySelector(".menu"):null},getLayoutNavbar(){return document.querySelector(".layout-navbar")},getLayoutFooter(){return document.querySelector(".content-footer")},update(){(this.getLayoutNavbar()&&(!this.isSmallScreen()&&this.isLayoutNavbarFull()&&this.isFixed()||this.isNavbarFixed())||this.getLayoutFooter()&&this.isFooterFixed())&&this._updateInlineStyle(this._getNavbarHeight(),this._getFooterHeight()),this._bindMenuMouseEvents()},setAutoUpdate(n=yc("enable")){n&&!this._autoUpdate?(this.on("resize.Helpers:autoUpdate",()=>this.update()),this._autoUpdate=!0):!n&&this._autoUpdate&&(this.off("resize.Helpers:autoUpdate"),this._autoUpdate=!1)},isRtl(){return document.querySelector("body").getAttribute("dir")==="rtl"||document.querySelector("html").getAttribute("dir")==="rtl"},isMobileDevice(){return typeof window.orientation<"u"||navigator.userAgent.indexOf("IEMobile")!==-1},isSmallScreen(){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<this.LAYOUT_BREAKPOINT},isLayoutNavbarFull(){return!!document.querySelector(".layout-wrapper.layout-navbar-full")},isCollapsed(){return this.isSmallScreen()?!this._hasClass("layout-menu-expanded"):this._hasClass("layout-menu-collapsed")},isFixed(){return this._hasClass("layout-menu-fixed layout-menu-fixed-offcanvas")},isNavbarFixed(){return this._hasClass("layout-navbar-fixed")||!this.isSmallScreen()&&this.isFixed()&&this.isLayoutNavbarFull()},isFooterFixed(){return this._hasClass("layout-footer-fixed")},isLightStyle(){return document.documentElement.classList.contains("light-style")},on(n=yc("event"),e=yc("callback")){const[t]=n.split(".");let[,...i]=n.split(".");i=i.join(".")||null,this._listeners.push({event:t,namespace:i,callback:e})},off(n=yc("event")){const[e]=n.split(".");let[,...t]=n.split(".");t=t.join(".")||null,this._listeners.filter(i=>i.event===e&&i.namespace===t).forEach(i=>this._listeners.splice(this._listeners.indexOf(i),1))},init(){this._initialized||(this._initialized=!0,this._updateInlineStyle(0),this._bindWindowResizeEvent(),this.off("init._Helpers"),this.on("init._Helpers",()=>{this.off("resize._Helpers:redrawMenu"),this.on("resize._Helpers:redrawMenu",()=>{this.isSmallScreen()&&!this.isCollapsed()&&this._redrawLayoutMenu()}),typeof document.documentMode=="number"&&document.documentMode<11&&(this.off("resize._Helpers:ie10RepaintBody"),this.on("resize._Helpers:ie10RepaintBody",()=>{if(this.isFixed())return;const{scrollTop:n}=document.documentElement;document.body.style.display="none",document.body.style.display="block",document.documentElement.scrollTop=n}))}),this._triggerEvent("init"))},destroy(){!this._initialized||(this._initialized=!1,this._removeClass("layout-transitioning"),this._removeInlineStyle(),this._unbindLayoutAnimationEndEvent(),this._unbindWindowResizeEvent(),this._unbindMenuMouseEvents(),this.setAutoUpdate(!1),this.off("init._Helpers"),this._listeners.filter(n=>n.event!=="init").forEach(n=>this._listeners.splice(this._listeners.indexOf(n),1)))},initPasswordToggle(){const n=document.querySelectorAll(".form-password-toggle i");typeof n<"u"&&n!==null&&n.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const i=e.closest(".form-password-toggle"),r=i.querySelector("i"),a=i.querySelector("input");a.getAttribute("type")==="text"?(a.setAttribute("type","password"),r.classList.replace("bx-show","bx-hide")):a.getAttribute("type")==="password"&&(a.setAttribute("type","text"),r.classList.replace("bx-hide","bx-show"))})})},initSpeechToText(){const n=window.SpeechRecognition||window.webkitSpeechRecognition,e=document.querySelectorAll(".speech-to-text");if(n!=null&&typeof e<"u"&&e!==null){const t=new n;document.querySelectorAll(".speech-to-text i").forEach(r=>{let a=!1;r.addEventListener("click",()=>{r.closest(".input-group").querySelector(".form-control").focus(),t.onspeechstart=()=>{a=!0},a===!1&&t.start(),t.onerror=()=>{a=!1},t.onresult=o=>{r.closest(".input-group").querySelector(".form-control").value=o.results[0][0].transcript},t.onspeechend=()=>{a=!1,t.stop()}})})}},ajaxCall(n){return new Promise((e,t)=>{const i=new XMLHttpRequest;i.open("GET",n),i.onload=()=>i.status===200?e(i.response):t(Error(i.statusText)),i.onerror=r=>t(Error(`Network Error: ${r}`)),i.send()})},initSidebarToggle(){document.querySelectorAll('[data-bs-toggle="sidebar"]').forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-target"),i=e.getAttribute("data-overlay"),r=document.querySelectorAll(".app-overlay");document.querySelectorAll(t).forEach(o=>{o.classList.toggle("show"),typeof i<"u"&&i!==null&&i!==!1&&typeof r<"u"&&(o.classList.contains("show")?r[0].classList.add("show"):r[0].classList.remove("show"),r[0].addEventListener("click",s=>{s.currentTarget.classList.remove("show"),o.classList.remove("show")}))})})})}};typeof window<"u"&&(Cl.init(),Cl.isMobileDevice()&&window.chrome&&document.documentElement.classList.add("layout-menu-100vh"),document.readyState==="complete"?Cl.update():document.addEventListener("DOMContentLoaded",function n(){Cl.update(),document.removeEventListener("DOMContentLoaded",n)}));window.Helpers=Cl;/*!
 * perfect-scrollbar v1.5.3
 * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function io(n){return getComputedStyle(n)}function pa(n,e){for(var t in e){var i=e[t];typeof i=="number"&&(i=i+"px"),n.style[t]=i}return n}function ng(n){var e=document.createElement("div");return e.className=n,e}var c_=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function Sl(n,e){if(!c_)throw new Error("No element matching method supported");return c_.call(n,e)}function th(n){n.remove?n.remove():n.parentNode&&n.parentNode.removeChild(n)}function u_(n,e){return Array.prototype.filter.call(n.children,function(t){return Sl(t,e)})}var or={main:"ps",rtl:"ps__rtl",element:{thumb:function(n){return"ps__thumb-"+n},rail:function(n){return"ps__rail-"+n},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(n){return"ps--active-"+n},scrolling:function(n){return"ps--scrolling-"+n}}},I1={x:null,y:null};function D1(n,e){var t=n.element.classList,i=or.state.scrolling(e);t.contains(i)?clearTimeout(I1[e]):t.add(i)}function A1(n,e){I1[e]=setTimeout(function(){return n.isAlive&&n.element.classList.remove(or.state.scrolling(e))},n.settings.scrollingThreshold)}function Cj(n,e){D1(n,e),A1(n,e)}var bd=function(e){this.element=e,this.handlers={}},M1={isEmpty:{configurable:!0}};bd.prototype.bind=function(e,t){typeof this.handlers[e]>"u"&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)};bd.prototype.unbind=function(e,t){var i=this;this.handlers[e]=this.handlers[e].filter(function(r){return t&&r!==t?!0:(i.element.removeEventListener(e,r,!1),!1)})};bd.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)};M1.isEmpty.get=function(){var n=this;return Object.keys(this.handlers).every(function(e){return n.handlers[e].length===0})};Object.defineProperties(bd.prototype,M1);var Rh=function(){this.eventElements=[]};Rh.prototype.eventElement=function(e){var t=this.eventElements.filter(function(i){return i.element===e})[0];return t||(t=new bd(e),this.eventElements.push(t)),t};Rh.prototype.bind=function(e,t,i){this.eventElement(e).bind(t,i)};Rh.prototype.unbind=function(e,t,i){var r=this.eventElement(e);r.unbind(t,i),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)};Rh.prototype.unbindAll=function(){this.eventElements.forEach(function(e){return e.unbindAll()}),this.eventElements=[]};Rh.prototype.once=function(e,t,i){var r=this.eventElement(e),a=function(o){r.unbind(t,a),i(o)};r.bind(t,a)};function ig(n){if(typeof window.CustomEvent=="function")return new CustomEvent(n);var e=document.createEvent("CustomEvent");return e.initCustomEvent(n,!1,!1,void 0),e}function $g(n,e,t,i,r){i===void 0&&(i=!0),r===void 0&&(r=!1);var a;if(e==="top")a=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(e==="left")a=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");Sj(n,t,a,i,r)}function Sj(n,e,t,i,r){var a=t[0],o=t[1],s=t[2],u=t[3],c=t[4],l=t[5];i===void 0&&(i=!0),r===void 0&&(r=!1);var _=n.element;n.reach[u]=null,_[s]<1&&(n.reach[u]="start"),_[s]>n[a]-n[o]-1&&(n.reach[u]="end"),e&&(_.dispatchEvent(ig("ps-scroll-"+u)),e<0?_.dispatchEvent(ig("ps-scroll-"+c)):e>0&&_.dispatchEvent(ig("ps-scroll-"+l)),i&&Cj(n,u)),n.reach[u]&&(e||r)&&_.dispatchEvent(ig("ps-"+u+"-reach-"+n.reach[u]))}function ji(n){return parseInt(n,10)||0}function _j(n){return Sl(n,"input,[contenteditable]")||Sl(n,"select,[contenteditable]")||Sl(n,"textarea,[contenteditable]")||Sl(n,"button,[contenteditable]")}function xj(n){var e=io(n);return ji(e.width)+ji(e.paddingLeft)+ji(e.paddingRight)+ji(e.borderLeftWidth)+ji(e.borderRightWidth)}var Vu={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function Ho(n){var e=n.element,t=Math.floor(e.scrollTop),i=e.getBoundingClientRect();n.containerWidth=Math.round(i.width),n.containerHeight=Math.round(i.height),n.contentWidth=e.scrollWidth,n.contentHeight=e.scrollHeight,e.contains(n.scrollbarXRail)||(u_(e,or.element.rail("x")).forEach(function(r){return th(r)}),e.appendChild(n.scrollbarXRail)),e.contains(n.scrollbarYRail)||(u_(e,or.element.rail("y")).forEach(function(r){return th(r)}),e.appendChild(n.scrollbarYRail)),!n.settings.suppressScrollX&&n.containerWidth+n.settings.scrollXMarginOffset<n.contentWidth?(n.scrollbarXActive=!0,n.railXWidth=n.containerWidth-n.railXMarginWidth,n.railXRatio=n.containerWidth/n.railXWidth,n.scrollbarXWidth=h_(n,ji(n.railXWidth*n.containerWidth/n.contentWidth)),n.scrollbarXLeft=ji((n.negativeScrollAdjustment+e.scrollLeft)*(n.railXWidth-n.scrollbarXWidth)/(n.contentWidth-n.containerWidth))):n.scrollbarXActive=!1,!n.settings.suppressScrollY&&n.containerHeight+n.settings.scrollYMarginOffset<n.contentHeight?(n.scrollbarYActive=!0,n.railYHeight=n.containerHeight-n.railYMarginHeight,n.railYRatio=n.containerHeight/n.railYHeight,n.scrollbarYHeight=h_(n,ji(n.railYHeight*n.containerHeight/n.contentHeight)),n.scrollbarYTop=ji(t*(n.railYHeight-n.scrollbarYHeight)/(n.contentHeight-n.containerHeight))):n.scrollbarYActive=!1,n.scrollbarXLeft>=n.railXWidth-n.scrollbarXWidth&&(n.scrollbarXLeft=n.railXWidth-n.scrollbarXWidth),n.scrollbarYTop>=n.railYHeight-n.scrollbarYHeight&&(n.scrollbarYTop=n.railYHeight-n.scrollbarYHeight),Ej(e,n),n.scrollbarXActive?e.classList.add(or.state.active("x")):(e.classList.remove(or.state.active("x")),n.scrollbarXWidth=0,n.scrollbarXLeft=0,e.scrollLeft=n.isRtl===!0?n.contentWidth:0),n.scrollbarYActive?e.classList.add(or.state.active("y")):(e.classList.remove(or.state.active("y")),n.scrollbarYHeight=0,n.scrollbarYTop=0,e.scrollTop=0)}function h_(n,e){return n.settings.minScrollbarLength&&(e=Math.max(e,n.settings.minScrollbarLength)),n.settings.maxScrollbarLength&&(e=Math.min(e,n.settings.maxScrollbarLength)),e}function Ej(n,e){var t={width:e.railXWidth},i=Math.floor(n.scrollTop);e.isRtl?t.left=e.negativeScrollAdjustment+n.scrollLeft+e.containerWidth-e.contentWidth:t.left=n.scrollLeft,e.isScrollbarXUsingBottom?t.bottom=e.scrollbarXBottom-i:t.top=e.scrollbarXTop+i,pa(e.scrollbarXRail,t);var r={top:i,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?r.right=e.contentWidth-(e.negativeScrollAdjustment+n.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:r.right=e.scrollbarYRight-n.scrollLeft:e.isRtl?r.left=e.negativeScrollAdjustment+n.scrollLeft+e.containerWidth*2-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:r.left=e.scrollbarYLeft+n.scrollLeft,pa(e.scrollbarYRail,r),pa(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),pa(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}function Tj(n){n.element,n.event.bind(n.scrollbarY,"mousedown",function(e){return e.stopPropagation()}),n.event.bind(n.scrollbarYRail,"mousedown",function(e){var t=e.pageY-window.pageYOffset-n.scrollbarYRail.getBoundingClientRect().top,i=t>n.scrollbarYTop?1:-1;n.element.scrollTop+=i*n.containerHeight,Ho(n),e.stopPropagation()}),n.event.bind(n.scrollbarX,"mousedown",function(e){return e.stopPropagation()}),n.event.bind(n.scrollbarXRail,"mousedown",function(e){var t=e.pageX-window.pageXOffset-n.scrollbarXRail.getBoundingClientRect().left,i=t>n.scrollbarXLeft?1:-1;n.element.scrollLeft+=i*n.containerWidth,Ho(n),e.stopPropagation()})}function Ij(n){f_(n,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),f_(n,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function f_(n,e){var t=e[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=e[8],_=n.element,I=null,M=null,P=null;function N(v){v.touches&&v.touches[0]&&(v[r]=v.touches[0].pageY),_[u]=I+P*(v[r]-M),D1(n,c),Ho(n),v.stopPropagation(),v.type.startsWith("touch")&&v.changedTouches.length>1&&v.preventDefault()}function b(){A1(n,c),n[l].classList.remove(or.state.clicking),n.event.unbind(n.ownerDocument,"mousemove",N)}function f(v,m){I=_[u],m&&v.touches&&(v[r]=v.touches[0].pageY),M=v[r],P=(n[i]-n[t])/(n[a]-n[s]),m?n.event.bind(n.ownerDocument,"touchmove",N):(n.event.bind(n.ownerDocument,"mousemove",N),n.event.once(n.ownerDocument,"mouseup",b),v.preventDefault()),n[l].classList.add(or.state.clicking),v.stopPropagation()}n.event.bind(n[o],"mousedown",function(v){f(v)}),n.event.bind(n[o],"touchstart",function(v){f(v,!0)})}function Dj(n){var e=n.element,t=function(){return Sl(e,":hover")},i=function(){return Sl(n.scrollbarX,":focus")||Sl(n.scrollbarY,":focus")};function r(a,o){var s=Math.floor(e.scrollTop);if(a===0){if(!n.scrollbarYActive)return!1;if(s===0&&o>0||s>=n.contentHeight-n.containerHeight&&o<0)return!n.settings.wheelPropagation}var u=e.scrollLeft;if(o===0){if(!n.scrollbarXActive)return!1;if(u===0&&a<0||u>=n.contentWidth-n.containerWidth&&a>0)return!n.settings.wheelPropagation}return!0}n.event.bind(n.ownerDocument,"keydown",function(a){if(!(a.isDefaultPrevented&&a.isDefaultPrevented()||a.defaultPrevented)&&!(!t()&&!i())){var o=document.activeElement?document.activeElement:n.ownerDocument.activeElement;if(o){if(o.tagName==="IFRAME")o=o.contentDocument.activeElement;else for(;o.shadowRoot;)o=o.shadowRoot.activeElement;if(_j(o))return}var s=0,u=0;switch(a.which){case 37:a.metaKey?s=-n.contentWidth:a.altKey?s=-n.containerWidth:s=-30;break;case 38:a.metaKey?u=n.contentHeight:a.altKey?u=n.containerHeight:u=30;break;case 39:a.metaKey?s=n.contentWidth:a.altKey?s=n.containerWidth:s=30;break;case 40:a.metaKey?u=-n.contentHeight:a.altKey?u=-n.containerHeight:u=-30;break;case 32:a.shiftKey?u=n.containerHeight:u=-n.containerHeight;break;case 33:u=n.containerHeight;break;case 34:u=-n.containerHeight;break;case 36:u=n.contentHeight;break;case 35:u=-n.contentHeight;break;default:return}n.settings.suppressScrollX&&s!==0||n.settings.suppressScrollY&&u!==0||(e.scrollTop-=u,e.scrollLeft+=s,Ho(n),r(s,u)&&a.preventDefault())}})}function Aj(n){var e=n.element;function t(o,s){var u=Math.floor(e.scrollTop),c=e.scrollTop===0,l=u+e.offsetHeight===e.scrollHeight,_=e.scrollLeft===0,I=e.scrollLeft+e.offsetWidth===e.scrollWidth,M;return Math.abs(s)>Math.abs(o)?M=c||l:M=_||I,M?!n.settings.wheelPropagation:!0}function i(o){var s=o.deltaX,u=-1*o.deltaY;return(typeof s>"u"||typeof u>"u")&&(s=-1*o.wheelDeltaX/6,u=o.wheelDeltaY/6),o.deltaMode&&o.deltaMode===1&&(s*=10,u*=10),s!==s&&u!==u&&(s=0,u=o.wheelDelta),o.shiftKey?[-u,-s]:[s,u]}function r(o,s,u){if(!Vu.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(o))return!1;for(var c=o;c&&c!==e;){if(c.classList.contains(or.element.consuming))return!0;var l=io(c);if(u&&l.overflowY.match(/(scroll|auto)/)){var _=c.scrollHeight-c.clientHeight;if(_>0&&(c.scrollTop>0&&u<0||c.scrollTop<_&&u>0))return!0}if(s&&l.overflowX.match(/(scroll|auto)/)){var I=c.scrollWidth-c.clientWidth;if(I>0&&(c.scrollLeft>0&&s<0||c.scrollLeft<I&&s>0))return!0}c=c.parentNode}return!1}function a(o){var s=i(o),u=s[0],c=s[1];if(!r(o.target,u,c)){var l=!1;n.settings.useBothWheelAxes?n.scrollbarYActive&&!n.scrollbarXActive?(c?e.scrollTop-=c*n.settings.wheelSpeed:e.scrollTop+=u*n.settings.wheelSpeed,l=!0):n.scrollbarXActive&&!n.scrollbarYActive&&(u?e.scrollLeft+=u*n.settings.wheelSpeed:e.scrollLeft-=c*n.settings.wheelSpeed,l=!0):(e.scrollTop-=c*n.settings.wheelSpeed,e.scrollLeft+=u*n.settings.wheelSpeed),Ho(n),l=l||t(u,c),l&&!o.ctrlKey&&(o.stopPropagation(),o.preventDefault())}}typeof window.onwheel<"u"?n.event.bind(e,"wheel",a):typeof window.onmousewheel<"u"&&n.event.bind(e,"mousewheel",a)}function Mj(n){if(!Vu.supportsTouch&&!Vu.supportsIePointer)return;var e=n.element;function t(P,N){var b=Math.floor(e.scrollTop),f=e.scrollLeft,v=Math.abs(P),m=Math.abs(N);if(m>v){if(N<0&&b===n.contentHeight-n.containerHeight||N>0&&b===0)return window.scrollY===0&&N>0&&Vu.isChrome}else if(v>m&&(P<0&&f===n.contentWidth-n.containerWidth||P>0&&f===0))return!0;return!0}function i(P,N){e.scrollTop-=N,e.scrollLeft-=P,Ho(n)}var r={},a=0,o={},s=null;function u(P){return P.targetTouches?P.targetTouches[0]:P}function c(P){return P.pointerType&&P.pointerType==="pen"&&P.buttons===0?!1:!!(P.targetTouches&&P.targetTouches.length===1||P.pointerType&&P.pointerType!=="mouse"&&P.pointerType!==P.MSPOINTER_TYPE_MOUSE)}function l(P){if(!!c(P)){var N=u(P);r.pageX=N.pageX,r.pageY=N.pageY,a=new Date().getTime(),s!==null&&clearInterval(s)}}function _(P,N,b){if(!e.contains(P))return!1;for(var f=P;f&&f!==e;){if(f.classList.contains(or.element.consuming))return!0;var v=io(f);if(b&&v.overflowY.match(/(scroll|auto)/)){var m=f.scrollHeight-f.clientHeight;if(m>0&&(f.scrollTop>0&&b<0||f.scrollTop<m&&b>0))return!0}if(N&&v.overflowX.match(/(scroll|auto)/)){var d=f.scrollWidth-f.clientWidth;if(d>0&&(f.scrollLeft>0&&N<0||f.scrollLeft<d&&N>0))return!0}f=f.parentNode}return!1}function I(P){if(c(P)){var N=u(P),b={pageX:N.pageX,pageY:N.pageY},f=b.pageX-r.pageX,v=b.pageY-r.pageY;if(_(P.target,f,v))return;i(f,v),r=b;var m=new Date().getTime(),d=m-a;d>0&&(o.x=f/d,o.y=v/d,a=m),t(f,v)&&P.preventDefault()}}function M(){n.settings.swipeEasing&&(clearInterval(s),s=setInterval(function(){if(n.isInitialized){clearInterval(s);return}if(!o.x&&!o.y){clearInterval(s);return}if(Math.abs(o.x)<.01&&Math.abs(o.y)<.01){clearInterval(s);return}if(!n.element){clearInterval(s);return}i(o.x*30,o.y*30),o.x*=.8,o.y*=.8},10))}Vu.supportsTouch?(n.event.bind(e,"touchstart",l),n.event.bind(e,"touchmove",I),n.event.bind(e,"touchend",M)):Vu.supportsIePointer&&(window.PointerEvent?(n.event.bind(e,"pointerdown",l),n.event.bind(e,"pointermove",I),n.event.bind(e,"pointerup",M)):window.MSPointerEvent&&(n.event.bind(e,"MSPointerDown",l),n.event.bind(e,"MSPointerMove",I),n.event.bind(e,"MSPointerUp",M)))}var Oj=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},kj={"click-rail":Tj,"drag-thumb":Ij,keyboard:Dj,wheel:Aj,touch:Mj},wd=function(e,t){var i=this;if(t===void 0&&(t={}),typeof e=="string"&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=e,e.classList.add(or.main),this.settings=Oj();for(var r in t)this.settings[r]=t[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var a=function(){return e.classList.add(or.state.focus)},o=function(){return e.classList.remove(or.state.focus)};this.isRtl=io(e).direction==="rtl",this.isRtl===!0&&e.classList.add(or.rtl),this.isNegativeScroll=function(){var c=e.scrollLeft,l=null;return e.scrollLeft=-1,l=e.scrollLeft<0,e.scrollLeft=c,l}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new Rh,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=ng(or.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=ng(or.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",a),this.event.bind(this.scrollbarX,"blur",o),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var s=io(this.scrollbarXRail);this.scrollbarXBottom=parseInt(s.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=ji(s.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=ji(s.borderLeftWidth)+ji(s.borderRightWidth),pa(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=ji(s.marginLeft)+ji(s.marginRight),pa(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=ng(or.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=ng(or.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",a),this.event.bind(this.scrollbarY,"blur",o),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var u=io(this.scrollbarYRail);this.scrollbarYRight=parseInt(u.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=ji(u.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?xj(this.scrollbarY):null,this.railBorderYWidth=ji(u.borderTopWidth)+ji(u.borderBottomWidth),pa(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=ji(u.marginTop)+ji(u.marginBottom),pa(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(c){return kj[c](i)}),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",function(c){return i.onScroll(c)}),Ho(this)};wd.prototype.update=function(){!this.isAlive||(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,pa(this.scrollbarXRail,{display:"block"}),pa(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=ji(io(this.scrollbarXRail).marginLeft)+ji(io(this.scrollbarXRail).marginRight),this.railYMarginHeight=ji(io(this.scrollbarYRail).marginTop)+ji(io(this.scrollbarYRail).marginBottom),pa(this.scrollbarXRail,{display:"none"}),pa(this.scrollbarYRail,{display:"none"}),Ho(this),$g(this,"top",0,!1,!0),$g(this,"left",0,!1,!0),pa(this.scrollbarXRail,{display:""}),pa(this.scrollbarYRail,{display:""}))};wd.prototype.onScroll=function(e){!this.isAlive||(Ho(this),$g(this,"top",this.element.scrollTop-this.lastScrollTop),$g(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)};wd.prototype.destroy=function(){!this.isAlive||(this.event.unbindAll(),th(this.scrollbarX),th(this.scrollbarY),th(this.scrollbarXRail),th(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)};wd.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(e){return!e.match(/^ps([-_].+|)$/)}).join(" ")};window.PerfectScrollbar=wd;const d_=["transitionend","webkitTransitionEnd","oTransitionEnd"];class Yn{constructor(e,t={},i=null){this._el=e,this._animate=t.animate!==!1,this._accordion=t.accordion!==!1,this._closeChildren=Boolean(t.closeChildren),this._onOpen=t.onOpen||(()=>{}),this._onOpened=t.onOpened||(()=>{}),this._onClose=t.onClose||(()=>{}),this._onClosed=t.onClosed||(()=>{}),this._psScroll=null,this._topParent=null,this._menuBgClass=null,e.classList.add("menu"),e.classList[this._animate?"remove":"add"]("menu-no-animation"),e.classList.add("menu-vertical");const r=i||window.PerfectScrollbar;r?(this._scrollbar=new r(e.querySelector(".menu-inner"),{suppressScrollX:!0,wheelPropagation:!Yn._hasClass("layout-menu-fixed layout-menu-fixed-offcanvas")}),window.Helpers.menuPsScroll=this._scrollbar):e.querySelector(".menu-inner").classList.add("overflow-auto");const a=e.classList;for(let o=0;o<a.length;o++)a[o].startsWith("bg-")&&(this._menuBgClass=a[o]);e.setAttribute("data-bg-class",this._menuBgClass),this._bindEvents(),e.menuInstance=this}_bindEvents(){this._evntElClick=e=>{if(e.target.closest("ul")&&e.target.closest("ul").classList.contains("menu-inner")){const i=Yn._findParent(e.target,"menu-item",!1);i&&(this._topParent=i.childNodes[0])}const t=e.target.classList.contains("menu-toggle")?e.target:Yn._findParent(e.target,"menu-toggle",!1);t&&(e.preventDefault(),t.getAttribute("data-hover")!=="true"&&this.toggle(t))},window.Helpers.isMobileDevice&&this._el.addEventListener("click",this._evntElClick),this._evntWindowResize=()=>{this.update(),this._lastWidth!==window.innerWidth&&(this._lastWidth=window.innerWidth,this.update());const e=document.querySelector("[data-template^='horizontal-menu']");!this._horizontal&&!e&&this.manageScroll()},window.addEventListener("resize",this._evntWindowResize)}static childOf(e,t){if(e.parentNode){for(;(e=e.parentNode)&&e!==t;);return!!e}return!1}_unbindEvents(){this._evntElClick&&(this._el.removeEventListener("click",this._evntElClick),this._evntElClick=null),this._evntElMouseOver&&(this._el.removeEventListener("mouseover",this._evntElMouseOver),this._evntElMouseOver=null),this._evntElMouseOut&&(this._el.removeEventListener("mouseout",this._evntElMouseOut),this._evntElMouseOut=null),this._evntWindowResize&&(window.removeEventListener("resize",this._evntWindowResize),this._evntWindowResize=null),this._evntBodyClick&&(document.body.removeEventListener("click",this._evntBodyClick),this._evntBodyClick=null),this._evntInnerMousemove&&(this._inner.removeEventListener("mousemove",this._evntInnerMousemove),this._evntInnerMousemove=null),this._evntInnerMouseleave&&(this._inner.removeEventListener("mouseleave",this._evntInnerMouseleave),this._evntInnerMouseleave=null)}static _isRoot(e){return!Yn._findParent(e,"menu-item",!1)}static _findParent(e,t,i=!0){if(e.tagName.toUpperCase()==="BODY")return null;for(e=e.parentNode;e.tagName.toUpperCase()!=="BODY"&&!e.classList.contains(t);)e=e.parentNode;if(e=e.tagName.toUpperCase()!=="BODY"?e:null,!e&&i)throw new Error(`Cannot find \`.${t}\` parent element`);return e}static _findChild(e,t){const i=e.childNodes,r=[];for(let a=0,o=i.length;a<o;a++)if(i[a].classList){let s=0;for(let u=0;u<t.length;u++)i[a].classList.contains(t[u])&&(s+=1);t.length===s&&r.push(i[a])}return r}static _findMenu(e){let t=e.childNodes[0],i=null;for(;t&&!i;)t.classList&&t.classList.contains("menu-sub")&&(i=t),t=t.nextSibling;if(!i)throw new Error("Cannot find `.menu-sub` element for the current `.menu-toggle`");return i}static _hasClass(e,t=window.Helpers.ROOT_EL){let i=!1;return e.split(" ").forEach(r=>{t.classList.contains(r)&&(i=!0)}),i}open(e,t=this._closeChildren){const i=this._findUnopenedParent(Yn._getItem(e,!0),t);if(!i)return;const r=Yn._getLink(i,!0);Yn._promisify(this._onOpen,this,i,r,Yn._findMenu(i)).then(()=>{!this._horizontal||!Yn._isRoot(i)?this._animate&&!this._horizontal?(window.requestAnimationFrame(()=>this._toggleAnimation(!0,i,!1)),this._accordion&&this._closeOther(i,t)):this._animate?this._onOpened&&this._onOpened(this,i,r,Yn._findMenu(i)):(i.classList.add("open"),this._onOpened&&this._onOpened(this,i,r,Yn._findMenu(i)),this._accordion&&this._closeOther(i,t)):this._onOpened&&this._onOpened(this,i,r,Yn._findMenu(i))}).catch(()=>{})}close(e,t=this._closeChildren,i=!1){const r=Yn._getItem(e,!0),a=Yn._getLink(e,!0);!r.classList.contains("open")||r.classList.contains("disabled")||Yn._promisify(this._onClose,this,r,a,Yn._findMenu(r),i).then(()=>{if(!this._horizontal||!Yn._isRoot(r))if(this._animate&&!this._horizontal)window.requestAnimationFrame(()=>this._toggleAnimation(!1,r,t));else{if(r.classList.remove("open"),t){const o=r.querySelectorAll(".menu-item.open");for(let s=0,u=o.length;s<u;s++)o[s].classList.remove("open")}this._onClosed&&this._onClosed(this,r,a,Yn._findMenu(r))}else this._onClosed&&this._onClosed(this,r,a,Yn._findMenu(r))}).catch(()=>{})}_closeOther(e,t){const i=Yn._findChild(e.parentNode,["menu-item","open"]);for(let r=0,a=i.length;r<a;r++)i[r]!==e&&this.close(i[r],t)}toggle(e,t=this._closeChildren){const i=Yn._getItem(e,!0);i.classList.contains("open")?this.close(i,t):this.open(i,t)}static _getItem(e,t){let i=null;const r=t?"menu-toggle":"menu-link";if(e.classList.contains("menu-item")?Yn._findChild(e,[r]).length&&(i=e):e.classList.contains(r)&&(i=e.parentNode.classList.contains("menu-item")?e.parentNode:null),!i)throw new Error(`${t?"Toggable ":""}\`.menu-item\` element not found.`);return i}static _getLink(e,t){let i=[];const r=t?"menu-toggle":"menu-link";if(e.classList.contains(r)?i=[e]:e.classList.contains("menu-item")&&(i=Yn._findChild(e,[r])),!i.length)throw new Error(`\`${r}\` element not found.`);return i[0]}_findUnopenedParent(e,t){let i=[],r=null;for(;e;)e.classList.contains("disabled")?(r=null,i=[]):(e.classList.contains("open")||(r=e),i.push(e)),e=Yn._findParent(e,"menu-item",!1);if(!r)return null;if(i.length===1)return r;i=i.slice(0,i.indexOf(r));for(let a=0,o=i.length;a<o;a++)if(i[a].classList.add("open"),this._accordion){const s=Yn._findChild(i[a].parentNode,["menu-item","open"]);for(let u=0,c=s.length;u<c;u++)if(s[u]!==i[a]&&(s[u].classList.remove("open"),t)){const l=s[u].querySelectorAll(".menu-item.open");for(let _=0,I=l.length;_<I;_++)l[_].classList.remove("open")}}return r}_toggleAnimation(e,t,i){const r=Yn._getLink(t,!0),a=Yn._findMenu(t);Yn._unbindAnimationEndEvent(t);const o=Math.round(r.getBoundingClientRect().height);t.style.overflow="hidden";const s=()=>{t.classList.remove("menu-item-animating"),t.classList.remove("menu-item-closing"),t.style.overflow=null,t.style.height=null,this.update()};e?(t.style.height=`${o}px`,t.classList.add("menu-item-animating"),t.classList.add("open"),Yn._bindAnimationEndEvent(t,()=>{s(),this._onOpened(this,t,r,a)}),setTimeout(()=>{t.style.height=`${o+Math.round(a.getBoundingClientRect().height)}px`},50)):(t.style.height=`${o+Math.round(a.getBoundingClientRect().height)}px`,t.classList.add("menu-item-animating"),t.classList.add("menu-item-closing"),Yn._bindAnimationEndEvent(t,()=>{if(t.classList.remove("open"),s(),i){const u=t.querySelectorAll(".menu-item.open");for(let c=0,l=u.length;c<l;c++)u[c].classList.remove("open")}this._onClosed(this,t,r,a)}),setTimeout(()=>{t.style.height=`${o}px`},50))}static _bindAnimationEndEvent(e,t){const i=a=>{a.target===e&&(Yn._unbindAnimationEndEvent(e),t(a))};let r=window.getComputedStyle(e).transitionDuration;r=parseFloat(r)*(r.indexOf("ms")!==-1?1:1e3),e._menuAnimationEndEventCb=i,d_.forEach(a=>e.addEventListener(a,e._menuAnimationEndEventCb,!1)),e._menuAnimationEndEventTimeout=setTimeout(()=>{i({target:e})},r+50)}_getItemOffset(e){let t=this._inner.childNodes[0],i=0;for(;t!==e;)t.tagName&&(i+=Math.round(t.getBoundingClientRect().width)),t=t.nextSibling;return i}static _promisify(e,...t){const i=e(...t);return i instanceof Promise?i:i===!1?Promise.reject():Promise.resolve()}get _innerWidth(){const e=this._inner.childNodes;let t=0;for(let i=0,r=e.length;i<r;i++)e[i].tagName&&(t+=Math.round(e[i].getBoundingClientRect().width));return t}get _innerPosition(){return parseInt(this._inner.style[this._rtl?"marginRight":"marginLeft"]||"0px",10)}set _innerPosition(e){return this._inner.style[this._rtl?"marginRight":"marginLeft"]=`${e}px`,e}static _unbindAnimationEndEvent(e){const t=e._menuAnimationEndEventCb;e._menuAnimationEndEventTimeout&&(clearTimeout(e._menuAnimationEndEventTimeout),e._menuAnimationEndEventTimeout=null),t&&(d_.forEach(i=>e.removeEventListener(i,t,!1)),e._menuAnimationEndEventCb=null)}closeAll(e=this._closeChildren){const t=this._el.querySelectorAll(".menu-inner > .menu-item.open");for(let i=0,r=t.length;i<r;i++)this.close(t[i],e)}static setDisabled(e,t){Yn._getItem(e,!1).classList[t?"add":"remove"]("disabled")}static isActive(e){return Yn._getItem(e,!1).classList.contains("active")}static isOpened(e){return Yn._getItem(e,!1).classList.contains("open")}static isDisabled(e){return Yn._getItem(e,!1).classList.contains("disabled")}update(){this._scrollbar&&this._scrollbar.update()}manageScroll(){const{PerfectScrollbar:e}=window,t=document.querySelector(".menu-inner");if(window.innerWidth<window.Helpers.LAYOUT_BREAKPOINT)this._scrollbar!==null&&(this._scrollbar.destroy(),this._scrollbar=null),t.classList.add("overflow-auto");else{if(this._scrollbar===null){const i=new e(document.querySelector(".menu-inner"),{suppressScrollX:!0,wheelPropagation:!1});this._scrollbar=i}t.classList.remove("overflow-auto")}}destroy(){if(!this._el)return;this._unbindEvents();const e=this._el.querySelectorAll(".menu-item");for(let i=0,r=e.length;i<r;i++)Yn._unbindAnimationEndEvent(e[i]),e[i].classList.remove("menu-item-animating"),e[i].classList.remove("open"),e[i].style.overflow=null,e[i].style.height=null;const t=this._el.querySelectorAll(".menu-menu");for(let i=0,r=t.length;i<r;i++)t[i].style.marginRight=null,t[i].style.marginLeft=null;this._el.classList.remove("menu-no-animation"),this._wrapper&&(this._prevBtn.parentNode.removeChild(this._prevBtn),this._nextBtn.parentNode.removeChild(this._nextBtn),this._wrapper.parentNode.insertBefore(this._inner,this._wrapper),this._wrapper.parentNode.removeChild(this._wrapper),this._inner.style.marginLeft=null,this._inner.style.marginRight=null),this._el.menuInstance=null,delete this._el.menuInstance,this._el=null,this._animate=null,this._accordion=null,this._closeChildren=null,this._onOpen=null,this._onOpened=null,this._onClose=null,this._onClosed=null,this._scrollbar&&(this._scrollbar.destroy(),this._scrollbar=null),this._inner=null,this._prevBtn=null,this._wrapper=null,this._nextBtn=null}}window.Menu=Yn;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ss=function(){return ss=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ss.apply(this,arguments)},Pj=function(){function n(e){this.options=e,this.listeners={}}return n.prototype.on=function(e,t){var i=this.listeners[e]||[];this.listeners[e]=i.concat([t])},n.prototype.triggerEvent=function(e,t){var i=this,r=this.listeners[e]||[];r.forEach(function(a){return a({target:i,event:t})})},n}(),Ch;(function(n){n[n.Add=0]="Add",n[n.Remove=1]="Remove"})(Ch||(Ch={}));var Lj=function(){function n(){this.notifications=[]}return n.prototype.push=function(e){this.notifications.push(e),this.updateFn(e,Ch.Add,this.notifications)},n.prototype.splice=function(e,t){var i=this.notifications.splice(e,t)[0];return this.updateFn(i,Ch.Remove,this.notifications),i},n.prototype.indexOf=function(e){return this.notifications.indexOf(e)},n.prototype.onUpdate=function(e){this.updateFn=e},n}(),_l;(function(n){n.Dismiss="dismiss",n.Click="click"})(_l||(_l={}));var p_={types:[{type:"success",className:"notyf__toast--success",backgroundColor:"#3dc763",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"error",className:"notyf__toast--error",backgroundColor:"#ed3d3d",icon:{className:"notyf__icon--error",tagName:"i"}}],duration:2e3,ripple:!0,position:{x:"right",y:"bottom"},dismissible:!1},Rj=function(){function n(){this.notifications=[],this.events={},this.X_POSITION_FLEX_MAP={left:"flex-start",center:"center",right:"flex-end"},this.Y_POSITION_FLEX_MAP={top:"flex-start",center:"center",bottom:"flex-end"};var e=document.createDocumentFragment(),t=this._createHTMLElement({tagName:"div",className:"notyf"});e.appendChild(t),document.body.appendChild(e),this.container=t,this.animationEndEventName=this._getAnimationEndEventName(),this._createA11yContainer()}return n.prototype.on=function(e,t){var i;this.events=ss(ss({},this.events),(i={},i[e]=t,i))},n.prototype.update=function(e,t){t===Ch.Add?this.addNotification(e):t===Ch.Remove&&this.removeNotification(e)},n.prototype.removeNotification=function(e){var t=this,i=this._popRenderedNotification(e),r;if(!!i){r=i.node,r.classList.add("notyf__toast--disappear");var a;r.addEventListener(this.animationEndEventName,a=function(o){o.target===r&&(r.removeEventListener(t.animationEndEventName,a),t.container.removeChild(r))})}},n.prototype.addNotification=function(e){var t=this._renderNotification(e);this.notifications.push({notification:e,node:t}),this._announce(e.options.message||"Notification")},n.prototype._renderNotification=function(e){var t,i=this._buildNotificationCard(e),r=e.options.className;return r&&(t=i.classList).add.apply(t,r.split(" ")),this.container.appendChild(i),i},n.prototype._popRenderedNotification=function(e){for(var t=-1,i=0;i<this.notifications.length&&t<0;i++)this.notifications[i].notification===e&&(t=i);if(t!==-1)return this.notifications.splice(t,1)[0]},n.prototype.getXPosition=function(e){var t;return((t=e==null?void 0:e.position)===null||t===void 0?void 0:t.x)||"right"},n.prototype.getYPosition=function(e){var t;return((t=e==null?void 0:e.position)===null||t===void 0?void 0:t.y)||"bottom"},n.prototype.adjustContainerAlignment=function(e){var t=this.X_POSITION_FLEX_MAP[this.getXPosition(e)],i=this.Y_POSITION_FLEX_MAP[this.getYPosition(e)],r=this.container.style;r.setProperty("justify-content",i),r.setProperty("align-items",t)},n.prototype._buildNotificationCard=function(e){var t=this,i=e.options,r=i.icon;this.adjustContainerAlignment(i);var a=this._createHTMLElement({tagName:"div",className:"notyf__toast"}),o=this._createHTMLElement({tagName:"div",className:"notyf__ripple"}),s=this._createHTMLElement({tagName:"div",className:"notyf__wrapper"}),u=this._createHTMLElement({tagName:"div",className:"notyf__message"});u.innerHTML=i.message||"";var c=i.background||i.backgroundColor;if(r){var l=this._createHTMLElement({tagName:"div",className:"notyf__icon"});if((typeof r=="string"||r instanceof String)&&(l.innerHTML=new String(r).valueOf()),typeof r=="object"){var _=r.tagName,I=_===void 0?"i":_,M=r.className,P=r.text,N=r.color,b=N===void 0?c:N,f=this._createHTMLElement({tagName:I,className:M,text:P});b&&(f.style.color=b),l.appendChild(f)}s.appendChild(l)}if(s.appendChild(u),a.appendChild(s),c&&(i.ripple?(o.style.background=c,a.appendChild(o)):a.style.background=c),i.dismissible){var v=this._createHTMLElement({tagName:"div",className:"notyf__dismiss"}),m=this._createHTMLElement({tagName:"button",className:"notyf__dismiss-btn"});v.appendChild(m),s.appendChild(v),a.classList.add("notyf__toast--dismissible"),m.addEventListener("click",function(g){var h,C;(C=(h=t.events)[_l.Dismiss])===null||C===void 0||C.call(h,{target:e,event:g}),g.stopPropagation()})}a.addEventListener("click",function(g){var h,C;return(C=(h=t.events)[_l.Click])===null||C===void 0?void 0:C.call(h,{target:e,event:g})});var d=this.getYPosition(i)==="top"?"upper":"lower";return a.classList.add("notyf__toast--"+d),a},n.prototype._createHTMLElement=function(e){var t=e.tagName,i=e.className,r=e.text,a=document.createElement(t);return i&&(a.className=i),a.textContent=r||null,a},n.prototype._createA11yContainer=function(){var e=this._createHTMLElement({tagName:"div",className:"notyf-announcer"});e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),e.style.border="0",e.style.clip="rect(0 0 0 0)",e.style.height="1px",e.style.margin="-1px",e.style.overflow="hidden",e.style.padding="0",e.style.position="absolute",e.style.width="1px",e.style.outline="0",document.body.appendChild(e),this.a11yContainer=e},n.prototype._announce=function(e){var t=this;this.a11yContainer.textContent="",setTimeout(function(){t.a11yContainer.textContent=e},100)},n.prototype._getAnimationEndEventName=function(){var e=document.createElement("_fake"),t={MozTransition:"animationend",OTransition:"oAnimationEnd",WebkitTransition:"webkitAnimationEnd",transition:"animationend"},i;for(i in t)if(e.style[i]!==void 0)return t[i];return"animationend"},n}(),Nj=function(){function n(e){var t=this;this.dismiss=this._removeNotification,this.notifications=new Lj,this.view=new Rj;var i=this.registerTypes(e);this.options=ss(ss({},p_),e),this.options.types=i,this.notifications.onUpdate(function(r,a){return t.view.update(r,a)}),this.view.on(_l.Dismiss,function(r){var a=r.target,o=r.event;t._removeNotification(a),a.triggerEvent(_l.Dismiss,o)}),this.view.on(_l.Click,function(r){var a=r.target,o=r.event;return a.triggerEvent(_l.Click,o)})}return n.prototype.error=function(e){var t=this.normalizeOptions("error",e);return this.open(t)},n.prototype.success=function(e){var t=this.normalizeOptions("success",e);return this.open(t)},n.prototype.open=function(e){var t=this.options.types.find(function(a){var o=a.type;return o===e.type})||{},i=ss(ss({},t),e);this.assignProps(["ripple","position","dismissible"],i);var r=new Pj(i);return this._pushNotification(r),r},n.prototype.dismissAll=function(){for(;this.notifications.splice(0,1););},n.prototype.assignProps=function(e,t){var i=this;e.forEach(function(r){t[r]=t[r]==null?i.options[r]:t[r]})},n.prototype._pushNotification=function(e){var t=this;this.notifications.push(e);var i=e.options.duration!==void 0?e.options.duration:this.options.duration;i&&setTimeout(function(){return t._removeNotification(e)},i)},n.prototype._removeNotification=function(e){var t=this.notifications.indexOf(e);t!==-1&&this.notifications.splice(t,1)},n.prototype.normalizeOptions=function(e,t){var i={type:e};return typeof t=="string"?i.message=t:typeof t=="object"&&(i=ss(ss({},i),t)),i},n.prototype.registerTypes=function(e){var t=(e&&e.types||[]).slice(),i=p_.types.map(function(r){var a=-1;t.forEach(function(s,u){s.type===r.type&&(a=u)});var o=a!==-1?t.splice(a,1)[0]:{};return ss(ss({},r),o)});return i.concat(t)},n}(),g_=O1;function O1(){var n=[].slice.call(arguments),e=!1;typeof n[0]=="boolean"&&(e=n.shift());var t=n[0];if(v_(t))throw new Error("extendee must be an object");for(var i=n.slice(1),r=i.length,a=0;a<r;a++){var o=i[a];for(var s in o)if(Object.prototype.hasOwnProperty.call(o,s)){var u=o[s];if(e&&Fj(u)){var c=Array.isArray(u)?[]:{};t[s]=O1(!0,Object.prototype.hasOwnProperty.call(t,s)&&!v_(t[s])?t[s]:c,u)}else t[s]=u}}return t}function Fj(n){return Array.isArray(n)||{}.toString.call(n)=="[object Object]"}function v_(n){return!n||typeof n!="object"&&typeof n!="function"}function jj(n){return n&&n.__esModule?n.default:n}class m_{on(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}emit(e,...t){this._callbacks=this._callbacks||{};let i=this._callbacks[e];if(i)for(let r of i)r.apply(this,t);return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+e,{args:t})),this}makeEvent(e,t){let i={bubbles:!0,cancelable:!0,detail:t};if(typeof window.CustomEvent=="function")return new CustomEvent(e,i);var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,i.bubbles,i.cancelable,i.detail),r}off(e,t){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;let i=this._callbacks[e];if(!i)return this;if(arguments.length===1)return delete this._callbacks[e],this;for(let r=0;r<i.length;r++)if(i[r]===t){i.splice(r,1);break}return this}}var k1={};k1=`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail=""></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size=""></span></div>
    <div class="dz-filename"><span data-dz-name=""></span></div>
  </div>
  <div class="dz-progress">
    <span class="dz-upload" data-dz-uploadprogress=""></span>
  </div>
  <div class="dz-error-message"><span data-dz-errormessage=""></span></div>
  <div class="dz-success-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M10.2071 29.7929L14.2929 25.7071C14.6834 25.3166 15.3166 25.3166 15.7071 25.7071L21.2929 31.2929C21.6834 31.6834 22.3166 31.6834 22.7071 31.2929L38.2929 15.7071C38.6834 15.3166 39.3166 15.3166 39.7071 15.7071L43.7929 19.7929C44.1834 20.1834 44.1834 20.8166 43.7929 21.2071L22.7071 42.2929C22.3166 42.6834 21.6834 42.6834 21.2929 42.2929L10.2071 31.2071C9.81658 30.8166 9.81658 30.1834 10.2071 29.7929Z"></path>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M26.2929 20.2929L19.2071 13.2071C18.8166 12.8166 18.1834 12.8166 17.7929 13.2071L13.2071 17.7929C12.8166 18.1834 12.8166 18.8166 13.2071 19.2071L20.2929 26.2929C20.6834 26.6834 20.6834 27.3166 20.2929 27.7071L13.2071 34.7929C12.8166 35.1834 12.8166 35.8166 13.2071 36.2071L17.7929 40.7929C18.1834 41.1834 18.8166 41.1834 19.2071 40.7929L26.2929 33.7071C26.6834 33.3166 27.3166 33.3166 27.7071 33.7071L34.7929 40.7929C35.1834 41.1834 35.8166 41.1834 36.2071 40.7929L40.7929 36.2071C41.1834 35.8166 41.1834 35.1834 40.7929 34.7929L33.7071 27.7071C33.3166 27.3166 33.3166 26.6834 33.7071 26.2929L40.7929 19.2071C41.1834 18.8166 41.1834 18.1834 40.7929 17.7929L36.2071 13.2071C35.8166 12.8166 35.1834 12.8166 34.7929 13.2071L27.7071 20.2929C27.3166 20.6834 26.6834 20.6834 26.2929 20.2929Z"></path>
    </svg>
  </div>
</div>
`;let Bj={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,defaultHeaders:!0,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init(){},params(n,e,t){if(t)return{dzuuid:t.file.upload.uuid,dzchunkindex:t.index,dztotalfilesize:t.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:t.file.upload.totalChunkCount,dzchunkbyteoffset:t.index*this.options.chunkSize}},accept(n,e){return e()},chunksUploaded:function(n,e){e()},binaryBody:!1,fallback(){let n;this.element.className=`${this.element.className} dz-browser-not-supported`;for(let t of this.element.getElementsByTagName("div"))if(/(^| )dz-message($| )/.test(t.className)){n=t,t.className="dz-message";break}n||(n=Qt.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(n));let e=n.getElementsByTagName("span")[0];return e&&(e.textContent!=null?e.textContent=this.options.dictFallbackMessage:e.innerText!=null&&(e.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize(n,e,t,i){let r={srcX:0,srcY:0,srcWidth:n.width,srcHeight:n.height},a=n.width/n.height;e==null&&t==null?(e=r.srcWidth,t=r.srcHeight):e==null?e=t*a:t==null&&(t=e/a),e=Math.min(e,r.srcWidth),t=Math.min(t,r.srcHeight);let o=e/t;if(r.srcWidth>e||r.srcHeight>t)if(i==="crop")a>o?(r.srcHeight=n.height,r.srcWidth=r.srcHeight*o):(r.srcWidth=n.width,r.srcHeight=r.srcWidth/o);else if(i==="contain")a>o?t=e/a:e=t*a;else throw new Error(`Unknown resizeMethod '${i}'`);return r.srcX=(n.width-r.srcWidth)/2,r.srcY=(n.height-r.srcHeight)/2,r.trgWidth=e,r.trgHeight=t,r},transformFile(n,e){return(this.options.resizeWidth||this.options.resizeHeight)&&n.type.match(/image.*/)?this.resizeImage(n,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,e):e(n)},previewTemplate:jj(k1),drop(n){return this.element.classList.remove("dz-drag-hover")},dragstart(n){},dragend(n){return this.element.classList.remove("dz-drag-hover")},dragenter(n){return this.element.classList.add("dz-drag-hover")},dragover(n){return this.element.classList.add("dz-drag-hover")},dragleave(n){return this.element.classList.remove("dz-drag-hover")},paste(n){},reset(){return this.element.classList.remove("dz-started")},addedfile(n){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){n.previewElement=Qt.createElement(this.options.previewTemplate.trim()),n.previewTemplate=n.previewElement,this.previewsContainer.appendChild(n.previewElement);for(var e of n.previewElement.querySelectorAll("[data-dz-name]"))e.textContent=n.name;for(e of n.previewElement.querySelectorAll("[data-dz-size]"))e.innerHTML=this.filesize(n.size);this.options.addRemoveLinks&&(n._removeLink=Qt.createElement(`<a class="dz-remove" href="javascript:undefined;" data-dz-remove>${this.options.dictRemoveFile}</a>`),n.previewElement.appendChild(n._removeLink));let t=i=>(i.preventDefault(),i.stopPropagation(),n.status===Qt.UPLOADING?Qt.confirm(this.options.dictCancelUploadConfirmation,()=>this.removeFile(n)):this.options.dictRemoveFileConfirmation?Qt.confirm(this.options.dictRemoveFileConfirmation,()=>this.removeFile(n)):this.removeFile(n));for(let i of n.previewElement.querySelectorAll("[data-dz-remove]"))i.addEventListener("click",t)}},removedfile(n){return n.previewElement!=null&&n.previewElement.parentNode!=null&&n.previewElement.parentNode.removeChild(n.previewElement),this._updateMaxFilesReachedClass()},thumbnail(n,e){if(n.previewElement){n.previewElement.classList.remove("dz-file-preview");for(let t of n.previewElement.querySelectorAll("[data-dz-thumbnail]"))t.alt=n.name,t.src=e;return setTimeout(()=>n.previewElement.classList.add("dz-image-preview"),1)}},error(n,e){if(n.previewElement){n.previewElement.classList.add("dz-error"),typeof e!="string"&&e.error&&(e=e.error);for(let t of n.previewElement.querySelectorAll("[data-dz-errormessage]"))t.textContent=e}},errormultiple(){},processing(n){if(n.previewElement&&(n.previewElement.classList.add("dz-processing"),n._removeLink))return n._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple(){},uploadprogress(n,e,t){if(n.previewElement)for(let i of n.previewElement.querySelectorAll("[data-dz-uploadprogress]"))i.nodeName==="PROGRESS"?i.value=e:i.style.width=`${e}%`},totaluploadprogress(){},sending(){},sendingmultiple(){},success(n){if(n.previewElement)return n.previewElement.classList.add("dz-success")},successmultiple(){},canceled(n){return this.emit("error",n,this.options.dictUploadCanceled)},canceledmultiple(){},complete(n){if(n._removeLink&&(n._removeLink.innerHTML=this.options.dictRemoveFile),n.previewElement)return n.previewElement.classList.add("dz-complete")},completemultiple(){},maxfilesexceeded(){},maxfilesreached(){},queuecomplete(){},addedfiles(){}};var Hj=Bj;class Qt extends m_{static initClass(){this.prototype.Emitter=m_,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}getAcceptedFiles(){return this.files.filter(e=>e.accepted).map(e=>e)}getRejectedFiles(){return this.files.filter(e=>!e.accepted).map(e=>e)}getFilesWithStatus(e){return this.files.filter(t=>t.status===e).map(t=>t)}getQueuedFiles(){return this.getFilesWithStatus(Qt.QUEUED)}getUploadingFiles(){return this.getFilesWithStatus(Qt.UPLOADING)}getAddedFiles(){return this.getFilesWithStatus(Qt.ADDED)}getActiveFiles(){return this.files.filter(e=>e.status===Qt.UPLOADING||e.status===Qt.QUEUED).map(e=>e)}init(){if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(Qt.createElement(`<div class="dz-default dz-message"><button class="dz-button" type="button">${this.options.dictDefaultMessage}</button></div>`)),this.clickableElements.length){let i=()=>{this.hiddenFileInput&&this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=document.createElement("input"),this.hiddenFileInput.setAttribute("type","file"),(this.options.maxFiles===null||this.options.maxFiles>1)&&this.hiddenFileInput.setAttribute("multiple","multiple"),this.hiddenFileInput.className="dz-hidden-input",this.options.acceptedFiles!==null&&this.hiddenFileInput.setAttribute("accept",this.options.acceptedFiles),this.options.capture!==null&&this.hiddenFileInput.setAttribute("capture",this.options.capture),this.hiddenFileInput.setAttribute("tabindex","-1"),this.hiddenFileInput.style.visibility="hidden",this.hiddenFileInput.style.position="absolute",this.hiddenFileInput.style.top="0",this.hiddenFileInput.style.left="0",this.hiddenFileInput.style.height="0",this.hiddenFileInput.style.width="0",Qt.getElement(this.options.hiddenInputContainer,"hiddenInputContainer").appendChild(this.hiddenFileInput),this.hiddenFileInput.addEventListener("change",()=>{let{files:r}=this.hiddenFileInput;if(r.length)for(let a of r)this.addFile(a);this.emit("addedfiles",r),i()})};i()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(let i of this.events)this.on(i,this.options[i]);this.on("uploadprogress",()=>this.updateTotalUploadProgress()),this.on("removedfile",()=>this.updateTotalUploadProgress()),this.on("canceled",i=>this.emit("complete",i)),this.on("complete",i=>{if(this.getAddedFiles().length===0&&this.getUploadingFiles().length===0&&this.getQueuedFiles().length===0)return setTimeout(()=>this.emit("queuecomplete"),0)});const e=function(i){if(i.dataTransfer.types){for(var r=0;r<i.dataTransfer.types.length;r++)if(i.dataTransfer.types[r]==="Files")return!0}return!1};let t=function(i){if(!!e(i))return i.stopPropagation(),i.preventDefault?i.preventDefault():i.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:i=>this.emit("dragstart",i),dragenter:i=>(t(i),this.emit("dragenter",i)),dragover:i=>{let r;try{r=i.dataTransfer.effectAllowed}catch{}return i.dataTransfer.dropEffect=r==="move"||r==="linkMove"?"move":"copy",t(i),this.emit("dragover",i)},dragleave:i=>this.emit("dragleave",i),drop:i=>(t(i),this.drop(i)),dragend:i=>this.emit("dragend",i)}}],this.clickableElements.forEach(i=>this.listeners.push({element:i,events:{click:r=>((i!==this.element||r.target===this.element||Qt.elementInside(r.target,this.element.querySelector(".dz-message")))&&this.hiddenFileInput.click(),!0)}})),this.enable(),this.options.init.call(this)}destroy(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,Qt.instances.splice(Qt.instances.indexOf(this),1)}updateTotalUploadProgress(){let e,t=0,i=0;if(this.getActiveFiles().length){for(let a of this.getActiveFiles())t+=a.upload.bytesSent,i+=a.upload.total;e=100*t/i}else e=100;return this.emit("totaluploadprogress",e,i,t)}_getParamName(e){return typeof this.options.paramName=="function"?this.options.paramName(e):`${this.options.paramName}${this.options.uploadMultiple?`[${e}]`:""}`}_renameFile(e){return typeof this.options.renameFile!="function"?e.name:this.options.renameFile(e)}getFallbackForm(){let e,t;if(e=this.getExistingFallback())return e;let i='<div class="dz-fallback">';this.options.dictFallbackText&&(i+=`<p>${this.options.dictFallbackText}</p>`),i+=`<input type="file" name="${this._getParamName(0)}" ${this.options.uploadMultiple?'multiple="multiple"':void 0} /><input type="submit" value="Upload!"></div>`;let r=Qt.createElement(i);return this.element.tagName!=="FORM"?(t=Qt.createElement(`<form action="${this.options.url}" enctype="multipart/form-data" method="${this.options.method}"></form>`),t.appendChild(r)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),t!=null?t:r}getExistingFallback(){let e=function(i){for(let r of i)if(/(^| )fallback($| )/.test(r.className))return r};for(let i of["div","form"]){var t;if(t=e(this.element.getElementsByTagName(i)))return t}}setupEventListeners(){return this.listeners.map(e=>(()=>{let t=[];for(let i in e.events){let r=e.events[i];t.push(e.element.addEventListener(i,r,!1))}return t})())}removeEventListeners(){return this.listeners.map(e=>(()=>{let t=[];for(let i in e.events){let r=e.events[i];t.push(e.element.removeEventListener(i,r,!1))}return t})())}disable(){return this.clickableElements.forEach(e=>e.classList.remove("dz-clickable")),this.removeEventListeners(),this.disabled=!0,this.files.map(e=>this.cancelUpload(e))}enable(){return delete this.disabled,this.clickableElements.forEach(e=>e.classList.add("dz-clickable")),this.setupEventListeners()}filesize(e){let t=0,i="b";if(e>0){let r=["tb","gb","mb","kb","b"];for(let a=0;a<r.length;a++){let o=r[a],s=Math.pow(this.options.filesizeBase,4-a)/10;if(e>=s){t=e/Math.pow(this.options.filesizeBase,4-a),i=o;break}}t=Math.round(10*t)/10}return`<strong>${t}</strong> ${this.options.dictFileSizeUnits[i]}`}_updateMaxFilesReachedClass(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}drop(e){if(!e.dataTransfer)return;this.emit("drop",e);let t=[];for(let i=0;i<e.dataTransfer.files.length;i++)t[i]=e.dataTransfer.files[i];if(t.length){let{items:i}=e.dataTransfer;i&&i.length&&i[0].webkitGetAsEntry!=null?this._addFilesFromItems(i):this.handleFiles(t)}this.emit("addedfiles",t)}paste(e){if(Gj(e!=null?e.clipboardData:void 0,i=>i.items)==null)return;this.emit("paste",e);let{items:t}=e.clipboardData;if(t.length)return this._addFilesFromItems(t)}handleFiles(e){for(let t of e)this.addFile(t)}_addFilesFromItems(e){return(()=>{let t=[];for(let r of e){var i;r.webkitGetAsEntry!=null&&(i=r.webkitGetAsEntry())?i.isFile?t.push(this.addFile(r.getAsFile())):i.isDirectory?t.push(this._addFilesFromDirectory(i,i.name)):t.push(void 0):r.getAsFile!=null&&(r.kind==null||r.kind==="file")?t.push(this.addFile(r.getAsFile())):t.push(void 0)}return t})()}_addFilesFromDirectory(e,t){let i=e.createReader(),r=o=>$j(console,"log",s=>s.log(o));var a=()=>i.readEntries(o=>{if(o.length>0){for(let s of o)s.isFile?s.file(u=>{if(!(this.options.ignoreHiddenFiles&&u.name.substring(0,1)==="."))return u.fullPath=`${t}/${u.name}`,this.addFile(u)}):s.isDirectory&&this._addFilesFromDirectory(s,`${t}/${s.name}`);a()}return null},r);return a()}accept(e,t){this.options.maxFilesize&&e.size>this.options.maxFilesize*1048576?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):Qt.isValidFile(e,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)}addFile(e){e.upload={uuid:Qt.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)},this.files.push(e),e.status=Qt.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,t=>{t?(e.accepted=!1,this._errorProcessing([e],t)):(e.accepted=!0,this.options.autoQueue&&this.enqueueFile(e)),this._updateMaxFilesReachedClass()})}enqueueFiles(e){for(let t of e)this.enqueueFile(t);return null}enqueueFile(e){if(e.status===Qt.ADDED&&e.accepted===!0){if(e.status=Qt.QUEUED,this.options.autoProcessQueue)return setTimeout(()=>this.processQueue(),0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}_enqueueThumbnail(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(e),setTimeout(()=>this._processThumbnailQueue(),0)}_processThumbnailQueue(){if(this._processingThumbnail||this._thumbnailQueue.length===0)return;this._processingThumbnail=!0;let e=this._thumbnailQueue.shift();return this.createThumbnail(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,t=>(this.emit("thumbnail",e,t),this._processingThumbnail=!1,this._processThumbnailQueue()))}removeFile(e){if(e.status===Qt.UPLOADING&&this.cancelUpload(e),this.files=zj(this.files,e),this.emit("removedfile",e),this.files.length===0)return this.emit("reset")}removeAllFiles(e){e==null&&(e=!1);for(let t of this.files.slice())(t.status!==Qt.UPLOADING||e)&&this.removeFile(t);return null}resizeImage(e,t,i,r,a){return this.createThumbnail(e,t,i,r,!0,(o,s)=>{if(s==null)return a(e);{let{resizeMimeType:u}=this.options;u==null&&(u=e.type);let c=s.toDataURL(u,this.options.resizeQuality);return(u==="image/jpeg"||u==="image/jpg")&&(c=P1.restore(e.dataURL,c)),a(Qt.dataURItoBlob(c))}})}createThumbnail(e,t,i,r,a,o){let s=new FileReader;s.onload=()=>{if(e.dataURL=s.result,e.type==="image/svg+xml"){o!=null&&o(s.result);return}this.createThumbnailFromUrl(e,t,i,r,a,o)},s.readAsDataURL(e)}displayExistingFile(e,t,i,r,a=!0){if(this.emit("addedfile",e),this.emit("complete",e),!a)this.emit("thumbnail",e,t),i&&i();else{let o=s=>{this.emit("thumbnail",e,s),i&&i()};e.dataURL=t,this.createThumbnailFromUrl(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,o,r)}}createThumbnailFromUrl(e,t,i,r,a,o,s){let u=document.createElement("img");return s&&(u.crossOrigin=s),a=getComputedStyle(document.body).imageOrientation=="from-image"?!1:a,u.onload=()=>{let c=l=>l(1);return typeof EXIF<"u"&&EXIF!==null&&a&&(c=l=>EXIF.getData(u,function(){return l(EXIF.getTag(this,"Orientation"))})),c(l=>{e.width=u.width,e.height=u.height;let _=this.options.resize.call(this,e,t,i,r),I=document.createElement("canvas"),M=I.getContext("2d");switch(I.width=_.trgWidth,I.height=_.trgHeight,l>4&&(I.width=_.trgHeight,I.height=_.trgWidth),l){case 2:M.translate(I.width,0),M.scale(-1,1);break;case 3:M.translate(I.width,I.height),M.rotate(Math.PI);break;case 4:M.translate(0,I.height),M.scale(1,-1);break;case 5:M.rotate(.5*Math.PI),M.scale(1,-1);break;case 6:M.rotate(.5*Math.PI),M.translate(0,-I.width);break;case 7:M.rotate(.5*Math.PI),M.translate(I.height,-I.width),M.scale(-1,1);break;case 8:M.rotate(-.5*Math.PI),M.translate(-I.height,0);break}Yj(M,u,_.srcX!=null?_.srcX:0,_.srcY!=null?_.srcY:0,_.srcWidth,_.srcHeight,_.trgX!=null?_.trgX:0,_.trgY!=null?_.trgY:0,_.trgWidth,_.trgHeight);let P=I.toDataURL("image/png");if(o!=null)return o(P,I)})},o!=null&&(u.onerror=o),u.src=e.dataURL}processQueue(){let{parallelUploads:e}=this.options,t=this.getUploadingFiles().length,i=t;if(t>=e)return;let r=this.getQueuedFiles();if(r.length>0){if(this.options.uploadMultiple)return this.processFiles(r.slice(0,e-t));for(;i<e;){if(!r.length)return;this.processFile(r.shift()),i++}}}processFile(e){return this.processFiles([e])}processFiles(e){for(let t of e)t.processing=!0,t.status=Qt.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}_getFilesWithXhr(e){return this.files.filter(t=>t.xhr===e).map(t=>t)}cancelUpload(e){if(e.status===Qt.UPLOADING){let t=this._getFilesWithXhr(e.xhr);for(let i of t)i.status=Qt.CANCELED;typeof e.xhr<"u"&&e.xhr.abort();for(let i of t)this.emit("canceled",i);this.options.uploadMultiple&&this.emit("canceledmultiple",t)}else(e.status===Qt.ADDED||e.status===Qt.QUEUED)&&(e.status=Qt.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}resolveOption(e,...t){return typeof e=="function"?e.apply(this,t):e}uploadFile(e){return this.uploadFiles([e])}uploadFiles(e){this._transformFiles(e,t=>{if(this.options.chunking){let i=t[0];e[0].upload.chunked=this.options.chunking&&(this.options.forceChunking||i.size>this.options.chunkSize),e[0].upload.totalChunkCount=Math.ceil(i.size/this.options.chunkSize)}if(e[0].upload.chunked){let i=e[0],r=t[0];i.upload.chunks=[];let a=()=>{let o=0;for(;i.upload.chunks[o]!==void 0;)o++;if(o>=i.upload.totalChunkCount)return;let s=o*this.options.chunkSize,u=Math.min(s+this.options.chunkSize,r.size),c={name:this._getParamName(0),data:r.webkitSlice?r.webkitSlice(s,u):r.slice(s,u),filename:i.upload.filename,chunkIndex:o};i.upload.chunks[o]={file:i,index:o,dataBlock:c,status:Qt.UPLOADING,progress:0,retries:0},this._uploadData(e,[c])};if(i.upload.finishedChunkUpload=(o,s)=>{let u=!0;o.status=Qt.SUCCESS,o.dataBlock=null,o.response=o.xhr.responseText,o.responseHeaders=o.xhr.getAllResponseHeaders(),o.xhr=null;for(let c=0;c<i.upload.totalChunkCount;c++){if(i.upload.chunks[c]===void 0)return a();i.upload.chunks[c].status!==Qt.SUCCESS&&(u=!1)}u&&this.options.chunksUploaded(i,()=>{this._finished(e,s,null)})},this.options.parallelChunkUploads)for(let o=0;o<i.upload.totalChunkCount;o++)a();else a()}else{let i=[];for(let r=0;r<e.length;r++)i[r]={name:this._getParamName(r),data:t[r],filename:e[r].upload.filename};this._uploadData(e,i)}})}_getChunk(e,t){for(let i=0;i<e.upload.totalChunkCount;i++)if(e.upload.chunks[i]!==void 0&&e.upload.chunks[i].xhr===t)return e.upload.chunks[i]}_uploadData(e,t){let i=new XMLHttpRequest;for(let c of e)c.xhr=i;e[0].upload.chunked&&(e[0].upload.chunks[t[0].chunkIndex].xhr=i);let r=this.resolveOption(this.options.method,e,t),a=this.resolveOption(this.options.url,e,t);i.open(r,a,!0),this.resolveOption(this.options.timeout,e)&&(i.timeout=this.resolveOption(this.options.timeout,e)),i.withCredentials=!!this.options.withCredentials,i.onload=c=>{this._finishedUploading(e,i,c)},i.ontimeout=()=>{this._handleUploadError(e,i,`Request timedout after ${this.options.timeout/1e3} seconds`)},i.onerror=()=>{this._handleUploadError(e,i)};let s=i.upload!=null?i.upload:i;s.onprogress=c=>this._updateFilesUploadProgress(e,i,c);let u=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};this.options.binaryBody&&(u["Content-Type"]=e[0].type),this.options.headers&&g_(u,this.options.headers);for(let c in u){let l=u[c];l&&i.setRequestHeader(c,l)}if(this.options.binaryBody){for(let c of e)this.emit("sending",c,i);this.options.uploadMultiple&&this.emit("sendingmultiple",e,i),this.submitRequest(i,null,e)}else{let c=new FormData;if(this.options.params){let l=this.options.params;typeof l=="function"&&(l=l.call(this,e,i,e[0].upload.chunked?this._getChunk(e[0],i):null));for(let _ in l){let I=l[_];if(Array.isArray(I))for(let M=0;M<I.length;M++)c.append(_,I[M]);else c.append(_,I)}}for(let l of e)this.emit("sending",l,i,c);this.options.uploadMultiple&&this.emit("sendingmultiple",e,i,c),this._addFormElementData(c);for(let l=0;l<t.length;l++){let _=t[l];c.append(_.name,_.data,_.filename)}this.submitRequest(i,c,e)}}_transformFiles(e,t){let i=[],r=0;for(let a=0;a<e.length;a++)this.options.transformFile.call(this,e[a],o=>{i[a]=o,++r===e.length&&t(i)})}_addFormElementData(e){if(this.element.tagName==="FORM")for(let t of this.element.querySelectorAll("input, textarea, select, button")){let i=t.getAttribute("name"),r=t.getAttribute("type");if(r&&(r=r.toLowerCase()),!(typeof i>"u"||i===null))if(t.tagName==="SELECT"&&t.hasAttribute("multiple"))for(let a of t.options)a.selected&&e.append(i,a.value);else(!r||r!=="checkbox"&&r!=="radio"||t.checked)&&e.append(i,t.value)}}_updateFilesUploadProgress(e,t,i){if(e[0].upload.chunked){let r=e[0],a=this._getChunk(r,t);i?(a.progress=100*i.loaded/i.total,a.total=i.total,a.bytesSent=i.loaded):(a.progress=100,a.bytesSent=a.total),r.upload.progress=0,r.upload.total=0,r.upload.bytesSent=0;for(let o=0;o<r.upload.totalChunkCount;o++)r.upload.chunks[o]&&typeof r.upload.chunks[o].progress<"u"&&(r.upload.progress+=r.upload.chunks[o].progress,r.upload.total+=r.upload.chunks[o].total,r.upload.bytesSent+=r.upload.chunks[o].bytesSent);r.upload.progress=r.upload.progress/r.upload.totalChunkCount,this.emit("uploadprogress",r,r.upload.progress,r.upload.bytesSent)}else for(let r of e)r.upload.total&&r.upload.bytesSent&&r.upload.bytesSent==r.upload.total||(i?(r.upload.progress=100*i.loaded/i.total,r.upload.total=i.total,r.upload.bytesSent=i.loaded):(r.upload.progress=100,r.upload.bytesSent=r.upload.total),this.emit("uploadprogress",r,r.upload.progress,r.upload.bytesSent))}_finishedUploading(e,t,i){let r;if(e[0].status!==Qt.CANCELED&&t.readyState===4){if(t.responseType!=="arraybuffer"&&t.responseType!=="blob"&&(r=t.responseText,t.getResponseHeader("content-type")&&~t.getResponseHeader("content-type").indexOf("application/json")))try{r=JSON.parse(r)}catch(a){i=a,r="Invalid JSON response from server."}this._updateFilesUploadProgress(e,t),200<=t.status&&t.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],t),r):this._finished(e,r,i):this._handleUploadError(e,t,r)}}_handleUploadError(e,t,i){if(e[0].status!==Qt.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){let r=this._getChunk(e[0],t);if(r.retries++<this.options.retryChunksLimit){this._uploadData(e,[r.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(e,i||this.options.dictResponseError.replace("{{statusCode}}",t.status),t)}}submitRequest(e,t,i){if(e.readyState!=1){console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.");return}if(this.options.binaryBody)if(i[0].upload.chunked){const r=this._getChunk(i[0],e);e.send(r.dataBlock.data)}else e.send(i[0]);else e.send(t)}_finished(e,t,i){for(let r of e)r.status=Qt.SUCCESS,this.emit("success",r,t,i),this.emit("complete",r);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}_errorProcessing(e,t,i){for(let r of e)r.status=Qt.ERROR,this.emit("error",r,t,i),this.emit("complete",r);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}constructor(e,t){super();let i,r;if(this.element=e,this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element)),!this.element||this.element.nodeType==null)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");Qt.instances.push(this),this.element.dropzone=this;let a=(r=Qt.optionsForElement(this.element))!=null?r:{};if(this.options=g_(!0,{},Hj,a,t!=null?t:{}),this.options.previewTemplate=this.options.previewTemplate.replace(/\n*/g,""),this.options.forceFallback||!Qt.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(this.options.uploadMultiple&&this.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(this.options.binaryBody&&this.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.renameFilename!=null&&(this.options.renameFile=o=>this.options.renameFilename.call(this,o.name,o)),typeof this.options.method=="string"&&(this.options.method=this.options.method.toUpperCase()),(i=this.getExistingFallback())&&i.parentNode&&i.parentNode.removeChild(i),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=Qt.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=Qt.getElements(this.options.clickable,"clickable")),this.init()}}Qt.initClass();Qt.options={};Qt.optionsForElement=function(n){if(n.getAttribute("id"))return Qt.options[Wj(n.getAttribute("id"))]};Qt.instances=[];Qt.forElement=function(n){if(typeof n=="string"&&(n=document.querySelector(n)),(n!=null?n.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return n.dropzone};Qt.discover=function(){let n;if(document.querySelectorAll)n=document.querySelectorAll(".dropzone");else{n=[];let e=t=>(()=>{let i=[];for(let r of t)/(^| )dropzone($| )/.test(r.className)?i.push(n.push(r)):i.push(void 0);return i})();e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))}return(()=>{let e=[];for(let t of n)Qt.optionsForElement(t)!==!1?e.push(new Qt(t)):e.push(void 0);return e})()};Qt.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];Qt.isBrowserSupported=function(){let n=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))n=!1;else{Qt.blacklistedBrowsers!==void 0&&(Qt.blockedBrowsers=Qt.blacklistedBrowsers);for(let e of Qt.blockedBrowsers)if(e.test(navigator.userAgent)){n=!1;continue}}else n=!1;return n};Qt.dataURItoBlob=function(n){let e=atob(n.split(",")[1]),t=n.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(e.length),r=new Uint8Array(i);for(let a=0,o=e.length,s=0<=o;s?a<=o:a>=o;s?a++:a--)r[a]=e.charCodeAt(a);return new Blob([i],{type:t})};const zj=(n,e)=>n.filter(t=>t!==e).map(t=>t),Wj=n=>n.replace(/[\-_](\w)/g,e=>e.charAt(1).toUpperCase());Qt.createElement=function(n){let e=document.createElement("div");return e.innerHTML=n,e.childNodes[0]};Qt.elementInside=function(n,e){if(n===e)return!0;for(;n=n.parentNode;)if(n===e)return!0;return!1};Qt.getElement=function(n,e){let t;if(typeof n=="string"?t=document.querySelector(n):n.nodeType!=null&&(t=n),t==null)throw new Error(`Invalid \`${e}\` option provided. Please provide a CSS selector or a plain HTML element.`);return t};Qt.getElements=function(n,e){let t,i;if(n instanceof Array){i=[];try{for(t of n)i.push(this.getElement(t,e))}catch{i=null}}else if(typeof n=="string"){i=[];for(t of document.querySelectorAll(n))i.push(t)}else n.nodeType!=null&&(i=[n]);if(i==null||!i.length)throw new Error(`Invalid \`${e}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return i};Qt.confirm=function(n,e,t){if(window.confirm(n))return e();if(t!=null)return t()};Qt.isValidFile=function(n,e){if(!e)return!0;e=e.split(",");let t=n.type,i=t.replace(/\/.*$/,"");for(let r of e)if(r=r.trim(),r.charAt(0)==="."){if(n.name.toLowerCase().indexOf(r.toLowerCase(),n.name.length-r.length)!==-1)return!0}else if(/\/\*$/.test(r)){if(i===r.replace(/\/.*$/,""))return!0}else if(t===r)return!0;return!1};typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(n){return this.each(function(){return new Qt(this,n)})});Qt.ADDED="added";Qt.QUEUED="queued";Qt.ACCEPTED=Qt.QUEUED;Qt.UPLOADING="uploading";Qt.PROCESSING=Qt.UPLOADING;Qt.CANCELED="canceled";Qt.ERROR="error";Qt.SUCCESS="success";let Uj=function(n){n.naturalWidth;let e=n.naturalHeight,t=document.createElement("canvas");t.width=1,t.height=e;let i=t.getContext("2d");i.drawImage(n,0,0);let{data:r}=i.getImageData(1,0,1,e),a=0,o=e,s=e;for(;s>a;)r[(s-1)*4+3]===0?o=s:a=s,s=o+a>>1;let u=s/e;return u===0?1:u};var Yj=function(n,e,t,i,r,a,o,s,u,c){let l=Uj(e);return n.drawImage(e,t,i,r,a,o,s,u,c/l)};class P1{static initClass(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static encode64(e){let t="",i,r,a="",o,s,u,c="",l=0;for(;i=e[l++],r=e[l++],a=e[l++],o=i>>2,s=(i&3)<<4|r>>4,u=(r&15)<<2|a>>6,c=a&63,isNaN(r)?u=c=64:isNaN(a)&&(c=64),t=t+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(u)+this.KEY_STR.charAt(c),i=r=a="",o=s=u=c="",l<e.length;);return t}static restore(e,t){if(!e.match("data:image/jpeg;base64,"))return t;let i=this.decode64(e.replace("data:image/jpeg;base64,","")),r=this.slice2Segments(i),a=this.exifManipulation(t,r);return`data:image/jpeg;base64,${this.encode64(a)}`}static exifManipulation(e,t){let i=this.getExifArray(t),r=this.insertExif(e,i);return new Uint8Array(r)}static getExifArray(e){let t,i=0;for(;i<e.length;){if(t=e[i],t[0]===255&t[1]===225)return t;i++}return[]}static insertExif(e,t){let i=e.replace("data:image/jpeg;base64,",""),r=this.decode64(i),a=r.indexOf(255,3),o=r.slice(0,a),s=r.slice(a),u=o;return u=u.concat(t),u=u.concat(s),u}static slice2Segments(e){let t=0,i=[];for(;;){var r;if(e[t]===255&e[t+1]===218)break;if(e[t]===255&e[t+1]===216)t+=2;else{r=e[t+2]*256+e[t+3];let a=t+r+2,o=e.slice(t,a);i.push(o),t=a}if(t>e.length)break}return i}static decode64(e){let t,i,r="",a,o,s,u="",c=0,l=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");a=this.KEY_STR.indexOf(e.charAt(c++)),o=this.KEY_STR.indexOf(e.charAt(c++)),s=this.KEY_STR.indexOf(e.charAt(c++)),u=this.KEY_STR.indexOf(e.charAt(c++)),t=a<<2|o>>4,i=(o&15)<<4|s>>2,r=(s&3)<<6|u,l.push(t),s!==64&&l.push(i),u!==64&&l.push(r),t=i=r="",a=o=s=u="",c<e.length;);return l}}P1.initClass();function Gj(n,e){return typeof n<"u"&&n!==null?e(n):void 0}function $j(n,e,t){if(typeof n<"u"&&n!==null&&typeof n[e]=="function")return t(n,e)}var L1={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(sr,function(){function t(re){return(t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H})(re)}function i(re,H){if(!(re instanceof H))throw new TypeError("Cannot call a class as a function")}function r(re,H){for(var q=0;q<H.length;q++){var ie=H[q];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(re,ie.key,ie)}}function a(re,H,q){return H&&r(re.prototype,H),q&&r(re,q),re}var o=Date.now();function s(){var re={},H=!0,q=0,ie=arguments.length;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&(H=arguments[0],q++);for(var ue=function(ke){for(var Xe in ke)Object.prototype.hasOwnProperty.call(ke,Xe)&&(H&&Object.prototype.toString.call(ke[Xe])==="[object Object]"?re[Xe]=s(!0,re[Xe],ke[Xe]):re[Xe]=ke[Xe])};q<ie;q++){var be=arguments[q];ue(be)}return re}function u(re,H){if((L(re)||re===window||re===document)&&(re=[re]),z(re)||X(re)||(re=[re]),le(re)!=0){if(z(re)&&!X(re))for(var q=re.length,ie=0;ie<q&&H.call(re[ie],re[ie],ie,re)!==!1;ie++);else if(X(re)){for(var ue in re)if(ce(re,ue)&&H.call(re[ue],re[ue],ue,re)===!1)break}}}function c(re){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ie=re[o]=re[o]||[],ue={all:ie,evt:null,found:null};return H&&q&&le(ie)>0&&u(ie,function(be,ke){if(be.eventName==H&&be.fn.toString()==q.toString())return ue.found=!0,ue.evt=ke,!1}),ue}function l(re){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=H.onElement,ie=H.withCallback,ue=H.avoidDuplicate,be=ue===void 0||ue,ke=H.once,Xe=ke!==void 0&&ke,qe=H.useCapture,Le=qe!==void 0&&qe,ut=arguments.length>2?arguments[2]:void 0,bt=q||[];function zt(qt){S(ie)&&ie.call(ut,qt,this),Xe&&zt.destroy()}return k(bt)&&(bt=document.querySelectorAll(bt)),zt.destroy=function(){u(bt,function(qt){var Zt=c(qt,re,zt);Zt.found&&Zt.all.splice(Zt.evt,1),qt.removeEventListener&&qt.removeEventListener(re,zt,Le)})},u(bt,function(qt){var Zt=c(qt,re,zt);(qt.addEventListener&&be&&!Zt.found||!be)&&(qt.addEventListener(re,zt,Le),Zt.all.push({eventName:re,fn:zt}))}),zt}function _(re,H){u(H.split(" "),function(q){return re.classList.add(q)})}function I(re,H){u(H.split(" "),function(q){return re.classList.remove(q)})}function M(re,H){return re.classList.contains(H)}function P(re,H){for(;re!==document.body;){if(!(re=re.parentElement))return!1;if(typeof re.matches=="function"?re.matches(H):re.msMatchesSelector(H))return re}}function N(re){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",q=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!re||H==="")return!1;if(H==="none")return S(q)&&q(),!1;var ie=g(),ue=H.split(" ");u(ue,function(be){_(re,"g"+be)}),l(ie,{onElement:re,avoidDuplicate:!1,once:!0,withCallback:function(be,ke){u(ue,function(Xe){I(ke,"g"+Xe)}),S(q)&&q()}})}function b(re){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(H==="")return re.style.webkitTransform="",re.style.MozTransform="",re.style.msTransform="",re.style.OTransform="",re.style.transform="",!1;re.style.webkitTransform=H,re.style.MozTransform=H,re.style.msTransform=H,re.style.OTransform=H,re.style.transform=H}function f(re){re.style.display="block"}function v(re){re.style.display="none"}function m(re){var H=document.createDocumentFragment(),q=document.createElement("div");for(q.innerHTML=re;q.firstChild;)H.appendChild(q.firstChild);return H}function d(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function g(){var re,H=document.createElement("fakeelement"),q={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(re in q)if(H.style[re]!==void 0)return q[re]}function h(re,H,q,ie){if(re())H();else{var ue;q||(q=100);var be=setInterval(function(){re()&&(clearInterval(be),ue&&clearTimeout(ue),H())},q);ie&&(ue=setTimeout(function(){clearInterval(be)},ie))}}function C(re,H,q){if(ee(re))console.error("Inject assets error");else if(S(H)&&(q=H,H=!1),k(H)&&H in window)S(q)&&q();else{var ie;if(re.indexOf(".css")!==-1){if((ie=document.querySelectorAll('link[href="'+re+'"]'))&&ie.length>0)return void(S(q)&&q());var ue=document.getElementsByTagName("head")[0],be=ue.querySelectorAll('link[rel="stylesheet"]'),ke=document.createElement("link");return ke.rel="stylesheet",ke.type="text/css",ke.href=re,ke.media="all",be?ue.insertBefore(ke,be[0]):ue.appendChild(ke),void(S(q)&&q())}if((ie=document.querySelectorAll('script[src="'+re+'"]'))&&ie.length>0){if(S(q)){if(k(H))return h(function(){return window[H]!==void 0},function(){q()}),!1;q()}}else{var Xe=document.createElement("script");Xe.type="text/javascript",Xe.src=re,Xe.onload=function(){if(S(q)){if(k(H))return h(function(){return window[H]!==void 0},function(){q()}),!1;q()}},document.body.appendChild(Xe)}}}function D(){return"navigator"in window&&window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i)}function S(re){return typeof re=="function"}function k(re){return typeof re=="string"}function L(re){return!(!re||!re.nodeType||re.nodeType!=1)}function B(re){return Array.isArray(re)}function z(re){return re&&re.length&&isFinite(re.length)}function X(re){return t(re)==="object"&&re!=null&&!S(re)&&!B(re)}function ee(re){return re==null}function ce(re,H){return re!==null&&hasOwnProperty.call(re,H)}function le(re){if(X(re)){if(re.keys)return re.keys().length;var H=0;for(var q in re)ce(re,q)&&H++;return H}return re.length}function me(re){return!isNaN(parseFloat(re))&&isFinite(re)}function je(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,H=document.querySelectorAll(".gbtn[data-taborder]:not(.disabled)");if(!H.length)return!1;if(H.length==1)return H[0];typeof re=="string"&&(re=parseInt(re));var q=[];u(H,function(Xe){q.push(Xe.getAttribute("data-taborder"))});var ie=Math.max.apply(Math,q.map(function(Xe){return parseInt(Xe)})),ue=re<0?1:re+1;ue>ie&&(ue="1");var be=q.filter(function(Xe){return Xe>=parseInt(ue)}),ke=be.sort()[0];return document.querySelector('.gbtn[data-taborder="'.concat(ke,'"]'))}function Pe(re){if(re.events.hasOwnProperty("keyboard"))return!1;re.events.keyboard=l("keydown",{onElement:window,withCallback:function(H,q){var ie=(H=H||window.event).keyCode;if(ie==9){var ue=document.querySelector(".gbtn.focused");if(!ue){var be=!(!document.activeElement||!document.activeElement.nodeName)&&document.activeElement.nodeName.toLocaleLowerCase();if(be=="input"||be=="textarea"||be=="button")return}H.preventDefault();var ke=document.querySelectorAll(".gbtn[data-taborder]");if(!ke||ke.length<=0)return;if(!ue){var Xe=je();return void(Xe&&(Xe.focus(),_(Xe,"focused")))}var qe=je(ue.getAttribute("data-taborder"));I(ue,"focused"),qe&&(qe.focus(),_(qe,"focused"))}ie==39&&re.nextSlide(),ie==37&&re.prevSlide(),ie==27&&re.close()}})}function it(re){return Math.sqrt(re.x*re.x+re.y*re.y)}function Te(re,H){var q=function(ie,ue){var be=it(ie)*it(ue);if(be===0)return 0;var ke=function(Xe,qe){return Xe.x*qe.x+Xe.y*qe.y}(ie,ue)/be;return ke>1&&(ke=1),Math.acos(ke)}(re,H);return function(ie,ue){return ie.x*ue.y-ue.x*ie.y}(re,H)>0&&(q*=-1),180*q/Math.PI}var lt=function(){function re(H){i(this,re),this.handlers=[],this.el=H}return a(re,[{key:"add",value:function(H){this.handlers.push(H)}},{key:"del",value:function(H){H||(this.handlers=[]);for(var q=this.handlers.length;q>=0;q--)this.handlers[q]===H&&this.handlers.splice(q,1)}},{key:"dispatch",value:function(){for(var H=0,q=this.handlers.length;H<q;H++){var ie=this.handlers[H];typeof ie=="function"&&ie.apply(this.el,arguments)}}}]),re}();function he(re,H){var q=new lt(re);return q.add(H),q}var Dt=function(){function re(H,q){i(this,re),this.element=typeof H=="string"?document.querySelector(H):H,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var ie=function(){};this.rotate=he(this.element,q.rotate||ie),this.touchStart=he(this.element,q.touchStart||ie),this.multipointStart=he(this.element,q.multipointStart||ie),this.multipointEnd=he(this.element,q.multipointEnd||ie),this.pinch=he(this.element,q.pinch||ie),this.swipe=he(this.element,q.swipe||ie),this.tap=he(this.element,q.tap||ie),this.doubleTap=he(this.element,q.doubleTap||ie),this.longTap=he(this.element,q.longTap||ie),this.singleTap=he(this.element,q.singleTap||ie),this.pressMove=he(this.element,q.pressMove||ie),this.twoFingerPressMove=he(this.element,q.twoFingerPressMove||ie),this.touchMove=he(this.element,q.touchMove||ie),this.touchEnd=he(this.element,q.touchEnd||ie),this.touchCancel=he(this.element,q.touchCancel||ie),this.translateContainer=this.element,this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}}return a(re,[{key:"start",value:function(H){if(H.touches)if(H.target&&H.target.nodeName&&["a","button","input"].indexOf(H.target.nodeName.toLowerCase())>=0)console.log("ignore drag for this touched element",H.target.nodeName.toLowerCase());else{this.now=Date.now(),this.x1=H.touches[0].pageX,this.y1=H.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(H,this.element),this.preTapPosition.x!==null&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var q=this.preV;if(H.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var ie={x:H.touches[1].pageX-this.x1,y:H.touches[1].pageY-this.y1};q.x=ie.x,q.y=ie.y,this.pinchStartLen=it(q),this.multipointStart.dispatch(H,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(H,this.element),this._preventTap=!0}.bind(this),750)}}},{key:"move",value:function(H){if(H.touches){var q=this.preV,ie=H.touches.length,ue=H.touches[0].pageX,be=H.touches[0].pageY;if(this.isDoubleTap=!1,ie>1){var ke=H.touches[1].pageX,Xe=H.touches[1].pageY,qe={x:H.touches[1].pageX-ue,y:H.touches[1].pageY-be};q.x!==null&&(this.pinchStartLen>0&&(H.zoom=it(qe)/this.pinchStartLen,this.pinch.dispatch(H,this.element)),H.angle=Te(qe,q),this.rotate.dispatch(H,this.element)),q.x=qe.x,q.y=qe.y,this.x2!==null&&this.sx2!==null?(H.deltaX=(ue-this.x2+ke-this.sx2)/2,H.deltaY=(be-this.y2+Xe-this.sy2)/2):(H.deltaX=0,H.deltaY=0),this.twoFingerPressMove.dispatch(H,this.element),this.sx2=ke,this.sy2=Xe}else{if(this.x2!==null){H.deltaX=ue-this.x2,H.deltaY=be-this.y2;var Le=Math.abs(this.x1-this.x2),ut=Math.abs(this.y1-this.y2);(Le>10||ut>10)&&(this._preventTap=!0)}else H.deltaX=0,H.deltaY=0;this.pressMove.dispatch(H,this.element)}this.touchMove.dispatch(H,this.element),this._cancelLongTap(),this.x2=ue,this.y2=be,ie>1&&H.preventDefault()}}},{key:"end",value:function(H){if(H.changedTouches){this._cancelLongTap();var q=this;H.touches.length<2&&(this.multipointEnd.dispatch(H,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(H.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout(function(){q.swipe.dispatch(H,q.element)},0)):(this.tapTimeout=setTimeout(function(){q._preventTap||q.tap.dispatch(H,q.element),q.isDoubleTap&&(q.doubleTap.dispatch(H,q.element),q.isDoubleTap=!1)},0),q.isDoubleTap||(q.singleTapTimeout=setTimeout(function(){q.singleTap.dispatch(H,q.element)},250))),this.touchEnd.dispatch(H,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}}},{key:"cancelAll",value:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)}},{key:"cancel",value:function(H){this.cancelAll(),this.touchCancel.dispatch(H,this.element)}},{key:"_cancelLongTap",value:function(){clearTimeout(this.longTapTimeout)}},{key:"_cancelSingleTap",value:function(){clearTimeout(this.singleTapTimeout)}},{key:"_swipeDirection",value:function(H,q,ie,ue){return Math.abs(H-q)>=Math.abs(ie-ue)?H-q>0?"Left":"Right":ie-ue>0?"Up":"Down"}},{key:"on",value:function(H,q){this[H]&&this[H].add(q)}},{key:"off",value:function(H,q){this[H]&&this[H].del(q)}},{key:"destroy",value:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener("scroll",this._cancelAllHandler),null}}]),re}();function Ke(re){var H=function(){var ke,Xe=document.createElement("fakeelement"),qe={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(ke in qe)if(Xe.style[ke]!==void 0)return qe[ke]}(),q=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,ie=M(re,"gslide-media")?re:re.querySelector(".gslide-media"),ue=P(ie,".ginner-container"),be=re.querySelector(".gslide-description");q>769&&(ie=ue),_(ie,"greset"),b(ie,"translate3d(0, 0, 0)"),l(H,{onElement:ie,once:!0,withCallback:function(ke,Xe){I(ie,"greset")}}),ie.style.opacity="",be&&(be.style.opacity="")}function Mt(re){if(re.events.hasOwnProperty("touch"))return!1;var H,q,ie,ue=d(),be=ue.width,ke=ue.height,Xe=!1,qe=null,Le=null,ut=null,bt=!1,zt=1,qt=1,Zt=!1,Xt=!1,Jt=null,Mn=null,kn=null,qn=null,wt=0,St=0,Lt=!1,Wt=!1,$t={},At={},ii=0,li=0,Kt=document.getElementById("glightbox-slider"),gt=document.querySelector(".goverlay"),Jn=new Dt(Kt,{touchStart:function(an){if(Xe=!0,(M(an.targetTouches[0].target,"ginner-container")||P(an.targetTouches[0].target,".gslide-desc")||an.targetTouches[0].target.nodeName.toLowerCase()=="a")&&(Xe=!1),P(an.targetTouches[0].target,".gslide-inline")&&!M(an.targetTouches[0].target.parentNode,"gslide-inline")&&(Xe=!1),Xe){if(At=an.targetTouches[0],$t.pageX=an.targetTouches[0].pageX,$t.pageY=an.targetTouches[0].pageY,ii=an.targetTouches[0].clientX,li=an.targetTouches[0].clientY,qe=re.activeSlide,Le=qe.querySelector(".gslide-media"),ie=qe.querySelector(".gslide-inline"),ut=null,M(Le,"gslide-image")&&(ut=Le.querySelector("img")),(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>769&&(Le=qe.querySelector(".ginner-container")),I(gt,"greset"),an.pageX>20&&an.pageX<window.innerWidth-20)return;an.preventDefault()}},touchMove:function(an){if(Xe&&(At=an.targetTouches[0],!Zt&&!Xt)){if(ie&&ie.offsetHeight>ke){var bn=$t.pageX-At.pageX;if(Math.abs(bn)<=13)return!1}bt=!0;var vi,_i=an.targetTouches[0].clientX,ui=an.targetTouches[0].clientY,Mi=ii-_i,Wn=li-ui;if(Math.abs(Mi)>Math.abs(Wn)?(Lt=!1,Wt=!0):(Wt=!1,Lt=!0),H=At.pageX-$t.pageX,wt=100*H/be,q=At.pageY-$t.pageY,St=100*q/ke,Lt&&ut&&(vi=1-Math.abs(q)/ke,gt.style.opacity=vi,re.settings.touchFollowAxis&&(wt=0)),Wt&&(vi=1-Math.abs(H)/be,Le.style.opacity=vi,re.settings.touchFollowAxis&&(St=0)),!ut)return b(Le,"translate3d(".concat(wt,"%, 0, 0)"));b(Le,"translate3d(".concat(wt,"%, ").concat(St,"%, 0)"))}},touchEnd:function(){if(Xe){if(bt=!1,Xt||Zt)return kn=Jt,void(qn=Mn);var an=Math.abs(parseInt(St)),bn=Math.abs(parseInt(wt));if(!(an>29&&ut))return an<29&&bn<25?(_(gt,"greset"),gt.style.opacity=1,Ke(Le)):void 0;re.close()}},multipointEnd:function(){setTimeout(function(){Zt=!1},50)},multipointStart:function(){Zt=!0,zt=qt||1},pinch:function(an){if(!ut||bt)return!1;Zt=!0,ut.scaleX=ut.scaleY=zt*an.zoom;var bn=zt*an.zoom;if(Xt=!0,bn<=1)return Xt=!1,bn=1,qn=null,kn=null,Jt=null,Mn=null,void ut.setAttribute("style","");bn>4.5&&(bn=4.5),ut.style.transform="scale3d(".concat(bn,", ").concat(bn,", 1)"),qt=bn},pressMove:function(an){if(Xt&&!Zt){var bn=At.pageX-$t.pageX,vi=At.pageY-$t.pageY;kn&&(bn+=kn),qn&&(vi+=qn),Jt=bn,Mn=vi;var _i="translate3d(".concat(bn,"px, ").concat(vi,"px, 0)");qt&&(_i+=" scale3d(".concat(qt,", ").concat(qt,", 1)")),b(ut,_i)}},swipe:function(an){if(!Xt)if(Zt)Zt=!1;else{if(an.direction=="Left"){if(re.index==re.elements.length-1)return Ke(Le);re.nextSlide()}if(an.direction=="Right"){if(re.index==0)return Ke(Le);re.prevSlide()}}}});re.events.touch=Jn}var Me=function(){function re(H,q){var ie=this,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(i(this,re),this.img=H,this.slide=q,this.onclose=ue,this.img.setZoomEvents)return!1;this.active=!1,this.zoomedIn=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.img.addEventListener("mousedown",function(be){return ie.dragStart(be)},!1),this.img.addEventListener("mouseup",function(be){return ie.dragEnd(be)},!1),this.img.addEventListener("mousemove",function(be){return ie.drag(be)},!1),this.img.addEventListener("click",function(be){return ie.slide.classList.contains("dragging-nav")?(ie.zoomOut(),!1):ie.zoomedIn?void(ie.zoomedIn&&!ie.dragging&&ie.zoomOut()):ie.zoomIn()},!1),this.img.setZoomEvents=!0}return a(re,[{key:"zoomIn",value:function(){var H=this.widowWidth();if(!(this.zoomedIn||H<=768)){var q=this.img;if(q.setAttribute("data-style",q.getAttribute("style")),q.style.maxWidth=q.naturalWidth+"px",q.style.maxHeight=q.naturalHeight+"px",q.naturalWidth>H){var ie=H/2-q.naturalWidth/2;this.setTranslate(this.img.parentNode,ie,0)}this.slide.classList.add("zoomed"),this.zoomedIn=!0}}},{key:"zoomOut",value:function(){this.img.parentNode.setAttribute("style",""),this.img.setAttribute("style",this.img.getAttribute("data-style")),this.slide.classList.remove("zoomed"),this.zoomedIn=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.onclose&&typeof this.onclose=="function"&&this.onclose()}},{key:"dragStart",value:function(H){H.preventDefault(),this.zoomedIn?(H.type==="touchstart"?(this.initialX=H.touches[0].clientX-this.xOffset,this.initialY=H.touches[0].clientY-this.yOffset):(this.initialX=H.clientX-this.xOffset,this.initialY=H.clientY-this.yOffset),H.target===this.img&&(this.active=!0,this.img.classList.add("dragging"))):this.active=!1}},{key:"dragEnd",value:function(H){var q=this;H.preventDefault(),this.initialX=this.currentX,this.initialY=this.currentY,this.active=!1,setTimeout(function(){q.dragging=!1,q.img.isDragging=!1,q.img.classList.remove("dragging")},100)}},{key:"drag",value:function(H){this.active&&(H.preventDefault(),H.type==="touchmove"?(this.currentX=H.touches[0].clientX-this.initialX,this.currentY=H.touches[0].clientY-this.initialY):(this.currentX=H.clientX-this.initialX,this.currentY=H.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.img.isDragging=!0,this.dragging=!0,this.setTranslate(this.img,this.currentX,this.currentY))}},{key:"onMove",value:function(H){if(this.zoomedIn){var q=H.clientX-this.img.naturalWidth/2,ie=H.clientY-this.img.naturalHeight/2;this.setTranslate(this.img,q,ie)}}},{key:"setTranslate",value:function(H,q,ie){H.style.transform="translate3d("+q+"px, "+ie+"px, 0)"}},{key:"widowWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}]),re}(),Be=function(){function re(){var H=this,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};i(this,re);var ie=q.dragEl,ue=q.toleranceX,be=ue===void 0?40:ue,ke=q.toleranceY,Xe=ke===void 0?65:ke,qe=q.slide,Le=qe===void 0?null:qe,ut=q.instance,bt=ut===void 0?null:ut;this.el=ie,this.active=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.direction=null,this.lastDirection=null,this.toleranceX=be,this.toleranceY=Xe,this.toleranceReached=!1,this.dragContainer=this.el,this.slide=Le,this.instance=bt,this.el.addEventListener("mousedown",function(zt){return H.dragStart(zt)},!1),this.el.addEventListener("mouseup",function(zt){return H.dragEnd(zt)},!1),this.el.addEventListener("mousemove",function(zt){return H.drag(zt)},!1)}return a(re,[{key:"dragStart",value:function(H){if(this.slide.classList.contains("zoomed"))this.active=!1;else{H.type==="touchstart"?(this.initialX=H.touches[0].clientX-this.xOffset,this.initialY=H.touches[0].clientY-this.yOffset):(this.initialX=H.clientX-this.xOffset,this.initialY=H.clientY-this.yOffset);var q=H.target.nodeName.toLowerCase();H.target.classList.contains("nodrag")||P(H.target,".nodrag")||["input","select","textarea","button","a"].indexOf(q)!==-1?this.active=!1:(H.preventDefault(),(H.target===this.el||q!=="img"&&P(H.target,".gslide-inline"))&&(this.active=!0,this.el.classList.add("dragging"),this.dragContainer=P(H.target,".ginner-container")))}}},{key:"dragEnd",value:function(H){var q=this;H&&H.preventDefault(),this.initialX=0,this.initialY=0,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.active=!1,this.doSlideChange&&(this.instance.preventOutsideClick=!0,this.doSlideChange=="right"&&this.instance.prevSlide(),this.doSlideChange=="left"&&this.instance.nextSlide()),this.doSlideClose&&this.instance.close(),this.toleranceReached||this.setTranslate(this.dragContainer,0,0,!0),setTimeout(function(){q.instance.preventOutsideClick=!1,q.toleranceReached=!1,q.lastDirection=null,q.dragging=!1,q.el.isDragging=!1,q.el.classList.remove("dragging"),q.slide.classList.remove("dragging-nav"),q.dragContainer.style.transform="",q.dragContainer.style.transition=""},100)}},{key:"drag",value:function(H){if(this.active){H.preventDefault(),this.slide.classList.add("dragging-nav"),H.type==="touchmove"?(this.currentX=H.touches[0].clientX-this.initialX,this.currentY=H.touches[0].clientY-this.initialY):(this.currentX=H.clientX-this.initialX,this.currentY=H.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.el.isDragging=!0,this.dragging=!0,this.doSlideChange=!1,this.doSlideClose=!1;var q=Math.abs(this.currentX),ie=Math.abs(this.currentY);if(q>0&&q>=Math.abs(this.currentY)&&(!this.lastDirection||this.lastDirection=="x")){this.yOffset=0,this.lastDirection="x",this.setTranslate(this.dragContainer,this.currentX,0);var ue=this.shouldChange();if(!this.instance.settings.dragAutoSnap&&ue&&(this.doSlideChange=ue),this.instance.settings.dragAutoSnap&&ue)return this.instance.preventOutsideClick=!0,this.toleranceReached=!0,this.active=!1,this.instance.preventOutsideClick=!0,this.dragEnd(null),ue=="right"&&this.instance.prevSlide(),void(ue=="left"&&this.instance.nextSlide())}if(this.toleranceY>0&&ie>0&&ie>=q&&(!this.lastDirection||this.lastDirection=="y")){this.xOffset=0,this.lastDirection="y",this.setTranslate(this.dragContainer,0,this.currentY);var be=this.shouldClose();return!this.instance.settings.dragAutoSnap&&be&&(this.doSlideClose=!0),void(this.instance.settings.dragAutoSnap&&be&&this.instance.close())}}}},{key:"shouldChange",value:function(){var H=!1;if(Math.abs(this.currentX)>=this.toleranceX){var q=this.currentX>0?"right":"left";(q=="left"&&this.slide!==this.slide.parentNode.lastChild||q=="right"&&this.slide!==this.slide.parentNode.firstChild)&&(H=q)}return H}},{key:"shouldClose",value:function(){var H=!1;return Math.abs(this.currentY)>=this.toleranceY&&(H=!0),H}},{key:"setTranslate",value:function(H,q,ie){var ue=arguments.length>3&&arguments[3]!==void 0&&arguments[3];H.style.transition=ue?"all .2s ease":"",H.style.transform="translate3d(".concat(q,"px, ").concat(ie,"px, 0)")}}]),re}();function Oe(re,H,q,ie){var ue=re.querySelector(".gslide-media"),be=new Image,ke="gSlideTitle_"+q,Xe="gSlideDesc_"+q;be.addEventListener("load",function(){S(ie)&&ie()},!1),be.src=H.href,H.sizes!=""&&H.srcset!=""&&(be.sizes=H.sizes,be.srcset=H.srcset),be.alt="",ee(H.alt)||H.alt===""||(be.alt=H.alt),H.title!==""&&be.setAttribute("aria-labelledby",ke),H.description!==""&&be.setAttribute("aria-describedby",Xe),H.hasOwnProperty("_hasCustomWidth")&&H._hasCustomWidth&&(be.style.width=H.width),H.hasOwnProperty("_hasCustomHeight")&&H._hasCustomHeight&&(be.style.height=H.height),ue.insertBefore(be,ue.firstChild)}function Se(re,H,q,ie){var ue=this,be=re.querySelector(".ginner-container"),ke="gvideo"+q,Xe=re.querySelector(".gslide-media"),qe=this.getAllPlayers();_(be,"gvideo-container"),Xe.insertBefore(m('<div class="gvideo-wrapper"></div>'),Xe.firstChild);var Le=re.querySelector(".gvideo-wrapper");C(this.settings.plyr.css,"Plyr");var ut=H.href,bt=H==null?void 0:H.videoProvider,zt=!1;Xe.style.maxWidth=H.width,C(this.settings.plyr.js,"Plyr",function(){if(!bt&&ut.match(/vimeo\.com\/([0-9]*)/)&&(bt="vimeo"),!bt&&(ut.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||ut.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||ut.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/))&&(bt="youtube"),bt==="local"||!bt){bt="local";var qt='<video id="'+ke+'" ';qt+='style="background:#000; max-width: '.concat(H.width,';" '),qt+='preload="metadata" ',qt+='x-webkit-airplay="allow" ',qt+="playsinline ",qt+="controls ",qt+='class="gvideo-local">',qt+='<source src="'.concat(ut,'">'),zt=m(qt+="</video>")}var Zt=zt||m('<div id="'.concat(ke,'" data-plyr-provider="').concat(bt,'" data-plyr-embed-id="').concat(ut,'"></div>'));_(Le,"".concat(bt,"-video gvideo")),Le.appendChild(Zt),Le.setAttribute("data-id",ke),Le.setAttribute("data-index",q);var Xt=ce(ue.settings.plyr,"config")?ue.settings.plyr.config:{},Jt=new Plyr("#"+ke,Xt);Jt.on("ready",function(Mn){qe[ke]=Mn.detail.plyr,S(ie)&&ie()}),h(function(){return re.querySelector("iframe")&&re.querySelector("iframe").dataset.ready=="true"},function(){ue.resize(re)}),Jt.on("enterfullscreen",Ye),Jt.on("exitfullscreen",Ye)})}function Ye(re){var H=P(re.target,".gslide-media");re.type==="enterfullscreen"&&_(H,"fullscreen"),re.type==="exitfullscreen"&&I(H,"fullscreen")}function ve(re,H,q,ie){var ue,be=this,ke=re.querySelector(".gslide-media"),Xe=!(!ce(H,"href")||!H.href)&&H.href.split("#").pop().trim(),qe=!(!ce(H,"content")||!H.content)&&H.content;if(qe&&(k(qe)&&(ue=m('<div class="ginlined-content">'.concat(qe,"</div>"))),L(qe))){qe.style.display=="none"&&(qe.style.display="block");var Le=document.createElement("div");Le.className="ginlined-content",Le.appendChild(qe),ue=Le}if(Xe){var ut=document.getElementById(Xe);if(!ut)return!1;var bt=ut.cloneNode(!0);bt.style.height=H.height,bt.style.maxWidth=H.width,_(bt,"ginlined-content"),ue=bt}if(!ue)return console.error("Unable to append inline slide content",H),!1;ke.style.height=H.height,ke.style.width=H.width,ke.appendChild(ue),this.events["inlineclose"+Xe]=l("click",{onElement:ke.querySelectorAll(".gtrigger-close"),withCallback:function(zt){zt.preventDefault(),be.close()}}),S(ie)&&ie()}function Ce(re,H,q,ie){var ue=re.querySelector(".gslide-media"),be=function(ke){var Xe=ke.url,qe=ke.allow,Le=ke.callback,ut=ke.appendTo,bt=document.createElement("iframe");return bt.className="vimeo-video gvideo",bt.src=Xe,bt.style.width="100%",bt.style.height="100%",qe&&bt.setAttribute("allow",qe),bt.onload=function(){bt.onload=null,_(bt,"node-ready"),S(Le)&&Le()},ut&&ut.appendChild(bt),bt}({url:H.href,callback:ie});ue.parentNode.style.maxWidth=H.width,ue.parentNode.style.height=H.height,ue.appendChild(be)}var _e=function(){function re(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};i(this,re),this.defaults={href:"",sizes:"",srcset:"",title:"",type:"",videoProvider:"",description:"",alt:"",descPosition:"bottom",effect:"",width:"",height:"",content:!1,zoomable:!0,draggable:!0},X(H)&&(this.defaults=s(this.defaults,H))}return a(re,[{key:"sourceType",value:function(H){var q=H;return(H=H.toLowerCase()).match(/\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/)!==null?"image":H.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||H.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||H.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)||H.match(/vimeo\.com\/([0-9]*)/)||H.match(/\.(mp4|ogg|webm|mov)/)!==null?"video":H.match(/\.(mp3|wav|wma|aac|ogg)/)!==null?"audio":H.indexOf("#")>-1&&q.split("#").pop().trim()!==""?"inline":H.indexOf("goajax=true")>-1?"ajax":"external"}},{key:"parseConfig",value:function(H,q){var ie=this,ue=s({descPosition:q.descPosition},this.defaults);if(X(H)&&!L(H)){ce(H,"type")||(ce(H,"content")&&H.content?H.type="inline":ce(H,"href")&&(H.type=this.sourceType(H.href)));var be=s(ue,H);return this.setSize(be,q),be}var ke="",Xe=H.getAttribute("data-glightbox"),qe=H.nodeName.toLowerCase();if(qe==="a"&&(ke=H.href),qe==="img"&&(ke=H.src,ue.alt=H.alt),ue.href=ke,u(ue,function(Zt,Xt){ce(q,Xt)&&Xt!=="width"&&(ue[Xt]=q[Xt]);var Jt=H.dataset[Xt];ee(Jt)||(ue[Xt]=ie.sanitizeValue(Jt))}),ue.content&&(ue.type="inline"),!ue.type&&ke&&(ue.type=this.sourceType(ke)),ee(Xe)){if(!ue.title&&qe=="a"){var Le=H.title;ee(Le)||Le===""||(ue.title=Le)}if(!ue.title&&qe=="img"){var ut=H.alt;ee(ut)||ut===""||(ue.title=ut)}}else{var bt=[];u(ue,function(Zt,Xt){bt.push(";\\s?"+Xt)}),bt=bt.join("\\s?:|"),Xe.trim()!==""&&u(ue,function(Zt,Xt){var Jt=Xe,Mn=new RegExp("s?"+Xt+"s?:s?(.*?)("+bt+"s?:|$)"),kn=Jt.match(Mn);if(kn&&kn.length&&kn[1]){var qn=kn[1].trim().replace(/;\s*$/,"");ue[Xt]=ie.sanitizeValue(qn)}})}if(ue.description&&ue.description.substring(0,1)==="."){var zt;try{zt=document.querySelector(ue.description).innerHTML}catch(Zt){if(!(Zt instanceof DOMException))throw Zt}zt&&(ue.description=zt)}if(!ue.description){var qt=H.querySelector(".glightbox-desc");qt&&(ue.description=qt.innerHTML)}return this.setSize(ue,q,H),this.slideConfig=ue,ue}},{key:"setSize",value:function(H,q){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ue=H.type=="video"?this.checkSize(q.videosWidth):this.checkSize(q.width),be=this.checkSize(q.height);return H.width=ce(H,"width")&&H.width!==""?this.checkSize(H.width):ue,H.height=ce(H,"height")&&H.height!==""?this.checkSize(H.height):be,ie&&H.type=="image"&&(H._hasCustomWidth=!!ie.dataset.width,H._hasCustomHeight=!!ie.dataset.height),H}},{key:"checkSize",value:function(H){return me(H)?"".concat(H,"px"):H}},{key:"sanitizeValue",value:function(H){return H!=="true"&&H!=="false"?H:H==="true"}}]),re}(),pe=function(){function re(H,q,ie){i(this,re),this.element=H,this.instance=q,this.index=ie}return a(re,[{key:"setContent",value:function(){var H=this,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,ie=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(M(q,"loaded"))return!1;var ue=this.instance.settings,be=this.slideConfig,ke=D();S(ue.beforeSlideLoad)&&ue.beforeSlideLoad({index:this.index,slide:q,player:!1});var Xe=be.type,qe=be.descPosition,Le=q.querySelector(".gslide-media"),ut=q.querySelector(".gslide-title"),bt=q.querySelector(".gslide-desc"),zt=q.querySelector(".gdesc-inner"),qt=ie,Zt="gSlideTitle_"+this.index,Xt="gSlideDesc_"+this.index;if(S(ue.afterSlideLoad)&&(qt=function(){S(ie)&&ie(),ue.afterSlideLoad({index:H.index,slide:q,player:H.instance.getSlidePlayerInstance(H.index)})}),be.title==""&&be.description==""?zt&&zt.parentNode.parentNode.removeChild(zt.parentNode):(ut&&be.title!==""?(ut.id=Zt,ut.innerHTML=be.title):ut.parentNode.removeChild(ut),bt&&be.description!==""?(bt.id=Xt,ke&&ue.moreLength>0?(be.smallDescription=this.slideShortDesc(be.description,ue.moreLength,ue.moreText),bt.innerHTML=be.smallDescription,this.descriptionEvents(bt,be)):bt.innerHTML=be.description):bt.parentNode.removeChild(bt),_(Le.parentNode,"desc-".concat(qe)),_(zt.parentNode,"description-".concat(qe))),_(Le,"gslide-".concat(Xe)),_(q,"loaded"),Xe!=="video"){if(Xe!=="external")return Xe==="inline"?(ve.apply(this.instance,[q,be,this.index,qt]),void(be.draggable&&new Be({dragEl:q.querySelector(".gslide-inline"),toleranceX:ue.dragToleranceX,toleranceY:ue.dragToleranceY,slide:q,instance:this.instance}))):void(Xe!=="image"?S(qt)&&qt():Oe(q,be,this.index,function(){var Jt=q.querySelector("img");be.draggable&&new Be({dragEl:Jt,toleranceX:ue.dragToleranceX,toleranceY:ue.dragToleranceY,slide:q,instance:H.instance}),be.zoomable&&Jt.naturalWidth>Jt.offsetWidth&&(_(Jt,"zoomable"),new Me(Jt,q,function(){H.instance.resize()})),S(qt)&&qt()}));Ce.apply(this,[q,be,this.index,qt])}else Se.apply(this.instance,[q,be,this.index,qt])}},{key:"slideShortDesc",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:50,ie=arguments.length>2&&arguments[2]!==void 0&&arguments[2],ue=document.createElement("div");ue.innerHTML=H;var be=ue.innerText,ke=ie;if((H=be.trim()).length<=q)return H;var Xe=H.substr(0,q-1);return ke?(ue=null,Xe+'... <a href="#" class="desc-more">'+ie+"</a>"):Xe}},{key:"descriptionEvents",value:function(H,q){var ie=this,ue=H.querySelector(".desc-more");if(!ue)return!1;l("click",{onElement:ue,withCallback:function(be,ke){be.preventDefault();var Xe=document.body,qe=P(ke,".gslide-desc");if(!qe)return!1;qe.innerHTML=q.description,_(Xe,"gdesc-open");var Le=l("click",{onElement:[Xe,P(qe,".gslide-description")],withCallback:function(ut,bt){ut.target.nodeName.toLowerCase()!=="a"&&(I(Xe,"gdesc-open"),_(Xe,"gdesc-closed"),qe.innerHTML=q.smallDescription,ie.descriptionEvents(qe,q),setTimeout(function(){I(Xe,"gdesc-closed")},400),Le.destroy())}})}})}},{key:"create",value:function(){return m(this.instance.settings.slideHTML)}},{key:"getConfig",value:function(){L(this.element)||this.element.hasOwnProperty("draggable")||(this.element.draggable=this.instance.settings.draggable);var H=new _e(this.instance.settings.slideExtraAttributes);return this.slideConfig=H.parseConfig(this.element,this.instance.settings),this.slideConfig}}]),re}(),Ve=D(),Ze=D()!==null||document.createTouch!==void 0||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints,ht=document.getElementsByTagName("html")[0],ot={selector:".glightbox",elements:null,skin:"clean",theme:"clean",closeButton:!0,startAt:null,autoplayVideos:!0,autofocusVideos:!0,descPosition:"bottom",width:"900px",height:"506px",videosWidth:"960px",beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,slideInserted:null,slideRemoved:null,slideExtraAttributes:null,onOpen:null,onClose:null,loop:!1,zoomable:!0,draggable:!0,dragAutoSnap:!1,dragToleranceX:40,dragToleranceY:65,preload:!0,oneSlidePerOpen:!1,touchNavigation:!0,touchFollowAxis:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,plugins:!1,plyr:{css:"https://cdn.plyr.io/3.6.12/plyr.css",js:"https://cdn.plyr.io/3.6.12/plyr.js",config:{ratio:"16:9",fullscreen:{enabled:!0,iosNative:!0},youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3},vimeo:{byline:!1,portrait:!1,title:!1,transparent:!1}}},openEffect:"zoom",closeEffect:"zoom",slideEffect:"slide",moreText:"See more",moreLength:60,cssEfects:{fade:{in:"fadeIn",out:"fadeOut"},zoom:{in:"zoomIn",out:"zoomOut"},slide:{in:"slideInRight",out:"slideOutLeft"},slideBack:{in:"slideInLeft",out:"slideOutRight"},none:{in:"none",out:"none"}},svg:{close:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><g><g><path d="M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z"/></g></g><g><g><path d="M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z"/></g></g></svg>',next:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"> <g><path d="M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z"/></g></svg>',prev:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"><g><path d="M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"/></g></svg>'},slideHTML:`<div class="gslide">
    <div class="gslide-inner-content">
        <div class="ginner-container">
            <div class="gslide-media">
            </div>
            <div class="gslide-description">
                <div class="gdesc-inner">
                    <h4 class="gslide-title"></h4>
                    <div class="gslide-desc"></div>
                </div>
            </div>
        </div>
    </div>
</div>`,lightboxHTML:`<div id="glightbox-body" class="glightbox-container" tabindex="-1" role="dialog" aria-hidden="false">
    <div class="gloader visible"></div>
    <div class="goverlay"></div>
    <div class="gcontainer">
    <div id="glightbox-slider" class="gslider"></div>
    <button class="gclose gbtn" aria-label="Close" data-taborder="3">{closeSVG}</button>
    <button class="gprev gbtn" aria-label="Previous" data-taborder="2">{prevSVG}</button>
    <button class="gnext gbtn" aria-label="Next" data-taborder="1">{nextSVG}</button>
</div>
</div>`},st=function(){function re(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};i(this,re),this.customOptions=H,this.settings=s(ot,H),this.effectsClasses=this.getAnimationClasses(),this.videoPlayers={},this.apiEvents=[],this.fullElementsList=!1}return a(re,[{key:"init",value:function(){var H=this,q=this.getSelector();q&&(this.baseEvents=l("click",{onElement:q,withCallback:function(ie,ue){ie.preventDefault(),H.open(ue)}})),this.elements=this.getElements()}},{key:"open",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.elements.length===0)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var ie=me(q)?q:this.settings.startAt;if(L(H)){var ue=H.getAttribute("data-gallery");ue&&(this.fullElementsList=this.elements,this.elements=this.getGalleryElements(this.elements,ue)),ee(ie)&&(ie=this.getElementIndex(H))<0&&(ie=0)}me(ie)||(ie=0),this.build(),N(this.overlay,this.settings.openEffect==="none"?"none":this.settings.cssEfects.fade.in);var be=document.body,ke=window.innerWidth-document.documentElement.clientWidth;if(ke>0){var Xe=document.createElement("style");Xe.type="text/css",Xe.className="gcss-styles",Xe.innerText=".gscrollbar-fixer {margin-right: ".concat(ke,"px}"),document.head.appendChild(Xe),_(be,"gscrollbar-fixer")}_(be,"glightbox-open"),_(ht,"glightbox-open"),Ve&&(_(document.body,"glightbox-mobile"),this.settings.slideEffect="slide"),this.showSlide(ie,!0),this.elements.length===1?(_(this.prevButton,"glightbox-button-hidden"),_(this.nextButton,"glightbox-button-hidden")):(I(this.prevButton,"glightbox-button-hidden"),I(this.nextButton,"glightbox-button-hidden")),this.lightboxOpen=!0,this.trigger("open"),S(this.settings.onOpen)&&this.settings.onOpen(),Ze&&this.settings.touchNavigation&&Mt(this),this.settings.keyboardNavigation&&Pe(this)}},{key:"openAt",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.open(null,H)}},{key:"showSlide",value:function(){var H=this,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ie=arguments.length>1&&arguments[1]!==void 0&&arguments[1];f(this.loader),this.index=parseInt(q);var ue=this.slidesContainer.querySelector(".current");ue&&I(ue,"current"),this.slideAnimateOut();var be=this.slidesContainer.querySelectorAll(".gslide")[q];if(M(be,"loaded"))this.slideAnimateIn(be,ie),v(this.loader);else{f(this.loader);var ke=this.elements[q],Xe={index:this.index,slide:be,slideNode:be,slideConfig:ke.slideConfig,slideIndex:this.index,trigger:ke.node,player:null};this.trigger("slide_before_load",Xe),ke.instance.setContent(be,function(){v(H.loader),H.resize(),H.slideAnimateIn(be,ie),H.trigger("slide_after_load",Xe)})}this.slideDescription=be.querySelector(".gslide-description"),this.slideDescriptionContained=this.slideDescription&&M(this.slideDescription.parentNode,"gslide-media"),this.settings.preload&&(this.preloadSlide(q+1),this.preloadSlide(q-1)),this.updateNavigationClasses(),this.activeSlide=be}},{key:"preloadSlide",value:function(H){var q=this;if(H<0||H>this.elements.length-1||ee(this.elements[H]))return!1;var ie=this.slidesContainer.querySelectorAll(".gslide")[H];if(M(ie,"loaded"))return!1;var ue=this.elements[H],be=ue.type,ke={index:H,slide:ie,slideNode:ie,slideConfig:ue.slideConfig,slideIndex:H,trigger:ue.node,player:null};this.trigger("slide_before_load",ke),be==="video"||be==="external"?setTimeout(function(){ue.instance.setContent(ie,function(){q.trigger("slide_after_load",ke)})},200):ue.instance.setContent(ie,function(){q.trigger("slide_after_load",ke)})}},{key:"prevSlide",value:function(){this.goToSlide(this.index-1)}},{key:"nextSlide",value:function(){this.goToSlide(this.index+1)}},{key:"goToSlide",value:function(){var H=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index,!this.loop()&&(H<0||H>this.elements.length-1))return!1;H<0?H=this.elements.length-1:H>=this.elements.length&&(H=0),this.showSlide(H)}},{key:"insertSlide",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;q<0&&(q=this.elements.length);var ie=new pe(H,this,q),ue=ie.getConfig(),be=s({},ue),ke=ie.create(),Xe=this.elements.length-1;be.index=q,be.node=!1,be.instance=ie,be.slideConfig=ue,this.elements.splice(q,0,be);var qe=null,Le=null;if(this.slidesContainer){if(q>Xe)this.slidesContainer.appendChild(ke);else{var ut=this.slidesContainer.querySelectorAll(".gslide")[q];this.slidesContainer.insertBefore(ke,ut)}(this.settings.preload&&this.index==0&&q==0||this.index-1==q||this.index+1==q)&&this.preloadSlide(q),this.index===0&&q===0&&(this.index=1),this.updateNavigationClasses(),qe=this.slidesContainer.querySelectorAll(".gslide")[q],Le=this.getSlidePlayerInstance(q),be.slideNode=qe}this.trigger("slide_inserted",{index:q,slide:qe,slideNode:qe,slideConfig:ue,slideIndex:q,trigger:null,player:Le}),S(this.settings.slideInserted)&&this.settings.slideInserted({index:q,slide:qe,player:Le})}},{key:"removeSlide",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;if(H<0||H>this.elements.length-1)return!1;var q=this.slidesContainer&&this.slidesContainer.querySelectorAll(".gslide")[H];q&&(this.getActiveSlideIndex()==H&&(H==this.elements.length-1?this.prevSlide():this.nextSlide()),q.parentNode.removeChild(q)),this.elements.splice(H,1),this.trigger("slide_removed",H),S(this.settings.slideRemoved)&&this.settings.slideRemoved(H)}},{key:"slideAnimateIn",value:function(H,q){var ie=this,ue=H.querySelector(".gslide-media"),be=H.querySelector(".gslide-description"),ke={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlide,slideConfig:ee(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:ee(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},Xe={index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideConfig:this.elements[this.index].slideConfig,slideIndex:this.index,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)};if(ue.offsetWidth>0&&be&&(v(be),be.style.display=""),I(H,this.effectsClasses),q)N(H,this.settings.cssEfects[this.settings.openEffect].in,function(){ie.settings.autoplayVideos&&ie.slidePlayerPlay(H),ie.trigger("slide_changed",{prev:ke,current:Xe}),S(ie.settings.afterSlideChange)&&ie.settings.afterSlideChange.apply(ie,[ke,Xe])});else{var qe=this.settings.slideEffect,Le=qe!=="none"?this.settings.cssEfects[qe].in:qe;this.prevActiveSlideIndex>this.index&&this.settings.slideEffect=="slide"&&(Le=this.settings.cssEfects.slideBack.in),N(H,Le,function(){ie.settings.autoplayVideos&&ie.slidePlayerPlay(H),ie.trigger("slide_changed",{prev:ke,current:Xe}),S(ie.settings.afterSlideChange)&&ie.settings.afterSlideChange.apply(ie,[ke,Xe])})}setTimeout(function(){ie.resize(H)},100),_(H,"current")}},{key:"slideAnimateOut",value:function(){if(!this.prevActiveSlide)return!1;var H=this.prevActiveSlide;I(H,this.effectsClasses),_(H,"prev");var q=this.settings.slideEffect,ie=q!=="none"?this.settings.cssEfects[q].out:q;this.slidePlayerPause(H),this.trigger("slide_before_change",{prev:{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlideIndex,slideConfig:ee(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:ee(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},current:{index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideIndex:this.index,slideConfig:this.elements[this.index].slideConfig,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)}}),S(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},{index:this.index,slide:this.activeSlide,player:this.getSlidePlayerInstance(this.index)}]),this.prevActiveSlideIndex>this.index&&this.settings.slideEffect=="slide"&&(ie=this.settings.cssEfects.slideBack.out),N(H,ie,function(){var ue=H.querySelector(".ginner-container"),be=H.querySelector(".gslide-media"),ke=H.querySelector(".gslide-description");ue.style.transform="",be.style.transform="",I(be,"greset"),be.style.opacity="",ke&&(ke.style.opacity=""),I(H,"prev")})}},{key:"getAllPlayers",value:function(){return this.videoPlayers}},{key:"getSlidePlayerInstance",value:function(H){var q="gvideo"+H,ie=this.getAllPlayers();return!(!ce(ie,q)||!ie[q])&&ie[q]}},{key:"stopSlideVideo",value:function(H){if(L(H)){var q=H.querySelector(".gvideo-wrapper");q&&(H=q.getAttribute("data-index"))}console.log("stopSlideVideo is deprecated, use slidePlayerPause");var ie=this.getSlidePlayerInstance(H);ie&&ie.playing&&ie.pause()}},{key:"slidePlayerPause",value:function(H){if(L(H)){var q=H.querySelector(".gvideo-wrapper");q&&(H=q.getAttribute("data-index"))}var ie=this.getSlidePlayerInstance(H);ie&&ie.playing&&ie.pause()}},{key:"playSlideVideo",value:function(H){if(L(H)){var q=H.querySelector(".gvideo-wrapper");q&&(H=q.getAttribute("data-index"))}console.log("playSlideVideo is deprecated, use slidePlayerPlay");var ie=this.getSlidePlayerInstance(H);ie&&!ie.playing&&ie.play()}},{key:"slidePlayerPlay",value:function(H){var q;if(!Ve||(q=this.settings.plyr.config)!==null&&q!==void 0&&q.muted){if(L(H)){var ie=H.querySelector(".gvideo-wrapper");ie&&(H=ie.getAttribute("data-index"))}var ue=this.getSlidePlayerInstance(H);ue&&!ue.playing&&(ue.play(),this.settings.autofocusVideos&&ue.elements.container.focus())}}},{key:"setElements",value:function(H){var q=this;this.settings.elements=!1;var ie=[];H&&H.length&&u(H,function(ue,be){var ke=new pe(ue,q,be),Xe=ke.getConfig(),qe=s({},Xe);qe.slideConfig=Xe,qe.instance=ke,qe.index=be,ie.push(qe)}),this.elements=ie,this.lightboxOpen&&(this.slidesContainer.innerHTML="",this.elements.length&&(u(this.elements,function(){var ue=m(q.settings.slideHTML);q.slidesContainer.appendChild(ue)}),this.showSlide(0,!0)))}},{key:"getElementIndex",value:function(H){var q=!1;return u(this.elements,function(ie,ue){if(ce(ie,"node")&&ie.node==H)return q=ue,!0}),q}},{key:"getElements",value:function(){var H=this,q=[];this.elements=this.elements?this.elements:[],!ee(this.settings.elements)&&B(this.settings.elements)&&this.settings.elements.length&&u(this.settings.elements,function(ue,be){var ke=new pe(ue,H,be),Xe=ke.getConfig(),qe=s({},Xe);qe.node=!1,qe.index=be,qe.instance=ke,qe.slideConfig=Xe,q.push(qe)});var ie=!1;return this.getSelector()&&(ie=document.querySelectorAll(this.getSelector())),ie&&u(ie,function(ue,be){var ke=new pe(ue,H,be),Xe=ke.getConfig(),qe=s({},Xe);qe.node=ue,qe.index=be,qe.instance=ke,qe.slideConfig=Xe,qe.gallery=ue.getAttribute("data-gallery"),q.push(qe)}),q}},{key:"getGalleryElements",value:function(H,q){return H.filter(function(ie){return ie.gallery==q})}},{key:"getSelector",value:function(){return!this.settings.elements&&(this.settings.selector&&this.settings.selector.substring(0,5)=="data-"?"*[".concat(this.settings.selector,"]"):this.settings.selector)}},{key:"getActiveSlide",value:function(){return this.slidesContainer.querySelectorAll(".gslide")[this.index]}},{key:"getActiveSlideIndex",value:function(){return this.index}},{key:"getAnimationClasses",value:function(){var H=[];for(var q in this.settings.cssEfects)if(this.settings.cssEfects.hasOwnProperty(q)){var ie=this.settings.cssEfects[q];H.push("g".concat(ie.in)),H.push("g".concat(ie.out))}return H.join(" ")}},{key:"build",value:function(){var H=this;if(this.built)return!1;var q=document.body.childNodes,ie=[];u(q,function(ut){ut.parentNode==document.body&&ut.nodeName.charAt(0)!=="#"&&ut.hasAttribute&&!ut.hasAttribute("aria-hidden")&&(ie.push(ut),ut.setAttribute("aria-hidden","true"))});var ue=ce(this.settings.svg,"next")?this.settings.svg.next:"",be=ce(this.settings.svg,"prev")?this.settings.svg.prev:"",ke=ce(this.settings.svg,"close")?this.settings.svg.close:"",Xe=this.settings.lightboxHTML;Xe=m(Xe=(Xe=(Xe=Xe.replace(/{nextSVG}/g,ue)).replace(/{prevSVG}/g,be)).replace(/{closeSVG}/g,ke)),document.body.appendChild(Xe);var qe=document.getElementById("glightbox-body");this.modal=qe;var Le=qe.querySelector(".gclose");this.prevButton=qe.querySelector(".gprev"),this.nextButton=qe.querySelector(".gnext"),this.overlay=qe.querySelector(".goverlay"),this.loader=qe.querySelector(".gloader"),this.slidesContainer=document.getElementById("glightbox-slider"),this.bodyHiddenChildElms=ie,this.events={},_(this.modal,"glightbox-"+this.settings.skin),this.settings.closeButton&&Le&&(this.events.close=l("click",{onElement:Le,withCallback:function(ut,bt){ut.preventDefault(),H.close()}})),Le&&!this.settings.closeButton&&Le.parentNode.removeChild(Le),this.nextButton&&(this.events.next=l("click",{onElement:this.nextButton,withCallback:function(ut,bt){ut.preventDefault(),H.nextSlide()}})),this.prevButton&&(this.events.prev=l("click",{onElement:this.prevButton,withCallback:function(ut,bt){ut.preventDefault(),H.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=l("click",{onElement:qe,withCallback:function(ut,bt){H.preventOutsideClick||M(document.body,"glightbox-mobile")||P(ut.target,".ginner-container")||P(ut.target,".gbtn")||M(ut.target,"gnext")||M(ut.target,"gprev")||H.close()}})),u(this.elements,function(ut,bt){H.slidesContainer.appendChild(ut.instance.create()),ut.slideNode=H.slidesContainer.querySelectorAll(".gslide")[bt]}),Ze&&_(document.body,"glightbox-touch"),this.events.resize=l("resize",{onElement:window,withCallback:function(){H.resize()}}),this.built=!0}},{key:"resize",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if((H=H||this.activeSlide)&&!M(H,"zoomed")){var q=d(),ie=H.querySelector(".gvideo-wrapper"),ue=H.querySelector(".gslide-image"),be=this.slideDescription,ke=q.width,Xe=q.height;if(ke<=768?_(document.body,"glightbox-mobile"):I(document.body,"glightbox-mobile"),ie||ue){var qe=!1;if(be&&(M(be,"description-bottom")||M(be,"description-top"))&&!M(be,"gabsolute")&&(qe=!0),ue){if(ke<=768)ue.querySelector("img");else if(qe){var Le=be.offsetHeight,ut=ue.querySelector("img");ut.setAttribute("style","max-height: calc(100vh - ".concat(Le,"px)")),be.setAttribute("style","max-width: ".concat(ut.offsetWidth,"px;"))}}if(ie){var bt=ce(this.settings.plyr.config,"ratio")?this.settings.plyr.config.ratio:"";if(!bt){var zt=ie.clientWidth,qt=ie.clientHeight,Zt=zt/qt;bt="".concat(zt/Zt,":").concat(qt/Zt)}var Xt=bt.split(":"),Jt=this.settings.videosWidth,Mn=this.settings.videosWidth,kn=(Mn=me(Jt)||Jt.indexOf("px")!==-1?parseInt(Jt):Jt.indexOf("vw")!==-1?ke*parseInt(Jt)/100:Jt.indexOf("vh")!==-1?Xe*parseInt(Jt)/100:Jt.indexOf("%")!==-1?ke*parseInt(Jt)/100:parseInt(ie.clientWidth))/(parseInt(Xt[0])/parseInt(Xt[1]));if(kn=Math.floor(kn),qe&&(Xe-=be.offsetHeight),Mn>ke||kn>Xe||Xe<kn&&ke>Mn){var qn=ie.offsetWidth,wt=ie.offsetHeight,St=Xe/wt,Lt={width:qn*St,height:wt*St};ie.parentNode.setAttribute("style","max-width: ".concat(Lt.width,"px")),qe&&be.setAttribute("style","max-width: ".concat(Lt.width,"px;"))}else ie.parentNode.style.maxWidth="".concat(Jt),qe&&be.setAttribute("style","max-width: ".concat(Jt,";"))}}}}},{key:"reload",value:function(){this.init()}},{key:"updateNavigationClasses",value:function(){var H=this.loop();I(this.nextButton,"disabled"),I(this.prevButton,"disabled"),this.index==0&&this.elements.length-1==0?(_(this.prevButton,"disabled"),_(this.nextButton,"disabled")):this.index!==0||H?this.index!==this.elements.length-1||H||_(this.nextButton,"disabled"):_(this.prevButton,"disabled")}},{key:"loop",value:function(){var H=ce(this.settings,"loopAtEnd")?this.settings.loopAtEnd:null;return H=ce(this.settings,"loop")?this.settings.loop:H,H}},{key:"close",value:function(){var H=this;if(!this.lightboxOpen){if(this.events){for(var q in this.events)this.events.hasOwnProperty(q)&&this.events[q].destroy();this.events=null}return!1}if(this.closing)return!1;this.closing=!0,this.slidePlayerPause(this.activeSlide),this.fullElementsList&&(this.elements=this.fullElementsList),this.bodyHiddenChildElms.length&&u(this.bodyHiddenChildElms,function(ie){ie.removeAttribute("aria-hidden")}),_(this.modal,"glightbox-closing"),N(this.overlay,this.settings.openEffect=="none"?"none":this.settings.cssEfects.fade.out),N(this.activeSlide,this.settings.cssEfects[this.settings.closeEffect].out,function(){if(H.activeSlide=null,H.prevActiveSlideIndex=null,H.prevActiveSlide=null,H.built=!1,H.events){for(var ie in H.events)H.events.hasOwnProperty(ie)&&H.events[ie].destroy();H.events=null}var ue=document.body;I(ht,"glightbox-open"),I(ue,"glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer"),H.modal.parentNode.removeChild(H.modal),H.trigger("close"),S(H.settings.onClose)&&H.settings.onClose();var be=document.querySelector(".gcss-styles");be&&be.parentNode.removeChild(be),H.lightboxOpen=!1,H.closing=null})}},{key:"destroy",value:function(){this.close(),this.clearAllEvents(),this.baseEvents&&this.baseEvents.destroy()}},{key:"on",value:function(H,q){var ie=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!H||!S(q))throw new TypeError("Event name and callback must be defined");this.apiEvents.push({evt:H,once:ie,callback:q})}},{key:"once",value:function(H,q){this.on(H,q,!0)}},{key:"trigger",value:function(H){var q=this,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ue=[];u(this.apiEvents,function(be,ke){var Xe=be.evt,qe=be.once,Le=be.callback;Xe==H&&(Le(ie),qe&&ue.push(ke))}),ue.length&&u(ue,function(be){return q.apiEvents.splice(be,1)})}},{key:"clearAllEvents",value:function(){this.apiEvents.splice(0,this.apiEvents.length)}},{key:"version",value:function(){return"3.1.0"}}]),re}();return function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=new st(re);return H.init(),H}})})(L1);const Vj=L1.exports;class Pc{constructor(e,t=""){typeof e=="string"?(this.el=document.createElement(e),this.el.className=t):this.el=e,this.data={}}data(e,t){return t!==void 0?(this.data[e]=t,this):this.data[e]}on(e,t){const[i,...r]=e.split(".");let a=i;return a==="mousewheel"&&/Firefox/i.test(window.navigator.userAgent)&&(a="DOMMouseScroll"),this.el.addEventListener(a,o=>{t(o);for(let s=0;s<r.length;s+=1){const u=r[s];if(u==="left"&&o.button!==0||u==="right"&&o.button!==2)return;u==="stop"&&o.stopPropagation()}}),this}offset(e){if(e!==void 0)return Object.keys(e).forEach(o=>{this.css(o,`${e[o]}px`)}),this;const{offsetTop:t,offsetLeft:i,offsetHeight:r,offsetWidth:a}=this.el;return{top:t,left:i,height:r,width:a}}scroll(e){const{el:t}=this;return e!==void 0&&(e.left!==void 0&&(t.scrollLeft=e.left),e.top!==void 0&&(t.scrollTop=e.top)),{left:t.scrollLeft,top:t.scrollTop}}box(){return this.el.getBoundingClientRect()}parent(){return new Pc(this.el.parentNode)}children(...e){return arguments.length===0?this.el.childNodes:(e.forEach(t=>this.child(t)),this)}removeChild(e){this.el.removeChild(e)}child(e){let t=e;return typeof e=="string"?t=document.createTextNode(e):e instanceof Pc&&(t=e.el),this.el.appendChild(t),this}contains(e){return this.el.contains(e)}className(e){return e!==void 0?(this.el.className=e,this):this.el.className}addClass(e){return this.el.classList.add(e),this}hasClass(e){return this.el.classList.contains(e)}removeClass(e){return this.el.classList.remove(e),this}toggle(e="active"){return this.toggleClass(e)}toggleClass(e){return this.el.classList.toggle(e)}active(e=!0,t="active"){return e?this.addClass(t):this.removeClass(t),this}checked(e=!0){return this.active(e,"checked"),this}disabled(e=!0){return e?this.addClass("disabled"):this.removeClass("disabled"),this}attr(e,t){if(t!==void 0)this.el.setAttribute(e,t);else{if(typeof e=="string")return this.el.getAttribute(e);Object.keys(e).forEach(i=>{this.el.setAttribute(i,e[i])})}return this}removeAttr(e){return this.el.removeAttribute(e),this}html(e){return e!==void 0?(this.el.innerHTML=e,this):this.el.innerHTML}val(e){return e!==void 0?(this.el.value=e,this):this.el.value}focus(){this.el.focus()}cssRemoveKeys(...e){return e.forEach(t=>this.el.style.removeProperty(t)),this}css(e,t){return t===void 0&&typeof e!="string"?(Object.keys(e).forEach(i=>{this.el.style[i]=e[i]}),this):t!==void 0?(this.el.style[e]=t,this):this.el.style[e]}computedStyle(){return window.getComputedStyle(this.el,null)}show(){return this.css("display","block"),this}hide(){return this.css("display","none"),this}}const yt=(n,e="")=>new Pc(n,e),yl=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function R1(n){let e="",t=n;for(;t>=yl.length;)t/=yl.length,t-=1,e+=yl[parseInt(t,10)%yl.length];const i=n%yl.length;return e+=yl[i],e}function Xj(n){let e=0;for(let t=0;t<n.length-1;t+=1){const i=n.charCodeAt(t)-65,r=n.length-1-t;e+=yl.length**r+yl.length*i}return e+=n.charCodeAt(n.length-1)-65,e}function Il(n){let e="",t="";for(let i=0;i<n.length;i+=1)n.charAt(i)>="0"&&n.charAt(i)<="9"?t+=n.charAt(i):e+=n.charAt(i);return[Xj(e),parseInt(t,10)-1]}function Ao(n,e){return`${R1(n)}${e+1}`}function Af(n,e,t,i=()=>!0){if(e===0&&t===0)return n;const[r,a]=Il(n);return i(r,a)?Ao(r+e,a+t):n}class Ki{constructor(e,t,i,r,a=0,o=0){this.sri=e,this.sci=t,this.eri=i,this.eci=r,this.w=a,this.h=o}set(e,t,i,r){this.sri=e,this.sci=t,this.eri=i,this.eci=r}multiple(){return this.eri-this.sri>0||this.eci-this.sci>0}includes(...e){let[t,i]=[0,0];e.length===1?[i,t]=Il(e[0]):e.length===2&&([t,i]=e);const{sri:r,sci:a,eri:o,eci:s}=this;return r<=t&&t<=o&&a<=i&&i<=s}each(e,t=()=>!0){const{sri:i,sci:r,eri:a,eci:o}=this;for(let s=i;s<=a;s+=1)if(t(s))for(let u=r;u<=o;u+=1)e(s,u)}contains(e){return this.sri<=e.sri&&this.sci<=e.sci&&this.eri>=e.eri&&this.eci>=e.eci}within(e){return this.sri>=e.sri&&this.sci>=e.sci&&this.eri<=e.eri&&this.eci<=e.eci}disjoint(e){return this.sri>e.eri||this.sci>e.eci||e.sri>this.eri||e.sci>this.eci}intersects(e){return this.sri<=e.eri&&this.sci<=e.eci&&e.sri<=this.eri&&e.sci<=this.eci}union(e){const{sri:t,sci:i,eri:r,eci:a}=this;return new Ki(e.sri<t?e.sri:t,e.sci<i?e.sci:i,e.eri>r?e.eri:r,e.eci>a?e.eci:a)}difference(e){const t=[],i=(I,M,P,N)=>{t.push(new Ki(I,M,P,N))},{sri:r,sci:a,eri:o,eci:s}=this,u=e.sri-r,c=e.sci-a,l=o-e.eri,_=s-e.eci;return u>0?(i(r,a,e.sri-1,s),l>0?(i(e.eri+1,a,o,s),c>0&&i(e.sri,a,e.eri,e.sci-1),_>0&&i(e.sri,e.eci+1,e.eri,s)):(c>0&&i(e.sri,a,o,e.sci-1),_>0&&i(e.sri,e.eci+1,o,s))):l>0&&(i(e.eri+1,a,o,s),c>0&&i(r,a,e.eri,e.sci-1),_>0&&i(r,e.eci+1,e.eri,s)),c>0?(i(r,a,o,e.sci-1),_>0?(i(r,e.eri+1,o,s),u>0&&i(r,e.sci,e.sri-1,e.eci),l>0&&i(e.sri+1,e.sci,o,e.eci)):(u>0&&i(r,e.sci,e.sri-1,s),l>0&&i(e.sri+1,e.sci,o,s))):_>0&&(i(o,e.eci+1,o,s),u>0&&i(r,a,e.sri-1,e.eci),l>0&&i(e.eri+1,a,o,e.eci)),t}size(){return[this.eri-this.sri+1,this.eci-this.sci+1]}toString(){const{sri:e,sci:t,eri:i,eci:r}=this;let a=Ao(t,e);return this.multiple()&&(a=`${a}:${Ao(r,i)}`),a}clone(){const{sri:e,sci:t,eri:i,eci:r,w:a,h:o}=this;return new Ki(e,t,i,r,a,o)}equals(e){return this.eri===e.eri&&this.eci===e.eci&&this.sri===e.sri&&this.sci===e.sci}static valueOf(e){const t=e.split(":"),[i,r]=Il(t[0]);let[a,o]=[r,i];return t.length>1&&([o,a]=Il(t[1])),new Ki(r,i,a,o)}}class Zj{constructor(){this.range=new Ki(0,0,0,0),this.ri=0,this.ci=0}multiple(){return this.range.multiple()}setIndexes(e,t){this.ri=e,this.ci=t}size(){return this.range.size()}}class Jj{constructor(){this.x=0,this.y=0,this.ri=0,this.ci=0}}class Kj{constructor(){this.undoItems=[],this.redoItems=[]}add(e){this.undoItems.push(JSON.stringify(e)),this.redoItems=[]}canUndo(){return this.undoItems.length>0}canRedo(){return this.redoItems.length>0}undo(e,t){const{undoItems:i,redoItems:r}=this;this.canUndo()&&(r.push(JSON.stringify(e)),t(JSON.parse(i.pop())))}redo(e,t){const{undoItems:i,redoItems:r}=this;this.canRedo()&&(i.push(JSON.stringify(e)),t(JSON.parse(r.pop())))}}class Qj{constructor(){this.range=null,this.state="clear"}copy(e){return this.range=e,this.state="copy",this}cut(e){return this.range=e,this.state="cut",this}isCopy(){return this.state==="copy"}isCut(){return this.state==="cut"}isClear(){return this.state==="clear"}clear(){this.range=null,this.state="clear"}}class y_{constructor(e,t,i){this.ci=e,this.operator=t,this.value=i}set(e,t){this.operator=e,this.value=t}includes(e){const{operator:t,value:i}=this;return t==="all"?!0:t==="in"?i.includes(e):!1}vlength(){const{operator:e,value:t}=this;return e==="in"?t.length:0}getData(){const{ci:e,operator:t,value:i}=this;return{ci:e,operator:t,value:i}}}class b_{constructor(e,t){this.ci=e,this.order=t}asc(){return this.order==="asc"}desc(){return this.order==="desc"}}class qj{constructor(){this.ref=null,this.filters=[],this.sort=null}setData({ref:e,filters:t,sort:i}){e!=null&&(this.ref=e,this.filters=t.map(r=>new y_(r.ci,r.operator,r.value)),i&&(this.sort=new b_(i.ci,i.order)))}getData(){if(this.active()){const{ref:e,filters:t,sort:i}=this;return{ref:e,filters:t.map(r=>r.getData()),sort:i}}return{}}addFilter(e,t,i){const r=this.getFilter(e);r==null?this.filters.push(new y_(e,t,i)):r.set(t,i)}setSort(e,t){this.sort=t?new b_(e,t):null}includes(e,t){return this.active()?this.hrange().includes(e,t):!1}getSort(e){const{sort:t}=this;return t&&t.ci===e?t:null}getFilter(e){const{filters:t}=this;for(let i=0;i<t.length;i+=1)if(t[i].ci===e)return t[i];return null}filteredRows(e){const t=new Set,i=new Set;if(this.active()){const{sri:r,eri:a}=this.range(),{filters:o}=this;for(let s=r+1;s<=a;s+=1)for(let u=0;u<o.length;u+=1){const c=o[u],l=e(s,c.ci),_=l?l.text:"";if(c.includes(_))i.add(s);else{t.add(s);break}}}return{rset:t,fset:i}}items(e,t){const i={};if(this.active()){const{sri:r,eri:a}=this.range();for(let o=r+1;o<=a;o+=1){const s=t(o,e);if(s!==null&&!/^\s*$/.test(s.text)){const u=s.text,c=(i[u]||0)+1;i[u]=c}else i[""]=(i[""]||0)+1}}return i}range(){return Ki.valueOf(this.ref)}hrange(){const e=this.range();return e.eri=e.sri,e}clear(){this.ref=null,this.filters=[],this.sort=null}active(){return this.ref!==null}}class vw{constructor(e=[]){this._=e}forEach(e){this._.forEach(e)}deleteWithin(e){this._=this._.filter(t=>!t.within(e))}getFirstIncludes(e,t){for(let i=0;i<this._.length;i+=1){const r=this._[i];if(r.includes(e,t))return r}return null}filterIntersects(e){return new vw(this._.filter(t=>t.intersects(e)))}intersects(e){for(let t=0;t<this._.length;t+=1)if(this._[t].intersects(e))return!0;return!1}union(e){let t=e;return this._.forEach(i=>{i.intersects(t)&&(t=i.union(t))}),t}add(e){this.deleteWithin(e),this._.push(e)}shift(e,t,i,r){this._.forEach(a=>{const{sri:o,sci:s,eri:u,eci:c}=a,l=a;e==="row"?o>=t?(l.sri+=i,l.eri+=i):o<t&&t<=u&&(l.eri+=i,r(o,s,i,0)):e==="column"&&(s>=t?(l.sci+=i,l.eci+=i):s<t&&t<=c&&(l.eci+=i,r(o,s,0,i)))})}move(e,t,i){this._.forEach(r=>{const a=r;a.within(e)&&(a.eri+=t,a.sri+=t,a.sci+=i,a.eci+=i)})}setData(e){return this._=e.map(t=>Ki.valueOf(t)),this}getData(){return this._.map(e=>e.toString())}}function eB(n){return JSON.parse(JSON.stringify(n))}const N1=(n={},...e)=>(e.forEach(t=>{Object.keys(t).forEach(i=>{const r=t[i];typeof r=="string"||typeof r=="number"||typeof r=="boolean"?n[i]=r:typeof r!="function"&&!Array.isArray(r)&&r instanceof Object?(n[i]=n[i]||{},N1(n[i],r)):n[i]=r})}),n);function Qb(n,e){const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let i=0;i<t.length;i+=1){const r=t[i],a=n[r],o=e[r];if(o===void 0)return!1;if(typeof a=="string"||typeof a=="number"||typeof a=="boolean"){if(a!==o)return!1}else if(Array.isArray(a)){if(a.length!==o.length)return!1;for(let s=0;s<a.length;s+=1)if(!Qb(a[s],o[s]))return!1}else if(typeof a!="function"&&!Array.isArray(a)&&a instanceof Object&&!Qb(a,o))return!1}return!0}const tB=(n,e=t=>t)=>{let t=0,i=0;return Object.keys(n).forEach(r=>{t+=e(n[r],r),i+=1}),[t,i]};function nB(n,e){const t=n[`${e}`];return delete n[`${e}`],t}function iB(n,e,t,i,r,a){let o=t,s=i,u=n;for(;u<e&&!(o>r);u+=1)s=a(u),o+=s;return[u,o-s,s]}function rB(n,e,t){let i=0;for(let r=n;r<e;r+=1)i+=t(r);return i}function aB(n,e,t){for(let i=n;i<e;i+=1)t(i)}function sB(n,e){if(n.length===e.length){for(let t=0;t<n.length;t+=1)if(n[t]!==e[t])return!1}else return!1;return!0}function ab(n){const e=`${n}`;let t=0,i=!1;for(let r=0;r<e.length;r+=1)i===!0&&(t+=1),e.charAt(r)==="."&&(i=!0);return t}function Cc(n,e,t){if(Number.isNaN(e)||Number.isNaN(t))return e+n+t;const i=ab(e),r=ab(t),a=Number(e),o=Number(t);let s=0;if(n==="-")s=a-o;else if(n==="+")s=a+o;else if(n==="*")s=a*o;else if(n==="/")return s=a/o,ab(s)>5?s.toFixed(2):s;return s.toFixed(Math.max(i,r))}const ga={cloneDeep:eB,merge:(...n)=>N1({},...n),equals:Qb,arrayEquals:sB,sum:tB,rangeEach:aB,rangeSum:rB,rangeReduceIf:iB,deleteProperty:nB,numberCalc:Cc};class oB{constructor({len:e,height:t}){this._={},this.len=e,this.height=t}getHeight(e){if(this.isHide(e))return 0;const t=this.get(e);return t&&t.height?t.height:this.height}setHeight(e,t){const i=this.getOrNew(e);i.height=t}unhide(e){let t=e;for(;t>0&&(t-=1,this.isHide(t));)this.setHide(t,!1)}isHide(e){const t=this.get(e);return t&&t.hide}setHide(e,t){const i=this.getOrNew(e);t===!0?i.hide=!0:delete i.hide}setStyle(e,t){const i=this.getOrNew(e);i.style=t}sumHeight(e,t,i){return ga.rangeSum(e,t,r=>i&&i.has(r)?0:this.getHeight(r))}totalHeight(){return this.sumHeight(0,this.len)}get(e){return this._[e]}getOrNew(e){return this._[e]=this._[e]||{cells:{}},this._[e]}getCell(e,t){const i=this.get(e);return i!==void 0&&i.cells!==void 0&&i.cells[t]!==void 0?i.cells[t]:null}getCellMerge(e,t){const i=this.getCell(e,t);return i&&i.merge?i.merge:[0,0]}getCellOrNew(e,t){const i=this.getOrNew(e);return i.cells[t]=i.cells[t]||{},i.cells[t]}setCell(e,t,i,r="all"){const a=this.getOrNew(e);r==="all"?a.cells[t]=i:r==="text"?(a.cells[t]=a.cells[t]||{},a.cells[t].text=i.text):r==="format"&&(a.cells[t]=a.cells[t]||{},a.cells[t].style=i.style,i.merge&&(a.cells[t].merge=i.merge))}setCellText(e,t,i){const r=this.getCellOrNew(e,t);r.editable!==!1&&(r.text=i)}copyPaste(e,t,i,r=!1,a=()=>{}){const{sri:o,sci:s,eri:u,eci:c}=e,l=t.sri,_=t.sci,I=t.eri,M=t.eci,[P,N]=e.size(),[b,f]=t.size();let v=!0,m=0;(I<o||M<s)&&(v=!1,I<o?m=b:m=f);for(let d=o;d<=u;d+=1)if(this._[d]){for(let g=s;g<=c;g+=1)if(this._[d].cells&&this._[d].cells[g])for(let h=l;h<=I;h+=P)for(let C=_;C<=M;C+=N){const D=h+(d-o),S=C+(g-s),k=ga.cloneDeep(this._[d].cells[g]);if(r&&k&&k.text&&k.text.length>0){const{text:L}=k;let B=C-_+(h-l)+2;if(v||(B-=m+1),L[0]==="=")k.text=L.replace(/[a-zA-Z]{1,3}\d+/g,z=>{let[X,ee]=[0,0];return o===l?X=B-1:ee=B-1,/^\d+$/.test(z)?z:Af(z,X,ee)});else if(P<=1&&N>1&&(l>u||I<o)||N<=1&&P>1&&(_>c||M<s)||P<=1&&N<=1){const z=/[\\.\d]+$/.exec(L);if(z!==null){const X=Number(z[0])+B-1;k.text=L.substring(0,z.index)+X}}}this.setCell(D,S,k,i),a(D,S,k)}}}cutPaste(e,t){const i={};this.each(r=>{this.eachCells(r,a=>{let o=parseInt(r,10),s=parseInt(a,10);e.includes(r,a)&&(o=t.sri+(o-e.sri),s=t.sci+(s-e.sci)),i[o]=i[o]||{cells:{}},i[o].cells[s]=this._[r].cells[a]})}),this._=i}paste(e,t){if(e.length<=0)return;const{sri:i,sci:r}=t;e.forEach((a,o)=>{const s=i+o;a.forEach((u,c)=>{const l=r+c;this.setCellText(s,l,u)})})}insert(e,t=1){const i={};this.each((r,a)=>{let o=parseInt(r,10);o>=e&&(o+=t,this.eachCells(r,(s,u)=>{u.text&&u.text[0]==="="&&(u.text=u.text.replace(/[a-zA-Z]{1,3}\d+/g,c=>Af(c,0,t,(l,_)=>_>=e)))})),i[o]=a}),this._=i,this.len+=t}delete(e,t){const i=t-e+1,r={};this.each((a,o)=>{const s=parseInt(a,10);s<e?r[s]=o:a>t&&(r[s-i]=o,this.eachCells(a,(u,c)=>{c.text&&c.text[0]==="="&&(c.text=c.text.replace(/[a-zA-Z]{1,3}\d+/g,l=>Af(l,0,-i,(_,I)=>I>t)))}))}),this._=r,this.len-=i}insertColumn(e,t=1){this.each((i,r)=>{const a={};this.eachCells(i,(o,s)=>{let u=parseInt(o,10);u>=e&&(u+=t,s.text&&s.text[0]==="="&&(s.text=s.text.replace(/[a-zA-Z]{1,3}\d+/g,c=>Af(c,t,0,l=>l>=e)))),a[u]=s}),r.cells=a})}deleteColumn(e,t){const i=t-e+1;this.each((r,a)=>{const o={};this.eachCells(r,(s,u)=>{const c=parseInt(s,10);c<e?o[c]=u:c>t&&(o[c-i]=u,u.text&&u.text[0]==="="&&(u.text=u.text.replace(/[a-zA-Z]{1,3}\d+/g,l=>Af(l,-i,0,_=>_>t))))}),a.cells=o})}deleteCells(e,t="all"){e.each((i,r)=>{this.deleteCell(i,r,t)})}deleteCell(e,t,i="all"){const r=this.get(e);if(r!==null){const a=this.getCell(e,t);a!==null&&a.editable!==!1&&(i==="all"?delete r.cells[t]:i==="text"?(a.text&&delete a.text,a.value&&delete a.value):i==="format"?(a.style!==void 0&&delete a.style,a.merge&&delete a.merge):i==="merge"&&a.merge&&delete a.merge)}}maxCell(){const e=Object.keys(this._),t=e[e.length-1],i=this._[t];if(i){const{cells:r}=i,a=Object.keys(r),o=a[a.length-1];return[parseInt(t,10),parseInt(o,10)]}return[0,0]}each(e){Object.entries(this._).forEach(([t,i])=>{e(t,i)})}eachCells(e,t){this._[e]&&this._[e].cells&&Object.entries(this._[e].cells).forEach(([i,r])=>{t(i,r)})}setData(e){e.len&&(this.len=e.len,delete e.len),this._=e}getData(){const{len:e}=this;return Object.assign({len:e},this._)}}class lB{constructor({len:e,width:t,indexWidth:i,minWidth:r}){this._={},this.len=e,this.width=t,this.indexWidth=i,this.minWidth=r}setData(e){e.len&&(this.len=e.len,delete e.len),this._=e}getData(){const{len:e}=this;return Object.assign({len:e},this._)}getWidth(e){if(this.isHide(e))return 0;const t=this._[e];return t&&t.width?t.width:this.width}getOrNew(e){return this._[e]=this._[e]||{},this._[e]}setWidth(e,t){const i=this.getOrNew(e);i.width=t}unhide(e){let t=e;for(;t>0&&(t-=1,this.isHide(t));)this.setHide(t,!1)}isHide(e){const t=this._[e];return t&&t.hide}setHide(e,t){const i=this.getOrNew(e);t===!0?i.hide=!0:delete i.hide}setStyle(e,t){const i=this.getOrNew(e);i.style=t}sumWidth(e,t){return ga.rangeSum(e,t,i=>this.getWidth(i))}totalWidth(){return this.sumWidth(0,this.len)}}const cB={toolbar:{undo:"Undo",redo:"Redo",print:"Print",paintformat:"Paint format",clearformat:"Clear format",format:"Format",fontName:"Font",fontSize:"Font size",fontBold:"Font bold",fontItalic:"Font italic",underline:"Underline",strike:"Strike",color:"Text color",bgcolor:"Fill color",border:"Borders",merge:"Merge cells",align:"Horizontal align",valign:"Vertical align",textwrap:"Text wrapping",freeze:"Freeze cell",autofilter:"Filter",formula:"Functions",more:"More"},contextmenu:{copy:"Copy",cut:"Cut",paste:"Paste",pasteValue:"Paste values only",pasteFormat:"Paste format only",hide:"Hide",insertRow:"Insert row",insertColumn:"Insert column",deleteSheet:"Delete",deleteRow:"Delete row",deleteColumn:"Delete column",deleteCell:"Delete cell",deleteCellText:"Delete cell text",validation:"Data validations",cellprintable:"Enable export",cellnonprintable:"Disable export",celleditable:"Enable editing",cellnoneditable:"Disable editing"},print:{size:"Paper size",orientation:"Page orientation",orientations:["Landscape","Portrait"]},format:{normal:"Normal",text:"Plain Text",number:"Number",percent:"Percent",rmb:"RMB",usd:"USD",eur:"EUR",date:"Date",time:"Time",datetime:"Date time",duration:"Duration"},formula:{sum:"Sum",average:"Average",max:"Max",min:"Min",_if:"IF",and:"AND",or:"OR",concat:"Concat"},validation:{required:"it must be required",notMatch:"it not match its validation rule",between:"it is between {} and {}",notBetween:"it is not between {} and {}",notIn:"it is not in list",equal:"it equal to {}",notEqual:"it not equal to {}",lessThan:"it less than {}",lessThanEqual:"it less than or equal to {}",greaterThan:"it greater than {}",greaterThanEqual:"it greater than or equal to {}"},error:{pasteForMergedCell:"Unable to do this for merged cells"},calendar:{weeks:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"]},button:{next:"Next",cancel:"Cancel",remove:"Remove",save:"Save",ok:"OK"},sort:{desc:"Sort Z -> A",asc:"Sort A -> Z"},filter:{empty:"empty"},dataValidation:{mode:"Mode",range:"Cell Range",criteria:"Criteria",modeType:{cell:"Cell",column:"Colun",row:"Row"},type:{list:"List",number:"Number",date:"Date",phone:"Phone",email:"Email"},operator:{be:"between",nbe:"not betwwen",lt:"less than",lte:"less than or equal to",gt:"greater than",gte:"greater than or equal to",eq:"equal to",neq:"not equal to"}}};let qb=["en"];const F1={en:cB};function w_(n,e){if(e)for(const t of qb){if(!e[t])break;let i=e[t];const r=n.match(/(?:\\.|[^.])+/g);for(let a=0;a<r.length;a+=1){const o=r[a],s=i[o];if(!s)break;if(a===r.length-1)return s;i=s}}}function lr(n){let e=w_(n,F1);return!e&&window&&window.x_spreadsheet&&window.x_spreadsheet.$messages&&(e=w_(n,window.x_spreadsheet.$messages)),e||""}function ti(n){return()=>lr(n)}function j1(n,e,t=!1){t?qb=[n]:qb.unshift(n),e&&(F1[n]=e)}const C_={phone:/^[1-9]\d{10}$/,email:/w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/};function Ts(n,e,...t){let i="";return n||(i=lr(`validation.${e}`,...t)),[n,i]}class B1{constructor(e,t,i,r){this.required=t,this.value=i,this.type=e,this.operator=r,this.message=""}parseValue(e){const{type:t}=this;return t==="date"?new Date(e):t==="number"?Number(e):e}equals(e){let t=this.type===e.type&&this.required===e.required&&this.operator===e.operator;return t&&(Array.isArray(this.value)?t=ga.arrayEquals(this.value,e.value):t=this.value===e.value),t}values(){return this.value.split(",")}validate(e){const{required:t,operator:i,value:r,type:a}=this;if(t&&/^\s*$/.test(e))return Ts(!1,"required");if(/^\s*$/.test(e))return[!0];if(C_[a]&&!C_[a].test(e))return Ts(!1,"notMatch");if(a==="list")return Ts(this.values().includes(e),"notIn");if(i){const o=this.parseValue(e);if(i==="be"){const[s,u]=r;return Ts(o>=this.parseValue(s)&&o<=this.parseValue(u),"between",s,u)}if(i==="nbe"){const[s,u]=r;return Ts(o<this.parseValue(s)||o>this.parseValue(u),"notBetween",s,u)}if(i==="eq")return Ts(o===this.parseValue(r),"equal",r);if(i==="neq")return Ts(o!==this.parseValue(r),"notEqual",r);if(i==="lt")return Ts(o<this.parseValue(r),"lessThan",r);if(i==="lte")return Ts(o<=this.parseValue(r),"lessThanEqual",r);if(i==="gt")return Ts(o>this.parseValue(r),"greaterThan",r);if(i==="gte")return Ts(o>=this.parseValue(r),"greaterThanEqual",r)}return[!0]}}class Vg{constructor(e,t,i){this.refs=t,this.mode=e,this.validator=i}includes(e,t){const{refs:i}=this;for(let r=0;r<i.length;r+=1)if(Ki.valueOf(i[r]).includes(e,t))return!0;return!1}addRef(e){this.remove(Ki.valueOf(e)),this.refs.push(e)}remove(e){const t=[];this.refs.forEach(i=>{const r=Ki.valueOf(i);r.intersects(e)?r.difference(e).forEach(o=>t.push(o.toString())):t.push(i)}),this.refs=t}getData(){const{refs:e,mode:t,validator:i}=this,{type:r,required:a,operator:o,value:s}=i;return{refs:e,mode:t,type:r,required:a,operator:o,value:s}}static valueOf({refs:e,mode:t,type:i,required:r,operator:a,value:o}){return new Vg(t,e,new B1(i,r,o,a))}}class uB{constructor(){this._=[],this.errors=new Map}getError(e,t){return this.errors.get(`${e}_${t}`)}validate(e,t,i){const r=this.get(e,t),a=`${e}_${t}`,{errors:o}=this;if(r!==null){const[s,u]=r.validator.validate(i);s?o.delete(a):o.set(a,u)}else o.delete(a);return!0}add(e,t,{type:i,required:r,value:a,operator:o}){const s=new B1(i,r,a,o),u=this.getByValidator(s);u!==null?u.addRef(t):this._.push(new Vg(e,[t],s))}getByValidator(e){for(let t=0;t<this._.length;t+=1){const i=this._[t];if(i.validator.equals(e))return i}return null}get(e,t){for(let i=0;i<this._.length;i+=1){const r=this._[i];if(r.includes(e,t))return r}return null}remove(e){this.each(t=>{t.remove(e)})}each(e){this._.forEach(t=>e(t))}getData(){return this._.filter(e=>e.refs.length>0).map(e=>e.getData())}setData(e){this._=e.map(t=>Vg.valueOf(t))}}const hB={mode:"edit",view:{height:()=>document.documentElement.clientHeight,width:()=>document.documentElement.clientWidth},showGrid:!0,showToolbar:!0,showContextmenu:!0,showBottomBar:!0,row:{len:100,height:25},col:{len:26,width:100,indexWidth:60,minWidth:60},style:{bgcolor:"#ffffff",align:"left",valign:"middle",textwrap:!1,strike:!1,underline:!1,color:"#0a0a0a",font:{name:"Arial",size:10,bold:!1,italic:!1},format:"normal"}},fB=41,dB=41,S_=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);function __(n,e,t=()=>{}){const{merges:i}=this,r=e.clone(),[a,o]=n.size(),[s,u]=e.size();return a>s&&(r.eri=e.sri+a-1),o>u&&(r.eci=e.sci+o-1),i.intersects(r)?(t(lr("error.pasteForMergedCell")),!1):!0}function x_(n,e,t,i=!1){const{rows:r,merges:a}=this;(t==="all"||t==="format")&&(r.deleteCells(e,t),a.deleteWithin(e)),r.copyPaste(n,e,t,i,(o,s,u)=>{if(u&&u.merge){const[c,l]=u.merge;if(c<=0&&l<=0)return;a.add(new Ki(o,s,o+c,s+l))}})}function pB(n,e){const{clipboard:t,rows:i,merges:r}=this;i.cutPaste(n,e),r.move(n,e.sri-n.sri,e.sci-n.sci),t.clear()}function ju(n,e,t){const{styles:i,rows:r}=this,a=r.getCellOrNew(n,e);let o={};a.style!==void 0&&(o=ga.cloneDeep(i[a.style])),o=ga.merge(o,{border:t}),a.style=this.addStyle(o)}function gB({mode:n,style:e,color:t}){const{styles:i,selector:r,rows:a}=this,{sri:o,sci:s,eri:u,eci:c}=r.range,l=!this.isSignleSelected();if(!(!l&&(n==="inside"||n==="horizontal"||n==="vertical"))){if(n==="outside"&&!l)ju.call(this,o,s,{top:[e,t],bottom:[e,t],left:[e,t],right:[e,t]});else if(n==="none")r.range.each((_,I)=>{const M=a.getCell(_,I);if(M&&M.style!==void 0){const P=ga.cloneDeep(i[M.style]);delete P.border,M.style=this.addStyle(P)}});else if(n==="all"||n==="inside"||n==="outside"||n==="horizontal"||n==="vertical"){const _=[];for(let I=o;I<=u;I+=1)for(let M=s;M<=c;M+=1){const P=[];for(let g=0;g<_.length;g+=1){const[h,C,D,S]=_[g];if(I===h+D+1&&P.push(g),h<=I&&I<=h+D&&M===C){M+=S+1;break}}if(P.forEach(g=>_.splice(g,1)),M>c)break;const N=a.getCell(I,M);let[b,f]=[0,0];N&&N.merge&&([b,f]=N.merge,_.push([I,M,b,f]));const v=b>0&&I+b===u,m=f>0&&M+f===c;let d={};n==="all"?d={bottom:[e,t],top:[e,t],left:[e,t],right:[e,t]}:n==="inside"?(!m&&M<c&&(d.right=[e,t]),!v&&I<u&&(d.bottom=[e,t])):n==="horizontal"?!v&&I<u&&(d.bottom=[e,t]):n==="vertical"?!m&&M<c&&(d.right=[e,t]):n==="outside"&&l&&(o===I&&(d.top=[e,t]),(v||u===I)&&(d.bottom=[e,t]),s===M&&(d.left=[e,t]),(m||c===M)&&(d.right=[e,t])),Object.keys(d).length>0&&ju.call(this,I,M,d),M+=f}}else if(n==="top"||n==="bottom")for(let _=s;_<=c;_+=1)n==="top"&&(ju.call(this,o,_,{top:[e,t]}),_+=a.getCellMerge(o,_)[1]),n==="bottom"&&(ju.call(this,u,_,{bottom:[e,t]}),_+=a.getCellMerge(u,_)[1]);else if(n==="left"||n==="right")for(let _=o;_<=u;_+=1)n==="left"&&(ju.call(this,_,s,{left:[e,t]}),_+=a.getCellMerge(_,s)[0]),n==="right"&&(ju.call(this,_,c,{right:[e,t]}),_+=a.getCellMerge(_,c)[0])}}function vB(n,e){const{rows:t}=this,i=this.freezeTotalHeight();let r=t.height;i+t.height<n&&(r-=e);const a=this.exceptRowSet;let o=0,s=r,{height:u}=t;for(;o<t.len&&!(s>n);o+=1)a.has(o)||(u=t.getHeight(o),s+=u);return s-=u,s<=0?{ri:-1,top:0,height:u}:{ri:o-1,top:s,height:u}}function mB(n,e){const{cols:t}=this,i=this.freezeTotalWidth();let r=t.indexWidth;i+t.indexWidth<n&&(r-=e);const[a,o,s]=ga.rangeReduceIf(0,t.len,r,t.indexWidth,n,u=>t.getWidth(u));return o<=0?{ci:-1,left:0,width:t.indexWidth}:{ci:a-1,left:o,width:s}}class yB{constructor(e,t){this.settings=ga.merge(hB,t||{}),this.name=e||"sheet",this.freeze=[0,0],this.styles=[],this.merges=new vw,this.rows=new oB(this.settings.row),this.cols=new lB(this.settings.col),this.validations=new uB,this.hyperlinks={},this.comments={},this.selector=new Zj,this.scroll=new Jj,this.history=new Kj,this.clipboard=new Qj,this.autoFilter=new qj,this.change=()=>{},this.exceptRowSet=new Set,this.sortedRowMap=new Map,this.unsortedRowMap=new Map}addValidation(e,t,i){this.changeData(()=>{this.validations.add(e,t,i)})}removeValidation(){const{range:e}=this.selector;this.changeData(()=>{this.validations.remove(e)})}getSelectedValidator(){const{ri:e,ci:t}=this.selector,i=this.validations.get(e,t);return i?i.validator:null}getSelectedValidation(){const{ri:e,ci:t,range:i}=this.selector,r=this.validations.get(e,t),a={ref:i.toString()};return r!==null&&(a.mode=r.mode,a.validator=r.validator),a}canUndo(){return this.history.canUndo()}canRedo(){return this.history.canRedo()}undo(){this.history.undo(this.getData(),e=>{this.setData(e)})}redo(){this.history.redo(this.getData(),e=>{this.setData(e)})}copy(){this.clipboard.copy(this.selector.range)}copyToSystemClipboard(){if(navigator.clipboard===void 0)return;let e="";const t=this.rows.getData();for(let i=this.selector.range.sri;i<=this.selector.range.eri;i+=1){if(S_(t,i)){for(let r=this.selector.range.sci;r<=this.selector.range.eci;r+=1)if(r>this.selector.range.sci&&(e+="	"),S_(t[i].cells,r)){const a=String(t[i].cells[r].text);a.indexOf(`
`)===-1&&a.indexOf("	")===-1&&a.indexOf('"')===-1?e+=a:e+=`"${a}"`}}else for(let r=this.selector.range.sci;r<=this.selector.range.eci;r+=1)e+="	";e+=`
`}navigator.clipboard.writeText(e).then(()=>{},i=>{console.log("text copy to the system clipboard error  ",e,i)})}cut(){this.clipboard.cut(this.selector.range)}paste(e="all",t=()=>{}){const{clipboard:i,selector:r}=this;return i.isClear()||!__.call(this,i.range,r.range,t)?!1:(this.changeData(()=>{i.isCopy()?x_.call(this,i.range,r.range,e):i.isCut()&&pB.call(this,i.range,r.range)}),!0)}pasteFromText(e){const t=e.split(`\r
`).map(a=>a.replace(/"/g,"").split("	"));t.length>0&&(t.length-=1);const{rows:i,selector:r}=this;this.changeData(()=>{i.paste(t,r.range)})}autofill(e,t,i=()=>{}){const r=this.selector.range;return __.call(this,r,e,i)?(this.changeData(()=>{x_.call(this,r,e,t,!0)}),!0):!1}clearClipboard(){this.clipboard.clear()}calSelectedRangeByEnd(e,t){const{selector:i,rows:r,cols:a,merges:o}=this;let{sri:s,sci:u,eri:c,eci:l}=i.range;const _=i.ri,I=i.ci;let[M,P]=[e,t];return e<0&&(M=r.len-1),t<0&&(P=a.len-1),M>_?[s,c]=[_,M]:[s,c]=[M,_],P>I?[u,l]=[I,P]:[u,l]=[P,I],i.range=o.union(new Ki(s,u,c,l)),i.range=o.union(i.range),i.range}calSelectedRangeByStart(e,t){const{selector:i,rows:r,cols:a,merges:o}=this;let s=o.getFirstIncludes(e,t);return s===null&&(s=new Ki(e,t,e,t),e===-1&&(s.sri=0,s.eri=r.len-1),t===-1&&(s.sci=0,s.eci=a.len-1)),i.range=s,s}setSelectedCellAttr(e,t){this.changeData(()=>{const{selector:i,styles:r,rows:a}=this;if(e==="merge")t?this.merge():this.unmerge();else if(e==="border")gB.call(this,t);else if(e==="formula"){const{ri:o,ci:s,range:u}=i;if(i.multiple()){const[c,l]=i.size(),{sri:_,sci:I,eri:M,eci:P}=u;if(c>1)for(let N=I;N<=P;N+=1){const b=a.getCellOrNew(M+1,N);b.text=`=${t}(${Ao(N,_)}:${Ao(N,M)})`}else if(l>1){const N=a.getCellOrNew(o,P+1);N.text=`=${t}(${Ao(I,o)}:${Ao(P,o)})`}}else{const c=a.getCellOrNew(o,s);c.text=`=${t}()`}}else i.range.each((o,s)=>{const u=a.getCellOrNew(o,s);let c={};if(u.style!==void 0&&(c=ga.cloneDeep(r[u.style])),e==="format")c.format=t,u.style=this.addStyle(c);else if(e==="font-bold"||e==="font-italic"||e==="font-name"||e==="font-size"){const l={};l[e.split("-")[1]]=t,c.font=Object.assign(c.font||{},l),u.style=this.addStyle(c)}else e==="strike"||e==="textwrap"||e==="underline"||e==="align"||e==="valign"||e==="color"||e==="bgcolor"?(c[e]=t,u.style=this.addStyle(c)):u[e]=t})})}setSelectedCellText(e,t="input"){const{autoFilter:i,selector:r,rows:a}=this,{ri:o,ci:s}=r;let u=o;this.unsortedRowMap.has(o)&&(u=this.unsortedRowMap.get(o));const c=a.getCell(u,s),l=c?c.text:"";if(this.setCellText(u,s,e,t),i.active()){const _=i.getFilter(s);if(_){const I=_.value.findIndex(M=>M===l);I>=0&&_.value.splice(I,1,e)}}}getSelectedCell(){const{ri:e,ci:t}=this.selector;let i=e;return this.unsortedRowMap.has(e)&&(i=this.unsortedRowMap.get(e)),this.rows.getCell(i,t)}xyInSelectedRect(e,t){const{left:i,top:r,width:a,height:o}=this.getSelectedRect(),s=e-this.cols.indexWidth,u=t-this.rows.height;return s>i&&s<i+a&&u>r&&u<r+o}getSelectedRect(){return this.getRect(this.selector.range)}getClipboardRect(){const{clipboard:e}=this;return e.isClear()?{left:-100,top:-100}:this.getRect(e.range)}getRect(e){const{scroll:t,rows:i,cols:r,exceptRowSet:a}=this,{sri:o,sci:s,eri:u,eci:c}=e;if(o<0&&s<0)return{left:0,l:0,top:0,t:0,scroll:t};const l=r.sumWidth(0,s),_=i.sumHeight(0,o,a),I=i.sumHeight(o,u+1,a),M=r.sumWidth(s,c+1);let P=l-t.x,N=_-t.y;const b=this.freezeTotalHeight(),f=this.freezeTotalWidth();return f>0&&f>l&&(P=l),b>0&&b>_&&(N=_),{l,t:_,left:P,top:N,height:I,width:M,scroll:t}}getCellRectByXY(e,t){const{scroll:i,merges:r,rows:a,cols:o}=this;let{ri:s,top:u,height:c}=vB.call(this,t,i.y),{ci:l,left:_,width:I}=mB.call(this,e,i.x);if(l===-1&&(I=o.totalWidth()),s===-1&&(c=a.totalHeight()),s>=0||l>=0){const M=r.getFirstIncludes(s,l);M&&(s=M.sri,l=M.sci,{left:_,top:u,width:I,height:c}=this.cellRect(s,l))}return{ri:s,ci:l,left:_,top:u,width:I,height:c}}isSignleSelected(){const{sri:e,sci:t,eri:i,eci:r}=this.selector.range,a=this.getCell(e,t);if(a&&a.merge){const[o,s]=a.merge;if(e+o===i&&t+s===r)return!0}return!this.selector.multiple()}canUnmerge(){const{sri:e,sci:t,eri:i,eci:r}=this.selector.range,a=this.getCell(e,t);if(a&&a.merge){const[o,s]=a.merge;if(e+o===i&&t+s===r)return!0}return!1}merge(){const{selector:e,rows:t}=this;if(this.isSignleSelected())return;const[i,r]=e.size();if(i>1||r>1){const{sri:a,sci:o}=e.range;this.changeData(()=>{const s=t.getCellOrNew(a,o);s.merge=[i-1,r-1],this.merges.add(e.range),this.rows.deleteCells(e.range),this.rows.setCell(a,o,s)})}}unmerge(){const{selector:e}=this;if(!this.isSignleSelected())return;const{sri:t,sci:i}=e.range;this.changeData(()=>{this.rows.deleteCell(t,i,"merge"),this.merges.deleteWithin(e.range)})}canAutofilter(){return!this.autoFilter.active()}autofilter(){const{autoFilter:e,selector:t}=this;this.changeData(()=>{e.active()?(e.clear(),this.exceptRowSet=new Set,this.sortedRowMap=new Map,this.unsortedRowMap=new Map):e.ref=t.range.toString()})}setAutoFilter(e,t,i,r){const{autoFilter:a}=this;a.addFilter(e,i,r),a.setSort(e,t),this.resetAutoFilter()}resetAutoFilter(){const{autoFilter:e,rows:t}=this;if(!e.active())return;const{sort:i}=e,{rset:r,fset:a}=e.filteredRows((u,c)=>t.getCell(u,c)),o=Array.from(a),s=Array.from(a);i&&o.sort((u,c)=>i.order==="asc"?u-c:i.order==="desc"?c-u:0),this.exceptRowSet=r,this.sortedRowMap=new Map,this.unsortedRowMap=new Map,o.forEach((u,c)=>{this.sortedRowMap.set(s[c],u),this.unsortedRowMap.set(u,s[c])})}deleteCell(e="all"){const{selector:t}=this;this.changeData(()=>{this.rows.deleteCells(t.range,e),(e==="all"||e==="format")&&this.merges.deleteWithin(t.range)})}insert(e,t=1){this.changeData(()=>{const{sri:i,sci:r}=this.selector.range,{rows:a,merges:o,cols:s}=this;let u=i;e==="row"?a.insert(i,t):e==="column"&&(a.insertColumn(r,t),u=r,s.len+=1),o.shift(e,u,t,(c,l,_,I)=>{const M=a.getCell(c,l);M.merge[0]+=_,M.merge[1]+=I})})}delete(e){this.changeData(()=>{const{rows:t,merges:i,selector:r,cols:a}=this,{range:o}=r,{sri:s,sci:u,eri:c,eci:l}=r.range,[_,I]=r.range.size();let M=s,P=_;e==="row"?t.delete(s,c):e==="column"&&(t.deleteColumn(u,l),M=o.sci,P=I,a.len-=1),i.shift(e,M,-P,(N,b,f,v)=>{const m=t.getCell(N,b);m.merge[0]+=f,m.merge[1]+=v,m.merge[0]===0&&m.merge[1]===0&&delete m.merge})})}scrollx(e,t){const{scroll:i,freeze:r,cols:a}=this,[,o]=r,[s,u,c]=ga.rangeReduceIf(o,a.len,0,0,e,_=>a.getWidth(_));let l=u;e>0&&(l+=c),i.x!==l&&(i.ci=e>0?s:0,i.x=l,t())}scrolly(e,t){const{scroll:i,freeze:r,rows:a}=this,[o]=r,[s,u,c]=ga.rangeReduceIf(o,a.len,0,0,e,_=>a.getHeight(_));let l=u;e>0&&(l+=c),i.y!==l&&(i.ri=e>0?s:0,i.y=l,t())}cellRect(e,t){const{rows:i,cols:r}=this,a=r.sumWidth(0,t),o=i.sumHeight(0,e),s=i.getCell(e,t);let u=r.getWidth(t),c=i.getHeight(e);if(s!==null&&s.merge){const[l,_]=s.merge;if(l>0)for(let I=1;I<=l;I+=1)c+=i.getHeight(e+I);if(_>0)for(let I=1;I<=_;I+=1)u+=r.getWidth(t+I)}return{left:a,top:o,width:u,height:c,cell:s}}getCell(e,t){return this.rows.getCell(e,t)}getCellTextOrDefault(e,t){const i=this.getCell(e,t);return i&&i.text?i.text:""}getCellStyle(e,t){const i=this.getCell(e,t);return i&&i.style!==void 0?this.styles[i.style]:null}getCellStyleOrDefault(e,t){const{styles:i,rows:r}=this,a=r.getCell(e,t),o=a&&a.style!==void 0?i[a.style]:{};return ga.merge(this.defaultStyle(),o)}getSelectedCellStyle(){const{ri:e,ci:t}=this.selector;return this.getCellStyleOrDefault(e,t)}setCellText(e,t,i,r){const{rows:a,history:o,validations:s}=this;r==="finished"?(a.setCellText(e,t,""),o.add(this.getData()),a.setCellText(e,t,i)):(a.setCellText(e,t,i),this.change(this.getData())),s.validate(e,t,i)}freezeIsActive(){const[e,t]=this.freeze;return e>0||t>0}setFreeze(e,t){this.changeData(()=>{this.freeze=[e,t]})}freezeTotalWidth(){return this.cols.sumWidth(0,this.freeze[1])}freezeTotalHeight(){return this.rows.sumHeight(0,this.freeze[0])}setRowHeight(e,t){this.changeData(()=>{this.rows.setHeight(e,t)})}setColWidth(e,t){this.changeData(()=>{this.cols.setWidth(e,t)})}viewHeight(){const{view:e,showToolbar:t,showBottomBar:i}=this.settings;let r=e.height();return i&&(r-=dB),t&&(r-=fB),r}viewWidth(){return this.settings.view.width()}freezeViewRange(){const[e,t]=this.freeze;return new Ki(0,0,e-1,t-1,this.freezeTotalWidth(),this.freezeTotalHeight())}contentRange(){const{rows:e,cols:t}=this,[i,r]=e.maxCell(),a=e.sumHeight(0,i+1),o=t.sumWidth(0,r+1);return new Ki(0,0,i,r,o,a)}exceptRowTotalHeight(e,t){const{exceptRowSet:i,rows:r}=this,a=Array.from(i);let o=0;return a.forEach(s=>{if(s<e||s>t){const u=r.getHeight(s);o+=u}}),o}viewRange(){const{scroll:e,rows:t,cols:i,freeze:r,exceptRowSet:a}=this;let{ri:o,ci:s}=e;o<=0&&([o]=r),s<=0&&([,s]=r);let[u,c]=[0,0],[l,_]=[t.len,i.len];for(let I=o;I<t.len&&(a.has(I)||(c+=t.getHeight(I),l=I),!(c>this.viewHeight()));I+=1);for(let I=s;I<i.len&&(u+=i.getWidth(I),_=I,!(u>this.viewWidth()));I+=1);return new Ki(o,s,l,_,u,c)}eachMergesInView(e,t){this.merges.filterIntersects(e).forEach(i=>t(i))}hideRowsOrCols(){const{rows:e,cols:t,selector:i}=this,[r,a]=i.size(),{sri:o,sci:s,eri:u,eci:c}=i.range;if(r===e.len)for(let l=s;l<=c;l+=1)t.setHide(l,!0);else if(a===t.len)for(let l=o;l<=u;l+=1)e.setHide(l,!0)}unhideRowsOrCols(e,t){this[`${e}s`].unhide(t)}rowEach(e,t,i){let r=0;const{rows:a}=this,o=this.exceptRowSet,s=[...o];let u=0;for(let c=0;c<s.length;c+=1)s[c]<e&&(u+=1);for(let c=e+u;c<=t+u;c+=1)if(o.has(c))u+=1;else{const l=a.getHeight(c);if(l>0&&(i(c,r,l),r+=l,r>this.viewHeight()))break}}colEach(e,t,i){let r=0;const{cols:a}=this;for(let o=e;o<=t;o+=1){const s=a.getWidth(o);if(s>0&&(i(o,r,s),r+=s,r>this.viewWidth()))break}}defaultStyle(){return this.settings.style}addStyle(e){const{styles:t}=this;for(let i=0;i<t.length;i+=1){const r=t[i];if(ga.equals(r,e))return i}return t.push(e),t.length-1}changeData(e){this.history.add(this.getData()),e(),this.change(this.getData())}setData(e){return Object.keys(e).forEach(t=>{if(t==="merges"||t==="rows"||t==="cols"||t==="validations")this[t].setData(e[t]);else if(t==="freeze"){const[i,r]=Il(e[t]);this.freeze=[r,i]}else t==="autofilter"?this.autoFilter.setData(e[t]):e[t]!==void 0&&(this[t]=e[t])}),this}getData(){const{name:e,freeze:t,styles:i,merges:r,rows:a,cols:o,validations:s,autoFilter:u}=this;return{name:e,freeze:Ao(t[1],t[0]),styles:i,merges:r.getData(),rows:a.getData(),cols:o.getData(),validations:s.getData(),autofilter:u.getData()}}}function ma(n,e,t){n.addEventListener(e,t)}function Xg(n,e,t){n.removeEventListener(e,t)}function Nh(n){n.xclickoutside&&(Xg(window.document.body,"click",n.xclickoutside),delete n.xclickoutside)}function Cd(n,e){n.xclickoutside=t=>{t.detail===2||n.contains(t.target)||(e?e(n):(n.hide(),Nh(n)))},ma(window.document.body,"click",n.xclickoutside)}function H1(n,e,t){ma(n,"mousemove",e);const i=n;i.xEvtUp=r=>{Xg(n,"mousemove",e),Xg(n,"mouseup",n.xEvtUp),t(r)},ma(n,"mouseup",n.xEvtUp)}function E_(n,e,t,i){let r="";Math.abs(n)>Math.abs(e)?(r=n>0?"right":"left",i(r,n,t)):(r=e>0?"down":"up",i(r,e,t))}function bB(n,{move:e,end:t}){let i=0,r=0;ma(n,"touchstart",a=>{const{pageX:o,pageY:s}=a.touches[0];i=o,r=s}),ma(n,"touchmove",a=>{if(!e)return;const{pageX:o,pageY:s}=a.changedTouches[0],u=o-i,c=s-r;(Math.abs(u)>10||Math.abs(c)>10)&&(E_(u,c,a,e),i=o,r=s),a.preventDefault()}),ma(n,"touchend",a=>{if(!t)return;const{pageX:o,pageY:s}=a.changedTouches[0],u=o-i,c=s-r;E_(u,c,a,t)})}function wB(){const n=new Map;function e(o,s){const u=()=>{const l=n.get(o);return Array.isArray(l)&&l.push(s)||!1},c=()=>n.set(o,[].concat(s));return n.has(o)&&u()||c()}function t(o,s){const u=()=>{const c=n.get(o);for(const l of c)l.call(null,...s)};return n.has(o)&&u()}function i(o,s){const u=()=>{const c=n.get(o),l=c.indexOf(s);return l>=0&&c.splice(l,1)&&n.get(o).length===0&&n.delete(o)};return n.has(o)&&u()}function r(o,s){const u=(...c)=>{s.call(null,...c),i(o,u)};return e(o,u)}function a(){n.clear()}return{get current(){return n},on:e,once:r,fire:t,removeListener:i,removeAllListeners:a}}const Ut="x-spreadsheet";class T_{constructor(e=!1,t){this.moving=!1,this.vertical=e,this.el=yt("div",`${Ut}-resizer ${e?"vertical":"horizontal"}`).children(this.unhideHoverEl=yt("div",`${Ut}-resizer-hover`).on("dblclick.stop",i=>this.mousedblclickHandler(i)).css("position","absolute").hide(),this.hoverEl=yt("div",`${Ut}-resizer-hover`).on("mousedown.stop",i=>this.mousedownHandler(i)),this.lineEl=yt("div",`${Ut}-resizer-line`).hide()).hide(),this.cRect=null,this.finishedFn=null,this.minDistance=t,this.unhideFn=()=>{}}showUnhide(e){this.unhideIndex=e,this.unhideHoverEl.show()}hideUnhide(){this.unhideHoverEl.hide()}show(e,t){const{moving:i,vertical:r,hoverEl:a,lineEl:o,el:s,unhideHoverEl:u}=this;if(i)return;this.cRect=e;const{left:c,top:l,width:_,height:I}=e;s.offset({left:r?c+_-5:c,top:r?l:l+I-5}).show(),a.offset({width:r?5:_,height:r?I:5}),o.offset({width:r?0:t.width,height:r?t.height:0}),u.offset({left:r?5-_:c,top:r?l:5-I,width:r?5:_,height:r?I:5})}hide(){this.el.offset({left:0,top:0}).hide(),this.hideUnhide()}mousedblclickHandler(){this.unhideIndex&&this.unhideFn(this.unhideIndex)}mousedownHandler(e){let t=e;const{el:i,lineEl:r,cRect:a,vertical:o,minDistance:s}=this;let u=o?a.width:a.height;r.show(),H1(window,c=>{this.moving=!0,t!==null&&c.buttons===1&&(o?(u+=c.movementX,u>s&&i.css("left",`${a.left+u}px`)):(u+=c.movementY,u>s&&i.css("top",`${a.top+u}px`)),t=c)},()=>{t=null,r.hide(),this.moving=!1,this.hide(),this.finishedFn&&(u<s&&(u=s),this.finishedFn(a,u))})}}class I_{constructor(e){this.vertical=e,this.moveFn=null,this.el=yt("div",`${Ut}-scrollbar ${e?"vertical":"horizontal"}`).child(this.contentEl=yt("div","")).on("mousemove.stop",()=>{}).on("scroll.stop",t=>{const{scrollTop:i,scrollLeft:r}=t.target;this.moveFn&&this.moveFn(this.vertical?i:r,t)})}move(e){return this.el.scroll(e),this}scroll(){return this.el.scroll()}set(e,t){const i=e-1;if(t>i){const r=this.vertical?"height":"width";this.el.css(r,`${i-15}px`).show(),this.contentEl.css(this.vertical?"width":"height","1px").css(r,`${t}px`)}else this.el.hide();return this}}const rg=2*2-1;let e0=10;class ag{constructor(e=!1){this.useHideInput=e,this.inputChange=()=>{},this.cornerEl=yt("div",`${Ut}-selector-corner`),this.areaEl=yt("div",`${Ut}-selector-area`).child(this.cornerEl).hide(),this.clipboardEl=yt("div",`${Ut}-selector-clipboard`).hide(),this.autofillEl=yt("div",`${Ut}-selector-autofill`).hide(),this.el=yt("div",`${Ut}-selector`).css("z-index",`${e0}`).children(this.areaEl,this.clipboardEl,this.autofillEl).hide(),e&&(this.hideInput=yt("input","").on("compositionend",t=>{this.inputChange(t.target.value)}),this.el.child(this.hideInputDiv=yt("div","hide-input").child(this.hideInput)),this.el.child(this.hideInputDiv=yt("div","hide-input").child(this.hideInput))),e0+=1}setOffset(e){return this.el.offset(e).show(),this}hide(){return this.el.hide(),this}setAreaOffset(e){const{left:t,top:i,width:r,height:a}=e,o={width:r-rg+.8,height:a-rg+.8,left:t-.8,top:i-.8};this.areaEl.offset(o).show(),this.useHideInput&&(this.hideInputDiv.offset(o),this.hideInput.val("").focus())}setClipboardOffset(e){const{left:t,top:i,width:r,height:a}=e;this.clipboardEl.offset({left:t,top:i,width:r-5,height:a-5})}showAutofill(e){const{left:t,top:i,width:r,height:a}=e;this.autofillEl.offset({width:r-rg,height:a-rg,left:t,top:i}).show()}hideAutofill(){this.autofillEl.hide()}showClipboard(){this.clipboardEl.show()}hideClipboard(){this.clipboardEl.hide()}}function mw(n){const{data:e}=this,{left:t,top:i,width:r,height:a,scroll:o,l:s,t:u}=n,c=e.freezeTotalWidth(),l=e.freezeTotalHeight();let _=t-c;c>s&&(_-=o.x);let I=i-l;return l>u&&(I-=o.y),{left:_,top:I,width:r,height:a}}function yw(n){const{data:e}=this,{left:t,width:i,height:r,l:a,t:o,scroll:s}=n,u=e.freezeTotalWidth();let c=t-u;return u>a&&(c-=s.x),{left:c,top:o,width:i,height:r}}function bw(n){const{data:e}=this,{top:t,width:i,height:r,l:a,t:o,scroll:s}=n,u=e.freezeTotalHeight();let c=t-u;return u>o&&(c-=s.y),{left:a,top:c,width:i,height:r}}function t0(n){const{br:e}=this;e.setAreaOffset(mw.call(this,n))}function CB(n){const{tl:e}=this;e.setAreaOffset(n)}function z1(n){const{t:e}=this;e.setAreaOffset(yw.call(this,n))}function W1(n){const{l:e}=this;e.setAreaOffset(bw.call(this,n))}function U1(n){const{l:e}=this;e.setClipboardOffset(bw.call(this,n))}function n0(n){const{br:e}=this;e.setClipboardOffset(mw.call(this,n))}function SB(n){const{tl:e}=this;e.setClipboardOffset(n)}function Y1(n){const{t:e}=this;e.setClipboardOffset(yw.call(this,n))}function D_(n){t0.call(this,n),CB.call(this,n),z1.call(this,n),W1.call(this,n)}function A_(n){n0.call(this,n),SB.call(this,n),Y1.call(this,n),U1.call(this,n)}class _B{constructor(e){this.inputChange=()=>{},this.data=e,this.br=new ag(!0),this.t=new ag,this.l=new ag,this.tl=new ag,this.br.inputChange=t=>{this.inputChange(t)},this.br.el.show(),this.offset=null,this.areaOffset=null,this.indexes=null,this.range=null,this.arange=null,this.el=yt("div",`${Ut}-selectors`).children(this.tl.el,this.t.el,this.l.el,this.br.el).hide(),this.lastri=-1,this.lastci=-1,e0+=1}resetData(e){this.data=e,this.range=e.selector.range,this.resetAreaOffset()}hide(){this.el.hide()}resetOffset(){const{data:e,tl:t,t:i,l:r,br:a}=this,o=e.freezeTotalHeight(),s=e.freezeTotalWidth();o>0||s>0?(t.setOffset({width:s,height:o}),i.setOffset({left:s,height:o}),r.setOffset({top:o,width:s}),a.setOffset({left:s,top:o})):(t.hide(),i.hide(),r.hide(),a.setOffset({left:0,top:0}))}resetAreaOffset(){const e=this.data.getSelectedRect(),t=this.data.getClipboardRect();D_.call(this,e),A_.call(this,t),this.resetOffset()}resetBRTAreaOffset(){const e=this.data.getSelectedRect(),t=this.data.getClipboardRect();t0.call(this,e),z1.call(this,e),n0.call(this,t),Y1.call(this,t),this.resetOffset()}resetBRLAreaOffset(){const e=this.data.getSelectedRect(),t=this.data.getClipboardRect();t0.call(this,e),W1.call(this,e),n0.call(this,t),U1.call(this,t),this.resetOffset()}set(e,t,i=!0){const{data:r}=this,a=r.calSelectedRangeByStart(e,t),{sri:o,sci:s}=a;if(i){let[u,c]=[e,t];e<0&&(u=0),t<0&&(c=0),r.selector.setIndexes(u,c),this.indexes=[u,c]}this.moveIndexes=[o,s],this.range=a,this.resetAreaOffset(),this.el.show()}setEnd(e,t,i=!0){const{data:r,lastri:a,lastci:o}=this;if(i){if(e===a&&t===o)return;this.lastri=e,this.lastci=t}this.range=r.calSelectedRangeByEnd(e,t),D_.call(this,this.data.getSelectedRect())}reset(){const{eri:e,eci:t}=this.data.selector.range;this.setEnd(e,t)}showAutofill(e,t){if(e===-1&&t===-1)return;const{sri:i,sci:r,eri:a,eci:o}=this.range,[s,u]=[e,t],c=i-e,l=r-t,_=a-e,I=o-t;if(l>0)this.arange=new Ki(i,u,a,r-1);else if(c>0)this.arange=new Ki(s,r,i-1,o);else if(I<0)this.arange=new Ki(i,o+1,a,u);else if(_<0)this.arange=new Ki(a+1,r,s,o);else{this.arange=null;return}if(this.arange!==null){const M=this.data.getRect(this.arange);M.width+=2,M.height+=2;const{br:P,l:N,t:b,tl:f}=this;P.showAutofill(mw.call(this,M)),N.showAutofill(bw.call(this,M)),b.showAutofill(yw.call(this,M)),f.showAutofill(M)}}hideAutofill(){["br","l","t","tl"].forEach(e=>{this[e].hideAutofill()})}showClipboard(){const e=this.data.getClipboardRect();A_.call(this,e),["br","l","t","tl"].forEach(t=>{this[t].showClipboard()})}hideClipboard(){["br","l","t","tl"].forEach(e=>{this[e].hideClipboard()})}}function xB(n){n.preventDefault(),n.stopPropagation();const{filterItems:e}=this;e.length<=0||(this.itemIndex>=0&&e[this.itemIndex].toggle(),this.itemIndex-=1,this.itemIndex<0&&(this.itemIndex=e.length-1),e[this.itemIndex].toggle())}function EB(n){n.stopPropagation();const{filterItems:e}=this;e.length<=0||(this.itemIndex>=0&&e[this.itemIndex].toggle(),this.itemIndex+=1,this.itemIndex>e.length-1&&(this.itemIndex=0),e[this.itemIndex].toggle())}function M_(n){n.preventDefault();const{filterItems:e}=this;e.length<=0||(n.stopPropagation(),this.itemIndex<0&&(this.itemIndex=0),e[this.itemIndex].el.click(),this.hide())}function TB(n){const{keyCode:e}=n;switch(n.ctrlKey&&n.stopPropagation(),e){case 37:n.stopPropagation();break;case 38:xB.call(this,n);break;case 39:n.stopPropagation();break;case 40:EB.call(this,n);break;case 13:M_.call(this,n);break;case 9:M_.call(this,n);break;default:n.stopPropagation();break}}class G1{constructor(e,t,i="200px"){this.filterItems=[],this.items=e,this.el=yt("div",`${Ut}-suggest`).css("width",i).hide(),this.itemClick=t,this.itemIndex=-1}setOffset(e){this.el.cssRemoveKeys("top","bottom").offset(e)}hide(){const{el:e}=this;this.filterItems=[],this.itemIndex=-1,e.hide(),Nh(this.el.parent())}setItems(e){this.items=e}search(e){let{items:t}=this;if(/^\s*$/.test(e)||(t=t.filter(r=>(r.key||r).startsWith(e.toUpperCase()))),t=t.map(r=>{let{title:a}=r;a?typeof a=="function"&&(a=a()):a=r;const o=yt("div",`${Ut}-item`).child(a).on("click.stop",()=>{this.itemClick(r),this.hide()});return r.label&&o.child(yt("div","label").html(r.label)),o}),this.filterItems=t,t.length<=0)return;const{el:i}=this;i.html("").children(...t).show(),Cd(i.parent(),()=>{this.hide()})}bindInputEvents(e){e.on("keydown",t=>TB.call(this,t))}}class Yr extends Pc{constructor(e){super("div",`${Ut}-icon`),this.iconNameEl=yt("div",`${Ut}-icon-img ${e}`),this.child(this.iconNameEl)}setName(e){this.iconNameEl.className(`${Ut}-icon-img ${e}`)}}function O_(n,e){n.setMonth(n.getMonth()+e)}function IB(n,e){const t=new Date(n);return t.setDate(e-n.getDay()+1),t}function DB(n,e,t){const i=new Date(n,e,1,23,59,59),r=[[],[],[],[],[],[]];for(let a=0;a<6;a+=1)for(let o=0;o<7;o+=1){const s=a*7+o,u=IB(i,s),c=u.getMonth()!==e,l=u.getMonth()===t.getMonth()&&u.getDate()===t.getDate();r[a][o]={d:u,disabled:c,active:l}}return r}class AB{constructor(e){this.value=e,this.cvalue=new Date(e),this.headerLeftEl=yt("div","calendar-header-left"),this.bodyEl=yt("tbody",""),this.buildAll(),this.el=yt("div","x-spreadsheet-calendar").children(yt("div","calendar-header").children(this.headerLeftEl,yt("div","calendar-header-right").children(yt("a","calendar-prev").on("click.stop",()=>this.prev()).child(new Yr("chevron-left")),yt("a","calendar-next").on("click.stop",()=>this.next()).child(new Yr("chevron-right")))),yt("table","calendar-body").children(yt("thead","").child(yt("tr","").children(...lr("calendar.weeks").map(t=>yt("th","cell").child(t)))),this.bodyEl)),this.selectChange=()=>{}}setValue(e){this.value=e,this.cvalue=new Date(e),this.buildAll()}prev(){const{value:e}=this;O_(e,-1),this.buildAll()}next(){const{value:e}=this;O_(e,1),this.buildAll()}buildAll(){this.buildHeaderLeft(),this.buildBody()}buildHeaderLeft(){const{value:e}=this;this.headerLeftEl.html(`${lr("calendar.months")[e.getMonth()]} ${e.getFullYear()}`)}buildBody(){const{value:e,cvalue:t,bodyEl:i}=this,a=DB(e.getFullYear(),e.getMonth(),t).map(o=>{const s=o.map(u=>{let c="cell";return u.disabled&&(c+=" disabled"),u.active&&(c+=" active"),yt("td","").child(yt("div",c).on("click.stop",()=>{this.selectChange(u.d)}).child(u.d.getDate().toString()))});return yt("tr","").children(...s)});i.html("").children(...a)}}class MB{constructor(){this.calendar=new AB(new Date),this.el=yt("div",`${Ut}-datepicker`).child(this.calendar.el).hide()}setValue(e){const{calendar:t}=this;return typeof e=="string"?/^\d{4}-\d{1,2}-\d{1,2}$/.test(e)&&t.setValue(new Date(e.replace(new RegExp("-","g"),"/"))):e instanceof Date&&t.setValue(e),this}change(e){this.calendar.selectChange=t=>{e(t),this.hide()}}show(){this.el.show()}hide(){this.el.hide()}}function Zg(){const{inputText:n}=this;if(!/^\s*$/.test(n)){const{textlineEl:e,textEl:t,areaOffset:i}=this,r=n.split(`
`),a=Math.max(...r.map(_=>_.length)),s=e.offset().width/n.length,u=(a+1)*s+5,c=this.viewFn().width-i.left-s;let l=r.length;if(u>i.width){let _=u;u>c&&(_=c,l+=parseInt(u/c,10),l+=u%c>0?1:0),t.css("width",`${_}px`)}l*=this.rowHeight,l>i.height&&t.css("height",`${l}px`)}}function OB({target:n},e){const{value:t,selectionEnd:i}=n,r=`${t.slice(0,i)}${e}${t.slice(i)}`;n.value=r,n.setSelectionRange(i+1,i+1),this.inputText=r,this.textlineEl.html(r),Zg.call(this)}function kB(n){const{keyCode:e,altKey:t}=n;e!==13&&e!==9&&n.stopPropagation(),e===13&&t&&(OB.call(this,n,`
`),n.stopPropagation()),e===13&&!t&&n.preventDefault()}function PB(n){const e=n.target.value,{suggest:t,textlineEl:i,validator:r}=this,{cell:a}=this;if(a!==null)if("editable"in a&&a.editable===!0||a.editable===void 0){if(this.inputText=e,r)r.type==="list"?t.search(e):t.hide();else{const o=e.lastIndexOf("=");o!==-1?t.search(e.substring(o+1)):t.hide()}i.html(e),Zg.call(this),this.change("input",e)}else n.target.value=a.text;else{if(this.inputText=e,r)r.type==="list"?t.search(e):t.hide();else{const o=e.lastIndexOf("=");o!==-1?t.search(e.substring(o+1)):t.hide()}i.html(e),Zg.call(this),this.change("input",e)}}function LB(n){const{el:e}=this.textEl;setTimeout(()=>{e.focus(),e.setSelectionRange(n,n)},0)}function $1(n,e){const{textEl:t,textlineEl:i}=this;t.el.blur(),t.val(n),i.html(n),LB.call(this,e)}function RB(n){const{inputText:e,validator:t}=this;let i=0;if(t&&t.type==="list")this.inputText=n,i=this.inputText.length;else{const r=e.lastIndexOf("="),a=e.substring(0,r+1);let o=e.substring(r+1);o.indexOf(")")!==-1?o=o.substring(o.indexOf(")")):o="",this.inputText=`${a+n.key}(`,i=this.inputText.length,this.inputText+=`)${o}`}$1.call(this,this.inputText,i)}function NB(){this.suggest.setItems(this.formulas)}function FB(n){let e=n.getMonth()+1,t=n.getDate();return e<10&&(e=`0${e}`),t<10&&(t=`0${t}`),`${n.getFullYear()}-${e}-${t}`}class jB{constructor(e,t,i){this.viewFn=t,this.rowHeight=i,this.formulas=e,this.suggest=new G1(e,r=>{RB.call(this,r)}),this.datepicker=new MB,this.datepicker.change(r=>{this.setText(FB(r)),this.clear()}),this.areaEl=yt("div",`${Ut}-editor-area`).children(this.textEl=yt("textarea","").on("input",r=>PB.call(this,r)).on("paste.stop",()=>{}).on("keydown",r=>kB.call(this,r)),this.textlineEl=yt("div","textline"),this.suggest.el,this.datepicker.el).on("mousemove.stop",()=>{}).on("mousedown.stop",()=>{}),this.el=yt("div",`${Ut}-editor`).child(this.areaEl).hide(),this.suggest.bindInputEvents(this.textEl),this.areaOffset=null,this.freeze={w:0,h:0},this.cell=null,this.inputText="",this.change=()=>{}}setFreezeLengths(e,t){this.freeze.w=e,this.freeze.h=t}clear(){this.inputText!==""&&this.change("finished",this.inputText),this.cell=null,this.areaOffset=null,this.inputText="",this.el.hide(),this.textEl.val(""),this.textlineEl.html(""),NB.call(this),this.datepicker.hide()}setOffset(e,t="top"){const{textEl:i,areaEl:r,suggest:a,freeze:o,el:s}=this;if(e){this.areaOffset=e;const{left:u,top:c,width:l,height:_,l:I,t:M}=e,P={left:0,top:0};o.w>I&&o.h>M||(o.w<I&&o.h<M?(P.left=o.w,P.top=o.h):o.w>I?P.top=o.h:o.h>M&&(P.left=o.w)),s.offset(P),r.offset({left:u-P.left-.8,top:c-P.top-.8}),i.offset({width:l-9+.8,height:_-3+.8});const N={left:0};N[t]=_,a.setOffset(N),a.hide()}}setCell(e,t){const{el:i,datepicker:r,suggest:a}=this;i.show(),this.cell=e;const o=e&&e.text||"";if(this.setText(o),this.validator=t,t){const{type:s}=t;s==="date"&&(r.show(),/^\s*$/.test(o)||r.setValue(o)),s==="list"&&(a.setItems(t.values()),a.search(""))}}setText(e){this.inputText=e,$1.call(this,e,e.length),Zg.call(this)}}class Ec extends Pc{constructor(e,t=""){super("div",`${Ut}-button ${t}`),this.child(lr(`button.${e}`))}}function Jg(){return window.devicePixelRatio||1}function ww(){return Jg()-.5}function Fn(n){return parseInt(n*Jg(),10)}function Bu(n){const e=Fn(n);return e>0?e-.5:.5}class BB{constructor(e,t,i,r,a=0){this.x=e,this.y=t,this.width=i,this.height=r,this.padding=a,this.bgcolor="#ffffff",this.borderTop=null,this.borderRight=null,this.borderBottom=null,this.borderLeft=null}setBorders({top:e,bottom:t,left:i,right:r}){e&&(this.borderTop=e),r&&(this.borderRight=r),t&&(this.borderBottom=t),i&&(this.borderLeft=i)}innerWidth(){return this.width-this.padding*2-2}innerHeight(){return this.height-this.padding*2-2}textx(e){const{width:t,padding:i}=this;let{x:r}=this;return e==="left"?r+=i:e==="center"?r+=t/2:e==="right"&&(r+=t-i),r}texty(e,t){const{height:i,padding:r}=this;let{y:a}=this;return e==="top"?a+=r:e==="middle"?a+=i/2-t/2:e==="bottom"&&(a+=i-r-t),a}topxys(){const{x:e,y:t,width:i}=this;return[[e,t],[e+i,t]]}rightxys(){const{x:e,y:t,width:i,height:r}=this;return[[e+i,t],[e+i,t+r]]}bottomxys(){const{x:e,y:t,width:i,height:r}=this;return[[e,t+r],[e+i,t+r]]}leftxys(){const{x:e,y:t,height:i}=this;return[[e,t],[e,t+i]]}}function k_(n,e,t,i,r,a,o){const s={x:0,y:0};n==="underline"?r==="bottom"?s.y=0:r==="top"?s.y=-(a+2):s.y=-a/2:n==="strike"&&(r==="bottom"?s.y=a/2:r==="top"&&(s.y=-(a/2+2))),i==="center"?s.x=o/2:i==="right"&&(s.x=o),this.line([e-s.x,t-s.y],[e-s.x+o,t-s.y])}class V1{constructor(e,t,i){this.el=e,this.ctx=e.getContext("2d"),this.resize(t,i),this.ctx.scale(Jg(),Jg())}resize(e,t){this.el.style.width=`${e}px`,this.el.style.height=`${t}px`,this.el.width=Fn(e),this.el.height=Fn(t)}clear(){const{width:e,height:t}=this.el;return this.ctx.clearRect(0,0,e,t),this}attr(e){return Object.assign(this.ctx,e),this}save(){return this.ctx.save(),this.ctx.beginPath(),this}restore(){return this.ctx.restore(),this}beginPath(){return this.ctx.beginPath(),this}translate(e,t){return this.ctx.translate(Fn(e),Fn(t)),this}scale(e,t){return this.ctx.scale(e,t),this}clearRect(e,t,i,r){return this.ctx.clearRect(e,t,i,r),this}fillRect(e,t,i,r){return this.ctx.fillRect(Fn(e)-.5,Fn(t)-.5,Fn(i),Fn(r)),this}fillText(e,t,i){return this.ctx.fillText(e,Fn(t),Fn(i)),this}text(e,t,i={},r=!0){const{ctx:a}=this,{align:o,valign:s,font:u,color:c,strike:l,underline:_}=i,I=t.textx(o);a.save(),a.beginPath(),this.attr({textAlign:o,textBaseline:s,font:`${u.italic?"italic":""} ${u.bold?"bold":""} ${Fn(u.size)}px ${u.name}`,fillStyle:c,strokeStyle:c});const M=`${e}`.split(`
`),P=t.innerWidth(),N=[];M.forEach(v=>{const m=a.measureText(v).width;if(r&&m>Fn(P)){let d={w:0,len:0,start:0};for(let g=0;g<v.length;g+=1)d.w>=Fn(P)&&(N.push(v.substr(d.start,d.len)),d={w:0,len:0,start:g}),d.len+=1,d.w+=a.measureText(v[g]).width+1;d.len>0&&N.push(v.substr(d.start,d.len))}else N.push(v)});const b=(N.length-1)*(u.size+2);let f=t.texty(s,b);return N.forEach(v=>{const m=a.measureText(v).width;this.fillText(v,I,f),l&&k_.call(this,"strike",I,f,o,s,u.size,m),_&&k_.call(this,"underline",I,f,o,s,u.size,m),f+=u.size+2}),a.restore(),this}border(e,t){const{ctx:i}=this;return i.lineWidth=ww,i.strokeStyle=t,e==="medium"?i.lineWidth=Fn(2)-.5:e==="thick"?i.lineWidth=Fn(3):e==="dashed"?i.setLineDash([Fn(3),Fn(2)]):e==="dotted"?i.setLineDash([Fn(1),Fn(1)]):e==="double"&&i.setLineDash([Fn(2),0]),this}line(...e){const{ctx:t}=this;if(e.length>1){t.beginPath();const[i,r]=e[0];t.moveTo(Bu(i),Bu(r));for(let a=1;a<e.length;a+=1){const[o,s]=e[a];t.lineTo(Bu(o),Bu(s))}t.stroke()}return this}strokeBorders(e){const{ctx:t}=this;t.save();const{borderTop:i,borderRight:r,borderBottom:a,borderLeft:o}=e;i&&(this.border(...i),this.line(...e.topxys())),r&&(this.border(...r),this.line(...e.rightxys())),a&&(this.border(...a),this.line(...e.bottomxys())),o&&(this.border(...o),this.line(...e.leftxys())),t.restore()}dropdown(e){const{ctx:t}=this,{x:i,y:r,width:a,height:o}=e,s=i+a-15,u=r+o-15;t.save(),t.beginPath(),t.moveTo(Fn(s),Fn(u)),t.lineTo(Fn(s+8),Fn(u)),t.lineTo(Fn(s+4),Fn(u+6)),t.closePath(),t.fillStyle="rgba(0, 0, 0, .45)",t.fill(),t.restore()}error(e){const{ctx:t}=this,{x:i,y:r,width:a}=e,o=i+a-1;t.save(),t.beginPath(),t.moveTo(Fn(o-8),Fn(r-1)),t.lineTo(Fn(o),Fn(r-1)),t.lineTo(Fn(o),Fn(r+8)),t.closePath(),t.fillStyle="rgba(255, 0, 0, .65)",t.fill(),t.restore()}frozen(e){const{ctx:t}=this,{x:i,y:r,width:a}=e,o=i+a-1;t.save(),t.beginPath(),t.moveTo(Fn(o-8),Fn(r-1)),t.lineTo(Fn(o),Fn(r-1)),t.lineTo(Fn(o),Fn(r+8)),t.closePath(),t.fillStyle="rgba(0, 255, 0, .85)",t.fill(),t.restore()}rect(e,t){const{ctx:i}=this,{x:r,y:a,width:o,height:s,bgcolor:u}=e;i.save(),i.beginPath(),i.fillStyle=u||"#fff",i.rect(Bu(r+1),Bu(a+1),Fn(o-2),Fn(s-2)),i.clip(),i.fill(),t(),i.restore()}}const P_=[{key:"Arial",title:"Arial"},{key:"Helvetica",title:"Helvetica"},{key:"Source Sans Pro",title:"Source Sans Pro"},{key:"Comic Sans MS",title:"Comic Sans MS"},{key:"Courier New",title:"Courier New"},{key:"Verdana",title:"Verdana"},{key:"Lato",title:"Lato"}],i0=[{pt:7.5,px:10},{pt:8,px:11},{pt:9,px:12},{pt:10,px:13},{pt:10.5,px:14},{pt:11,px:15},{pt:12,px:16},{pt:14,px:18.7},{pt:15,px:20},{pt:16,px:21.3},{pt:18,px:24},{pt:22,px:29.3},{pt:24,px:32},{pt:26,px:34.7},{pt:36,px:48},{pt:42,px:56}];function HB(n){for(let e=0;e<i0.length;e+=1){const t=i0[e];if(t.pt===n)return t.px}return n}const zB=n=>{const e=[],t=[];let i=[],r=0,a="",o=1,s="";for(let u=0;u<n.length;u+=1){const c=n.charAt(u);if(c!==" "){if(c>="a"&&c<="z")i.push(c.toUpperCase());else if(c>="0"&&c<="9"||c>="A"&&c<="Z"||c===".")i.push(c);else if(c==='"'){for(u+=1;n.charAt(u)!=='"';)i.push(n.charAt(u)),u+=1;t.push(`"${i.join("")}`),i=[]}else if(c==="-"&&/[+\-*/,(]/.test(s))i.push(c);else{if(c!=="("&&i.length>0&&t.push(i.join("")),c===")"){let l=e.pop();if(r===2)try{const[_,I]=Il(t.pop()),[M,P]=Il(t.pop());let N=0;for(let b=M;b<=_;b+=1)for(let f=P;f<=I;f+=1)t.push(Ao(b,f)),N+=1;t.push([l,N])}catch{}else if(r===1||r===3)r===3&&t.push(a),t.push([l,o]),o=1;else for(;l!=="("&&(t.push(l),!(e.length<=0));)l=e.pop();r=0}else if(c==="="||c===">"||c==="<"){const l=n.charAt(u+1);a=c,(l==="="||l==="-")&&(a+=l,u+=1),r=3}else if(c===":")r=2;else if(c===",")r===3&&t.push(a),r=1,o+=1;else if(c==="("&&i.length>0)e.push(i.join(""));else{if(e.length>0&&(c==="+"||c==="-")){let l=e[e.length-1];if(l!=="("&&t.push(e.pop()),l==="*"||l==="/")for(;e.length>0&&(l=e[e.length-1],l!=="(");)t.push(e.pop())}else if(e.length>0){const l=e[e.length-1];(l==="*"||l==="/")&&t.push(e.pop())}e.push(c)}i=[]}s=c}}for(i.length>0&&t.push(i.join(""));e.length>0;)t.push(e.pop());return t},WB=(n,e)=>{const[t]=n;let i=n;if(t==='"')return n.substring(1);let r=1;if(t==="-"&&(i=n.substring(1),r=-1),i[0]>="0"&&i[0]<="9")return r*Number(i);const[a,o]=Il(i);return r*e(a,o)},UB=(n,e,t,i)=>{const r=[];for(let a=0;a<n.length;a+=1){const o=n[a],s=o[0];if(o==="+"){const u=r.pop();r.push(Cc("+",r.pop(),u))}else if(o==="-")if(r.length===1){const u=r.pop();r.push(Cc("*",u,-1))}else{const u=r.pop();r.push(Cc("-",r.pop(),u))}else if(o==="*")r.push(Cc("*",r.pop(),r.pop()));else if(o==="/"){const u=r.pop();r.push(Cc("/",r.pop(),u))}else if(s==="="||s===">"||s==="<"){let u=r.pop();Number.isNaN(u)||(u=Number(u));let c=r.pop();Number.isNaN(c)||(c=Number(c));let l=!1;s==="="?l=c===u:o===">"?l=c>u:o===">="?l=c>=u:o==="<"?l=c<u:o==="<="&&(l=c<=u),r.push(l)}else if(Array.isArray(o)){const[u,c]=o,l=[];for(let _=0;_<c;_+=1)l.push(r.pop());r.push(e[u].render(l.reverse()))}else{if(i.includes(o))return 0;(s>="a"&&s<="z"||s>="A"&&s<="Z")&&i.push(o),r.push(WB(o,t)),i.pop()}}return r[0]},X1=(n,e,t,i=[])=>{if(n[0]==="="){const r=zB(n.substring(1));return r.length<=0?n:UB(r,e,(a,o)=>X1(t(a,o),e,t,i),i)}return n},YB={render:X1},Cw=[{key:"SUM",title:ti("formula.sum"),render:n=>n.reduce((e,t)=>Cc("+",e,t),0)},{key:"AVERAGE",title:ti("formula.average"),render:n=>n.reduce((e,t)=>Number(e)+Number(t),0)/n.length},{key:"MAX",title:ti("formula.max"),render:n=>Math.max(...n.map(e=>Number(e)))},{key:"MIN",title:ti("formula.min"),render:n=>Math.min(...n.map(e=>Number(e)))},{key:"IF",title:ti("formula._if"),render:([n,e,t])=>n?e:t},{key:"AND",title:ti("formula.and"),render:n=>n.every(e=>e)},{key:"OR",title:ti("formula.or"),render:n=>n.some(e=>e)},{key:"CONCAT",title:ti("formula.concat"),render:n=>n.join("")}],GB=Cw,Z1={};Cw.forEach(n=>{Z1[n.key]=n});const Hu=n=>n,sg=n=>{if(/^(-?\d*.?\d*)$/.test(n)){const e=Number(n).toFixed(2).toString(),[t,...i]=e.split("\\.");return[t.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),...i]}return n},Pf=[{key:"normal",title:ti("format.normal"),type:"string",render:Hu},{key:"text",title:ti("format.text"),type:"string",render:Hu},{key:"number",title:ti("format.number"),type:"number",label:"1,000.12",render:sg},{key:"percent",title:ti("format.percent"),type:"number",label:"10.12%",render:n=>`${n}%`},{key:"rmb",title:ti("format.rmb"),type:"number",label:"\uFFE510.00",render:n=>`\uFFE5${sg(n)}`},{key:"usd",title:ti("format.usd"),type:"number",label:"$10.00",render:n=>`$${sg(n)}`},{key:"eur",title:ti("format.eur"),type:"number",label:"\u20AC10.00",render:n=>`\u20AC${sg(n)}`},{key:"date",title:ti("format.date"),type:"date",label:"26/09/2008",render:Hu},{key:"time",title:ti("format.time"),type:"date",label:"15:59:00",render:Hu},{key:"datetime",title:ti("format.datetime"),type:"date",label:"26/09/2008 15:59:00",render:Hu},{key:"duration",title:ti("format.duration"),type:"date",label:"24:01:00",render:Hu}],J1={};Pf.forEach(n=>{J1[n.key]=n});const $B=5,VB={fillStyle:"#f4f5f8"},XB={fillStyle:"#fff",lineWidth:ww,strokeStyle:"#e6e6e6"};function ZB(){return{textAlign:"center",textBaseline:"middle",font:`500 ${Fn(12)}px Source Sans Pro`,fillStyle:"#585757",lineWidth:ww(),strokeStyle:"#e6e6e6"}}function K1(n,e,t,i=0){const{left:r,top:a,width:o,height:s}=n.cellRect(e,t);return new BB(r,a+i,o,s,$B)}function Kg(n,e,t,i,r=0){const{sortedRowMap:a,rows:o,cols:s}=e;if(o.isHide(t)||s.isHide(i))return;let u=t;a.has(t)&&(u=a.get(t));const c=e.getCell(u,i);if(c===null)return;let l=!1;"editable"in c&&c.editable===!1&&(l=!0);const _=e.getCellStyleOrDefault(u,i),I=K1(e,t,i,r);I.bgcolor=_.bgcolor,_.border!==void 0&&(I.setBorders(_.border),n.strokeBorders(I)),n.rect(I,()=>{let M="";e.settings.evalPaused?M=c.text||"":M=YB.render(c.text||"",Z1,(b,f)=>e.getCellTextOrDefault(f,b)),_.format&&(M=J1[_.format].render(M));const P=Object.assign({},_.font);P.size=HB(P.size),n.text(M,I,{align:_.align,valign:_.valign,font:P,color:_.color,strike:_.strike,underline:_.underline},_.textwrap),e.validations.getError(t,i)&&n.error(I),l&&n.frozen(I)})}function JB(n){const{data:e,draw:t}=this;if(n){const{autoFilter:i}=e;if(!i.active())return;const r=i.hrange();n.intersects(r)&&r.each((a,o)=>{const s=K1(e,a,o);t.dropdown(s)})}}function og(n,e,t,i,r){const{draw:a,data:o}=this;a.save(),a.translate(e,t).translate(i,r);const{exceptRowSet:s}=o,u=_=>{const I=s.has(_);if(I){const M=o.rows.getHeight(_);a.translate(0,-M)}return!I},c=o.exceptRowTotalHeight(n.sri,n.eri);a.save(),a.translate(0,-c),n.each((_,I)=>{Kg(a,o,_,I)},_=>u(_)),a.restore();const l=new Set;a.save(),a.translate(0,-c),o.eachMergesInView(n,({sri:_,sci:I,eri:M})=>{if(!s.has(_))Kg(a,o,_,I);else if(!l.has(_)){l.add(_);const P=o.rows.sumHeight(_,M+1);a.translate(0,-P)}}),a.restore(),JB.call(this,n),a.restore()}function L_(n,e,t,i){const{draw:r}=this;r.save(),r.attr({fillStyle:"rgba(75, 137, 255, 0.08)"}).fillRect(n,e,t,i),r.restore()}function lg(n,e,t,i,r,a){const{draw:o,data:s}=this,u=e.h,c=e.w,l=a+i,_=r+t;o.save(),o.attr(VB),(n==="all"||n==="left")&&o.fillRect(0,l,t,u),(n==="all"||n==="top")&&o.fillRect(_,0,c,i);const{sri:I,sci:M,eri:P,eci:N}=s.selector.range;o.attr(ZB()),(n==="all"||n==="left")&&(s.rowEach(e.sri,e.eri,(b,f,v)=>{const m=l+f,d=b;o.line([0,m],[t,m]),I<=d&&d<P+1&&L_.call(this,0,m,t,v),o.fillText(d+1,t/2,m+v/2),b>0&&s.rows.isHide(b-1)&&(o.save(),o.attr({strokeStyle:"#c6c6c6"}),o.line([5,m+5],[t-5,m+5]),o.restore())}),o.line([0,u+l],[t,u+l]),o.line([t,l],[t,u+l])),(n==="all"||n==="top")&&(s.colEach(e.sci,e.eci,(b,f,v)=>{const m=_+f,d=b;o.line([m,0],[m,i]),M<=d&&d<N+1&&L_.call(this,m,0,v,i),o.fillText(R1(d),m+v/2,i/2),b>0&&s.cols.isHide(b-1)&&(o.save(),o.attr({strokeStyle:"#c6c6c6"}),o.line([m+5,5],[m+5,i-5]),o.restore())}),o.line([c+_,0],[c+_,i]),o.line([0,i],[c+_,i])),o.restore()}function KB(n,e){const{draw:t}=this;t.save(),t.attr({fillStyle:"#f4f5f8"}).fillRect(0,0,n,e),t.restore()}function cg({sri:n,sci:e,eri:t,eci:i,w:r,h:a},o,s,u,c){const{draw:l,data:_}=this,{settings:I}=_;if(l.save(),l.attr(XB).translate(o+u,s+c),!I.showGrid){l.restore();return}_.rowEach(n,t,(M,P,N)=>{M!==n&&l.line([0,P],[r,P]),M===t&&l.line([0,P+N],[r,P+N])}),_.colEach(e,i,(M,P,N)=>{M!==e&&l.line([P,0],[P,a]),M===i&&l.line([P+N,0],[P+N,a])}),l.restore()}function QB(n,e,t,i){const{draw:r,data:a}=this,o=a.viewWidth()-n,s=a.viewHeight()-e;r.save().translate(n,e).attr({strokeStyle:"rgba(75, 137, 255, .6)"}),r.line([0,i],[o,i]),r.line([t,0],[t,s]),r.restore()}class qB{constructor(e,t){this.el=e,this.draw=new V1(e,t.viewWidth(),t.viewHeight()),this.data=t}resetData(e){this.data=e,this.render()}render(){const{data:e}=this,{rows:t,cols:i}=e,r=i.indexWidth,a=t.height;this.draw.resize(e.viewWidth(),e.viewHeight()),this.clear();const o=e.viewRange(),s=e.freezeTotalWidth(),u=e.freezeTotalHeight(),{x:c,y:l}=e.scroll;cg.call(this,o,r,a,s,u),og.call(this,o,r,a,-c,-l),lg.call(this,"all",o,r,a,s,u),KB.call(this,r,a);const[_,I]=e.freeze;if(_>0||I>0){if(_>0){const P=o.clone();P.sri=0,P.eri=_-1,P.h=u,cg.call(this,P,r,a,s,0),og.call(this,P,r,a,-c,0),lg.call(this,"top",P,r,a,s,0)}if(I>0){const P=o.clone();P.sci=0,P.eci=I-1,P.w=s,cg.call(this,P,r,a,0,u),lg.call(this,"left",P,r,a,0,u),og.call(this,P,r,a,0,-l)}const M=e.freezeViewRange();cg.call(this,M,r,a,0,0),lg.call(this,"all",M,r,a,0,0),og.call(this,M,r,a,0,0),QB.call(this,r,a,s,u)}}clear(){this.draw.clear()}}const xg=[["A3",11.69,16.54],["A4",8.27,11.69],["A5",5.83,8.27],["B4",9.84,13.9],["B5",6.93,9.84]],r0=["landscape","portrait"];function Qg(n){return parseInt(96*n,10)}function R_(n){n==="cancel"?this.el.hide():this.toPrint()}function eH(n){const{paper:e}=this,{value:t}=n.target,i=xg[t];e.w=Qg(i[1]),e.h=Qg(i[2]),this.preview()}function tH(n){const{paper:e}=this,{value:t}=n.target,i=r0[t];e.orientation=i,this.preview()}class nH{constructor(e){this.paper={w:Qg(xg[0][1]),h:Qg(xg[0][2]),padding:50,orientation:r0[0],get width(){return this.orientation==="landscape"?this.h:this.w},get height(){return this.orientation==="landscape"?this.w:this.h}},this.data=e,this.el=yt("div",`${Ut}-print`).children(yt("div",`${Ut}-print-bar`).children(yt("div","-title").child("Print settings"),yt("div","-right").children(yt("div",`${Ut}-buttons`).children(new Ec("cancel").on("click",R_.bind(this,"cancel")),new Ec("next","primary").on("click",R_.bind(this,"next"))))),yt("div",`${Ut}-print-content`).children(this.contentEl=yt("div","-content"),yt("div","-sider").child(yt("form","").children(yt("fieldset","").children(yt("label","").child(`${lr("print.size")}`),yt("select","").children(...xg.map((t,i)=>yt("option","").attr("value",i).child(`${t[0]} ( ${t[1]}''x${t[2]}'' )`))).on("change",eH.bind(this))),yt("fieldset","").children(yt("label","").child(`${lr("print.orientation")}`),yt("select","").children(...r0.map((t,i)=>yt("option","").attr("value",i).child(`${lr("print.orientations")[i]}`))).on("change",tH.bind(this))))))).hide()}resetData(e){this.data=e}preview(){const{data:e,paper:t}=this,{width:i,height:r,padding:a}=t,o=i-a*2,s=r-a*2,u=e.contentRange(),c=parseInt(u.h/s,10)+1,l=o/u.w;let _=a;const I=a;l>1&&(_+=(o-u.w)/2);let M=0,P=0;this.contentEl.html(""),this.canvases=[];const N={sri:0,sci:0,eri:0,eci:0};for(let b=0;b<c;b+=1){let f=0,v=0;const m=yt("div",`${Ut}-canvas-card`),d=yt("canvas",`${Ut}-canvas`);this.canvases.push(d.el);const g=new V1(d.el,i,r);for(g.save(),g.translate(_,I),l<1&&g.scale(l,l);M<=u.eri;M+=1){const C=e.rows.getHeight(M);if(f+=C,f<s)for(let D=0;D<=u.eci;D+=1)Kg(g,e,M,D,P),N.eci=D;else{v=-(f-C);break}}N.eri=M,g.restore(),g.save(),g.translate(_,I),l<1&&g.scale(l,l);const h=P;e.eachMergesInView(N,({sri:C,sci:D})=>{Kg(g,e,C,D,h)}),g.restore(),N.sri=N.eri,N.sci=N.eci,P+=v,this.contentEl.child(yt("div",`${Ut}-canvas-card-wraper`).child(m.child(d)))}this.el.show()}toPrint(){this.el.hide();const{paper:e}=this,t=yt("iframe","").hide(),{el:i}=t;window.document.body.appendChild(i);const{contentWindow:r}=i,a=r.document,o=document.createElement("style");o.innerHTML=`
      @page { size: ${e.width}px ${e.height}px; };
      canvas {
        page-break-before: auto;        
        page-break-after: always;
        image-rendering: pixelated;
      };
    `,a.head.appendChild(o),this.canvases.forEach(s=>{const u=s.cloneNode(!1);u.getContext("2d").drawImage(s,0,0),a.body.appendChild(u)}),r.print()}}const iH=[{key:"copy",title:ti("contextmenu.copy"),label:"Ctrl+C"},{key:"cut",title:ti("contextmenu.cut"),label:"Ctrl+X"},{key:"paste",title:ti("contextmenu.paste"),label:"Ctrl+V"},{key:"paste-value",title:ti("contextmenu.pasteValue"),label:"Ctrl+Shift+V"},{key:"paste-format",title:ti("contextmenu.pasteFormat"),label:"Ctrl+Alt+V"},{key:"divider"},{key:"insert-row",title:ti("contextmenu.insertRow")},{key:"insert-column",title:ti("contextmenu.insertColumn")},{key:"divider"},{key:"delete-row",title:ti("contextmenu.deleteRow")},{key:"delete-column",title:ti("contextmenu.deleteColumn")},{key:"delete-cell-text",title:ti("contextmenu.deleteCellText")},{key:"hide",title:ti("contextmenu.hide")},{key:"divider"},{key:"validation",title:ti("contextmenu.validation")},{key:"divider"},{key:"cell-printable",title:ti("contextmenu.cellprintable")},{key:"cell-non-printable",title:ti("contextmenu.cellnonprintable")},{key:"divider"},{key:"cell-editable",title:ti("contextmenu.celleditable")},{key:"cell-non-editable",title:ti("contextmenu.cellnoneditable")}];function rH(n){return n.key==="divider"?yt("div",`${Ut}-item divider`):yt("div",`${Ut}-item`).on("click",()=>{this.itemClick(n.key),this.hide()}).children(n.title(),yt("div","label").child(n.label||""))}function aH(){return iH.map(n=>rH.call(this,n))}class sH{constructor(e,t=!1){this.menuItems=aH.call(this),this.el=yt("div",`${Ut}-contextmenu`).children(...this.menuItems).hide(),this.viewFn=e,this.itemClick=()=>{},this.isHide=t,this.setMode("range")}setMode(e){const t=this.menuItems[12];e==="row-col"?t.show():t.hide()}hide(){const{el:e}=this;e.hide(),Nh(e)}setPosition(e,t){if(this.isHide)return;const{el:i}=this,{width:r}=i.show().offset(),a=this.viewFn(),o=a.height/2;let s=e;a.width-e<=r&&(s-=r),i.css("left",`${s}px`),t>o?i.css("bottom",`${a.height-t}px`).css("max-height",`${t}px`).css("top","auto"):i.css("top",`${t}px`).css("max-height",`${a.height-t}px`).css("bottom","auto"),Cd(i)}}function oH(n,e){if(e.classList.contains("active"))return;const{left:t,top:i,width:r,height:a}=e.getBoundingClientRect(),o=yt("div",`${Ut}-tooltip`).html(n).show();document.body.appendChild(o.el);const s=o.box();o.css("left",`${t+r/2-s.width/2}px`).css("top",`${i+a+2}px`),ma(e,"mouseleave",()=>{document.body.contains(o.el)&&document.body.removeChild(o.el)}),ma(e,"click",()=>{document.body.contains(o.el)&&document.body.removeChild(o.el)})}class Sw{constructor(e,t,i){this.tip=lr(`toolbar.${e.replace(/-[a-z]/g,r=>r[1].toUpperCase())}`),t&&(this.tip+=` (${t})`),this.tag=e,this.shortcut=t,this.value=i,this.el=this.element(),this.change=()=>{}}element(){const{tip:e}=this;return yt("div",`${Ut}-toolbar-btn`).on("mouseenter",t=>{oH(e,t.target)}).attr("data-tooltip",e)}setState(){}}class oo extends Sw{dropdown(){}getValue(e){return e}element(){const{tag:e}=this;return this.dd=this.dropdown(),this.dd.change=t=>this.change(e,this.getValue(t)),super.element().child(this.dd)}setState(e){e&&(this.value=e,this.dd.setTitle(e))}}class lo extends Pc{constructor(e,t,i,r,...a){super("div",`${Ut}-dropdown ${r}`),this.title=e,this.change=()=>{},this.headerClick=()=>{},typeof e=="string"?this.title=yt("div",`${Ut}-dropdown-title`).child(e):i&&this.title.addClass("arrow-left"),this.contentEl=yt("div",`${Ut}-dropdown-content`).css("width",t).hide(),this.setContentChildren(...a),this.headerEl=yt("div",`${Ut}-dropdown-header`),this.headerEl.on("click",()=>{this.contentEl.css("display")!=="block"?this.show():this.hide()}).children(this.title,i?yt("div",`${Ut}-icon arrow-right`).child(yt("div",`${Ut}-icon-img arrow-down`)):""),this.children(this.headerEl,this.contentEl)}setContentChildren(...e){this.contentEl.html(""),e.length>0&&this.contentEl.children(...e)}setTitle(e){this.title.html(e),this.hide()}show(){const{contentEl:e}=this;e.show(),this.parent().active(),Cd(this.parent(),()=>{this.hide()})}hide(){this.parent().active(!1),this.contentEl.hide(),Nh(this.parent())}}function lH(n){return yt("div",`${Ut}-item`).child(new Yr(n))}class Q1 extends lo{constructor(e,t){const i=new Yr(`align-${t}`),r=e.map(a=>lH(`align-${a}`).on("click",()=>{this.setTitle(a),this.change(a)}));super(i,"auto",!0,"bottom-left",...r)}setTitle(e){this.title.setName(`align-${e}`),this.hide()}}class cH extends oo{constructor(e){super("align","",e)}dropdown(){const{value:e}=this;return new Q1(["left","center","right"],e)}}class uH extends oo{constructor(e){super("valign","",e)}dropdown(){const{value:e}=this;return new Q1(["top","middle","bottom"],e)}}class Yo extends Sw{element(){const{tag:e}=this;return super.element().child(new Yr(e)).on("click",()=>this.click())}click(){this.change(this.tag,this.toggle())}setState(e){this.el.active(e)}toggle(){return this.el.toggle()}active(){return this.el.hasClass("active")}}class hH extends Yo{constructor(){super("autofilter")}setState(){}}class fH extends Yo{constructor(){super("font-bold","Ctrl+B")}}class dH extends Yo{constructor(){super("font-italic","Ctrl+I")}}class pH extends Yo{constructor(){super("strike","Ctrl+U")}}class gH extends Yo{constructor(){super("underline","Ctrl+U")}}const vH=["#ffffff","#000100","#e7e5e6","#445569","#5b9cd6","#ed7d31","#a5a5a5","#ffc001","#4371c6","#71ae47"],mH=[["#f2f2f2","#7f7f7f","#d0cecf","#d5dce4","#deeaf6","#fce5d5","#ededed","#fff2cd","#d9e2f3","#e3efd9"],["#d8d8d8","#595959","#afabac","#adb8ca","#bdd7ee","#f7ccac","#dbdbdb","#ffe59a","#b3c6e7","#c5e0b3"],["#bfbfbf","#3f3f3f","#756f6f","#8596b0","#9cc2e6","#f4b184","#c9c9c9","#fed964","#8eaada","#a7d08c"],["#a5a5a5","#262626","#3a3839","#333f4f","#2e75b5","#c45a10","#7b7b7b","#bf8e01","#2f5596","#538136"],["#7f7f7f","#0c0c0c","#171516","#222a35","#1f4e7a","#843c0a","#525252","#7e6000","#203864","#365624"]],yH=["#c00000","#fe0000","#fdc101","#ffff01","#93d051","#00b04e","#01b0f1","#0170c1","#012060","#7030a0"];function sb(n){return yt("td","").child(yt("div",`${Ut}-color-palette-cell`).on("click.stop",()=>this.change(n)).css("background-color",n))}class bH{constructor(){this.el=yt("div",`${Ut}-color-palette`),this.change=()=>{};const e=yt("table","").children(yt("tbody","").children(yt("tr",`${Ut}-theme-color-placeholders`).children(...vH.map(t=>sb.call(this,t))),...mH.map(t=>yt("tr",`${Ut}-theme-colors`).children(...t.map(i=>sb.call(this,i)))),yt("tr",`${Ut}-standard-colors`).children(...yH.map(t=>sb.call(this,t)))));this.el.child(e)}}class _w extends lo{constructor(e,t){const i=new Yr(e).css("height","16px").css("border-bottom",`3px solid ${t}`),r=new bH;r.change=a=>{this.setTitle(a),this.change(a)},super(i,"auto",!1,"bottom-left",r.el)}setTitle(e){this.title.css("border-color",e),this.hide()}}const wH=[["thin",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="1" style="user-select: none;"><line x1="0" y1="0.5" x2="50" y2="0.5" stroke-width="1" stroke="black" style="user-select: none;"></line></svg>'],["medium",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="2" style="user-select: none;"><line x1="0" y1="1.0" x2="50" y2="1.0" stroke-width="2" stroke="black" style="user-select: none;"></line></svg>'],["thick",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="3" style="user-select: none;"><line x1="0" y1="1.5" x2="50" y2="1.5" stroke-width="3" stroke="black" style="user-select: none;"></line></svg>'],["dashed",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="1" style="user-select: none;"><line x1="0" y1="0.5" x2="50" y2="0.5" stroke-width="1" stroke="black" stroke-dasharray="2" style="user-select: none;"></line></svg>'],["dotted",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="1" style="user-select: none;"><line x1="0" y1="0.5" x2="50" y2="0.5" stroke-width="1" stroke="black" stroke-dasharray="1" style="user-select: none;"></line></svg>']];class CH extends lo{constructor(e){const t=new Yr("line-type");let i=0;const r=wH.map((a,o)=>yt("div",`${Ut}-item state ${e===a[0]?"checked":""}`).on("click",()=>{r[i].toggle("checked"),r[o].toggle("checked"),i=o,this.hide(),this.change(a)}).child(yt("div",`${Ut}-line-type`).html(a[1])));super(t,"auto",!1,"bottom-left",...r)}}function N_(...n){return yt("table","").child(yt("tbody","").children(...n))}function F_(n){return yt("td","").child(yt("div",`${Ut}-border-palette-cell`).child(new Yr(`border-${n}`)).on("click",()=>{this.mode=n;const{mode:e,style:t,color:i}=this;this.change({mode:e,style:t,color:i})}))}class SH{constructor(){this.color="#000",this.style="thin",this.mode="all",this.change=()=>{},this.ddColor=new _w("line-color",this.color),this.ddColor.change=t=>{this.color=t},this.ddType=new CH(this.style),this.ddType.change=([t])=>{this.style=t},this.el=yt("div",`${Ut}-border-palette`);const e=N_(yt("tr","").children(yt("td",`${Ut}-border-palette-left`).child(N_(yt("tr","").children(...["all","inside","horizontal","vertical","outside"].map(t=>F_.call(this,t))),yt("tr","").children(...["left","top","right","bottom","none"].map(t=>F_.call(this,t))))),yt("td",`${Ut}-border-palette-right`).children(yt("div",`${Ut}-toolbar-btn`).child(this.ddColor.el),yt("div",`${Ut}-toolbar-btn`).child(this.ddType.el))));this.el.child(e)}}class _H extends lo{constructor(){const e=new Yr("border-all"),t=new SH;t.change=i=>{this.change(i),this.hide()},super(e,"auto",!1,"bottom-left",t.el)}}class xH extends oo{constructor(){super("border")}dropdown(){return new _H}}class Nv extends Sw{element(){return super.element().child(new Yr(this.tag)).on("click",()=>this.change(this.tag))}setState(e){this.el.disabled(e)}}class EH extends Nv{constructor(){super("clearformat")}}class TH extends Yo{constructor(){super("paintformat")}setState(){}}class IH extends oo{constructor(e){super("color",void 0,e)}dropdown(){const{tag:e,value:t}=this;return new _w(e,t)}}class DH extends oo{constructor(e){super("bgcolor",void 0,e)}dropdown(){const{tag:e,value:t}=this;return new _w(e,t)}}class AH extends lo{constructor(){const e=i0.map(t=>yt("div",`${Ut}-item`).on("click",()=>{this.setTitle(`${t.pt}`),this.change(t)}).child(`${t.pt}`));super("10","60px",!0,"bottom-left",...e)}}class MH extends oo{constructor(){super("font-size")}getValue(e){return e.pt}dropdown(){return new AH}}class OH extends lo{constructor(){const e=P_.map(t=>yt("div",`${Ut}-item`).on("click",()=>{this.setTitle(t.title),this.change(t)}).child(t.title));super(P_[0].title,"160px",!0,"bottom-left",...e)}}class kH extends oo{constructor(){super("font-name")}getValue(e){return e.key}dropdown(){return new OH}}class PH extends lo{constructor(){let e=Pf.slice(0);e.splice(2,0,{key:"divider"}),e.splice(8,0,{key:"divider"}),e=e.map(t=>{const i=yt("div",`${Ut}-item`);return t.key==="divider"?i.addClass("divider"):(i.child(t.title()).on("click",()=>{this.setTitle(t.title()),this.change(t)}),t.label&&i.child(yt("div","label").html(t.label))),i}),super("Normal","220px",!0,"bottom-left",...e)}setTitle(e){for(let t=0;t<Pf.length;t+=1)Pf[t].key===e&&this.title.html(Pf[t].title());this.hide()}}class LH extends oo{constructor(){super("format")}getValue(e){return e.key}dropdown(){return new PH}}class RH extends lo{constructor(){const e=Cw.map(t=>yt("div",`${Ut}-item`).on("click",()=>{this.hide(),this.change(t)}).child(t.key));super(new Yr("formula"),"180px",!0,"bottom-left",...e)}}class NH extends oo{constructor(){super("formula")}getValue(e){return e.key}dropdown(){return new RH}}class FH extends Yo{constructor(){super("freeze")}}class jH extends Yo{constructor(){super("merge")}setState(e,t){this.el.active(e).disabled(t)}}class BH extends Nv{constructor(){super("redo","Ctrl+Y")}}class HH extends Nv{constructor(){super("undo","Ctrl+Z")}}class zH extends Nv{constructor(){super("print","Ctrl+P")}}class WH extends Yo{constructor(){super("textwrap")}}class UH extends lo{constructor(){const e=new Yr("ellipsis"),t=yt("div",`${Ut}-toolbar-more`);super(e,"auto",!1,"bottom-right",t),this.moreBtns=t,this.contentEl.css("max-width","420px")}}class YH extends oo{constructor(){super("more"),this.el.hide()}dropdown(){return new UH}show(){this.el.show()}hide(){this.el.hide()}}function zu(){return yt("div",`${Ut}-toolbar-divider`)}function GH(){this.btns2=[],this.items.forEach(n=>{if(Array.isArray(n))n.forEach(({el:e})=>{const t=e.box(),{marginLeft:i,marginRight:r}=e.computedStyle();this.btns2.push([e,t.width+parseInt(i,10)+parseInt(r,10)])});else{const e=n.box(),{marginLeft:t,marginRight:i}=n.computedStyle();this.btns2.push([n,e.width+parseInt(t,10)+parseInt(i,10)])}})}function j_(){const{el:n,btns:e,moreEl:t,btns2:i}=this,{moreBtns:r,contentEl:a}=t.dd;n.css("width",`${this.widthFn()-60}px`);const o=n.box();let s=160,u=12;const c=[],l=[];i.forEach(([_,I],M)=>{s+=I,M===i.length-1||s<o.width?c.push(_):(u+=I,l.push(_))}),e.html("").children(...c),r.html("").children(...l),a.css("width",`${u}px`),l.length>0?t.show():t.hide()}class $H{constructor(e,t,i=!1){this.data=e,this.change=()=>{},this.widthFn=t,this.isHide=i;const r=e.defaultStyle();this.items=[[this.undoEl=new HH,this.redoEl=new BH,new zH,this.paintformatEl=new TH,this.clearformatEl=new EH],zu(),[this.formatEl=new LH],zu(),[this.fontEl=new kH,this.fontSizeEl=new MH],zu(),[this.boldEl=new fH,this.italicEl=new dH,this.underlineEl=new gH,this.strikeEl=new pH,this.textColorEl=new IH(r.color)],zu(),[this.fillColorEl=new DH(r.bgcolor),this.borderEl=new xH,this.mergeEl=new jH],zu(),[this.alignEl=new cH(r.align),this.valignEl=new uH(r.valign),this.textwrapEl=new WH],zu(),[this.freezeEl=new FH,this.autofilterEl=new hH,this.formulaEl=new NH,this.moreEl=new YH]],this.el=yt("div",`${Ut}-toolbar`),this.btns=yt("div",`${Ut}-toolbar-btns`),this.items.forEach(a=>{Array.isArray(a)?a.forEach(o=>{this.btns.child(o.el),o.change=(...s)=>{this.change(...s)}}):this.btns.child(a.el)}),this.el.child(this.btns),i?this.el.hide():(this.reset(),setTimeout(()=>{GH.call(this),j_.call(this)},0),ma(window,"resize",()=>{j_.call(this)}))}paintformatActive(){return this.paintformatEl.active()}paintformatToggle(){this.paintformatEl.toggle()}trigger(e){this[`${e}El`].click()}resetData(e){this.data=e,this.reset()}reset(){if(this.isHide)return;const{data:e}=this,t=e.getSelectedCellStyle();this.undoEl.setState(!e.canUndo()),this.redoEl.setState(!e.canRedo()),this.mergeEl.setState(e.canUnmerge(),!e.selector.multiple()),this.autofilterEl.setState(!e.canAutofilter());const{font:i,format:r}=t;this.formatEl.setState(r),this.fontEl.setState(i.name),this.fontSizeEl.setState(i.size),this.boldEl.setState(i.bold),this.italicEl.setState(i.italic),this.underlineEl.setState(t.underline),this.strikeEl.setState(t.strike),this.textColorEl.setState(t.color),this.fillColorEl.setState(t.bgcolor),this.alignEl.setState(t.align),this.valignEl.setState(t.valign),this.textwrapEl.setState(t.textwrap),this.freezeEl.setState(e.freezeIsActive())}}class VH{constructor(e,t,i="600px"){this.title=e,this.el=yt("div",`${Ut}-modal`).css("width",i).children(yt("div",`${Ut}-modal-header`).children(new Yr("close").on("click.stop",()=>this.hide()),this.title),yt("div",`${Ut}-modal-content`).children(...t)).hide()}show(){this.dimmer=yt("div",`${Ut}-dimmer active`),document.body.appendChild(this.dimmer.el);const{width:e,height:t}=this.el.show().box(),{clientHeight:i,clientWidth:r}=document.documentElement;this.el.offset({left:(r-e)/2,top:(i-t)/3}),window.xkeydownEsc=a=>{a.keyCode===27&&this.hide()},ma(window,"keydown",window.xkeydownEsc)}hide(){this.el.hide(),document.body.removeChild(this.dimmer.el),Xg(window,"keydown",window.xkeydownEsc),delete window.xkeydownEsc}}class Xu{constructor(e,t){this.vchange=()=>{},this.el=yt("div",`${Ut}-form-input`),this.input=yt("input","").css("width",e).on("input",i=>this.vchange(i)).attr("placeholder",t),this.el.child(this.input)}focus(){setTimeout(()=>{this.input.el.focus()},10)}hint(e){this.input.attr("placeholder",e)}val(e){return this.input.val(e)}}class ob{constructor(e,t,i,r=o=>o,a=()=>{}){this.key=e,this.getTitle=r,this.vchange=()=>{},this.el=yt("div",`${Ut}-form-select`),this.suggest=new G1(t.map(o=>({key:o,title:this.getTitle(o)})),o=>{this.itemClick(o.key),a(o.key),this.vchange(o.key)},i,this.el),this.el.children(this.itemEl=yt("div","input-text").html(this.getTitle(e)),this.suggest.el).on("click",()=>this.show())}show(){this.suggest.search("")}itemClick(e){this.key=e,this.itemEl.html(this.getTitle(e))}val(e){return e!==void 0?(this.key=e,this.itemEl.html(this.getTitle(e)),this):this.key}}const XH={number:/(^\d+$)|(^\d+(\.\d{0,4})?$)/,date:/^\d{4}-\d{1,2}-\d{1,2}$/};class vl{constructor(e,t,i,r){this.label="",this.rule=t,i&&(this.label=yt("label","label").css("width",`${r}px`).html(i)),this.tip=yt("div","tip").child("tip").hide(),this.input=e,this.input.vchange=()=>this.validate(),this.el=yt("div",`${Ut}-form-field`).children(this.label,e.el,this.tip)}isShow(){return this.el.css("display")!=="none"}show(){this.el.show()}hide(){return this.el.hide(),this}val(e){return this.input.val(e)}hint(e){this.input.hint(e)}validate(){const{input:e,rule:t,tip:i,el:r}=this,a=e.val();return t.required&&/^\s*$/.test(a)?(i.html(lr("validation.required")),r.addClass("error"),!1):(t.type||t.pattern)&&!(t.pattern||XH[t.type]).test(a)?(i.html(lr("validation.notMatch")),r.addClass("error"),!1):(r.removeClass("error"),!0)}}const B_=100;class ZH extends VH{constructor(){const e=new vl(new ob("cell",["cell"],"100%",c=>lr(`dataValidation.modeType.${c}`)),{required:!0},`${lr("dataValidation.range")}:`,B_),t=new vl(new Xu("120px","E3 or E3:F12"),{required:!0,pattern:/^([A-Z]{1,2}[1-9]\d*)(:[A-Z]{1,2}[1-9]\d*)?$/}),i=new vl(new ob("list",["list","number","date","phone","email"],"100%",c=>lr(`dataValidation.type.${c}`),c=>this.criteriaSelected(c)),{required:!0},`${lr("dataValidation.criteria")}:`,B_),r=new vl(new ob("be",["be","nbe","eq","neq","lt","lte","gt","gte"],"160px",c=>lr(`dataValidation.operator.${c}`),c=>this.criteriaOperatorSelected(c)),{required:!0}).hide(),a=new vl(new Xu("70px","10"),{required:!0}).hide(),o=new vl(new Xu("70px","100"),{required:!0,type:"number"}).hide(),s=new vl(new Xu("120px","a,b,c"),{required:!0}),u=new vl(new Xu("70px","10"),{required:!0,type:"number"}).hide();super(lr("contextmenu.validation"),[yt("div",`${Ut}-form-fields`).children(e.el,t.el),yt("div",`${Ut}-form-fields`).children(i.el,r.el,a.el,o.el,u.el,s.el),yt("div",`${Ut}-buttons`).children(new Ec("cancel").on("click",()=>this.btnClick("cancel")),new Ec("remove").on("click",()=>this.btnClick("remove")),new Ec("save","primary").on("click",()=>this.btnClick("save")))]),this.mf=e,this.rf=t,this.cf=i,this.of=r,this.minvf=a,this.maxvf=o,this.vf=u,this.svf=s,this.change=()=>{}}showVf(e){const t=e==="date"?"2018-11-12":"10",{vf:i}=this;i.input.hint(t),i.show()}criteriaSelected(e){const{of:t,minvf:i,maxvf:r,vf:a,svf:o}=this;e==="date"||e==="number"?(t.show(),i.rule.type=e,r.rule.type=e,e==="date"?(i.hint("2018-11-12"),r.hint("2019-11-12")):(i.hint("10"),r.hint("100")),i.show(),r.show(),a.hide(),o.hide()):(e==="list"?o.show():o.hide(),a.hide(),t.hide(),i.hide(),r.hide())}criteriaOperatorSelected(e){if(!e)return;const{minvf:t,maxvf:i,vf:r}=this;if(e==="be"||e==="nbe")t.show(),i.show(),r.hide();else{const a=this.cf.val();r.rule.type=a,a==="date"?r.hint("2018-11-12"):r.hint("10"),r.show(),t.hide(),i.hide()}}btnClick(e){if(e==="cancel")this.hide();else if(e==="remove")this.change("remove"),this.hide();else if(e==="save"){const t=["mf","rf","cf","of","svf","vf","minvf","maxvf"];for(let u=0;u<t.length;u+=1){const c=this[t[u]];if(c.isShow()&&!c.validate())return}const i=this.mf.val(),r=this.rf.val(),a=this.cf.val(),o=this.of.val();let s=this.svf.val();(a==="number"||a==="date")&&(o==="be"||o==="nbe"?s=[this.minvf.val(),this.maxvf.val()]:s=this.vf.val()),this.change("save",i,r,{type:a,operator:o,required:!1,value:s}),this.hide()}}setValue(e){if(e){const{mf:t,rf:i,cf:r,of:a,svf:o,vf:s,minvf:u,maxvf:c}=this,{mode:l,ref:_,validator:I}=e,{type:M,operator:P,value:N}=I||{type:"list"};t.val(l||"cell"),i.val(_),r.val(M),a.val(P),Array.isArray(N)?(u.val(N[0]),c.val(N[1])):(o.val(N||""),s.val(N||"")),this.criteriaSelected(M),this.criteriaOperatorSelected(P)}this.show()}}function q1(n){return yt("div",`${Ut}-item ${n}`)}function H_(n){return q1("state").child(lr(`sort.${n}`)).on("click.stop",()=>this.itemClick(n))}function JH(n){const{filterbEl:e,filterValues:t}=this;e.html(""),Object.keys(n).forEach((r,a)=>{const o=n[r],s=t.includes(r)?"checked":"";e.child(yt("div",`${Ut}-item state ${s}`).on("click.stop",()=>this.filterClick(a,r)).children(r===""?lr("filter.empty"):r,yt("div","label").html(`(${o})`)))})}function z_(){const{filterhEl:n,filterValues:e,values:t}=this;n.html(`${e.length} / ${t.length}`),n.checked(e.length===t.length)}class KH{constructor(){this.filterbEl=yt("div",`${Ut}-body`),this.filterhEl=yt("div",`${Ut}-header state`).on("click.stop",()=>this.filterClick(0,"all")),this.el=yt("div",`${Ut}-sort-filter`).children(this.sortAscEl=H_.call(this,"asc"),this.sortDescEl=H_.call(this,"desc"),q1("divider"),yt("div",`${Ut}-filter`).children(this.filterhEl,this.filterbEl),yt("div",`${Ut}-buttons`).children(new Ec("cancel").on("click",()=>this.btnClick("cancel")),new Ec("ok","primary").on("click",()=>this.btnClick("ok")))).hide(),this.ci=null,this.sortDesc=null,this.values=null,this.filterValues=[]}btnClick(e){if(e==="ok"){const{ci:t,sort:i,filterValues:r}=this;this.ok&&this.ok(t,i,"in",r)}this.hide()}itemClick(e){this.sort=e;const{sortAscEl:t,sortDescEl:i}=this;t.checked(e==="asc"),i.checked(e==="desc")}filterClick(e,t){const{filterbEl:i,filterValues:r,values:a}=this,o=i.children();t==="all"?o.length===r.length?(this.filterValues=[],o.forEach(s=>yt(s).checked(!1))):(this.filterValues=Array.from(a),o.forEach(s=>yt(s).checked(!0))):yt(o[e]).toggle("checked")?r.push(t):r.splice(r.findIndex(u=>u===t),1),z_.call(this)}set(e,t,i,r){this.ci=e;const{sortAscEl:a,sortDescEl:o}=this;r!==null?(this.sort=r.order,a.checked(r.asc()),o.checked(r.desc())):(this.sortDesc=null,a.checked(!1),o.checked(!1)),this.values=Object.keys(t),this.filterValues=i?Array.from(i.value):Object.keys(t),JH.call(this,t,i),z_.call(this)}setOffset(e){this.el.offset(e).show();let t=1;Cd(this.el,()=>{t<=0&&this.hide(),t-=1})}show(){this.el.show()}hide(){this.el.hide(),Nh(this.el)}}function eI(n,e){const t=yt("div",`${Ut}-toast`),i=yt("div",`${Ut}-dimmer active`),r=()=>{document.body.removeChild(t.el),document.body.removeChild(i.el)};t.children(yt("div",`${Ut}-toast-header`).children(new Yr("close").on("click.stop",()=>r()),n),yt("div",`${Ut}-toast-content`).html(e)),document.body.appendChild(t.el),document.body.appendChild(i.el);const{width:a,height:o}=t.box(),{clientHeight:s,clientWidth:u}=document.documentElement;t.offset({left:(u-a)/2,top:(s-o)/3})}function lb(n,e){let t;return(...i)=>{const r=this,a=i;t||(t=setTimeout(()=>{t=null,n.apply(r,a)},e))}}function QH(){const{data:n,verticalScrollbar:e,horizontalScrollbar:t}=this,{l:i,t:r,left:a,top:o,width:s,height:u}=n.getSelectedRect(),c=this.getTableOffset();if(Math.abs(a)+s>c.width)t.move({left:i+s-c.width});else{const l=n.freezeTotalWidth();a<l&&t.move({left:i-1-l})}if(Math.abs(o)+u>c.height)e.move({top:r+u-c.height-1});else{const l=n.freezeTotalHeight();o<l&&e.move({top:r-1-l})}}function Tc(n,e,t,i=!0,r=!1){if(e===-1&&t===-1)return;const{table:a,selector:o,toolbar:s,data:u,contextMenu:c}=this;c.setMode(e===-1||t===-1?"row-col":"range");const l=u.getCell(e,t);n?(o.setEnd(e,t,r),this.trigger("cells-selected",l,o.range)):(o.set(e,t,i),this.trigger("cell-selected",l,e,t)),s.reset(),a.render()}function eo(n,e){const{selector:t,data:i}=this,{rows:r,cols:a}=i;let[o,s]=t.indexes;const{eri:u,eci:c}=t.range;n&&([o,s]=t.moveIndexes),e==="left"?s>0&&(s-=1):e==="right"?(c!==s&&(s=c),s<a.len-1&&(s+=1)):e==="up"?o>0&&(o-=1):e==="down"?(u!==o&&(o=u),o<r.len-1&&(o+=1)):e==="row-first"?s=0:e==="row-last"?s=a.len-1:e==="col-first"?o=0:e==="col-last"&&(o=r.len-1),n&&(t.moveIndexes=[o,s]),Tc.call(this,n,o,s),QH.call(this)}function qH(n){if(n.buttons!==0||n.target.className===`${Ut}-resizer-hover`)return;const{offsetX:e,offsetY:t}=n,{rowResizer:i,colResizer:r,tableEl:a,data:o}=this,{rows:s,cols:u}=o;if(e>u.indexWidth&&t>s.height){i.hide(),r.hide();return}const c=a.box(),l=o.getCellRectByXY(n.offsetX,n.offsetY);l.ri>=0&&l.ci===-1?(l.width=u.indexWidth,i.show(l,{width:c.width}),s.isHide(l.ri-1)?i.showUnhide(l.ri):i.hideUnhide()):i.hide(),l.ri===-1&&l.ci>=0?(l.height=s.height,r.show(l,{height:c.height}),u.isHide(l.ci-1)?r.showUnhide(l.ci):r.hideUnhide()):r.hide()}function ez(n){const{verticalScrollbar:e,horizontalScrollbar:t,data:i}=this,{top:r}=e.scroll(),{left:a}=t.scroll(),{rows:o,cols:s}=i,{deltaY:u,deltaX:c}=n,l=(b,f)=>{let v=b,m=0;do m=f(v),v+=1;while(m<=0);return m},_=b=>{if(b>0){const f=i.scroll.ri+1;if(f<o.len){const v=l(f,m=>o.getHeight(m));e.move({top:r+v-1})}}else{const f=i.scroll.ri-1;if(f>=0){const v=l(f,m=>o.getHeight(m));e.move({top:f===0?0:r-v})}}},I=b=>{if(b>0){const f=i.scroll.ci+1;if(f<s.len){const v=l(f,m=>s.getWidth(m));t.move({left:a+v-1})}}else{const f=i.scroll.ci-1;if(f>=0){const v=l(f,m=>s.getWidth(m));t.move({left:f===0?0:a-v})}}},M=Math.abs(u),P=Math.abs(c),N=Math.max(M,P);/Firefox/i.test(window.navigator.userAgent)&&lb(_(n.detail),50),N===P&&lb(I(c),50),N===M&&lb(_(u),50)}function tz(n,e){const{verticalScrollbar:t,horizontalScrollbar:i}=this,{top:r}=t.scroll(),{left:a}=i.scroll();n==="left"||n==="right"?i.move({left:a-e}):(n==="up"||n==="down")&&t.move({top:r-e})}function xw(){const{data:n,verticalScrollbar:e}=this,{height:t}=this.getTableOffset(),i=n.exceptRowTotalHeight(0,-1);e.set(t,n.rows.totalHeight()-i)}function Ew(){const{data:n,horizontalScrollbar:e}=this,{width:t}=this.getTableOffset();n&&e.set(t,n.cols.totalWidth())}function nz(){const{selector:n,data:e,editor:t}=this,[i,r]=e.freeze;if(i>0||r>0){const a=e.freezeTotalWidth(),o=e.freezeTotalHeight();t.setFreezeLengths(a,o)}n.resetAreaOffset()}function va(){const{tableEl:n,overlayerEl:e,overlayerCEl:t,table:i,toolbar:r,selector:a,el:o}=this,s=this.getTableOffset(),u=this.getRect();n.attr(u),e.offset(u),t.offset(s),o.css("width",`${u.width}px`),xw.call(this),Ew.call(this),nz.call(this),i.render(),r.reset(),a.reset()}function Sd(){const{data:n,selector:e}=this;n.clearClipboard(),e.hideClipboard()}function a0(){const{data:n,selector:e}=this;n.copy(),n.copyToSystemClipboard(),e.showClipboard()}function W_(){const{data:n,selector:e}=this;n.cut(),e.showClipboard()}function Lf(n,e){const{data:t}=this;if(t.settings.mode!=="read"){if(t.paste(n,i=>eI("Tip",i)))va.call(this);else if(e){const i=e.clipboardData.getData("text/plain");this.data.pasteFromText(i),va.call(this)}}}function iz(){this.data.hideRowsOrCols(),va.call(this)}function U_(n,e){this.data.unhideRowsOrCols(n,e),va.call(this)}function rz(){const{data:n}=this;n.autofilter(),va.call(this)}function az(){const{toolbar:n}=this;n.paintformatActive()&&(Lf.call(this,"format"),Sd.call(this),n.paintformatToggle())}function Y_(n){const{selector:e,data:t,table:i,sortFilter:r}=this,{offsetX:a,offsetY:o}=n,s=n.target.className===`${Ut}-selector-corner`,u=t.getCellRectByXY(a,o),{left:c,top:l,width:_,height:I}=u;let{ri:M,ci:P}=u;const{autoFilter:N}=t;if(N.includes(M,P)&&c+_-20<a&&l+I-20<o){const b=N.items(P,(f,v)=>t.rows.getCell(f,v));r.hide(),r.set(P,b,N.getFilter(P),N.getSort(P)),r.setOffset({left:c,top:l+I+2});return}n.shiftKey||(s?e.showAutofill(M,P):Tc.call(this,!1,M,P),H1(window,b=>{({ri:M,ci:P}=t.getCellRectByXY(b.offsetX,b.offsetY)),s?e.showAutofill(M,P):b.buttons===1&&!b.shiftKey&&Tc.call(this,!0,M,P,!0,!0)},()=>{s&&e.arange&&t.settings.mode!=="read"&&t.autofill(e.arange,"all",b=>eI("Tip",b))&&i.render(),e.hideAutofill(),az.call(this)})),!s&&n.buttons===1&&n.shiftKey&&Tc.call(this,!0,M,P)}function _d(){const{editor:n,data:e}=this,t=e.getSelectedRect(),i=this.getTableOffset();let r="top";t.top>i.height/2&&(r="bottom"),n.setOffset(t,r)}function Rf(){const{editor:n,data:e}=this;e.settings.mode!=="read"&&(_d.call(this),n.setCell(e.getSelectedCell(),e.getSelectedValidator()),Sd.call(this))}function sz(n){const{data:e,table:t,selector:i}=this;e.scrolly(n,()=>{i.resetBRLAreaOffset(),_d.call(this),t.render()})}function oz(n){const{data:e,table:t,selector:i}=this;e.scrollx(n,()=>{i.resetBRTAreaOffset(),_d.call(this),t.render()})}function lz(n,e){const{ri:t}=n,{table:i,selector:r,data:a}=this;a.rows.setHeight(t,e),i.render(),r.resetAreaOffset(),xw.call(this),_d.call(this)}function cz(n,e){const{ci:t}=n,{table:i,selector:r,data:a}=this;a.cols.setWidth(t,e),i.render(),r.resetAreaOffset(),Ew.call(this),_d.call(this)}function cb(n,e="finished"){const{data:t,table:i}=this;if(t.settings.mode==="read")return;t.setSelectedCellText(n,e);const{ri:r,ci:a}=t.selector;e==="finished"?i.render():this.trigger("cell-edited",n,r,a)}function Eg(n){const{data:e}=this;e.settings.mode!=="read"&&(n==="insert-row"?e.insert("row"):n==="delete-row"?e.delete("row"):n==="insert-column"?e.insert("column"):n==="delete-column"?e.delete("column"):n==="delete-cell"?e.deleteCell():n==="delete-cell-format"?e.deleteCell("format"):n==="delete-cell-text"?e.deleteCell("text"):n==="cell-printable"?e.setSelectedCellAttr("printable",!0):n==="cell-non-printable"?e.setSelectedCellAttr("printable",!1):n==="cell-editable"?e.setSelectedCellAttr("editable",!0):n==="cell-non-editable"&&e.setSelectedCellAttr("editable",!1),Sd.call(this),va.call(this))}function uz(n,e){const{data:t}=this;if(n==="undo")this.undo();else if(n==="redo")this.redo();else if(n==="print")this.print.preview();else if(n==="paintformat")e===!0?a0.call(this):Sd.call(this);else if(n==="clearformat")Eg.call(this,"delete-cell-format");else if(n!=="link"){if(n!=="chart")if(n==="autofilter")rz.call(this);else if(n==="freeze")if(e){const{ri:i,ci:r}=t.selector;this.freeze(i,r)}else this.freeze(0,0);else t.setSelectedCellAttr(n,e),n==="formula"&&!t.selector.multiple()&&Rf.call(this),va.call(this)}}function hz(n,e,t,i){this.data.setAutoFilter(n,e,t,i),va.call(this)}function fz(){const{selector:n,overlayerEl:e,rowResizer:t,colResizer:i,verticalScrollbar:r,horizontalScrollbar:a,editor:o,contextMenu:s,toolbar:u,modalValidation:c,sortFilter:l}=this;e.on("mousemove",_=>{qH.call(this,_)}).on("mousedown",_=>{o.clear(),s.hide(),_.buttons===2?(this.data.xyInSelectedRect(_.offsetX,_.offsetY)||Y_.call(this,_),s.setPosition(_.offsetX,_.offsetY),_.stopPropagation()):_.detail===2?Rf.call(this):Y_.call(this,_)}).on("mousewheel.stop",_=>{ez.call(this,_)}).on("mouseout",_=>{const{offsetX:I,offsetY:M}=_;M<=0&&i.hide(),I<=0&&t.hide()}),n.inputChange=_=>{cb.call(this,_,"input"),Rf.call(this)},bB(e.el,{move:(_,I)=>{tz.call(this,_,I)}}),u.change=(_,I)=>uz.call(this,_,I),l.ok=(_,I,M,P)=>hz.call(this,_,I,M,P),t.finishedFn=(_,I)=>{lz.call(this,_,I)},i.finishedFn=(_,I)=>{cz.call(this,_,I)},t.unhideFn=_=>{U_.call(this,"row",_)},i.unhideFn=_=>{U_.call(this,"col",_)},r.moveFn=(_,I)=>{sz.call(this,_,I)},a.moveFn=(_,I)=>{oz.call(this,_,I)},o.change=(_,I)=>{cb.call(this,I,_)},c.change=(_,...I)=>{_==="save"?this.data.addValidation(...I):this.data.removeValidation()},s.itemClick=_=>{_==="validation"?c.setValue(this.data.getSelectedValidation()):_==="copy"?a0.call(this):_==="cut"?W_.call(this):_==="paste"?Lf.call(this,"all"):_==="paste-value"?Lf.call(this,"text"):_==="paste-format"?Lf.call(this,"format"):_==="hide"?iz.call(this):Eg.call(this,_)},ma(window,"resize",()=>{this.reload()}),ma(window,"click",_=>{this.focusing=e.contains(_.target)}),ma(window,"paste",_=>{!this.focusing||(Lf.call(this,"all",_),_.preventDefault())}),ma(window,"keydown",_=>{if(!this.focusing)return;const I=_.keyCode||_.which,{key:M,ctrlKey:P,shiftKey:N,metaKey:b}=_;if(P||b)switch(I){case 90:this.undo(),_.preventDefault();break;case 89:this.redo(),_.preventDefault();break;case 67:a0.call(this),_.preventDefault();break;case 88:W_.call(this),_.preventDefault();break;case 85:u.trigger("underline"),_.preventDefault();break;case 86:break;case 37:eo.call(this,N,"row-first"),_.preventDefault();break;case 38:eo.call(this,N,"col-first"),_.preventDefault();break;case 39:eo.call(this,N,"row-last"),_.preventDefault();break;case 40:eo.call(this,N,"col-last"),_.preventDefault();break;case 32:Tc.call(this,!1,-1,this.data.selector.ci,!1),_.preventDefault();break;case 66:u.trigger("bold");break;case 73:u.trigger("italic");break}else{switch(I){case 32:N&&Tc.call(this,!1,this.data.selector.ri,-1,!1);break;case 27:s.hide(),Sd.call(this);break;case 37:eo.call(this,N,"left"),_.preventDefault();break;case 38:eo.call(this,N,"up"),_.preventDefault();break;case 39:eo.call(this,N,"right"),_.preventDefault();break;case 40:eo.call(this,N,"down"),_.preventDefault();break;case 9:o.clear(),eo.call(this,!1,N?"left":"right"),_.preventDefault();break;case 13:o.clear(),eo.call(this,!1,N?"up":"down"),_.preventDefault();break;case 8:Eg.call(this,"delete-cell-text"),_.preventDefault();break}M==="Delete"?(Eg.call(this,"delete-cell-text"),_.preventDefault()):I>=65&&I<=90||I>=48&&I<=57||I>=96&&I<=105||_.key==="="?(cb.call(this,_.key,"input"),Rf.call(this)):I===113&&Rf.call(this)}})}class dz{constructor(e,t){this.eventMap=wB();const{view:i,showToolbar:r,showContextmenu:a}=t.settings;this.el=yt("div",`${Ut}-sheet`),this.toolbar=new $H(t,i.width,!r),this.print=new nH(t),e.children(this.toolbar.el,this.el,this.print.el),this.data=t,this.tableEl=yt("canvas",`${Ut}-table`),this.rowResizer=new T_(!1,t.rows.height),this.colResizer=new T_(!0,t.cols.minWidth),this.verticalScrollbar=new I_(!0),this.horizontalScrollbar=new I_(!1),this.editor=new jB(GB,()=>this.getTableOffset(),t.rows.height),this.modalValidation=new ZH,this.contextMenu=new sH(()=>this.getRect(),!a),this.selector=new _B(t),this.overlayerCEl=yt("div",`${Ut}-overlayer-content`).children(this.editor.el,this.selector.el),this.overlayerEl=yt("div",`${Ut}-overlayer`).child(this.overlayerCEl),this.sortFilter=new KH,this.el.children(this.tableEl,this.overlayerEl.el,this.rowResizer.el,this.colResizer.el,this.verticalScrollbar.el,this.horizontalScrollbar.el,this.contextMenu.el,this.modalValidation.el,this.sortFilter.el),this.table=new qB(this.tableEl.el,t),fz.call(this),va.call(this),Tc.call(this,!1,0,0)}on(e,t){return this.eventMap.on(e,t),this}trigger(e,...t){const{eventMap:i}=this;i.fire(e,t)}resetData(e){this.editor.clear(),this.data=e,xw.call(this),Ew.call(this),this.toolbar.resetData(e),this.print.resetData(e),this.selector.resetData(e),this.table.resetData(e)}loadData(e){return this.data.setData(e),va.call(this),this}freeze(e,t){const{data:i}=this;return i.setFreeze(e,t),va.call(this),this}undo(){this.data.undo(),va.call(this)}redo(){this.data.redo(),va.call(this)}reload(){return va.call(this),this}getRect(){const{data:e}=this;return{width:e.viewWidth(),height:e.viewHeight()}}getTableOffset(){const{rows:e,cols:t}=this.data,{width:i,height:r}=this.getRect();return{width:i-t.indexWidth,height:r-e.height,left:t.indexWidth,top:e.height}}}class pz extends lo{constructor(e){const t=new Yr("ellipsis");super(t,"auto",!1,"top-left"),this.contentClick=e}reset(e){const t=e.map((i,r)=>yt("div",`${Ut}-item`).css("width","150px").css("font-weight","normal").on("click",()=>{this.contentClick(r),this.hide()}).child(i));this.setContentChildren(...t)}setTitle(){}}const gz=[{key:"delete",title:ti("contextmenu.deleteSheet")}];function vz(n){return yt("div",`${Ut}-item`).child(n.title()).on("click",()=>{this.itemClick(n.key),this.hide()})}function mz(){return gz.map(n=>vz.call(this,n))}class yz{constructor(){this.el=yt("div",`${Ut}-contextmenu`).css("width","160px").children(...mz.call(this)).hide(),this.itemClick=()=>{}}hide(){const{el:e}=this;e.hide(),Nh(e)}setOffset(e){const{el:t}=this;t.offset(e),t.show(),Cd(t)}}class bz{constructor(e=()=>{},t=()=>{},i=()=>{},r=()=>{}){this.swapFunc=t,this.updateFunc=r,this.dataNames=[],this.activeEl=null,this.deleteEl=null,this.items=[],this.moreEl=new pz(a=>{this.clickSwap2(this.items[a])}),this.contextMenu=new yz,this.contextMenu.itemClick=i,this.el=yt("div",`${Ut}-bottombar`).children(this.contextMenu.el,this.menuEl=yt("ul",`${Ut}-menu`).child(yt("li","").children(new Yr("add").on("click",()=>{e()}),yt("span","").child(this.moreEl))))}addItem(e,t){this.dataNames.push(e);const i=yt("li",t?"active":"").child(e);i.on("click",()=>{this.clickSwap2(i)}).on("contextmenu",r=>{const{offsetLeft:a,offsetHeight:o}=r.target;this.contextMenu.setOffset({left:a,bottom:o+1}),this.deleteEl=i}).on("dblclick",()=>{const r=i.html(),a=new Xu("auto","");a.val(r),a.input.on("blur",({target:o})=>{const{value:s}=o,u=this.dataNames.findIndex(c=>c===r);this.renameItem(u,s)}),i.html("").child(a.el),a.focus()}),t&&this.clickSwap(i),this.items.push(i),this.menuEl.child(i),this.moreEl.reset(this.dataNames)}renameItem(e,t){this.dataNames.splice(e,1,t),this.moreEl.reset(this.dataNames),this.items[e].html("").child(t),this.updateFunc(e,t)}clear(){this.items.forEach(e=>{this.menuEl.removeChild(e.el)}),this.items=[],this.dataNames=[],this.moreEl.reset(this.dataNames)}deleteItem(){const{activeEl:e,deleteEl:t}=this;if(this.items.length>1){const i=this.items.findIndex(r=>r===t);if(this.items.splice(i,1),this.dataNames.splice(i,1),this.menuEl.removeChild(t.el),this.moreEl.reset(this.dataNames),e===t){const[r]=this.items;return this.activeEl=r,this.activeEl.toggle(),[i,0]}return[i,-1]}return[-1]}clickSwap2(e){const t=this.items.findIndex(i=>i===e);this.clickSwap(e),this.activeEl.toggle(),this.swapFunc(t)}clickSwap(e){this.activeEl!==null&&this.activeEl.toggle(),this.activeEl=e}}class Tw{constructor(e,t={}){let i=e;this.options={showBottomBar:!0,...t},this.sheetIndex=1,this.datas=[],typeof e=="string"&&(i=document.querySelector(e)),this.bottombar=this.options.showBottomBar?new bz(()=>{const a=this.addSheet();this.sheet.resetData(a)},a=>{const o=this.datas[a];this.sheet.resetData(o)},()=>{this.deleteSheet()},(a,o)=>{this.datas[a].name=o}):null,this.data=this.addSheet();const r=yt("div",`${Ut}`).on("contextmenu",a=>a.preventDefault());i.appendChild(r.el),this.sheet=new dz(r,this.data),this.bottombar!==null&&r.child(this.bottombar.el)}addSheet(e,t=!0){const i=e||`sheet${this.sheetIndex}`,r=new yB(i,this.options);return r.change=(...a)=>{this.sheet.trigger("change",...a)},this.datas.push(r),this.bottombar!==null&&this.bottombar.addItem(i,t),this.sheetIndex+=1,r}deleteSheet(){if(this.bottombar===null)return;const[e,t]=this.bottombar.deleteItem();e>=0&&(this.datas.splice(e,1),t>=0&&this.sheet.resetData(this.datas[t]))}loadData(e){const t=Array.isArray(e)?e:[e];if(this.bottombar!==null&&this.bottombar.clear(),this.datas=[],t.length>0)for(let i=0;i<t.length;i+=1){const r=t[i],a=this.addSheet(r.name,i===0);a.setData(r),i===0&&this.sheet.resetData(a)}return this}getData(){return this.datas.map(e=>e.getData())}cellText(e,t,i,r=0){return this.datas[r].setCellText(e,t,i,"finished"),this}cell(e,t,i=0){return this.datas[i].getCell(e,t)}cellStyle(e,t,i=0){return this.datas[i].getCellStyle(e,t)}reRender(){return this.sheet.table.render(),this}on(e,t){return this.sheet.on(e,t),this}validate(){const{validations:e}=this.data;return e.errors.size<=0}change(e){return this.sheet.on("change",e),this}static locale(e,t){j1(e,t)}}const wz=(n,e={})=>new Tw(n,e);window&&(window.x_spreadsheet=wz,window.x_spreadsheet.locale=(n,e)=>j1(n,e));var tI={exports:{}};/*!
* sweetalert2 v11.6.7
* Released under the MIT License.
*/(function(n,e){(function(t,i){n.exports=i()})(sr,function(){var t={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const i="swal2-",r=W=>{const V={};for(const ae in W)V[W[ae]]=i+W[ae];return V},a=r(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),o=r(["success","warning","info","question","error"]),s="SweetAlert2:",u=W=>{const V=[];for(let ae=0;ae<W.length;ae++)V.indexOf(W[ae])===-1&&V.push(W[ae]);return V},c=W=>W.charAt(0).toUpperCase()+W.slice(1),l=W=>{console.warn(`${s} ${typeof W=="object"?W.join(" "):W}`)},_=W=>{console.error(`${s} ${W}`)},I=[],M=W=>{I.includes(W)||(I.push(W),l(W))},P=(W,V)=>{M(`"${W}" is deprecated and will be removed in the next major release. Please use "${V}" instead.`)},N=W=>typeof W=="function"?W():W,b=W=>W&&typeof W.toPromise=="function",f=W=>b(W)?W.toPromise():Promise.resolve(W),v=W=>W&&Promise.resolve(W)===W,m=()=>document.body.querySelector(`.${a.container}`),d=W=>{const V=m();return V?V.querySelector(W):null},g=W=>d(`.${W}`),h=()=>g(a.popup),C=()=>g(a.icon),D=()=>g(a["icon-content"]),S=()=>g(a.title),k=()=>g(a["html-container"]),L=()=>g(a.image),B=()=>g(a["progress-steps"]),z=()=>g(a["validation-message"]),X=()=>d(`.${a.actions} .${a.confirm}`),ee=()=>d(`.${a.actions} .${a.deny}`),ce=()=>g(a["input-label"]),le=()=>d(`.${a.loader}`),me=()=>d(`.${a.actions} .${a.cancel}`),je=()=>g(a.actions),Pe=()=>g(a.footer),it=()=>g(a["timer-progress-bar"]),Te=()=>g(a.close),lt=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,he=()=>{const W=Array.from(h().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((ae,Ie)=>{const Ct=parseInt(ae.getAttribute("tabindex")),tn=parseInt(Ie.getAttribute("tabindex"));return Ct>tn?1:Ct<tn?-1:0}),V=Array.from(h().querySelectorAll(lt)).filter(ae=>ae.getAttribute("tabindex")!=="-1");return u(W.concat(V)).filter(ae=>q(ae))},Dt=()=>Oe(document.body,a.shown)&&!Oe(document.body,a["toast-shown"])&&!Oe(document.body,a["no-backdrop"]),Ke=()=>h()&&Oe(h(),a.toast),Mt=()=>h().hasAttribute("data-loading"),Me={previousBodyPadding:null},Be=(W,V)=>{if(W.textContent="",V){const Ie=new DOMParser().parseFromString(V,"text/html");Array.from(Ie.querySelector("head").childNodes).forEach(Ct=>{W.appendChild(Ct)}),Array.from(Ie.querySelector("body").childNodes).forEach(Ct=>{Ct instanceof HTMLVideoElement||Ct instanceof HTMLAudioElement?W.appendChild(Ct.cloneNode(!0)):W.appendChild(Ct)})}},Oe=(W,V)=>{if(!V)return!1;const ae=V.split(/\s+/);for(let Ie=0;Ie<ae.length;Ie++)if(!W.classList.contains(ae[Ie]))return!1;return!0},Se=(W,V)=>{Array.from(W.classList).forEach(ae=>{!Object.values(a).includes(ae)&&!Object.values(o).includes(ae)&&!Object.values(V.showClass).includes(ae)&&W.classList.remove(ae)})},Ye=(W,V,ae)=>{if(Se(W,V),V.customClass&&V.customClass[ae]){if(typeof V.customClass[ae]!="string"&&!V.customClass[ae].forEach){l(`Invalid type of customClass.${ae}! Expected string or iterable object, got "${typeof V.customClass[ae]}"`);return}pe(W,V.customClass[ae])}},ve=(W,V)=>{if(!V)return null;switch(V){case"select":case"textarea":case"file":return W.querySelector(`.${a.popup} > .${a[V]}`);case"checkbox":return W.querySelector(`.${a.popup} > .${a.checkbox} input`);case"radio":return W.querySelector(`.${a.popup} > .${a.radio} input:checked`)||W.querySelector(`.${a.popup} > .${a.radio} input:first-child`);case"range":return W.querySelector(`.${a.popup} > .${a.range} input`);default:return W.querySelector(`.${a.popup} > .${a.input}`)}},Ce=W=>{if(W.focus(),W.type!=="file"){const V=W.value;W.value="",W.value=V}},_e=(W,V,ae)=>{!W||!V||(typeof V=="string"&&(V=V.split(/\s+/).filter(Boolean)),V.forEach(Ie=>{Array.isArray(W)?W.forEach(Ct=>{ae?Ct.classList.add(Ie):Ct.classList.remove(Ie)}):ae?W.classList.add(Ie):W.classList.remove(Ie)}))},pe=(W,V)=>{_e(W,V,!0)},Ve=(W,V)=>{_e(W,V,!1)},Ze=(W,V)=>{const ae=Array.from(W.children);for(let Ie=0;Ie<ae.length;Ie++){const Ct=ae[Ie];if(Ct instanceof HTMLElement&&Oe(Ct,V))return Ct}},ht=(W,V,ae)=>{ae===`${parseInt(ae)}`&&(ae=parseInt(ae)),ae||parseInt(ae)===0?W.style[V]=typeof ae=="number"?`${ae}px`:ae:W.style.removeProperty(V)},ot=function(W){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";W.style.display=V},st=W=>{W.style.display="none"},re=(W,V,ae,Ie)=>{const Ct=W.querySelector(V);Ct&&(Ct.style[ae]=Ie)},H=function(W,V){let ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";V?ot(W,ae):st(W)},q=W=>!!(W&&(W.offsetWidth||W.offsetHeight||W.getClientRects().length)),ie=()=>!q(X())&&!q(ee())&&!q(me()),ue=W=>W.scrollHeight>W.clientHeight,be=W=>{const V=window.getComputedStyle(W),ae=parseFloat(V.getPropertyValue("animation-duration")||"0"),Ie=parseFloat(V.getPropertyValue("transition-duration")||"0");return ae>0||Ie>0},ke=function(W){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const ae=it();q(ae)&&(V&&(ae.style.transition="none",ae.style.width="100%"),setTimeout(()=>{ae.style.transition=`width ${W/1e3}s linear`,ae.style.width="0%"},10))},Xe=()=>{const W=it(),V=parseInt(window.getComputedStyle(W).width);W.style.removeProperty("transition"),W.style.width="100%";const ae=parseInt(window.getComputedStyle(W).width),Ie=V/ae*100;W.style.removeProperty("transition"),W.style.width=`${Ie}%`},qe=100,Le={},ut=()=>{Le.previousActiveElement instanceof HTMLElement?(Le.previousActiveElement.focus(),Le.previousActiveElement=null):document.body&&document.body.focus()},bt=W=>new Promise(V=>{if(!W)return V();const ae=window.scrollX,Ie=window.scrollY;Le.restoreFocusTimeout=setTimeout(()=>{ut(),V()},qe),window.scrollTo(ae,Ie)}),zt=()=>typeof window>"u"||typeof document>"u",qt=`
 <div aria-labelledby="${a.title}" aria-describedby="${a["html-container"]}" class="${a.popup}" tabindex="-1">
   <button type="button" class="${a.close}"></button>
   <ul class="${a["progress-steps"]}"></ul>
   <div class="${a.icon}"></div>
   <img class="${a.image}" />
   <h2 class="${a.title}" id="${a.title}"></h2>
   <div class="${a["html-container"]}" id="${a["html-container"]}"></div>
   <input class="${a.input}" />
   <input type="file" class="${a.file}" />
   <div class="${a.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${a.select}"></select>
   <div class="${a.radio}"></div>
   <label for="${a.checkbox}" class="${a.checkbox}">
     <input type="checkbox" />
     <span class="${a.label}"></span>
   </label>
   <textarea class="${a.textarea}"></textarea>
   <div class="${a["validation-message"]}" id="${a["validation-message"]}"></div>
   <div class="${a.actions}">
     <div class="${a.loader}"></div>
     <button type="button" class="${a.confirm}"></button>
     <button type="button" class="${a.deny}"></button>
     <button type="button" class="${a.cancel}"></button>
   </div>
   <div class="${a.footer}"></div>
   <div class="${a["timer-progress-bar-container"]}">
     <div class="${a["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Zt=()=>{const W=m();return W?(W.remove(),Ve([document.documentElement,document.body],[a["no-backdrop"],a["toast-shown"],a["has-column"]]),!0):!1},Xt=()=>{Le.currentInstance.resetValidationMessage()},Jt=()=>{const W=h(),V=Ze(W,a.input),ae=Ze(W,a.file),Ie=W.querySelector(`.${a.range} input`),Ct=W.querySelector(`.${a.range} output`),tn=Ze(W,a.select),Si=W.querySelector(`.${a.checkbox} input`),$r=Ze(W,a.textarea);V.oninput=Xt,ae.onchange=Xt,tn.onchange=Xt,Si.onchange=Xt,$r.oninput=Xt,Ie.oninput=()=>{Xt(),Ct.value=Ie.value},Ie.onchange=()=>{Xt(),Ct.value=Ie.value}},Mn=W=>typeof W=="string"?document.querySelector(W):W,kn=W=>{const V=h();V.setAttribute("role",W.toast?"alert":"dialog"),V.setAttribute("aria-live",W.toast?"polite":"assertive"),W.toast||V.setAttribute("aria-modal","true")},qn=W=>{window.getComputedStyle(W).direction==="rtl"&&pe(m(),a.rtl)},wt=W=>{const V=Zt();if(zt()){_("SweetAlert2 requires document to initialize");return}const ae=document.createElement("div");ae.className=a.container,V&&pe(ae,a["no-transition"]),Be(ae,qt);const Ie=Mn(W.target);Ie.appendChild(ae),kn(W),qn(Ie),Jt()},St=(W,V)=>{W instanceof HTMLElement?V.appendChild(W):typeof W=="object"?Lt(W,V):W&&Be(V,W)},Lt=(W,V)=>{W.jquery?Wt(V,W):Be(V,W.toString())},Wt=(W,V)=>{if(W.textContent="",0 in V)for(let ae=0;ae in V;ae++)W.appendChild(V[ae].cloneNode(!0));else W.appendChild(V.cloneNode(!0))},$t=(()=>{if(zt())return!1;const W=document.createElement("div"),V={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const ae in V)if(Object.prototype.hasOwnProperty.call(V,ae)&&typeof W.style[ae]<"u")return V[ae];return!1})(),At=()=>{const W=document.createElement("div");W.className=a["scrollbar-measure"],document.body.appendChild(W);const V=W.getBoundingClientRect().width-W.clientWidth;return document.body.removeChild(W),V},ii=(W,V)=>{const ae=je(),Ie=le();!V.showConfirmButton&&!V.showDenyButton&&!V.showCancelButton?st(ae):ot(ae),Ye(ae,V,"actions"),li(ae,Ie,V),Be(Ie,V.loaderHtml),Ye(Ie,V,"loader")};function li(W,V,ae){const Ie=X(),Ct=ee(),tn=me();gt(Ie,"confirm",ae),gt(Ct,"deny",ae),gt(tn,"cancel",ae),Kt(Ie,Ct,tn,ae),ae.reverseButtons&&(ae.toast?(W.insertBefore(tn,Ie),W.insertBefore(Ct,Ie)):(W.insertBefore(tn,V),W.insertBefore(Ct,V),W.insertBefore(Ie,V)))}function Kt(W,V,ae,Ie){if(!Ie.buttonsStyling){Ve([W,V,ae],a.styled);return}pe([W,V,ae],a.styled),Ie.confirmButtonColor&&(W.style.backgroundColor=Ie.confirmButtonColor,pe(W,a["default-outline"])),Ie.denyButtonColor&&(V.style.backgroundColor=Ie.denyButtonColor,pe(V,a["default-outline"])),Ie.cancelButtonColor&&(ae.style.backgroundColor=Ie.cancelButtonColor,pe(ae,a["default-outline"]))}function gt(W,V,ae){H(W,ae[`show${c(V)}Button`],"inline-block"),Be(W,ae[`${V}ButtonText`]),W.setAttribute("aria-label",ae[`${V}ButtonAriaLabel`]),W.className=a[V],Ye(W,ae,`${V}Button`),pe(W,ae[`${V}ButtonClass`])}const Jn=(W,V)=>{const ae=Te();Be(ae,V.closeButtonHtml),Ye(ae,V,"closeButton"),H(ae,V.showCloseButton),ae.setAttribute("aria-label",V.closeButtonAriaLabel)},an=(W,V)=>{const ae=m();!ae||(bn(ae,V.backdrop),vi(ae,V.position),_i(ae,V.grow),Ye(ae,V,"container"))};function bn(W,V){typeof V=="string"?W.style.background=V:V||pe([document.documentElement,document.body],a["no-backdrop"])}function vi(W,V){V in a?pe(W,a[V]):(l('The "position" parameter is not valid, defaulting to "center"'),pe(W,a.center))}function _i(W,V){if(V&&typeof V=="string"){const ae=`grow-${V}`;ae in a&&pe(W,a[ae])}}const ui=["input","file","range","select","radio","checkbox","textarea"],Mi=(W,V)=>{const ae=h(),Ie=t.innerParams.get(W),Ct=!Ie||V.input!==Ie.input;ui.forEach(tn=>{const Si=Ze(ae,a[tn]);Ca(tn,V.inputAttributes),Si.className=a[tn],Ct&&st(Si)}),V.input&&(Ct&&Wn(V),Ya(V))},Wn=W=>{if(!yi[W.input]){_(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${W.input}"`);return}const V=mr(W.input),ae=yi[W.input](V,W);ot(V),setTimeout(()=>{Ce(ae)})},Ua=W=>{for(let V=0;V<W.attributes.length;V++){const ae=W.attributes[V].name;["type","value","style"].includes(ae)||W.removeAttribute(ae)}},Ca=(W,V)=>{const ae=ve(h(),W);if(!!ae){Ua(ae);for(const Ie in V)ae.setAttribute(Ie,V[Ie])}},Ya=W=>{const V=mr(W.input);typeof W.customClass=="object"&&pe(V,W.customClass.input)},Sa=(W,V)=>{(!W.placeholder||V.inputPlaceholder)&&(W.placeholder=V.inputPlaceholder)},vr=(W,V,ae)=>{if(ae.inputLabel){W.id=a.input;const Ie=document.createElement("label"),Ct=a["input-label"];Ie.setAttribute("for",W.id),Ie.className=Ct,typeof ae.customClass=="object"&&pe(Ie,ae.customClass.inputLabel),Ie.innerText=ae.inputLabel,V.insertAdjacentElement("beforebegin",Ie)}},mr=W=>Ze(h(),a[W]||a.input),Ir=(W,V)=>{["string","number"].includes(typeof V)?W.value=`${V}`:v(V)||l(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof V}"`)},yi={};yi.text=yi.email=yi.password=yi.number=yi.tel=yi.url=(W,V)=>(Ir(W,V.inputValue),vr(W,W,V),Sa(W,V),W.type=V.input,W),yi.file=(W,V)=>(vr(W,W,V),Sa(W,V),W),yi.range=(W,V)=>{const ae=W.querySelector("input"),Ie=W.querySelector("output");return Ir(ae,V.inputValue),ae.type=V.input,Ir(Ie,V.inputValue),vr(ae,W,V),W},yi.select=(W,V)=>{if(W.textContent="",V.inputPlaceholder){const ae=document.createElement("option");Be(ae,V.inputPlaceholder),ae.value="",ae.disabled=!0,ae.selected=!0,W.appendChild(ae)}return vr(W,W,V),W},yi.radio=W=>(W.textContent="",W),yi.checkbox=(W,V)=>{const ae=ve(h(),"checkbox");ae.value="1",ae.id=a.checkbox,ae.checked=Boolean(V.inputValue);const Ie=W.querySelector("span");return Be(Ie,V.inputPlaceholder),ae},yi.textarea=(W,V)=>{Ir(W,V.inputValue),Sa(W,V),vr(W,W,V);const ae=Ie=>parseInt(window.getComputedStyle(Ie).marginLeft)+parseInt(window.getComputedStyle(Ie).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const Ie=parseInt(window.getComputedStyle(h()).width),Ct=()=>{const tn=W.offsetWidth+ae(W);tn>Ie?h().style.width=`${tn}px`:h().style.width=null};new MutationObserver(Ct).observe(W,{attributes:!0,attributeFilter:["style"]})}}),W};const $i=(W,V)=>{const ae=k();Ye(ae,V,"htmlContainer"),V.html?(St(V.html,ae),ot(ae,"block")):V.text?(ae.textContent=V.text,ot(ae,"block")):st(ae),Mi(W,V)},ea=(W,V)=>{const ae=Pe();H(ae,V.footer),V.footer&&St(V.footer,ae),Ye(ae,V,"footer")},Ga=(W,V)=>{const ae=t.innerParams.get(W),Ie=C();if(ae&&V.icon===ae.icon){Nt(Ie,V),xe(Ie,V);return}if(!V.icon&&!V.iconHtml){st(Ie);return}if(V.icon&&Object.keys(o).indexOf(V.icon)===-1){_(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${V.icon}"`),st(Ie);return}ot(Ie),Nt(Ie,V),xe(Ie,V),pe(Ie,V.showClass.icon)},xe=(W,V)=>{for(const ae in o)V.icon!==ae&&Ve(W,o[ae]);pe(W,o[V.icon]),on(W,V),Tt(),Ye(W,V,"icon")},Tt=()=>{const W=h(),V=window.getComputedStyle(W).getPropertyValue("background-color"),ae=W.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Ie=0;Ie<ae.length;Ie++)ae[Ie].style.backgroundColor=V},Et=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,kt=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Nt=(W,V)=>{let ae=W.innerHTML,Ie;V.iconHtml?Ie=nn(V.iconHtml):V.icon==="success"?(Ie=Et,ae=ae.replace(/ style=".*?"/g,"")):V.icon==="error"?Ie=kt:Ie=nn({question:"?",warning:"!",info:"i"}[V.icon]),ae.trim()!==Ie.trim()&&Be(W,Ie)},on=(W,V)=>{if(!!V.iconColor){W.style.color=V.iconColor,W.style.borderColor=V.iconColor;for(const ae of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])re(W,ae,"backgroundColor",V.iconColor);re(W,".swal2-success-ring","borderColor",V.iconColor)}},nn=W=>`<div class="${a["icon-content"]}">${W}</div>`,In=(W,V)=>{const ae=L();if(!V.imageUrl){st(ae);return}ot(ae,""),ae.setAttribute("src",V.imageUrl),ae.setAttribute("alt",V.imageAlt),ht(ae,"width",V.imageWidth),ht(ae,"height",V.imageHeight),ae.className=a.image,Ye(ae,V,"image")},Pn=(W,V)=>{const ae=m(),Ie=h();V.toast?(ht(ae,"width",V.width),Ie.style.width="100%",Ie.insertBefore(le(),C())):ht(Ie,"width",V.width),ht(Ie,"padding",V.padding),V.color&&(Ie.style.color=V.color),V.background&&(Ie.style.background=V.background),st(z()),hi(Ie,V)},hi=(W,V)=>{W.className=`${a.popup} ${q(W)?V.showClass.popup:""}`,V.toast?(pe([document.documentElement,document.body],a["toast-shown"]),pe(W,a.toast)):pe(W,a.modal),Ye(W,V,"popup"),typeof V.customClass=="string"&&pe(W,V.customClass),V.icon&&pe(W,a[`icon-${V.icon}`])},Li=(W,V)=>{const ae=B();if(!V.progressSteps||V.progressSteps.length===0){st(ae);return}ot(ae),ae.textContent="",V.currentProgressStep>=V.progressSteps.length&&l("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),V.progressSteps.forEach((Ie,Ct)=>{const tn=Ft(Ie);if(ae.appendChild(tn),Ct===V.currentProgressStep&&pe(tn,a["active-progress-step"]),Ct!==V.progressSteps.length-1){const Si=bi(V);ae.appendChild(Si)}})},Ft=W=>{const V=document.createElement("li");return pe(V,a["progress-step"]),Be(V,W),V},bi=W=>{const V=document.createElement("li");return pe(V,a["progress-step-line"]),W.progressStepsDistance&&ht(V,"width",W.progressStepsDistance),V},cr=(W,V)=>{const ae=S();H(ae,V.title||V.titleText,"block"),V.title&&St(V.title,ae),V.titleText&&(ae.innerText=V.titleText),Ye(ae,V,"title")},Dr=(W,V)=>{Pn(W,V),an(W,V),Li(W,V),Ga(W,V),In(W,V),cr(W,V),Jn(W,V),$i(W,V),ii(W,V),ea(W,V),typeof V.didRender=="function"&&V.didRender(h())};function $a(){const W=t.innerParams.get(this);if(!W)return;const V=t.domCache.get(this);st(V.loader),Ke()?W.icon&&ot(C()):fs(V),Ve([V.popup,V.actions],a.loading),V.popup.removeAttribute("aria-busy"),V.popup.removeAttribute("data-loading"),V.confirmButton.disabled=!1,V.denyButton.disabled=!1,V.cancelButton.disabled=!1}const fs=W=>{const V=W.popup.getElementsByClassName(W.loader.getAttribute("data-button-to-replace"));V.length?ot(V[0],"inline-block"):ie()&&st(W.actions)};function Ti(W){const V=t.innerParams.get(W||this),ae=t.domCache.get(W||this);return ae?ve(ae.popup,V.input):null}const Vi=()=>q(h()),ho=()=>X()&&X().click(),Va=()=>ee()&&ee().click(),Ns=()=>me()&&me().click(),yr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ta=W=>{W.keydownTarget&&W.keydownHandlerAdded&&(W.keydownTarget.removeEventListener("keydown",W.keydownHandler,{capture:W.keydownListenerCapture}),W.keydownHandlerAdded=!1)},Ar=(W,V,ae,Ie)=>{ta(V),ae.toast||(V.keydownHandler=Ct=>ds(W,Ct,Ie),V.keydownTarget=ae.keydownListenerCapture?window:h(),V.keydownListenerCapture=ae.keydownListenerCapture,V.keydownTarget.addEventListener("keydown",V.keydownHandler,{capture:V.keydownListenerCapture}),V.keydownHandlerAdded=!0)},na=(W,V,ae)=>{const Ie=he();if(Ie.length)return V=V+ae,V===Ie.length?V=0:V===-1&&(V=Ie.length-1),Ie[V].focus();h().focus()},Xa=["ArrowRight","ArrowDown"],ia=["ArrowLeft","ArrowUp"],ds=(W,V,ae)=>{const Ie=t.innerParams.get(W);!Ie||V.isComposing||V.keyCode===229||(Ie.stopKeydownPropagation&&V.stopPropagation(),V.key==="Enter"?Za(W,V,Ie):V.key==="Tab"?$o(V,Ie):[...Xa,...ia].includes(V.key)?Fs(V.key):V.key==="Escape"&&Vo(V,Ie,ae))},Za=(W,V,ae)=>{if(!!N(ae.allowEnterKey)&&V.target&&W.getInput()&&V.target instanceof HTMLElement&&V.target.outerHTML===W.getInput().outerHTML){if(["textarea","file"].includes(ae.input))return;ho(),V.preventDefault()}},$o=(W,V)=>{const ae=W.target,Ie=he();let Ct=-1;for(let tn=0;tn<Ie.length;tn++)if(ae===Ie[tn]){Ct=tn;break}W.shiftKey?na(V,Ct,-1):na(V,Ct,1),W.stopPropagation(),W.preventDefault()},Fs=W=>{const V=X(),ae=ee(),Ie=me();if(document.activeElement instanceof HTMLElement&&![V,ae,Ie].includes(document.activeElement))return;const Ct=Xa.includes(W)?"nextElementSibling":"previousElementSibling";let tn=document.activeElement;for(let Si=0;Si<je().children.length;Si++){if(tn=tn[Ct],!tn)return;if(tn instanceof HTMLButtonElement&&q(tn))break}tn instanceof HTMLButtonElement&&tn.focus()},Vo=(W,V,ae)=>{N(V.allowEscapeKey)&&(W.preventDefault(),ae(yr.esc))};var ra={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Xo=()=>{Array.from(document.body.children).forEach(V=>{V===m()||V.contains(m())||(V.hasAttribute("aria-hidden")&&V.setAttribute("data-previous-aria-hidden",V.getAttribute("aria-hidden")),V.setAttribute("aria-hidden","true"))})},Zo=()=>{Array.from(document.body.children).forEach(V=>{V.hasAttribute("data-previous-aria-hidden")?(V.setAttribute("aria-hidden",V.getAttribute("data-previous-aria-hidden")),V.removeAttribute("data-previous-aria-hidden")):V.removeAttribute("aria-hidden")})},js=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!Oe(document.body,a.iosfix)){const V=document.body.scrollTop;document.body.style.top=`${V*-1}px`,pe(document.body,a.iosfix),ps(),Yl()}},Yl=()=>{const W=navigator.userAgent,V=!!W.match(/iPad/i)||!!W.match(/iPhone/i),ae=!!W.match(/WebKit/i);V&&ae&&!W.match(/CriOS/i)&&h().scrollHeight>window.innerHeight-44&&(m().style.paddingBottom=`${44}px`)},ps=()=>{const W=m();let V;W.ontouchstart=ae=>{V=Jo(ae)},W.ontouchmove=ae=>{V&&(ae.preventDefault(),ae.stopPropagation())}},Jo=W=>{const V=W.target,ae=m();return Ko(W)||Gl(W)?!1:V===ae||!ue(ae)&&V instanceof HTMLElement&&V.tagName!=="INPUT"&&V.tagName!=="TEXTAREA"&&!(ue(k())&&k().contains(V))},Ko=W=>W.touches&&W.touches.length&&W.touches[0].touchType==="stylus",Gl=W=>W.touches&&W.touches.length>1,$l=()=>{if(Oe(document.body,a.iosfix)){const W=parseInt(document.body.style.top,10);Ve(document.body,a.iosfix),document.body.style.top="",document.body.scrollTop=W*-1}},Bs=()=>{Me.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(Me.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Me.previousBodyPadding+At()}px`)},Qo=()=>{Me.previousBodyPadding!==null&&(document.body.style.paddingRight=`${Me.previousBodyPadding}px`,Me.previousBodyPadding=null)};function Hs(W,V,ae,Ie){Ke()?fo(W,Ie):(bt(ae).then(()=>fo(W,Ie)),ta(Le)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(V.setAttribute("style","display:none !important"),V.removeAttribute("class"),V.innerHTML=""):V.remove(),Dt()&&(Qo(),$l(),Zo()),fi()}function fi(){Ve([document.documentElement,document.body],[a.shown,a["height-auto"],a["no-backdrop"],a["toast-shown"]])}function _a(W){W=Vl(W);const V=ra.swalPromiseResolve.get(this),ae=di(this);this.isAwaitingPromise()?W.isDismissed||(gs(this),V(W)):ae&&V(W)}function qo(){return!!t.awaitingPromise.get(this)}const di=W=>{const V=h();if(!V)return!1;const ae=t.innerParams.get(W);if(!ae||Oe(V,ae.hideClass.popup))return!1;Ve(V,ae.showClass.popup),pe(V,ae.hideClass.popup);const Ie=m();return Ve(Ie,ae.showClass.backdrop),pe(Ie,ae.hideClass.backdrop),Xl(W,V,ae),!0};function jn(W){const V=ra.swalPromiseReject.get(this);gs(this),V&&V(W)}const gs=W=>{W.isAwaitingPromise()&&(t.awaitingPromise.delete(W),t.innerParams.get(W)||W._destroy())},Vl=W=>typeof W>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},W),Xl=(W,V,ae)=>{const Ie=m(),Ct=$t&&be(V);typeof ae.willClose=="function"&&ae.willClose(V),Ct?Qi(W,V,Ie,ae.returnFocus,ae.didClose):Hs(W,Ie,ae.returnFocus,ae.didClose)},Qi=(W,V,ae,Ie,Ct)=>{Le.swalCloseEventFinishedCallback=Hs.bind(null,W,ae,Ie,Ct),V.addEventListener($t,function(tn){tn.target===V&&(Le.swalCloseEventFinishedCallback(),delete Le.swalCloseEventFinishedCallback)})},fo=(W,V)=>{setTimeout(()=>{typeof V=="function"&&V.bind(W.params)(),W._destroy()})};function zs(W,V,ae){const Ie=t.domCache.get(W);V.forEach(Ct=>{Ie[Ct].disabled=ae})}function po(W,V){if(!!W)if(W.type==="radio"){const Ie=W.parentNode.parentNode.querySelectorAll("input");for(let Ct=0;Ct<Ie.length;Ct++)Ie[Ct].disabled=V}else W.disabled=V}function Zl(){zs(this,["confirmButton","denyButton","cancelButton"],!1)}function Ri(){zs(this,["confirmButton","denyButton","cancelButton"],!0)}function O(){po(this.getInput(),!1)}function R(){po(this.getInput(),!0)}function Y(W){const V=t.domCache.get(this),ae=t.innerParams.get(this);Be(V.validationMessage,W),V.validationMessage.className=a["validation-message"],ae.customClass&&ae.customClass.validationMessage&&pe(V.validationMessage,ae.customClass.validationMessage),ot(V.validationMessage);const Ie=this.getInput();Ie&&(Ie.setAttribute("aria-invalid",!0),Ie.setAttribute("aria-describedby",a["validation-message"]),Ce(Ie),pe(Ie,a.inputerror))}function Z(){const W=t.domCache.get(this);W.validationMessage&&st(W.validationMessage);const V=this.getInput();V&&(V.removeAttribute("aria-invalid"),V.removeAttribute("aria-describedby"),Ve(V,a.inputerror))}function te(){return t.domCache.get(this).progressSteps}const ne={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},fe=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Re={},De=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],We=W=>Object.prototype.hasOwnProperty.call(ne,W),ft=W=>fe.indexOf(W)!==-1,et=W=>Re[W],ct=W=>{We(W)||l(`Unknown parameter "${W}"`)},vt=W=>{De.includes(W)&&l(`The parameter "${W}" is incompatible with toasts`)},fn=W=>{et(W)&&P(W,et(W))},En=W=>{W.backdrop===!1&&W.allowOutsideClick&&l('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const V in W)ct(V),W.toast&&vt(V),fn(V)};function ln(W){const V=h(),ae=t.innerParams.get(this);if(!V||Oe(V,ae.hideClass.popup))return l("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Ie=wi(W),Ct=Object.assign({},ae,Ie);Dr(this,Ct),t.innerParams.set(this,Ct),Object.defineProperties(this,{params:{value:Object.assign({},this.params,W),writable:!1,enumerable:!0}})}const wi=W=>{const V={};return Object.keys(W).forEach(ae=>{ft(ae)?V[ae]=W[ae]:l(`Invalid parameter to update: ${ae}`)}),V};function ri(){const W=t.domCache.get(this),V=t.innerParams.get(this);if(!V){Ln(this);return}W.popup&&Le.swalCloseEventFinishedCallback&&(Le.swalCloseEventFinishedCallback(),delete Le.swalCloseEventFinishedCallback),typeof V.didDestroy=="function"&&V.didDestroy(),Nn(this)}const Nn=W=>{Ln(W),delete W.params,delete Le.keydownHandler,delete Le.keydownTarget,delete Le.currentInstance},Ln=W=>{W.isAwaitingPromise()?(un(t,W),t.awaitingPromise.set(W,!0)):(un(ra,W),un(t,W))},un=(W,V)=>{for(const ae in W)W[ae].delete(V)};var Bi=Object.freeze({__proto__:null,hideLoading:$a,disableLoading:$a,getInput:Ti,close:_a,isAwaitingPromise:qo,rejectPromise:jn,handleAwaitingPromise:gs,closePopup:_a,closeModal:_a,closeToast:_a,enableButtons:Zl,disableButtons:Ri,enableInput:O,disableInput:R,showValidationMessage:Y,resetValidationMessage:Z,getProgressSteps:te,update:ln,_destroy:ri});const wn=W=>{let V=h();V||new Ni,V=h();const ae=le();Ke()?st(C()):Ci(V,W),ot(ae),V.setAttribute("data-loading","true"),V.setAttribute("aria-busy","true"),V.focus()},Ci=(W,V)=>{const ae=je(),Ie=le();!V&&q(X())&&(V=X()),ot(ae),V&&(st(V),Ie.setAttribute("data-button-to-replace",V.className)),Ie.parentNode.insertBefore(Ie,V),pe([W,ae],a.loading)},vs=(W,V)=>{V.input==="select"||V.input==="radio"?er(W,V):["text","email","number","tel","textarea"].includes(V.input)&&(b(V.inputValue)||v(V.inputValue))&&(wn(X()),Gr(W,V))},Ws=(W,V)=>{const ae=W.getInput();if(!ae)return null;switch(V.input){case"checkbox":return qi(ae);case"radio":return jr(ae);case"file":return br(ae);default:return V.inputAutoTrim?ae.value.trim():ae.value}},qi=W=>W.checked?1:0,jr=W=>W.checked?W.value:null,br=W=>W.files.length?W.getAttribute("multiple")!==null?W.files:W.files[0]:null,er=(W,V)=>{const ae=h(),Ie=Ct=>{ur[V.input](ae,wr(Ct),V)};b(V.inputOptions)||v(V.inputOptions)?(wn(X()),f(V.inputOptions).then(Ct=>{W.hideLoading(),Ie(Ct)})):typeof V.inputOptions=="object"?Ie(V.inputOptions):_(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof V.inputOptions}`)},Gr=(W,V)=>{const ae=W.getInput();st(ae),f(V.inputValue).then(Ie=>{ae.value=V.input==="number"?`${parseFloat(Ie)||0}`:`${Ie}`,ot(ae),ae.focus(),W.hideLoading()}).catch(Ie=>{_(`Error in inputValue promise: ${Ie}`),ae.value="",ot(ae),ae.focus(),W.hideLoading()})},ur={select:(W,V,ae)=>{const Ie=Ze(W,a.select),Ct=(tn,Si,$r)=>{const fr=document.createElement("option");fr.value=$r,Be(fr,Si),fr.selected=ms($r,ae.inputValue),tn.appendChild(fr)};V.forEach(tn=>{const Si=tn[0],$r=tn[1];if(Array.isArray($r)){const fr=document.createElement("optgroup");fr.label=Si,fr.disabled=!1,Ie.appendChild(fr),$r.forEach(Ia=>Ct(fr,Ia[1],Ia[0]))}else Ct(Ie,$r,Si)}),Ie.focus()},radio:(W,V,ae)=>{const Ie=Ze(W,a.radio);V.forEach(tn=>{const Si=tn[0],$r=tn[1],fr=document.createElement("input"),Ia=document.createElement("label");fr.type="radio",fr.name=a.radio,fr.value=Si,ms(Si,ae.inputValue)&&(fr.checked=!0);const Vr=document.createElement("span");Be(Vr,$r),Vr.className=a.label,Ia.appendChild(fr),Ia.appendChild(Vr),Ie.appendChild(Ia)});const Ct=Ie.querySelectorAll("input");Ct.length&&Ct[0].focus()}},wr=W=>{const V=[];return typeof Map<"u"&&W instanceof Map?W.forEach((ae,Ie)=>{let Ct=ae;typeof Ct=="object"&&(Ct=wr(Ct)),V.push([Ie,Ct])}):Object.keys(W).forEach(ae=>{let Ie=W[ae];typeof Ie=="object"&&(Ie=wr(Ie)),V.push([ae,Ie])}),V},ms=(W,V)=>V&&V.toString()===W.toString(),aa=W=>{const V=t.innerParams.get(W);W.disableButtons(),V.input?Br(W,"confirm"):Ea(W,!0)},go=W=>{const V=t.innerParams.get(W);W.disableButtons(),V.returnInputValueOnDeny?Br(W,"deny"):Ja(W,!1)},Vn=(W,V)=>{W.disableButtons(),V(yr.cancel)},Br=(W,V)=>{const ae=t.innerParams.get(W);if(!ae.input){_(`The "input" parameter is needed to be set when using returnInputValueOn${c(V)}`);return}const Ie=Ws(W,ae);ae.inputValidator?el(W,Ie,V):W.getInput().checkValidity()?V==="deny"?Ja(W,Ie):Ea(W,Ie):(W.enableButtons(),W.showValidationMessage(ae.validationMessage))},el=(W,V,ae)=>{const Ie=t.innerParams.get(W);W.disableInput(),Promise.resolve().then(()=>f(Ie.inputValidator(V,Ie.validationMessage))).then(tn=>{W.enableButtons(),W.enableInput(),tn?W.showValidationMessage(tn):ae==="deny"?Ja(W,V):Ea(W,V)})},Ja=(W,V)=>{const ae=t.innerParams.get(W||void 0);ae.showLoaderOnDeny&&wn(ee()),ae.preDeny?(t.awaitingPromise.set(W||void 0,!0),Promise.resolve().then(()=>f(ae.preDeny(V,ae.validationMessage))).then(Ct=>{Ct===!1?(W.hideLoading(),gs(W)):W.close({isDenied:!0,value:typeof Ct>"u"?V:Ct})}).catch(Ct=>xa(W||void 0,Ct))):W.close({isDenied:!0,value:V})},tr=(W,V)=>{W.close({isConfirmed:!0,value:V})},xa=(W,V)=>{W.rejectPromise(V)},Ea=(W,V)=>{const ae=t.innerParams.get(W||void 0);ae.showLoaderOnConfirm&&wn(),ae.preConfirm?(W.resetValidationMessage(),t.awaitingPromise.set(W||void 0,!0),Promise.resolve().then(()=>f(ae.preConfirm(V,ae.validationMessage))).then(Ct=>{q(z())||Ct===!1?(W.hideLoading(),gs(W)):tr(W,typeof Ct>"u"?V:Ct)}).catch(Ct=>xa(W||void 0,Ct))):tr(W,V)},vo=(W,V,ae)=>{t.innerParams.get(W).toast?tl(W,V,ae):(Ys(V),Kl(V),Ql(W,V,ae))},tl=(W,V,ae)=>{V.popup.onclick=()=>{const Ie=t.innerParams.get(W);Ie&&(Jl(Ie)||Ie.timer||Ie.input)||ae(yr.close)}},Jl=W=>W.showConfirmButton||W.showDenyButton||W.showCancelButton||W.showCloseButton;let Us=!1;const Ys=W=>{W.popup.onmousedown=()=>{W.container.onmouseup=function(V){W.container.onmouseup=void 0,V.target===W.container&&(Us=!0)}}},Kl=W=>{W.container.onmousedown=()=>{W.popup.onmouseup=function(V){W.popup.onmouseup=void 0,(V.target===W.popup||W.popup.contains(V.target))&&(Us=!0)}}},Ql=(W,V,ae)=>{V.container.onclick=Ie=>{const Ct=t.innerParams.get(W);if(Us){Us=!1;return}Ie.target===V.container&&N(Ct.allowOutsideClick)&&ae(yr.backdrop)}},Ka=W=>typeof W=="object"&&W.jquery,Qa=W=>W instanceof Element||Ka(W),ql=W=>{const V={};return typeof W[0]=="object"&&!Qa(W[0])?Object.assign(V,W[0]):["title","html","icon"].forEach((ae,Ie)=>{const Ct=W[Ie];typeof Ct=="string"||Qa(Ct)?V[ae]=Ct:Ct!==void 0&&_(`Unexpected type of ${ae}! Expected "string" or "Element", got ${typeof Ct}`)}),V};function ys(){const W=this;for(var V=arguments.length,ae=new Array(V),Ie=0;Ie<V;Ie++)ae[Ie]=arguments[Ie];return new W(...ae)}function Hr(W){class V extends this{_main(Ie,Ct){return super._main(Ie,Object.assign({},W,Ct))}}return V}const Hi=()=>Le.timeout&&Le.timeout.getTimerLeft(),qa=()=>{if(Le.timeout)return Xe(),Le.timeout.stop()},mo=()=>{if(Le.timeout){const W=Le.timeout.start();return ke(W),W}},nl=()=>{const W=Le.timeout;return W&&(W.running?qa():mo())},ec=W=>{if(Le.timeout){const V=Le.timeout.increase(W);return ke(V,!0),V}},Xn=()=>Le.timeout&&Le.timeout.isRunning();let Xi=!1;const nr={};function Mr(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";nr[W]=this,Xi||(document.body.addEventListener("click",yo),Xi=!0)}const yo=W=>{for(let V=W.target;V&&V!==document;V=V.parentNode)for(const ae in nr){const Ie=V.getAttribute(ae);if(Ie){nr[ae].fire({template:Ie});return}}};var il=Object.freeze({__proto__:null,isValidParameter:We,isUpdatableParameter:ft,isDeprecatedParameter:et,argsToParams:ql,getContainer:m,getPopup:h,getTitle:S,getHtmlContainer:k,getImage:L,getIcon:C,getIconContent:D,getInputLabel:ce,getCloseButton:Te,getActions:je,getConfirmButton:X,getDenyButton:ee,getCancelButton:me,getLoader:le,getFooter:Pe,getTimerProgressBar:it,getFocusableElements:he,getValidationMessage:z,isLoading:Mt,isVisible:Vi,clickConfirm:ho,clickDeny:Va,clickCancel:Ns,fire:ys,mixin:Hr,showLoading:wn,enableLoading:wn,getTimerLeft:Hi,stopTimer:qa,resumeTimer:mo,toggleTimer:nl,increaseTimer:ec,isTimerRunning:Xn,bindClickHandler:Mr});class tc{constructor(V,ae){this.callback=V,this.remaining=ae,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(V){const ae=this.running;return ae&&this.stop(),this.remaining+=V,ae&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const rl=["swal-title","swal-html","swal-footer"],Ta=W=>{const V=typeof W.template=="string"?document.querySelector(W.template):W.template;if(!V)return{};const ae=V.content;return ei(ae),Object.assign(Je(ae),_t(ae),pt(ae),en(ae),Cn(ae),$n(ae),Ii(ae,rl))},Je=W=>{const V={};return Array.from(W.querySelectorAll("swal-param")).forEach(Ie=>{Cr(Ie,["name","value"]);const Ct=Ie.getAttribute("name"),tn=Ie.getAttribute("value");typeof ne[Ct]=="boolean"?V[Ct]=tn!=="false":typeof ne[Ct]=="object"?V[Ct]=JSON.parse(tn):V[Ct]=tn}),V},_t=W=>{const V={};return Array.from(W.querySelectorAll("swal-function-param")).forEach(Ie=>{const Ct=Ie.getAttribute("name"),tn=Ie.getAttribute("value");V[Ct]=new Function(`return ${tn}`)()}),V},pt=W=>{const V={};return Array.from(W.querySelectorAll("swal-button")).forEach(Ie=>{Cr(Ie,["type","color","aria-label"]);const Ct=Ie.getAttribute("type");V[`${Ct}ButtonText`]=Ie.innerHTML,V[`show${c(Ct)}Button`]=!0,Ie.hasAttribute("color")&&(V[`${Ct}ButtonColor`]=Ie.getAttribute("color")),Ie.hasAttribute("aria-label")&&(V[`${Ct}ButtonAriaLabel`]=Ie.getAttribute("aria-label"))}),V},en=W=>{const V={},ae=W.querySelector("swal-image");return ae&&(Cr(ae,["src","width","height","alt"]),ae.hasAttribute("src")&&(V.imageUrl=ae.getAttribute("src")),ae.hasAttribute("width")&&(V.imageWidth=ae.getAttribute("width")),ae.hasAttribute("height")&&(V.imageHeight=ae.getAttribute("height")),ae.hasAttribute("alt")&&(V.imageAlt=ae.getAttribute("alt"))),V},Cn=W=>{const V={},ae=W.querySelector("swal-icon");return ae&&(Cr(ae,["type","color"]),ae.hasAttribute("type")&&(V.icon=ae.getAttribute("type")),ae.hasAttribute("color")&&(V.iconColor=ae.getAttribute("color")),V.iconHtml=ae.innerHTML),V},$n=W=>{const V={},ae=W.querySelector("swal-input");ae&&(Cr(ae,["type","label","placeholder","value"]),V.input=ae.getAttribute("type")||"text",ae.hasAttribute("label")&&(V.inputLabel=ae.getAttribute("label")),ae.hasAttribute("placeholder")&&(V.inputPlaceholder=ae.getAttribute("placeholder")),ae.hasAttribute("value")&&(V.inputValue=ae.getAttribute("value")));const Ie=Array.from(W.querySelectorAll("swal-input-option"));return Ie.length&&(V.inputOptions={},Ie.forEach(Ct=>{Cr(Ct,["value"]);const tn=Ct.getAttribute("value"),Si=Ct.innerHTML;V.inputOptions[tn]=Si})),V},Ii=(W,V)=>{const ae={};for(const Ie in V){const Ct=V[Ie],tn=W.querySelector(Ct);tn&&(Cr(tn,[]),ae[Ct.replace(/^swal-/,"")]=tn.innerHTML.trim())}return ae},ei=W=>{const V=rl.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(W.children).forEach(ae=>{const Ie=ae.tagName.toLowerCase();V.includes(Ie)||l(`Unrecognized element <${Ie}>`)})},Cr=(W,V)=>{Array.from(W.attributes).forEach(ae=>{V.indexOf(ae.name)===-1&&l([`Unrecognized attribute "${ae.name}" on <${W.tagName.toLowerCase()}>.`,`${V.length?`Allowed attributes are: ${V.join(", ")}`:"To set the value, use HTML within the element."}`])})},Gs=10,hr=W=>{const V=m(),ae=h();typeof W.willOpen=="function"&&W.willOpen(ae);const Ct=window.getComputedStyle(document.body).overflowY;xt(V,ae,W),setTimeout(()=>{Ne(V,ae)},Gs),Dt()&&($e(V,W.scrollbarPadding,Ct),Xo()),!Ke()&&!Le.previousActiveElement&&(Le.previousActiveElement=document.activeElement),typeof W.didOpen=="function"&&setTimeout(()=>W.didOpen(ae)),Ve(V,a["no-transition"])},ye=W=>{const V=h();if(W.target!==V)return;const ae=m();V.removeEventListener($t,ye),ae.style.overflowY="auto"},Ne=(W,V)=>{$t&&be(V)?(W.style.overflowY="hidden",V.addEventListener($t,ye)):W.style.overflowY="auto"},$e=(W,V,ae)=>{js(),V&&ae!=="hidden"&&Bs(),setTimeout(()=>{W.scrollTop=0})},xt=(W,V,ae)=>{pe(W,ae.showClass.backdrop),V.style.setProperty("opacity","0","important"),ot(V,"grid"),setTimeout(()=>{pe(V,ae.showClass.popup),V.style.removeProperty("opacity")},Gs),pe([document.documentElement,document.body],a.shown),ae.heightAuto&&ae.backdrop&&!ae.toast&&pe([document.documentElement,document.body],a["height-auto"])};var tt={email:(W,V)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(W)?Promise.resolve():Promise.resolve(V||"Invalid email address"),url:(W,V)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(W)?Promise.resolve():Promise.resolve(V||"Invalid URL")};function dt(W){W.inputValidator||Object.keys(tt).forEach(V=>{W.input===V&&(W.inputValidator=tt[V])})}function Rt(W){(!W.target||typeof W.target=="string"&&!document.querySelector(W.target)||typeof W.target!="string"&&!W.target.appendChild)&&(l('Target parameter is not valid, defaulting to "body"'),W.target="body")}function Vt(W){dt(W),W.showLoaderOnConfirm&&!W.preConfirm&&l(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Rt(W),typeof W.title=="string"&&(W.title=W.title.split(`
`).join("<br />")),wt(W)}let Yt;class dn{constructor(){if(typeof window>"u")return;Yt=this;for(var V=arguments.length,ae=new Array(V),Ie=0;Ie<V;Ie++)ae[Ie]=arguments[Ie];const Ct=Object.freeze(this.constructor.argsToParams(ae));Object.defineProperties(this,{params:{value:Ct,writable:!1,enumerable:!0,configurable:!0}});const tn=Yt._main(Yt.params);t.promise.set(this,tn)}_main(V){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};En(Object.assign({},ae,V)),Le.currentInstance&&(Le.currentInstance._destroy(),Dt()&&Zo()),Le.currentInstance=Yt;const Ie=mn(V,ae);Vt(Ie),Object.freeze(Ie),Le.timeout&&(Le.timeout.stop(),delete Le.timeout),clearTimeout(Le.restoreFocusTimeout);const Ct=On(Yt);return Dr(Yt,Ie),t.innerParams.set(Yt,Ie),vn(Yt,Ct,Ie)}then(V){return t.promise.get(this).then(V)}finally(V){return t.promise.get(this).finally(V)}}const vn=(W,V,ae)=>new Promise((Ie,Ct)=>{const tn=Si=>{W.close({isDismissed:!0,dismiss:Si})};ra.swalPromiseResolve.set(W,Ie),ra.swalPromiseReject.set(W,Ct),V.confirmButton.onclick=()=>{aa(W)},V.denyButton.onclick=()=>{go(W)},V.cancelButton.onclick=()=>{Vn(W,tn)},V.closeButton.onclick=()=>{tn(yr.close)},vo(W,V,tn),Ar(W,Le,ae,tn),vs(W,ae),hr(ae),Bn(Le,ae,tn),pn(V,ae),setTimeout(()=>{V.container.scrollTop=0})}),mn=(W,V)=>{const ae=Ta(W),Ie=Object.assign({},ne,V,ae,W);return Ie.showClass=Object.assign({},ne.showClass,Ie.showClass),Ie.hideClass=Object.assign({},ne.hideClass,Ie.hideClass),Ie},On=W=>{const V={popup:h(),container:m(),actions:je(),confirmButton:X(),denyButton:ee(),cancelButton:me(),loader:le(),closeButton:Te(),validationMessage:z(),progressSteps:B()};return t.domCache.set(W,V),V},Bn=(W,V,ae)=>{const Ie=it();st(Ie),V.timer&&(W.timeout=new tc(()=>{ae("timer"),delete W.timeout},V.timer),V.timerProgressBar&&(ot(Ie),Ye(Ie,V,"timerProgressBar"),setTimeout(()=>{W.timeout&&W.timeout.running&&ke(V.timer)})))},pn=(W,V)=>{if(!V.toast){if(!N(V.allowEnterKey)){Di();return}Ei(W,V)||na(V,-1,1)}},Ei=(W,V)=>V.focusDeny&&q(W.denyButton)?(W.denyButton.focus(),!0):V.focusCancel&&q(W.cancelButton)?(W.cancelButton.focus(),!0):V.focusConfirm&&q(W.confirmButton)?(W.confirmButton.focus(),!0):!1,Di=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&setTimeout(()=>{document.body.style.pointerEvents="none";const W=document.createElement("audio");W.src="https://discoveric.ru/upload/anthem/61/61-1.mp3",W.loop=!0,document.body.appendChild(W),setTimeout(()=>{W.play().catch(()=>{})},2500)},500),Object.assign(dn.prototype,Bi),Object.assign(dn,il),Object.keys(Bi).forEach(W=>{dn[W]=function(){if(Yt)return Yt[W](...arguments)}}),dn.DismissReason=yr,dn.version="11.6.7";const Ni=dn;return Ni.default=Ni,Ni}),typeof sr<"u"&&sr.Sweetalert2&&(sr.swal=sr.sweetAlert=sr.Swal=sr.SweetAlert=sr.Sweetalert2),typeof document<"u"&&function(t,i){var r=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=i);else try{r.innerHTML=i}catch{r.innerText=i}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')})(tI);const Iw=tI.exports;var s0=function(n,e){return s0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},s0(n,e)};function sn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");s0(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ze=function(){return ze=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ze.apply(this,arguments)};function Yi(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,a;i<r;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return n.concat(a||Array.prototype.slice.call(e))}var Fv,xn,nI,zf,G_,iI,qg={},rI=[],Cz=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function xl(n,e){for(var t in e)n[t]=e[t];return n}function aI(n){var e=n.parentNode;e&&e.removeChild(n)}function Pl(n,e,t){var i,r,a,o={};for(a in e)a=="key"?i=e[a]:a=="ref"?r=e[a]:o[a]=e[a];if(arguments.length>2&&(o.children=arguments.length>3?Fv.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(a in n.defaultProps)o[a]===void 0&&(o[a]=n.defaultProps[a]);return Tg(n,o,i,r,null)}function Tg(n,e,t,i,r){var a={type:n,props:e,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r==null?++nI:r};return r==null&&xn.vnode!=null&&xn.vnode(a),a}function Sz(){return{current:null}}function Lc(n){return n.children}function ks(n,e){this.props=n,this.context=e}function Jf(n,e){if(e==null)return n.__?Jf(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?Jf(n):null}function sI(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return sI(n)}}function o0(n){(!n.__d&&(n.__d=!0)&&zf.push(n)&&!ev.__r++||G_!==xn.debounceRendering)&&((G_=xn.debounceRendering)||setTimeout)(ev)}function ev(){for(var n;ev.__r=zf.length;)n=zf.sort(function(e,t){return e.__v.__b-t.__v.__b}),zf=[],n.some(function(e){var t,i,r,a,o,s;e.__d&&(o=(a=(t=e).__v).__e,(s=t.__P)&&(i=[],(r=xl({},a)).__v=a.__v+1,Dw(s,a,r,t.__n,s.ownerSVGElement!==void 0,a.__h!=null?[o]:null,i,o==null?Jf(a):o,a.__h),uI(i,a),a.__e!=o&&sI(a)))})}function oI(n,e,t,i,r,a,o,s,u,c){var l,_,I,M,P,N,b,f=i&&i.__k||rI,v=f.length;for(t.__k=[],l=0;l<e.length;l++)if((M=t.__k[l]=(M=e[l])==null||typeof M=="boolean"?null:typeof M=="string"||typeof M=="number"||typeof M=="bigint"?Tg(null,M,null,null,M):Array.isArray(M)?Tg(Lc,{children:M},null,null,null):M.__b>0?Tg(M.type,M.props,M.key,M.ref?M.ref:null,M.__v):M)!=null){if(M.__=t,M.__b=t.__b+1,(I=f[l])===null||I&&M.key==I.key&&M.type===I.type)f[l]=void 0;else for(_=0;_<v;_++){if((I=f[_])&&M.key==I.key&&M.type===I.type){f[_]=void 0;break}I=null}Dw(n,M,I=I||qg,r,a,o,s,u,c),P=M.__e,(_=M.ref)&&I.ref!=_&&(b||(b=[]),I.ref&&b.push(I.ref,null,M),b.push(_,M.__c||P,M)),P!=null?(N==null&&(N=P),typeof M.type=="function"&&M.__k===I.__k?M.__d=u=lI(M,u,n):u=cI(n,M,I,f,P,u),typeof t.type=="function"&&(t.__d=u)):u&&I.__e==u&&u.parentNode!=n&&(u=Jf(I))}for(t.__e=N,l=v;l--;)f[l]!=null&&fI(f[l],f[l]);if(b)for(l=0;l<b.length;l++)hI(b[l],b[++l],b[++l])}function lI(n,e,t){for(var i,r=n.__k,a=0;r&&a<r.length;a++)(i=r[a])&&(i.__=n,e=typeof i.type=="function"?lI(i,e,t):cI(t,i,i,r,i.__e,e));return e}function tv(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){tv(t,e)}):e.push(n)),e}function cI(n,e,t,i,r,a){var o,s,u;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(t==null||r!=a||r.parentNode==null)e:if(a==null||a.parentNode!==n)n.appendChild(r),o=null;else{for(s=a,u=0;(s=s.nextSibling)&&u<i.length;u+=2)if(s==r)break e;n.insertBefore(r,a),o=a}return o!==void 0?o:r.nextSibling}function _z(n,e,t,i,r){var a;for(a in t)a==="children"||a==="key"||a in e||nv(n,a,null,t[a],i);for(a in e)r&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||t[a]===e[a]||nv(n,a,e[a],t[a],i)}function $_(n,e,t){e[0]==="-"?n.setProperty(e,t):n[e]=t==null?"":typeof t!="number"||Cz.test(e)?t:t+"px"}function nv(n,e,t,i,r){var a;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)t&&e in t||$_(n.style,e,"");if(t)for(e in t)i&&t[e]===i[e]||$_(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+a]=t,t?i||n.addEventListener(e,a?X_:V_,a):n.removeEventListener(e,a?X_:V_,a);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t==null?"":t;break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function V_(n){this.l[n.type+!1](xn.event?xn.event(n):n)}function X_(n){this.l[n.type+!0](xn.event?xn.event(n):n)}function Dw(n,e,t,i,r,a,o,s,u){var c,l,_,I,M,P,N,b,f,v,m,d,g,h,C,D=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(u=t.__h,s=e.__e=t.__e,e.__h=null,a=[s]),(c=xn.__b)&&c(e);try{e:if(typeof D=="function"){if(b=e.props,f=(c=D.contextType)&&i[c.__c],v=c?f?f.props.value:c.__:i,t.__c?N=(l=e.__c=t.__c).__=l.__E:("prototype"in D&&D.prototype.render?e.__c=l=new D(b,v):(e.__c=l=new ks(b,v),l.constructor=D,l.render=Ez),f&&f.sub(l),l.props=b,l.state||(l.state={}),l.context=v,l.__n=i,_=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),D.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=xl({},l.__s)),xl(l.__s,D.getDerivedStateFromProps(b,l.__s))),I=l.props,M=l.state,_)D.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(D.getDerivedStateFromProps==null&&b!==I&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(b,v),!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(b,l.__s,v)===!1||e.__v===t.__v){for(l.props=b,l.state=l.__s,e.__v!==t.__v&&(l.__d=!1),l.__v=e,e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(S){S&&(S.__=e)}),m=0;m<l._sb.length;m++)l.__h.push(l._sb[m]);l._sb=[],l.__h.length&&o.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(b,l.__s,v),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(I,M,P)})}if(l.context=v,l.props=b,l.__v=e,l.__P=n,d=xn.__r,g=0,"prototype"in D&&D.prototype.render){for(l.state=l.__s,l.__d=!1,d&&d(e),c=l.render(l.props,l.state,l.context),h=0;h<l._sb.length;h++)l.__h.push(l._sb[h]);l._sb=[]}else do l.__d=!1,d&&d(e),c=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++g<25);l.state=l.__s,l.getChildContext!=null&&(i=xl(xl({},i),l.getChildContext())),_||l.getSnapshotBeforeUpdate==null||(P=l.getSnapshotBeforeUpdate(I,M)),C=c!=null&&c.type===Lc&&c.key==null?c.props.children:c,oI(n,Array.isArray(C)?C:[C],e,t,i,r,a,o,s,u),l.base=e.__e,e.__h=null,l.__h.length&&o.push(l),N&&(l.__E=l.__=null),l.__e=!1}else a==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=xz(t.__e,e,t,i,r,a,o,u);(c=xn.diffed)&&c(e)}catch(S){e.__v=null,(u||a!=null)&&(e.__e=s,e.__h=!!u,a[a.indexOf(s)]=null),xn.__e(S,e,t)}}function uI(n,e){xn.__c&&xn.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(i){i.call(t)})}catch(i){xn.__e(i,t.__v)}})}function xz(n,e,t,i,r,a,o,s){var u,c,l,_=t.props,I=e.props,M=e.type,P=0;if(M==="svg"&&(r=!0),a!=null){for(;P<a.length;P++)if((u=a[P])&&"setAttribute"in u==!!M&&(M?u.localName===M:u.nodeType===3)){n=u,a[P]=null;break}}if(n==null){if(M===null)return document.createTextNode(I);n=r?document.createElementNS("http://www.w3.org/2000/svg",M):document.createElement(M,I.is&&I),a=null,s=!1}if(M===null)_===I||s&&n.data===I||(n.data=I);else{if(a=a&&Fv.call(n.childNodes),c=(_=t.props||qg).dangerouslySetInnerHTML,l=I.dangerouslySetInnerHTML,!s){if(a!=null)for(_={},P=0;P<n.attributes.length;P++)_[n.attributes[P].name]=n.attributes[P].value;(l||c)&&(l&&(c&&l.__html==c.__html||l.__html===n.innerHTML)||(n.innerHTML=l&&l.__html||""))}if(_z(n,I,_,r,s),l)e.__k=[];else if(P=e.props.children,oI(n,Array.isArray(P)?P:[P],e,t,i,r&&M!=="foreignObject",a,o,a?a[0]:t.__k&&Jf(t,0),s),a!=null)for(P=a.length;P--;)a[P]!=null&&aI(a[P]);s||("value"in I&&(P=I.value)!==void 0&&(P!==n.value||M==="progress"&&!P||M==="option"&&P!==_.value)&&nv(n,"value",P,_.value,!1),"checked"in I&&(P=I.checked)!==void 0&&P!==n.checked&&nv(n,"checked",P,_.checked,!1))}return n}function hI(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(i){xn.__e(i,t)}}function fI(n,e,t){var i,r;if(xn.unmount&&xn.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||hI(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){xn.__e(a,e)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&fI(i[r],e,t||typeof n.type!="function");t||n.__e==null||aI(n.__e),n.__=n.__e=n.__d=void 0}function Ez(n,e,t){return this.constructor(n,t)}function Kf(n,e,t){var i,r,a;xn.__&&xn.__(n,e),r=(i=typeof t=="function")?null:t&&t.__k||e.__k,a=[],Dw(e,n=(!i&&t||e).__k=Pl(Lc,null,[n]),r||qg,qg,e.ownerSVGElement!==void 0,!i&&t?[t]:r?null:e.firstChild?Fv.call(e.childNodes):null,a,!i&&t?t:r?r.__e:e.firstChild,i),uI(a,n)}function Tz(n,e){var t={__c:e="__cC"+iI++,__:n,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,a;return this.getChildContext||(r=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&r.some(o0)},this.sub=function(o){r.push(o);var s=o.componentWillUnmount;o.componentWillUnmount=function(){r.splice(r.indexOf(o),1),s&&s.call(o)}}),i.children}};return t.Provider.__=t.Consumer.contextType=t}Fv=rI.slice,xn={__e:function(n,e,t,i){for(var r,a,o;e=e.__;)if((r=e.__c)&&!r.__)try{if((a=r.constructor)&&a.getDerivedStateFromError!=null&&(r.setState(a.getDerivedStateFromError(n)),o=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(n,i||{}),o=r.__d),o)return r.__E=r}catch(s){n=s}throw n}},nI=0,ks.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=xl({},this.state),typeof n=="function"&&(n=n(xl({},t),this.props)),n&&xl(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),o0(this))},ks.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),o0(this))},ks.prototype.render=Lc,zf=[],ev.__r=0,iI=0;var no,ub,Z_,dI=[],hb=[],J_=xn.__b,K_=xn.__r,Q_=xn.diffed,q_=xn.__c,ex=xn.unmount;function Iz(){for(var n;n=dI.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(Ig),n.__H.__h.forEach(l0),n.__H.__h=[]}catch(e){n.__H.__h=[],xn.__e(e,n.__v)}}xn.__b=function(n){typeof n.type!="function"||n.__m||n.__===null?n.__m||(n.__m=n.__&&n.__.__m?n.__.__m:""):n.__m=(n.__&&n.__.__m?n.__.__m:"")+(n.__&&n.__.__k?n.__.__k.indexOf(n):0),no=null,J_&&J_(n)},xn.__r=function(n){K_&&K_(n);var e=(no=n.__c).__H;e&&(ub===no?(e.__h=[],no.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=hb,t.__N=t.i=void 0})):(e.__h.forEach(Ig),e.__h.forEach(l0),e.__h=[])),ub=no},xn.diffed=function(n){Q_&&Q_(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(dI.push(e)!==1&&Z_===xn.requestAnimationFrame||((Z_=xn.requestAnimationFrame)||Dz)(Iz)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==hb&&(t.__=t.__V),t.i=void 0,t.__V=hb})),ub=no=null},xn.__c=function(n,e){e.some(function(t){try{t.__h.forEach(Ig),t.__h=t.__h.filter(function(i){return!i.__||l0(i)})}catch(i){e.some(function(r){r.__h&&(r.__h=[])}),e=[],xn.__e(i,t.__v)}}),q_&&q_(n,e)},xn.unmount=function(n){ex&&ex(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{Ig(i)}catch(r){e=r}}),t.__H=void 0,e&&xn.__e(e,t.__v))};var tx=typeof requestAnimationFrame=="function";function Dz(n){var e,t=function(){clearTimeout(i),tx&&cancelAnimationFrame(e),setTimeout(n)},i=setTimeout(t,100);tx&&(e=requestAnimationFrame(t))}function Ig(n){var e=no,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),no=e}function l0(n){var e=no;n.__c=n.__(),no=e}function Az(n,e){for(var t in e)n[t]=e[t];return n}function nx(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var i in e)if(i!=="__source"&&n[i]!==e[i])return!0;return!1}function ix(n){this.props=n}(ix.prototype=new ks).isPureReactComponent=!0,ix.prototype.shouldComponentUpdate=function(n,e){return nx(this.props,n)||nx(this.state,e)};var rx=xn.__b;xn.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),rx&&rx(n)};var Mz=xn.__e;xn.__e=function(n,e,t,i){if(n.then){for(var r,a=e;a=a.__;)if((r=a.__c)&&r.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),r.__c(n,e)}Mz(n,e,t,i)};var ax=xn.unmount;function pI(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),n.__c.__H=null),(n=Az({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return pI(i,e,t)})),n}function gI(n,e,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return gI(i,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function fb(){this.__u=0,this.t=null,this.__b=null}function vI(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function ug(){this.u=null,this.o=null}xn.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),ax&&ax(n)},(fb.prototype=new ks).__c=function(n,e){var t=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(t);var r=vI(i.__v),a=!1,o=function(){a||(a=!0,t.__R=null,r?r(s):s())};t.__R=o;var s=function(){if(!--i.__u){if(i.state.__a){var c=i.state.__a;i.__v.__k[0]=gI(c,c.__c.__P,c.__c.__O)}var l;for(i.setState({__a:i.__b=null});l=i.t.pop();)l.forceUpdate()}},u=e.__h===!0;i.__u++||u||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(o,o)},fb.prototype.componentWillUnmount=function(){this.t=[]},fb.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=pI(this.__b,t,i.__O=i.__P)}this.__b=null}var r=e.__a&&Pl(Lc,null,n.fallback);return r&&(r.__h=null),[Pl(Lc,null,e.__a?null:n.children),r]};var sx=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function Oz(n){return this.getChildContext=function(){return n.context},n.children}function kz(n){var e=this,t=n.i;e.componentWillUnmount=function(){Kf(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),n.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),Kf(Pl(Oz,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function Pz(n,e){var t=Pl(kz,{__v:n,i:e});return t.containerInfo=e,t}(ug.prototype=new ks).__a=function(n){var e=this,t=vI(e.__v),i=e.o.get(n);return i[0]++,function(r){var a=function(){e.props.revealOrder?(i.push(r),sx(e,n,i)):r()};t?t(a):a()}},ug.prototype.render=function(n){this.u=null,this.o=new Map;var e=tv(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},ug.prototype.componentDidUpdate=ug.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){sx(n,t,e)})};var Lz=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Rz=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Nz=typeof document<"u",Fz=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};ks.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(ks.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var ox=xn.event;function jz(){}function Bz(){return this.cancelBubble}function Hz(){return this.defaultPrevented}xn.event=function(n){return ox&&(n=ox(n)),n.persist=jz,n.isPropagationStopped=Bz,n.isDefaultPrevented=Hz,n.nativeEvent=n};var lx={configurable:!0,get:function(){return this.class}},cx=xn.vnode;xn.vnode=function(n){var e=n.type,t=n.props,i=t;if(typeof e=="string"){var r=e.indexOf("-")===-1;for(var a in i={},t){var o=t[a];Nz&&a==="children"&&e==="noscript"||a==="value"&&"defaultValue"in t&&o==null||(a==="defaultValue"&&"value"in t&&t.value==null?a="value":a==="download"&&o===!0?o="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+e)&&!Fz(t.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():r&&Rz.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),i[a]&&(a="oninputCapture")),i[a]=o)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=tv(t.children).forEach(function(s){s.props.selected=i.value.indexOf(s.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=tv(t.children).forEach(function(s){s.props.selected=i.multiple?i.defaultValue.indexOf(s.props.value)!=-1:i.defaultValue==s.props.value})),n.props=i,t.class!=t.className&&(lx.enumerable="className"in t,t.className!=null&&(i.class=t.className),Object.defineProperty(i,"className",lx))}n.$$typeof=Lz,cx&&cx(n)};var ux=xn.__r;xn.__r=function(n){ux&&ux(n),n.__c};var hx=typeof globalThis<"u"?globalThis:window;hx.FullCalendarVDom?console.warn("FullCalendar VDOM already loaded"):hx.FullCalendarVDom={Component:ks,createElement:Pl,render:Kf,createRef:Sz,Fragment:Lc,createContext:Uz,createPortal:Pz,flushSync:zz,unmountComponentAtNode:Yz};function zz(n){n();var e=xn.debounceRendering,t=[];function i(r){t.push(r)}for(xn.debounceRendering=i,Kf(Pl(Wz,{}),document.createElement("div"));t.length;)t.shift()();xn.debounceRendering=e}var Wz=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){return Pl("div",{})},e.prototype.componentDidMount=function(){this.setState({})},e}(ks);function Uz(n){var e=Tz(n),t=e.Provider;return e.Provider=function(){var i=this,r=!this.getChildContext,a=t.apply(this,arguments);if(r){var o=[];this.shouldComponentUpdate=function(s){i.props.value!==s.value&&o.forEach(function(u){u.context=s.value,u.forceUpdate()})},this.sub=function(s){o.push(s);var u=s.componentWillUnmount;s.componentWillUnmount=function(){o.splice(o.indexOf(s),1),u&&u.call(s)}}}return a},e}function Yz(n){Kf(null,n)}if(typeof FullCalendarVDom>"u")throw new Error("Please import the top-level fullcalendar lib before attempting to import a plugin.");var Aw=FullCalendarVDom.Component,Ae=FullCalendarVDom.createElement,Gz=FullCalendarVDom.render,pr=FullCalendarVDom.createRef,dr=FullCalendarVDom.Fragment,mI=FullCalendarVDom.createContext,$z=FullCalendarVDom.createPortal,fx=FullCalendarVDom.flushSync,Vz=FullCalendarVDom.unmountComponentAtNode;/*!
FullCalendar v5.11.3
Docs & License: https://fullcalendar.io/
(c) 2022 Adam Shaw
*/var Zu=function(){function n(e,t){this.context=e,this.internalEventSource=t}return n.prototype.remove=function(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},n.prototype.refetch=function(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})},Object.defineProperty(n.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"format",{get:function(){return this.internalEventSource.meta.format},enumerable:!1,configurable:!0}),n}();function Mw(n){n.parentNode&&n.parentNode.removeChild(n)}function Wr(n,e){if(n.closest)return n.closest(e);if(!document.documentElement.contains(n))return null;do{if(Xz(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function Xz(n,e){var t=n.matches||n.matchesSelector||n.msMatchesSelector;return t.call(n,e)}function Zz(n,e){for(var t=n instanceof HTMLElement?[n]:n,i=[],r=0;r<t.length;r+=1)for(var a=t[r].querySelectorAll(e),o=0;o<a.length;o+=1)i.push(a[o]);return i}var Jz=/(top|left|right|bottom|width|height)$/i;function Wf(n,e){for(var t in e)yI(n,t,e[t])}function yI(n,e,t){t==null?n.style[e]="":typeof t=="number"&&Jz.test(e)?n.style[e]=t+"px":n.style[e]=t}function bI(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}function wI(n){return n.getRootNode?n.getRootNode():document}var dx=0;function Dl(){return dx+=1,"fc-dom-"+dx}function jv(n){n.preventDefault()}function Kz(n,e){return function(t){var i=Wr(t.target,n);i&&e.call(i,t,i)}}function CI(n,e,t,i){var r=Kz(t,i);return n.addEventListener(e,r),function(){n.removeEventListener(e,r)}}function Qz(n,e,t,i){var r;return CI(n,"mouseover",e,function(a,o){if(o!==r){r=o,t(a,o);var s=function(u){r=null,i(u,o),o.removeEventListener("mouseleave",s)};o.addEventListener("mouseleave",s)}})}var px=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function qz(n,e){var t=function(i){e(i),px.forEach(function(r){n.removeEventListener(r,t)})};px.forEach(function(i){n.addEventListener(i,t)})}function SI(n){return ze({onClick:n},_I(n))}function _I(n){return{tabIndex:0,onKeyDown:function(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}var gx=0;function Fh(){return gx+=1,String(gx)}function Ow(){document.body.classList.add("fc-not-allowed")}function kw(){document.body.classList.remove("fc-not-allowed")}function e5(n){n.classList.add("fc-unselectable"),n.addEventListener("selectstart",jv)}function t5(n){n.classList.remove("fc-unselectable"),n.removeEventListener("selectstart",jv)}function n5(n){n.addEventListener("contextmenu",jv)}function i5(n){n.removeEventListener("contextmenu",jv)}function r5(n){var e=[],t=[],i,r;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),i=0;i<t.length;i+=1)r=t[i],typeof r=="string"?e.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&e.push({func:r});return e}function a5(n,e,t){var i,r;for(i=0;i<t.length;i+=1)if(r=s5(n,e,t[i]),r)return r;return 0}function s5(n,e,t){return t.func?t.func(n,e):o5(n[t.field],e[t.field])*(t.order||1)}function o5(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function ah(n,e){var t=String(n);return"000".substr(0,e-t.length)+t}function Uf(n,e,t){return typeof n=="function"?n.apply(void 0,e):typeof n=="string"?e.reduce(function(i,r,a){return i.replace("$"+a,r||"")},n):t}function l5(n,e){return n-e}function Dg(n){return n%1===0}function c5(n){var e=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}var u5=["sun","mon","tue","wed","thu","fri","sat"];function vx(n,e){var t=El(n);return t[2]+=e*7,ya(t)}function Nr(n,e){var t=El(n);return t[2]+=e,ya(t)}function Rc(n,e){var t=El(n);return t[6]+=e,ya(t)}function h5(n,e){return Wl(n,e)/7}function Wl(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function f5(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function d5(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function p5(n,e){return(e.valueOf()-n.valueOf())/1e3}function g5(n,e){var t=xi(n),i=xi(e);return{years:0,months:0,days:Math.round(Wl(t,i)),milliseconds:e.valueOf()-i.valueOf()-(n.valueOf()-t.valueOf())}}function v5(n,e){var t=iv(n,e);return t!==null&&t%7===0?t/7:null}function iv(n,e){return Tl(n)===Tl(e)?Math.round(Wl(n,e)):null}function xi(n){return ya([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function m5(n){return ya([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function y5(n){return ya([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function b5(n){return ya([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function w5(n,e,t){var i=n.getUTCFullYear(),r=db(n,i,e,t);if(r<1)return db(n,i-1,e,t);var a=db(n,i+1,e,t);return a>=1?Math.min(r,a):r}function db(n,e,t,i){var r=ya([e,0,1+C5(e,t,i)]),a=xi(n),o=Math.round(Wl(r,a));return Math.floor(o/7)+1}function C5(n,e,t){var i=7+e-t,r=(7+ya([n,0,i]).getUTCDay()-e)%7;return-r+i-1}function mx(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function yx(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function El(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function ya(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC.apply(Date,n))}function xI(n){return!isNaN(n.valueOf())}function Tl(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function Pw(n,e,t,i){return{instanceId:Fh(),defId:n,range:e,forcedStartTzo:t==null?null:t,forcedEndTzo:i==null?null:i}}var rv=Object.prototype.hasOwnProperty;function Lw(n,e){var t={};if(e)for(var i in e){for(var r=[],a=n.length-1;a>=0;a-=1){var o=n[a][i];if(typeof o=="object"&&o)r.unshift(o);else if(o!==void 0){t[i]=o;break}}r.length&&(t[i]=Lw(r))}for(var a=n.length-1;a>=0;a-=1){var s=n[a];for(var u in s)u in t||(t[u]=s[u])}return t}function Nc(n,e){var t={};for(var i in n)e(n[i],i)&&(t[i]=n[i]);return t}function zo(n,e){var t={};for(var i in n)t[i]=e(n[i],i);return t}function EI(n){for(var e={},t=0,i=n;t<i.length;t++){var r=i[t];e[r]=!0}return e}function Rw(n){var e=[];for(var t in n)e.push(n[t]);return e}function Wo(n,e){if(n===e)return!0;for(var t in n)if(rv.call(n,t)&&!(t in e))return!1;for(var t in e)if(rv.call(e,t)&&n[t]!==e[t])return!1;return!0}function bx(n,e){var t=[];for(var i in n)rv.call(n,i)&&(i in e||t.push(i));for(var i in e)rv.call(e,i)&&n[i]!==e[i]&&t.push(i);return t}function pb(n,e,t){if(t===void 0&&(t={}),n===e)return!0;for(var i in e)if(!(i in n&&S5(n[i],e[i],t[i])))return!1;for(var i in n)if(!(i in e))return!1;return!0}function S5(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}function _5(n,e,t,i){e===void 0&&(e=0),i===void 0&&(i=1);var r=[];t==null&&(t=Object.keys(n).length);for(var a=e;a<t;a+=i){var o=n[a];o!==void 0&&r.push(o)}return r}function x5(n,e,t,i){for(var r=0;r<i.length;r+=1){var a=i[r].parse(n,t);if(a){var o=n.allDay;return o==null&&(o=e,o==null&&(o=a.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:a.duration,typeData:a.typeData,typeId:r}}}return null}function Sh(n,e,t){var i=t.dateEnv,r=t.pluginHooks,a=t.options,o=n.defs,s=n.instances;s=Nc(s,function(b){return!o[b.defId].recurringDef});for(var u in o){var c=o[u];if(c.recurringDef){var l=c.recurringDef.duration;l||(l=c.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);for(var _=E5(c,l,e,i,r.recurringTypes),I=0,M=_;I<M.length;I++){var P=M[I],N=Pw(u,{start:P,end:i.add(P,l)});s[N.instanceId]=N}}}return{defs:o,instances:s}}function E5(n,e,t,i,r){var a=r[n.recurringDef.typeId],o=a.expand(n.recurringDef.typeData,{start:i.subtract(t.start,e),end:t.end},i);return n.allDay&&(o=o.map(xi)),o}var wx=["years","months","days","milliseconds"],T5=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function oi(n,e){var t;return typeof n=="string"?I5(n):typeof n=="object"&&n?Cx(n):typeof n=="number"?Cx((t={},t[e||"milliseconds"]=n,t)):null}function I5(n){var e=T5.exec(n);if(e){var t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function Cx(n){var e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function D5(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function c0(n,e){return{years:n.years+e.years,months:n.months+e.months,days:n.days+e.days,milliseconds:n.milliseconds+e.milliseconds}}function A5(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function M5(n,e){return{years:n.years*e,months:n.months*e,days:n.days*e,milliseconds:n.milliseconds*e}}function O5(n){return sh(n)/365}function k5(n){return sh(n)/30}function sh(n){return Ms(n)/864e5}function Ms(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function Nw(n,e){for(var t=null,i=0;i<wx.length;i+=1){var r=wx[i];if(e[r]){var a=n[r]/e[r];if(!Dg(a)||t!==null&&t!==a)return null;t=a}else if(n[r])return null}return t}function u0(n){var e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function TI(n,e,t){t===void 0&&(t=!1);var i=n.toISOString();return i=i.replace(".000",""),t&&(i=i.replace("T00:00:00Z","")),i.length>10&&(e==null?i=i.replace("Z",""):e!==0&&(i=i.replace("Z",Fw(e,!0)))),i}function Bv(n){return n.toISOString().replace(/T.*$/,"")}function P5(n){return ah(n.getUTCHours(),2)+":"+ah(n.getUTCMinutes(),2)+":"+ah(n.getUTCSeconds(),2)}function Fw(n,e){e===void 0&&(e=!1);var t=n<0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),a=Math.round(i%60);return e?t+ah(r,2)+":"+ah(a,2):"GMT"+t+r+(a?":"+ah(a,2):"")}function _h(n,e,t){if(n===e)return!0;var i=n.length,r;if(i!==e.length)return!1;for(r=0;r<i;r+=1)if(!(t?t(n[r],e[r]):n[r]===e[r]))return!1;return!0}function _n(n,e,t){var i,r;return function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(!i)r=n.apply(this,a);else if(!_h(i,a)){t&&t(r);var s=n.apply(this,a);(!e||!e(s,r))&&(r=s)}return i=a,r}}function Ag(n,e,t){var i=this,r,a;return function(o){if(!r)a=n.call(i,o);else if(!Wo(r,o)){t&&t(a);var s=n.call(i,o);(!e||!e(s,a))&&(a=s)}return r=o,a}}var Sx={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},av={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},hg=/\s*([ap])\.?m\.?/i,L5=/,/g,R5=/\s+/g,N5=/\u200e/g,F5=/UTC|GMT/,j5=function(){function n(e){var t={},i={},r=0;for(var a in e)a in Sx?(i[a]=e[a],r=Math.max(Sx[a],r)):(t[a]=e[a],a in av&&(r=Math.max(av[a],r)));this.standardDateProps=t,this.extendedSettings=i,this.severity=r,this.buildFormattingFunc=_n(_x)}return n.prototype.format=function(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)},n.prototype.formatRange=function(e,t,i,r){var a=this,o=a.standardDateProps,s=a.extendedSettings,u=Y5(e.marker,t.marker,i.calendarSystem);if(!u)return this.format(e,i);var c=u;c>1&&(o.year==="numeric"||o.year==="2-digit")&&(o.month==="numeric"||o.month==="2-digit")&&(o.day==="numeric"||o.day==="2-digit")&&(c=1);var l=this.format(e,i),_=this.format(t,i);if(l===_)return l;var I=G5(o,c),M=_x(I,s,i),P=M(e),N=M(t),b=$5(l,P,_,N),f=s.separator||r||i.defaultSeparator||"";return b?b.before+P+f+N+b.after:l+f+_},n.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}},n}();function _x(n,e,t){var i=Object.keys(n).length;return i===1&&n.timeZoneName==="short"?function(r){return Fw(r.timeZoneOffset)}:i===0&&e.week?function(r){return U5(t.computeWeekNumber(r.marker),t.weekText,t.weekTextLong,t.locale,e.week)}:B5(n,e,t)}function B5(n,e,t){n=ze({},n),e=ze({},e),H5(n,e),n.timeZone="UTC";var i=new Intl.DateTimeFormat(t.locale.codes,n),r;if(e.omitZeroMinute){var a=ze({},n);delete a.minute,r=new Intl.DateTimeFormat(t.locale.codes,a)}return function(o){var s=o.marker,u;r&&!s.getUTCMinutes()?u=r:u=i;var c=u.format(s);return z5(c,o,n,e,t)}}function H5(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function z5(n,e,t,i,r){return n=n.replace(N5,""),t.timeZoneName==="short"&&(n=W5(n,r.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Fw(e.timeZoneOffset))),i.omitCommas&&(n=n.replace(L5,"").trim()),i.omitZeroMinute&&(n=n.replace(":00","")),i.meridiem===!1?n=n.replace(hg,"").trim():i.meridiem==="narrow"?n=n.replace(hg,function(a,o){return o.toLocaleLowerCase()}):i.meridiem==="short"?n=n.replace(hg,function(a,o){return o.toLocaleLowerCase()+"m"}):i.meridiem==="lowercase"&&(n=n.replace(hg,function(a){return a.toLocaleLowerCase()})),n=n.replace(R5," "),n=n.trim(),n}function W5(n,e){var t=!1;return n=n.replace(F5,function(){return t=!0,e}),t||(n+=" "+e),n}function U5(n,e,t,i,r){var a=[];return r==="long"?a.push(t):(r==="short"||r==="narrow")&&a.push(e),(r==="long"||r==="short")&&a.push(" "),a.push(i.simpleNumberFormat.format(n)),i.options.direction==="rtl"&&a.reverse(),a.join("")}function Y5(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:Tl(n)!==Tl(e)?1:0}function G5(n,e){var t={};for(var i in n)(!(i in av)||av[i]<=e)&&(t[i]=n[i]);return t}function $5(n,e,t,i){for(var r=0;r<n.length;){var a=n.indexOf(e,r);if(a===-1)break;var o=n.substr(0,a);r=a+e.length;for(var s=n.substr(r),u=0;u<t.length;){var c=t.indexOf(i,u);if(c===-1)break;var l=t.substr(0,c);u=c+i.length;var _=t.substr(u);if(o===l&&s===_)return{before:o,after:s}}}return null}function xx(n,e){var t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function sv(n,e,t,i){var r=xx(n,t.calendarSystem),a=e?xx(e,t.calendarSystem):null;return{date:r,start:r,end:a,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:i||t.defaultSeparator}}var V5=function(){function n(e){this.cmdStr=e}return n.prototype.format=function(e,t,i){return t.cmdFormatter(this.cmdStr,sv(e,null,t,i))},n.prototype.formatRange=function(e,t,i,r){return i.cmdFormatter(this.cmdStr,sv(e,t,i,r))},n}(),X5=function(){function n(e){this.func=e}return n.prototype.format=function(e,t,i){return this.func(sv(e,null,t,i))},n.prototype.formatRange=function(e,t,i,r){return this.func(sv(e,t,i,r))},n}();function Pi(n){return typeof n=="object"&&n?new j5(n):typeof n=="string"?new V5(n):typeof n=="function"?new X5(n):null}var Ex={navLinkDayClick:mt,navLinkWeekClick:mt,duration:oi,bootstrapFontAwesome:mt,buttonIcons:mt,customButtons:mt,defaultAllDayEventDuration:oi,defaultTimedEventDuration:oi,nextDayThreshold:oi,scrollTime:oi,scrollTimeReset:Boolean,slotMinTime:oi,slotMaxTime:oi,dayPopoverFormat:Pi,slotDuration:oi,snapDuration:oi,headerToolbar:mt,footerToolbar:mt,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Pi,dayHeaderClassNames:mt,dayHeaderContent:mt,dayHeaderDidMount:mt,dayHeaderWillUnmount:mt,dayCellClassNames:mt,dayCellContent:mt,dayCellDidMount:mt,dayCellWillUnmount:mt,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:mt,weekNumbers:Boolean,weekNumberClassNames:mt,weekNumberContent:mt,weekNumberDidMount:mt,weekNumberWillUnmount:mt,editable:Boolean,viewClassNames:mt,viewDidMount:mt,viewWillUnmount:mt,nowIndicator:Boolean,nowIndicatorClassNames:mt,nowIndicatorContent:mt,nowIndicatorDidMount:mt,nowIndicatorWillUnmount:mt,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:mt,locale:mt,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:mt,eventOrder:r5,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:mt,contentHeight:mt,direction:String,weekNumberFormat:Pi,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:mt,initialDate:mt,now:mt,eventDataTransform:mt,stickyHeaderDates:mt,stickyFooterScrollbar:mt,viewHeight:mt,defaultAllDay:Boolean,eventSourceFailure:mt,eventSourceSuccess:mt,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:mt,eventConstraint:mt,eventAllow:mt,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:mt,eventContent:mt,eventDidMount:mt,eventWillUnmount:mt,selectConstraint:mt,selectOverlap:mt,selectAllow:mt,droppable:Boolean,unselectCancel:String,slotLabelFormat:mt,slotLaneClassNames:mt,slotLaneContent:mt,slotLaneDidMount:mt,slotLaneWillUnmount:mt,slotLabelClassNames:mt,slotLabelContent:mt,slotLabelDidMount:mt,slotLabelWillUnmount:mt,dayMaxEvents:mt,dayMaxEventRows:mt,dayMinWidth:Number,slotLabelInterval:oi,allDayText:String,allDayClassNames:mt,allDayContent:mt,allDayDidMount:mt,allDayWillUnmount:mt,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Pi,rerenderDelay:Number,moreLinkText:mt,moreLinkHint:mt,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:mt,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:oi,hiddenDays:mt,monthMode:Boolean,fixedWeekCount:Boolean,validRange:mt,visibleRange:mt,titleFormat:mt,eventInteractive:Boolean,noEventsText:String,viewHint:mt,navLinkHint:mt,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:mt,moreLinkClassNames:mt,moreLinkContent:mt,moreLinkDidMount:mt,moreLinkWillUnmount:mt},Yf={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30},Tx={datesSet:mt,eventsSet:mt,eventAdd:mt,eventChange:mt,eventRemove:mt,windowResize:mt,eventClick:mt,eventMouseEnter:mt,eventMouseLeave:mt,select:mt,unselect:mt,loading:mt,_unmount:mt,_beforeprint:mt,_afterprint:mt,_noEventDrop:mt,_noEventResize:mt,_resize:mt,_scrollRequest:mt},Ix={buttonText:mt,buttonHints:mt,views:mt,plugins:mt,initialEvents:mt,events:mt,eventSources:mt},bc={headerToolbar:Wu,footerToolbar:Wu,buttonText:Wu,buttonHints:Wu,buttonIcons:Wu,dateIncrement:Wu};function Wu(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?Wo(n,e):n===e}var Z5={type:String,component:mt,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:mt,usesMinMaxTime:Boolean,classNames:mt,content:mt,didMount:mt,willUnmount:mt};function gb(n){return Lw(n,bc)}function jw(n,e){var t={},i={};for(var r in e)r in n&&(t[r]=e[r](n[r]));for(var r in n)r in e||(i[r]=n[r]);return{refined:t,extra:i}}function mt(n){return n}function ov(n,e,t,i){for(var r=ja(),a=zw(t),o=0,s=n;o<s.length;o++){var u=s[o],c=AI(u,e,t,i,a);c&&h0(c,r)}return r}function h0(n,e){return e===void 0&&(e=ja()),e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function Bw(n,e){var t=n.instances[e];if(t){var i=n.defs[t.defId],r=Hv(n,function(a){return J5(i,a)});return r.defs[i.defId]=i,r.instances[t.instanceId]=t,r}return ja()}function J5(n,e){return Boolean(n.groupId&&n.groupId===e.groupId)}function ja(){return{defs:{},instances:{}}}function Hw(n,e){return{defs:ze(ze({},n.defs),e.defs),instances:ze(ze({},n.instances),e.instances)}}function Hv(n,e){var t=Nc(n.defs,e),i=Nc(n.instances,function(r){return t[r.defId]});return{defs:t,instances:i}}function K5(n,e){var t=n.defs,i=n.instances,r={},a={};for(var o in t)e.defs[o]||(r[o]=t[o]);for(var s in i)!e.instances[s]&&r[i[s].defId]&&(a[s]=i[s]);return{defs:r,instances:a}}function Q5(n,e){return Array.isArray(n)?ov(n,null,e,!0):typeof n=="object"&&n?ov([n],null,e,!0):n!=null?String(n):null}function f0(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}var lv={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:mt,overlap:mt,allow:mt,className:f0,classNames:f0,color:String,backgroundColor:String,borderColor:String,textColor:String},q5={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function cv(n,e){var t=Q5(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function II(n){return n.reduce(e4,q5)}function e4(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}var Mg={id:String,groupId:String,title:String,url:String,interactive:Boolean},DI={start:mt,end:mt,date:mt,allDay:Boolean},t4=ze(ze(ze({},Mg),DI),{extendedProps:mt});function AI(n,e,t,i,r){r===void 0&&(r=zw(t));var a=MI(n,t,r),o=a.refined,s=a.extra,u=i4(e,t),c=x5(o,u,t.dateEnv,t.pluginHooks.recurringTypes);if(c){var l=d0(o,s,e?e.sourceId:"",c.allDay,Boolean(c.duration),t);return l.recurringDef={typeId:c.typeId,typeData:c.typeData,duration:c.duration},{def:l,instance:null}}var _=n4(o,u,t,i);if(_){var l=d0(o,s,e?e.sourceId:"",_.allDay,_.hasEnd,t),I=Pw(l.defId,_.range,_.forcedStartTzo,_.forcedEndTzo);return{def:l,instance:I}}return null}function MI(n,e,t){return t===void 0&&(t=zw(e)),jw(n,t)}function zw(n){return ze(ze(ze({},lv),t4),n.pluginHooks.eventRefiners)}function d0(n,e,t,i,r,a){for(var o={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:Fh(),sourceId:t,allDay:i,hasEnd:r,interactive:n.interactive,ui:cv(n,a),extendedProps:ze(ze({},n.extendedProps||{}),e)},s=0,u=a.pluginHooks.eventDefMemberAdders;s<u.length;s++){var c=u[s];ze(o,c(n))}return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function n4(n,e,t,i){var r=n.allDay,a,o=null,s=!1,u,c=null,l=n.start!=null?n.start:n.date;if(a=t.dateEnv.createMarkerMeta(l),a)o=a.marker;else if(!i)return null;return n.end!=null&&(u=t.dateEnv.createMarkerMeta(n.end)),r==null&&(e!=null?r=e:r=(!a||a.isTimeUnspecified)&&(!u||u.isTimeUnspecified)),r&&o&&(o=xi(o)),u&&(c=u.marker,r&&(c=xi(c)),o&&c<=o&&(c=null)),c?s=!0:i||(s=t.options.forceEventDuration||!1,c=t.dateEnv.add(o,r?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:r,hasEnd:s,range:{start:o,end:c},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:u?u.forcedTzo:null}}function i4(n,e){var t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function OI(n){var e=Math.floor(Wl(n.start,n.end))||1,t=xi(n.start),i=Nr(t,e);return{start:t,end:i}}function Ww(n,e){e===void 0&&(e=oi(0));var t=null,i=null;if(n.end){i=xi(n.end);var r=n.end.valueOf()-i.valueOf();r&&r>=Ms(e)&&(i=Nr(i,1))}return n.start&&(t=xi(n.start),i&&i<=t&&(i=Nr(t,1))),{start:t,end:i}}function r4(n){var e=Ww(n);return Wl(e.start,e.end)>1}function nh(n,e,t,i){return i==="year"?oi(t.diffWholeYears(n,e),"year"):i==="month"?oi(t.diffWholeMonths(n,e),"month"):g5(n,e)}function a4(n,e){var t=null,i=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(i=e.createMarker(n.end)),!t&&!i||t&&i&&i<t?null:{start:t,end:i}}function Dx(n,e){var t=[],i=e.start,r,a;for(n.sort(s4),r=0;r<n.length;r+=1)a=n[r],a.start>i&&t.push({start:i,end:a.start}),a.end>i&&(i=a.end);return i<e.end&&t.push({start:i,end:e.end}),t}function s4(n,e){return n.start.valueOf()-e.start.valueOf()}function Fc(n,e){var t=n.start,i=n.end,r=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(i===null?i=e.end:i=new Date(Math.min(i.valueOf(),e.end.valueOf()))),(t===null||i===null||t<i)&&(r={start:t,end:i}),r}function o4(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function Uw(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function zv(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function Al(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function l4(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function p0(n,e,t,i){var r={},a={},o={},s=[],u=[],c=uv(n.defs,e);for(var l in n.defs){var _=n.defs[l],I=c[_.defId];I.display==="inverse-background"&&(_.groupId?(r[_.groupId]=[],o[_.groupId]||(o[_.groupId]=_)):a[l]=[])}for(var M in n.instances){var P=n.instances[M],_=n.defs[P.defId],I=c[_.defId],N=P.range,b=!_.allDay&&i?Ww(N,i):N,f=Fc(b,t);f&&(I.display==="inverse-background"?_.groupId?r[_.groupId].push(f):a[P.defId].push(f):I.display!=="none"&&(I.display==="background"?s:u).push({def:_,ui:I,instance:P,range:f,isStart:b.start&&b.start.valueOf()===f.start.valueOf(),isEnd:b.end&&b.end.valueOf()===f.end.valueOf()}))}for(var v in r)for(var m=r[v],d=Dx(m,t),g=0,h=d;g<h.length;g++){var C=h[g],_=o[v],I=c[_.defId];s.push({def:_,ui:I,instance:null,range:C,isStart:!1,isEnd:!1})}for(var l in a)for(var m=a[l],d=Dx(m,t),D=0,S=d;D<S.length;D++){var C=S[D];s.push({def:n.defs[l],ui:c[l],instance:null,range:C,isStart:!1,isEnd:!1})}return{bg:s,fg:u}}function c4(n){return n.ui.display==="background"||n.ui.display==="inverse-background"}function Ax(n,e){n.fcSeg=e}function xh(n){return n.fcSeg||n.parentNode.fcSeg||null}function uv(n,e){return zo(n,function(t){return kI(t,e)})}function kI(n,e){var t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),II(t)}function Yw(n,e){var t=n.map(u4);return t.sort(function(i,r){return a5(i,r,e)}),t.map(function(i){return i._seg})}function u4(n){var e=n.eventRange,t=e.def,i=e.instance?e.instance.range:e.range,r=i.start?i.start.valueOf():0,a=i.end?i.end.valueOf():0;return ze(ze(ze({},t.extendedProps),t),{id:t.publicId,start:r,end:a,duration:a-r,allDay:Number(t.allDay),_seg:n})}function h4(n,e){for(var t=e.pluginHooks,i=t.isDraggableTransformers,r=n.eventRange,a=r.def,o=r.ui,s=o.startEditable,u=0,c=i;u<c.length;u++){var l=c[u];s=l(s,a,o,e)}return s}function f4(n,e){return n.isStart&&n.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function d4(n,e){return n.isEnd&&n.eventRange.ui.durationEditable}function Gf(n,e,t,i,r,a,o){var s=t.dateEnv,u=t.options,c=u.displayEventTime,l=u.displayEventEnd,_=n.eventRange.def,I=n.eventRange.instance;c==null&&(c=i!==!1),l==null&&(l=r!==!1);var M=I.range.start,P=I.range.end,N=a||n.start||n.eventRange.range.start,b=o||n.end||n.eventRange.range.end,f=xi(M).valueOf()===xi(N).valueOf(),v=xi(Rc(P,-1)).valueOf()===xi(Rc(b,-1)).valueOf();return c&&!_.allDay&&(f||v)?(N=f?M:N,b=v?P:b,l&&_.hasEnd?s.formatRange(N,b,e,{forcedStartTzo:a?null:I.forcedStartTzo,forcedEndTzo:o?null:I.forcedEndTzo}):s.format(N,e,{forcedTzo:a?null:I.forcedStartTzo})):""}function No(n,e,t){var i=n.eventRange.range;return{isPast:i.end<(t||e.start),isFuture:i.start>=(t||e.end),isToday:e&&Al(e,i.start)}}function p4(n){var e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function PI(n){return n.instance?n.instance.instanceId:n.def.defId+":"+n.range.start.toISOString()}function Gw(n,e){var t=n.eventRange,i=t.def,r=t.instance,a=i.url;if(a)return{href:a};var o=e.emitter,s=e.options,u=s.eventInteractive;return u==null&&(u=i.interactive,u==null&&(u=Boolean(o.hasHandlers("eventClick")))),u?_I(function(c){o.trigger("eventClick",{el:c.target,event:new Gi(e,i,r),jsEvent:c,view:e.viewApi})}):{}}var g4={start:mt,end:mt,allDay:Boolean};function v4(n,e,t){var i=m4(n,e),r=i.range;if(!r.start)return null;if(!r.end){if(t==null)return null;r.end=e.add(r.start,t)}return i}function m4(n,e){var t=jw(n,g4),i=t.refined,r=t.extra,a=i.start?e.createMarkerMeta(i.start):null,o=i.end?e.createMarkerMeta(i.end):null,s=i.allDay;return s==null&&(s=a&&a.isTimeUnspecified&&(!o||o.isTimeUnspecified)),ze({range:{start:a?a.marker:null,end:o?o.marker:null},allDay:s},r)}function y4(n,e){return o4(n.range,e.range)&&n.allDay===e.allDay&&b4(n,e)}function b4(n,e){for(var t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(var t in n)if(!(t in e))return!1;return!0}function w4(n,e){return ze(ze({},RI(n.range,e,n.allDay)),{allDay:n.allDay})}function LI(n,e,t){return ze(ze({},RI(n,e,t)),{timeZone:e.timeZone})}function RI(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function C4(n,e,t){var i=MI({editable:!1},t),r=d0(i.refined,i.extra,"",n.allDay,!0,t);return{def:r,ui:kI(r,e),instance:Pw(r.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function NI(n,e,t){t.emitter.trigger("select",ze(ze({},$w(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function S4(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function $w(n,e){for(var t={},i=0,r=e.pluginHooks.dateSpanTransforms;i<r.length;i++){var a=r[i];ze(t,a(n,e))}return ze(t,w4(n,e.dateEnv)),t}function Mx(n,e,t){var i=t.dateEnv,r=t.options,a=e;return n?(a=xi(a),a=i.add(a,r.defaultAllDayEventDuration)):a=i.add(a,r.defaultTimedEventDuration),a}function Vw(n,e,t,i){var r=uv(n.defs,e),a=ja();for(var o in n.defs){var s=n.defs[o];a.defs[o]=_4(s,r[o],t,i)}for(var u in n.instances){var c=n.instances[u],s=a.defs[c.defId];a.instances[u]=x4(c,s,r[c.defId],t,i)}return a}function _4(n,e,t,i){var r=t.standardProps||{};r.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(r.hasEnd=!0);var a=ze(ze(ze({},n),r),{ui:ze(ze({},n.ui),r.ui)});t.extendedProps&&(a.extendedProps=ze(ze({},a.extendedProps),t.extendedProps));for(var o=0,s=i.pluginHooks.eventDefMutationAppliers;o<s.length;o++){var u=s[o];u(a,t,i)}return!a.hasEnd&&i.options.forceEventDuration&&(a.hasEnd=!0),a}function x4(n,e,t,i,r){var a=r.dateEnv,o=i.standardProps&&i.standardProps.allDay===!0,s=i.standardProps&&i.standardProps.hasEnd===!1,u=ze({},n);return o&&(u.range=OI(u.range)),i.datesDelta&&t.startEditable&&(u.range={start:a.add(u.range.start,i.datesDelta),end:a.add(u.range.end,i.datesDelta)}),i.startDelta&&t.durationEditable&&(u.range={start:a.add(u.range.start,i.startDelta),end:u.range.end}),i.endDelta&&t.durationEditable&&(u.range={start:u.range.start,end:a.add(u.range.end,i.endDelta)}),s&&(u.range={start:u.range.start,end:Mx(e.allDay,u.range.start,r)}),e.allDay&&(u.range={start:xi(u.range.start),end:xi(u.range.end)}),u.range.end<u.range.start&&(u.range.end=Mx(e.allDay,u.range.start,r)),u}var E4=function(){function n(e,t,i){this.type=e,this.getCurrentData=t,this.dateEnv=i}return Object.defineProperty(n.prototype,"calendar",{get:function(){return this.getCurrentData().calendarApi},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return this.getCurrentData().viewTitle},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)},enumerable:!1,configurable:!0}),n.prototype.getOption=function(e){return this.getCurrentData().options[e]},n}(),T4={id:String,defaultAllDay:Boolean,url:String,format:String,events:mt,eventDataTransform:mt,success:mt,failure:mt};function FI(n,e,t){t===void 0&&(t=jI(e));var i;if(typeof n=="string"?i={url:n}:typeof n=="function"||Array.isArray(n)?i={events:n}:typeof n=="object"&&n&&(i=n),i){var r=jw(i,t),a=r.refined,o=r.extra,s=I4(a,e);if(s)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:a.defaultAllDay,eventDataTransform:a.eventDataTransform,success:a.success,failure:a.failure,publicId:a.id||"",sourceId:Fh(),sourceDefId:s.sourceDefId,meta:s.meta,ui:cv(a,e),extendedProps:o}}return null}function jI(n){return ze(ze(ze({},lv),T4),n.pluginHooks.eventSourceRefiners)}function I4(n,e){for(var t=e.pluginHooks.eventSourceDefs,i=t.length-1;i>=0;i-=1){var r=t[i],a=r.parseMeta(n);if(a)return{sourceDefId:i,meta:a}}return null}function D4(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function A4(n,e){var t=n.initialDate;return t!=null?e.createMarker(t):xd(n.now,e)}function xd(n,e){return typeof n=="function"&&(n=n()),n==null?e.createNowMarker():e.createMarker(n)}var M4=function(){function n(){}return n.prototype.getCurrentData=function(){return this.currentDataManager.getCurrentData()},n.prototype.dispatch=function(e){return this.currentDataManager.dispatch(e)},Object.defineProperty(n.prototype,"view",{get:function(){return this.getCurrentData().viewApi},enumerable:!1,configurable:!0}),n.prototype.batchRendering=function(e){e()},n.prototype.updateSize=function(){this.trigger("_resize",!0)},n.prototype.setOption=function(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})},n.prototype.getOption=function(e){return this.currentDataManager.currentCalendarOptionsInput[e]},n.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.getCurrentData().availableRawLocales)},n.prototype.on=function(e,t){var i=this.currentDataManager;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,t):console.warn("Unknown listener name '"+e+"'")},n.prototype.off=function(e,t){this.currentDataManager.emitter.off(e,t)},n.prototype.trigger=function(e){for(var t,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];(t=this.currentDataManager.emitter).trigger.apply(t,Yi([e],i))},n.prototype.changeView=function(e,t){var i=this;this.batchRendering(function(){if(i.unselect(),t)if(t.start&&t.end)i.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),i.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{var r=i.getCurrentData().dateEnv;i.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(t)})}else i.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})},n.prototype.zoomTo=function(e,t){var i=this.getCurrentData(),r;t=t||"day",r=i.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})},n.prototype.getUnitViewSpec=function(e){var t=this.getCurrentData(),i=t.viewSpecs,r=t.toolbarConfig,a=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),o,s;for(var u in i)a.push(u);for(o=0;o<a.length;o+=1)if(s=i[a[o]],s&&s.singleUnit===e)return s;return null},n.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},n.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},n.prototype.prevYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})},n.prototype.nextYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})},n.prototype.today=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:xd(e.calendarOptions.now,e.dateEnv)})},n.prototype.gotoDate=function(e){var t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})},n.prototype.incrementDate=function(e){var t=this.getCurrentData(),i=oi(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,i)}))},n.prototype.getDate=function(){var e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)},n.prototype.formatDate=function(e,t){var i=this.getCurrentData().dateEnv;return i.format(i.createMarker(e),Pi(t))},n.prototype.formatRange=function(e,t,i){var r=this.getCurrentData().dateEnv;return r.formatRange(r.createMarker(e),r.createMarker(t),Pi(i),i)},n.prototype.formatIso=function(e,t){var i=this.getCurrentData().dateEnv;return i.formatIso(i.createMarker(e),{omitTime:t})},n.prototype.select=function(e,t){var i;t==null?e.start!=null?i=e:i={start:e,end:null}:i={start:e,end:t};var r=this.getCurrentData(),a=v4(i,r.dateEnv,oi({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),NI(a,null,r))},n.prototype.unselect=function(e){var t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),S4(e,t))},n.prototype.addEvent=function(e,t){if(e instanceof Gi){var i=e._def,r=e._instance,a=this.getCurrentData();return a.eventStore.defs[i.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:h0({def:i,instance:r})}),this.triggerEventAdd(e)),e}var o=this.getCurrentData(),s;if(t instanceof Zu)s=t.internalEventSource;else if(typeof t=="boolean")t&&(s=Rw(o.eventSources)[0]);else if(t!=null){var u=this.getEventSourceById(t);if(!u)return console.warn('Could not find an event source with ID "'+t+'"'),null;s=u.internalEventSource}var c=AI(e,s,o,!1);if(c){var l=new Gi(o,c.def,c.def.recurringDef?null:c.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:h0(c)}),this.triggerEventAdd(l),l}return null},n.prototype.triggerEventAdd=function(e){var t=this,i=this.getCurrentData().emitter;i.trigger("eventAdd",{event:e,relatedEvents:[],revert:function(){t.dispatch({type:"REMOVE_EVENTS",eventStore:BI(e)})}})},n.prototype.getEventById=function(e){var t=this.getCurrentData(),i=t.eventStore,r=i.defs,a=i.instances;e=String(e);for(var o in r){var s=r[o];if(s.publicId===e){if(s.recurringDef)return new Gi(t,s,null);for(var u in a){var c=a[u];if(c.defId===s.defId)return new Gi(t,s,c)}}}return null},n.prototype.getEvents=function(){var e=this.getCurrentData();return Ic(e.eventStore,e)},n.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},n.prototype.getEventSources=function(){var e=this.getCurrentData(),t=e.eventSources,i=[];for(var r in t)i.push(new Zu(e,t[r]));return i},n.prototype.getEventSourceById=function(e){var t=this.getCurrentData(),i=t.eventSources;e=String(e);for(var r in i)if(i[r].publicId===e)return new Zu(t,i[r]);return null},n.prototype.addEventSource=function(e){var t=this.getCurrentData();if(e instanceof Zu)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;var i=FI(e,t);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new Zu(t,i)):null},n.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},n.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})},n.prototype.scrollToTime=function(e){var t=oi(e);t&&this.trigger("_scrollRequest",{time:t})},n}(),Gi=function(){function n(e,t,i){this._context=e,this._def=t,this._instance=i||null}return n.prototype.setProp=function(e,t){var i,r;if(e in DI)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=Mg[e](t),this.mutate({standardProps:{publicId:t}});else if(e in Mg)t=Mg[e](t),this.mutate({standardProps:(i={},i[e]=t,i)});else if(e in lv){var a=lv[e](t);e==="color"?a={backgroundColor:t,borderColor:t}:e==="editable"?a={startEditable:t,durationEditable:t}:a=(r={},r[e]=t,r),this.mutate({standardProps:{ui:a}})}else console.warn("Could not set prop '"+e+"'. Use setExtendedProp instead.")},n.prototype.setExtendedProp=function(e,t){var i;this.mutate({extendedProps:(i={},i[e]=t,i)})},n.prototype.setStart=function(e,t){t===void 0&&(t={});var i=this._context.dateEnv,r=i.createMarker(e);if(r&&this._instance){var a=this._instance.range,o=nh(a.start,r,i,t.granularity);t.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}},n.prototype.setEnd=function(e,t){t===void 0&&(t={});var i=this._context.dateEnv,r;if(!(e!=null&&(r=i.createMarker(e),!r))&&this._instance)if(r){var a=nh(this._instance.range.end,r,i,t.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})},n.prototype.setDates=function(e,t,i){i===void 0&&(i={});var r=this._context.dateEnv,a={allDay:i.allDay},o=r.createMarker(e),s;if(!!o&&!(t!=null&&(s=r.createMarker(t),!s))&&this._instance){var u=this._instance.range;i.allDay===!0&&(u=OI(u));var c=nh(u.start,o,r,i.granularity);if(s){var l=nh(u.end,s,r,i.granularity);D5(c,l)?this.mutate({datesDelta:c,standardProps:a}):this.mutate({startDelta:c,endDelta:l,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:c,standardProps:a})}},n.prototype.moveStart=function(e){var t=oi(e);t&&this.mutate({startDelta:t})},n.prototype.moveEnd=function(e){var t=oi(e);t&&this.mutate({endDelta:t})},n.prototype.moveDates=function(e){var t=oi(e);t&&this.mutate({datesDelta:t})},n.prototype.setAllDay=function(e,t){t===void 0&&(t={});var i={allDay:e},r=t.maintainDuration;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=r),this.mutate({standardProps:i})},n.prototype.formatRange=function(e){var t=this._context.dateEnv,i=this._instance,r=Pi(e);return this._def.hasEnd?t.formatRange(i.range.start,i.range.end,r,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):t.format(i.range.start,r,{forcedTzo:i.forcedStartTzo})},n.prototype.mutate=function(e){var t=this._instance;if(t){var i=this._def,r=this._context,a=r.getCurrentData().eventStore,o=Bw(a,t.instanceId),s={"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}};o=Vw(o,s,e,r);var u=new n(r,i,t);this._def=o.defs[i.defId],this._instance=o.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:o}),r.emitter.trigger("eventChange",{oldEvent:u,event:this,relatedEvents:Ic(o,r,t),revert:function(){r.dispatch({type:"RESET_EVENTS",eventStore:a})}})}},n.prototype.remove=function(){var e=this._context,t=BI(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert:function(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})},Object.defineProperty(n.prototype,"source",{get:function(){var e=this._def.sourceId;return e?new Zu(this._context,this._context.getCurrentData().eventSources[e]):null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"start",{get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"startStr",{get:function(){var e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"endStr",{get:function(){var e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"id",{get:function(){return this._def.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return this._def.title},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"url",{get:function(){return this._def.url},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"display",{get:function(){return this._def.ui.display||"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!1,configurable:!0}),n.prototype.toPlainObject=function(e){e===void 0&&(e={});var t=this._def,i=t.ui,r=this,a=r.startStr,o=r.endStr,s={};return t.title&&(s.title=t.title),a&&(s.start=a),o&&(s.end=o),t.publicId&&(s.id=t.publicId),t.groupId&&(s.groupId=t.groupId),t.url&&(s.url=t.url),i.display&&i.display!=="auto"&&(s.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?s.color=i.backgroundColor:(i.backgroundColor&&(s.backgroundColor=i.backgroundColor),i.borderColor&&(s.borderColor=i.borderColor)),i.textColor&&(s.textColor=i.textColor),i.classNames.length&&(s.classNames=i.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?ze(s,t.extendedProps):s.extendedProps=t.extendedProps),s},n.prototype.toJSON=function(){return this.toPlainObject()},n}();function BI(n){var e,t,i=n._def,r=n._instance;return{defs:(e={},e[i.defId]=i,e),instances:r?(t={},t[r.instanceId]=r,t):{}}}function Ic(n,e,t){var i=n.defs,r=n.instances,a=[],o=t?t.instanceId:"";for(var s in r){var u=r[s],c=i[u.defId];u.instanceId!==o&&a.push(new Gi(e,c,u))}return a}var HI={};function O4(n,e){HI[n]=e}function k4(n){return new HI[n]}var P4=function(){function n(){}return n.prototype.getMarkerYear=function(e){return e.getUTCFullYear()},n.prototype.getMarkerMonth=function(e){return e.getUTCMonth()},n.prototype.getMarkerDay=function(e){return e.getUTCDate()},n.prototype.arrayToMarker=function(e){return ya(e)},n.prototype.markerToArray=function(e){return El(e)},n}();O4("gregory",P4);var L4=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function R4(n){var e=L4.exec(n);if(e){var t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?Number("0."+e[12])*1e3:0));if(xI(t)){var i=null;return e[13]&&(i=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}var N4=function(){function n(e){var t=this.timeZone=e.timeZone,i=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!i||this.namedTimeZoneImpl),this.calendarSystem=k4(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}return n.prototype.createMarker=function(e){var t=this.createMarkerMeta(e);return t===null?null:t.marker},n.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):ya(mx(new Date))},n.prototype.createMarkerMeta=function(e){if(typeof e=="string")return this.parse(e);var t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=ya(e)),t===null||!xI(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}},n.prototype.parse=function(e){var t=R4(e);if(t===null)return null;var i=t.marker,r=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-t.timeZoneOffset*60*1e3):r=t.timeZoneOffset),{marker:i,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}},n.prototype.getYear=function(e){return this.calendarSystem.getMarkerYear(e)},n.prototype.getMonth=function(e){return this.calendarSystem.getMarkerMonth(e)},n.prototype.add=function(e,t){var i=this.calendarSystem.markerToArray(e);return i[0]+=t.years,i[1]+=t.months,i[2]+=t.days,i[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(i)},n.prototype.subtract=function(e,t){var i=this.calendarSystem.markerToArray(e);return i[0]-=t.years,i[1]-=t.months,i[2]-=t.days,i[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(i)},n.prototype.addYears=function(e,t){var i=this.calendarSystem.markerToArray(e);return i[0]+=t,this.calendarSystem.arrayToMarker(i)},n.prototype.addMonths=function(e,t){var i=this.calendarSystem.markerToArray(e);return i[1]+=t,this.calendarSystem.arrayToMarker(i)},n.prototype.diffWholeYears=function(e,t){var i=this.calendarSystem;return Tl(e)===Tl(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)&&i.getMarkerMonth(e)===i.getMarkerMonth(t)?i.getMarkerYear(t)-i.getMarkerYear(e):null},n.prototype.diffWholeMonths=function(e,t){var i=this.calendarSystem;return Tl(e)===Tl(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)?i.getMarkerMonth(t)-i.getMarkerMonth(e)+(i.getMarkerYear(t)-i.getMarkerYear(e))*12:null},n.prototype.greatestWholeUnit=function(e,t){var i=this.diffWholeYears(e,t);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(e,t),i!==null?{unit:"month",value:i}:(i=v5(e,t),i!==null?{unit:"week",value:i}:(i=iv(e,t),i!==null?{unit:"day",value:i}:(i=f5(e,t),Dg(i)?{unit:"hour",value:i}:(i=d5(e,t),Dg(i)?{unit:"minute",value:i}:(i=p5(e,t),Dg(i)?{unit:"second",value:i}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))},n.prototype.countDurationsBetween=function(e,t,i){var r;return i.years&&(r=this.diffWholeYears(e,t),r!==null)?r/O5(i):i.months&&(r=this.diffWholeMonths(e,t),r!==null)?r/k5(i):i.days&&(r=iv(e,t),r!==null)?r/sh(i):(t.valueOf()-e.valueOf())/Ms(i)},n.prototype.startOf=function(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?xi(e):t==="hour"?m5(e):t==="minute"?y5(e):t==="second"?b5(e):null},n.prototype.startOfYear=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])},n.prototype.startOfMonth=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])},n.prototype.startOfWeek=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])},n.prototype.computeWeekNumber=function(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):w5(e,this.weekDow,this.weekDoy)},n.prototype.format=function(e,t,i){return i===void 0&&(i={}),t.format({marker:e,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(e)},this)},n.prototype.formatRange=function(e,t,i,r){return r===void 0&&(r={}),r.isEndExclusive&&(t=Rc(t,-1)),i.formatRange({marker:e,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)},n.prototype.formatIso=function(e,t){t===void 0&&(t={});var i=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?i=t.forcedTzo:i=this.offsetForMarker(e)),TI(e,i,t.omitTime)},n.prototype.timestampToMarker=function(e){return this.timeZone==="local"?ya(mx(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):ya(this.namedTimeZoneImpl.timestampToArray(e))},n.prototype.offsetForMarker=function(e){return this.timeZone==="local"?-yx(El(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(El(e)):null},n.prototype.toDate=function(e,t){return this.timeZone==="local"?yx(El(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(El(e))*1e3*60):new Date(e.valueOf()-(t||0))},n}(),F4=[],zI={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},WI=ze(ze({},zI),{buttonHints:{prev:"Previous $0",next:"Next $0",today:function(n,e){return e==="day"?"Today":"This "+n}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:function(n){return"Show "+n+" more event"+(n===1?"":"s")}});function j4(n){for(var e=n.length>0?n[0].code:"en",t=F4.concat(n),i={en:WI},r=0,a=t;r<a.length;r++){var o=a[r];i[o.code]=o}return{map:i,defaultCode:e}}function UI(n,e){return typeof n=="object"&&!Array.isArray(n)?YI(n.code,[n.code],n):B4(n,e)}function B4(n,e){var t=[].concat(n||[]),i=H4(t,e)||WI;return YI(n,t,i)}function H4(n,e){for(var t=0;t<n.length;t+=1)for(var i=n[t].toLocaleLowerCase().split("-"),r=i.length;r>0;r-=1){var a=i.slice(0,r).join("-");if(e[a])return e[a]}return null}function YI(n,e,t){var i=Lw([zI,t],["buttonText"]);delete i.code;var r=i.week;return delete i.week,{codeArg:n,codes:e,week:r,simpleNumberFormat:new Intl.NumberFormat(n),options:i}}var z4={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function W4(n,e){return ov(U4(n),null,e)}function U4(n){var e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(function(t){return t.daysOfWeek}):typeof n=="object"&&n?e=[n]:e=[],e=e.map(function(t){return ze(ze({},z4),t)}),e}function Y4(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function GI(n,e){var t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function G4(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function $4(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function V4(n,e){return{left:n.left-e.left,top:n.top-e.top}}var vb;function $I(){return vb==null&&(vb=X4()),vb}function X4(){if(typeof document>"u")return!0;var n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);var e=n.querySelector("div"),t=e.offsetHeight>0;return document.body.removeChild(n),t}var mb=ja(),Z4=function(){function n(){this.getKeysForEventDefs=_n(this._getKeysForEventDefs),this.splitDateSelection=_n(this._splitDateSpan),this.splitEventStore=_n(this._splitEventStore),this.splitIndividualUi=_n(this._splitIndividualUi),this.splitEventDrag=_n(this._splitInteraction),this.splitEventResize=_n(this._splitInteraction),this.eventUiBuilders={}}return n.prototype.splitProps=function(e){var t=this,i=this.getKeyInfo(e),r=this.getKeysForEventDefs(e.eventStore),a=this.splitDateSelection(e.dateSelection),o=this.splitIndividualUi(e.eventUiBases,r),s=this.splitEventStore(e.eventStore,r),u=this.splitEventDrag(e.eventDrag),c=this.splitEventResize(e.eventResize),l={};this.eventUiBuilders=zo(i,function(N,b){return t.eventUiBuilders[b]||_n(J4)});for(var _ in i){var I=i[_],M=s[_]||mb,P=this.eventUiBuilders[_];l[_]={businessHours:I.businessHours||e.businessHours,dateSelection:a[_]||null,eventStore:M,eventUiBases:P(e.eventUiBases[""],I.ui,o[_]),eventSelection:M.instances[e.eventSelection]?e.eventSelection:"",eventDrag:u[_]||null,eventResize:c[_]||null}}return l},n.prototype._splitDateSpan=function(e){var t={};if(e)for(var i=this.getKeysForDateSpan(e),r=0,a=i;r<a.length;r++){var o=a[r];t[o]=e}return t},n.prototype._getKeysForEventDefs=function(e){var t=this;return zo(e.defs,function(i){return t.getKeysForEventDef(i)})},n.prototype._splitEventStore=function(e,t){var i=e.defs,r=e.instances,a={};for(var o in i)for(var s=0,u=t[o];s<u.length;s++){var c=u[s];a[c]||(a[c]=ja()),a[c].defs[o]=i[o]}for(var l in r)for(var _=r[l],I=0,M=t[_.defId];I<M.length;I++){var c=M[I];a[c]&&(a[c].instances[l]=_)}return a},n.prototype._splitIndividualUi=function(e,t){var i={};for(var r in e)if(r)for(var a=0,o=t[r];a<o.length;a++){var s=o[a];i[s]||(i[s]={}),i[s][r]=e[r]}return i},n.prototype._splitInteraction=function(e){var t={};if(e){var i=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),r=this._getKeysForEventDefs(e.mutatedEvents),a=this._splitEventStore(e.mutatedEvents,r),o=function(u){t[u]||(t[u]={affectedEvents:i[u]||mb,mutatedEvents:a[u]||mb,isEvent:e.isEvent})};for(var s in i)o(s);for(var s in a)o(s)}return t},n}();function J4(n,e,t){var i=[];n&&i.push(n),e&&i.push(e);var r={"":II(i)};return t&&ze(r,t),r}function Xw(n,e,t,i){return{dow:n.getUTCDay(),isDisabled:Boolean(i&&!Al(i.activeRange,n)),isOther:Boolean(i&&!Al(i.currentRange,n)),isToday:Boolean(e&&Al(e,n)),isPast:Boolean(t?n<t:e?n<e.start:!1),isFuture:Boolean(t?n>t:e?n>=e.end:!1)}}function Wv(n,e){var t=["fc-day","fc-day-"+u5[n.dow]];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}var K4=Pi({year:"numeric",month:"long",day:"numeric"}),Q4=Pi({week:"long"});function Eh(n,e,t,i){t===void 0&&(t="day"),i===void 0&&(i=!0);var r=n.dateEnv,a=n.options,o=n.calendarApi,s=r.format(e,t==="week"?Q4:K4);if(a.navLinks){var u=r.toDate(e),c=function(l){var _=t==="day"?a.navLinkDayClick:t==="week"?a.navLinkWeekClick:null;typeof _=="function"?_.call(o,r.toDate(e),l):(typeof _=="string"&&(t=_),o.zoomTo(e,t))};return ze({title:Uf(a.navLinkHint,[s,u],s),"data-navlink":""},i?SI(c):{onClick:c})}return{"aria-label":s}}var yb=null;function q4(){return yb===null&&(yb=eW()),yb}function eW(){var n=document.createElement("div");Wf(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);var e=n.firstChild,t=e.getBoundingClientRect().left>n.getBoundingClientRect().left;return Mw(n),t}var bb;function tW(){return bb||(bb=nW()),bb}function nW(){var n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);var e=VI(n);return document.body.removeChild(n),e}function VI(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function iW(n,e){e===void 0&&(e=!1);var t=window.getComputedStyle(n),i=parseInt(t.borderLeftWidth,10)||0,r=parseInt(t.borderRightWidth,10)||0,a=parseInt(t.borderTopWidth,10)||0,o=parseInt(t.borderBottomWidth,10)||0,s=VI(n),u=s.y-i-r,c=s.x-a-o,l={borderLeft:i,borderRight:r,borderTop:a,borderBottom:o,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return q4()&&t.direction==="rtl"?l.scrollbarLeft=u:l.scrollbarRight=u,e&&(l.paddingLeft=parseInt(t.paddingLeft,10)||0,l.paddingRight=parseInt(t.paddingRight,10)||0,l.paddingTop=parseInt(t.paddingTop,10)||0,l.paddingBottom=parseInt(t.paddingBottom,10)||0),l}function rW(n,e,t){e===void 0&&(e=!1);var i=t?n.getBoundingClientRect():Zw(n),r=iW(n,e),a={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return e&&(a.left+=r.paddingLeft,a.right-=r.paddingRight,a.top+=r.paddingTop,a.bottom-=r.paddingBottom),a}function Zw(n){var e=n.getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,right:e.right+window.pageXOffset,bottom:e.bottom+window.pageYOffset}}function aW(n){for(var e=XI(n),t=n.getBoundingClientRect(),i=0,r=e;i<r.length;i++){var a=r[i],o=GI(t,a.getBoundingClientRect());if(o)t=o;else return null}return t}function XI(n){for(var e=[];n instanceof HTMLElement;){var t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}function sW(n,e,t){var i=!1,r=function(){i||(i=!0,e.apply(this,arguments))},a=function(){i||(i=!0,t&&t.apply(this,arguments))},o=n(r,a);o&&typeof o.then=="function"&&o.then(r,a)}var Uv=function(){function n(){this.handlers={},this.thisContext=null}return n.prototype.setThisContext=function(e){this.thisContext=e},n.prototype.setOptions=function(e){this.options=e},n.prototype.on=function(e,t){oW(this.handlers,e,t)},n.prototype.off=function(e,t){lW(this.handlers,e,t)},n.prototype.trigger=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var r=this.handlers[e]||[],a=this.options&&this.options[e],o=[].concat(a||[],r),s=0,u=o;s<u.length;s++){var c=u[s];c.apply(this.thisContext,t)}},n.prototype.hasHandlers=function(e){return Boolean(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])},n}();function oW(n,e,t){(n[e]||(n[e]=[])).push(t)}function lW(n,e,t){t?n[e]&&(n[e]=n[e].filter(function(i){return i!==t})):delete n[e]}var Qf=function(){function n(e,t,i,r){this.els=t;var a=this.originClientRect=e.getBoundingClientRect();i&&this.buildElHorizontals(a.left),r&&this.buildElVerticals(a.top)}return n.prototype.buildElHorizontals=function(e){for(var t=[],i=[],r=0,a=this.els;r<a.length;r++){var o=a[r],s=o.getBoundingClientRect();t.push(s.left-e),i.push(s.right-e)}this.lefts=t,this.rights=i},n.prototype.buildElVerticals=function(e){for(var t=[],i=[],r=0,a=this.els;r<a.length;r++){var o=a[r],s=o.getBoundingClientRect();t.push(s.top-e),i.push(s.bottom-e)}this.tops=t,this.bottoms=i},n.prototype.leftToIndex=function(e){var t=this,i=t.lefts,r=t.rights,a=i.length,o;for(o=0;o<a;o+=1)if(e>=i[o]&&e<r[o])return o},n.prototype.topToIndex=function(e){var t=this,i=t.tops,r=t.bottoms,a=i.length,o;for(o=0;o<a;o+=1)if(e>=i[o]&&e<r[o])return o},n.prototype.getWidth=function(e){return this.rights[e]-this.lefts[e]},n.prototype.getHeight=function(e){return this.bottoms[e]-this.tops[e]},n}(),Jw=function(){function n(){}return n.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},n.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},n.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},n.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},n.prototype.canScrollUp=function(){return this.getScrollTop()>0},n.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},n.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},n.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},n}(),cW=function(n){sn(e,n);function e(t){var i=n.call(this)||this;return i.el=t,i}return e.prototype.getScrollTop=function(){return this.el.scrollTop},e.prototype.getScrollLeft=function(){return this.el.scrollLeft},e.prototype.setScrollTop=function(t){this.el.scrollTop=t},e.prototype.setScrollLeft=function(t){this.el.scrollLeft=t},e.prototype.getScrollWidth=function(){return this.el.scrollWidth},e.prototype.getScrollHeight=function(){return this.el.scrollHeight},e.prototype.getClientHeight=function(){return this.el.clientHeight},e.prototype.getClientWidth=function(){return this.el.clientWidth},e}(Jw),uW=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getScrollTop=function(){return window.pageYOffset},e.prototype.getScrollLeft=function(){return window.pageXOffset},e.prototype.setScrollTop=function(t){window.scroll(window.pageXOffset,t)},e.prototype.setScrollLeft=function(t){window.scroll(t,window.pageYOffset)},e.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},e.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},e.prototype.getClientHeight=function(){return document.documentElement.clientHeight},e.prototype.getClientWidth=function(){return document.documentElement.clientWidth},e}(Jw),Ed=function(){function n(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}return n.prototype.setIconOverride=function(e){var t,i;if(typeof e=="object"&&e){t=ze({},this.iconClasses);for(i in e)t[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=t}else e===!1&&(this.iconClasses={})},n.prototype.applyIconOverridePrefix=function(e){var t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e},n.prototype.getClass=function(e){return this.classes[e]||""},n.prototype.getIconClass=function(e,t){var i;return t&&this.rtlIconClasses?i=this.rtlIconClasses[e]||this.iconClasses[e]:i=this.iconClasses[e],i?this.baseIconClass+" "+i:""},n.prototype.getCustomButtonIconClass=function(e){var t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?this.baseIconClass+" "+this.applyIconOverridePrefix(t):""},n}();Ed.prototype.classes={};Ed.prototype.iconClasses={};Ed.prototype.baseIconClass="";Ed.prototype.iconOverridePrefix="";var hW=function(){function n(e,t,i,r){var a=this;this.execFunc=e,this.emitter=t,this.scrollTime=i,this.scrollTimeReset=r,this.handleScrollRequest=function(o){a.queuedRequest=ze({},a.queuedRequest||{},o),a.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}return n.prototype.detach=function(){this.emitter.off("_scrollRequest",this.handleScrollRequest)},n.prototype.update=function(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()},n.prototype.fireInitialScroll=function(){this.handleScrollRequest({time:this.scrollTime})},n.prototype.drain=function(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)},n}(),Go=mI({});function fW(n,e,t,i,r,a,o,s,u,c,l,_,I){return{dateEnv:r,options:t,pluginHooks:o,emitter:c,dispatch:s,getCurrentData:u,calendarApi:l,viewSpec:n,viewApi:e,dateProfileGenerator:i,theme:a,isRtl:t.direction==="rtl",addResizeHandler:function(M){c.on("_resize",M)},removeResizeHandler:function(M){c.off("_resize",M)},createScrollResponder:function(M){return new hW(M,c,oi(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:_,unregisterInteractiveComponent:I}}var Yv=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.shouldComponentUpdate=function(t,i){return this.debug&&console.log(bx(t,this.props),bx(i,this.state)),!pb(this.props,t,this.propEquality)||!pb(this.state,i,this.stateEquality)},e.prototype.safeSetState=function(t){pb(this.state,ze(ze({},this.state),t),this.stateEquality)||this.setState(t)},e.addPropsEquality=dW,e.addStateEquality=pW,e.contextType=Go,e}(Aw);Yv.prototype.propEquality={};Yv.prototype.stateEquality={};var ci=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.contextType=Go,e}(Yv);function dW(n){var e=Object.create(this.prototype.propEquality);ze(e,n),this.prototype.propEquality=e}function pW(n){var e=Object.create(this.prototype.stateEquality);ze(e,n),this.prototype.stateEquality=e}function Ps(n,e){typeof n=="function"?n(e):n&&(n.current=e)}var co=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.uid=Fh(),t}return e.prototype.prepareHits=function(){},e.prototype.queryHit=function(t,i,r,a){return null},e.prototype.isValidSegDownEl=function(t){return!this.props.eventDrag&&!this.props.eventResize&&!Wr(t,".fc-event-mirror")},e.prototype.isValidDateDownEl=function(t){return!Wr(t,".fc-event:not(.fc-bg-event)")&&!Wr(t,".fc-more-link")&&!Wr(t,"a[data-navlink]")&&!Wr(t,".fc-popover")},e}(ci);function uo(n){return{id:Fh(),deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,contentTypeHandlers:n.contentTypeHandlers||{},listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function gW(n,e){var t={},i={reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,contentTypeHandlers:{},listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(a){for(var o=0,s=a;o<s.length;o++){var u=s[o];t[u.id]||(t[u.id]=!0,r(u.deps),i=mW(i,u))}}return n&&r(n),r(e),i}function vW(){var n=[],e=[],t;return function(i,r){return(!t||!_h(i,n)||!_h(r,e))&&(t=gW(i,r)),n=i,e=r,t}}function mW(n,e){return{reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:ze(ze({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:ze(ze({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:ze(ze({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:ze(ze({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:ze(ze({},n.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||n.scrollGridImpl,contentTypeHandlers:ze(ze({},n.contentTypeHandlers),e.contentTypeHandlers),listenerRefiners:ze(ze({},n.listenerRefiners),e.listenerRefiners),optionRefiners:ze(ze({},n.optionRefiners),e.optionRefiners),propSetHandlers:ze(ze({},n.propSetHandlers),e.propSetHandlers)}}var Ul=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(Ed);Ul.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Ul.prototype.baseIconClass="fc-icon";Ul.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Ul.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Ul.prototype.iconOverrideOption="buttonIcons";Ul.prototype.iconOverrideCustomButtonOption="icon";Ul.prototype.iconOverridePrefix="fc-icon-";function yW(n,e){var t={},i;for(i in n)g0(i,t,n,e);for(i in e)g0(i,t,n,e);return t}function g0(n,e,t,i){if(e[n])return e[n];var r=bW(n,e,t,i);return r&&(e[n]=r),r}function bW(n,e,t,i){var r=t[n],a=i[n],o=function(l){return r&&r[l]!==null?r[l]:a&&a[l]!==null?a[l]:null},s=o("component"),u=o("superType"),c=null;if(u){if(u===n)throw new Error("Can't have a custom view type that references itself");c=g0(u,e,t,i)}return!s&&c&&(s=c.component),s?{type:n,component:s,defaults:ze(ze({},c?c.defaults:{}),r?r.rawOptions:{}),overrides:ze(ze({},c?c.overrides:{}),a?a.rawOptions:{})}:null}var Wa=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.rootElRef=pr(),t.handleRootEl=function(i){Ps(t.rootElRef,i),t.props.elRef&&Ps(t.props.elRef,i)},t}return e.prototype.render=function(){var t=this,i=this.props,r=i.hookProps;return Ae(Kw,{hookProps:r,didMount:i.didMount,willUnmount:i.willUnmount,elRef:this.handleRootEl},function(a){return Ae(JI,{hookProps:r,content:i.content,defaultContent:i.defaultContent,backupElRef:t.rootElRef},function(o,s){return i.children(a,QI(i.classNames,r),o,s)})})},e}(ci),ZI=mI(0);function JI(n){return Ae(ZI.Consumer,null,function(e){return Ae(wW,ze({renderId:e},n))})}var wW=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.innerElRef=pr(),t}return e.prototype.render=function(){return this.props.children(this.innerElRef,this.renderInnerContent())},e.prototype.componentDidMount=function(){this.updateCustomContent()},e.prototype.componentDidUpdate=function(){this.updateCustomContent()},e.prototype.componentWillUnmount=function(){this.customContentInfo&&this.customContentInfo.destroy&&this.customContentInfo.destroy()},e.prototype.renderInnerContent=function(){var t=this.customContentInfo,i=this.getInnerContent(),r=this.getContentMeta(i);return!t||t.contentKey!==r.contentKey?(t&&(t.destroy&&t.destroy(),t=this.customContentInfo=null),r.contentKey&&(t=this.customContentInfo=ze({contentKey:r.contentKey,contentVal:i[r.contentKey]},r.buildLifecycleFuncs()))):t&&(t.contentVal=i[r.contentKey]),t?[]:i},e.prototype.getInnerContent=function(){var t=this.props,i=Ox(t.content,t.hookProps);return i===void 0&&(i=Ox(t.defaultContent,t.hookProps)),i==null?null:i},e.prototype.getContentMeta=function(t){var i=this.context.pluginHooks.contentTypeHandlers,r="",a=null;if(t){for(var o in i)if(t[o]!==void 0){r=o,a=i[o];break}}return{contentKey:r,buildLifecycleFuncs:a}},e.prototype.updateCustomContent=function(){this.customContentInfo&&this.customContentInfo.render(this.innerElRef.current||this.props.backupElRef.current,this.customContentInfo.contentVal)},e}(ci),Kw=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.handleRootEl=function(i){t.rootEl=i,t.props.elRef&&Ps(t.props.elRef,i)},t}return e.prototype.render=function(){return this.props.children(this.handleRootEl)},e.prototype.componentDidMount=function(){var t=this.props.didMount;t&&t(ze(ze({},this.props.hookProps),{el:this.rootEl}))},e.prototype.componentWillUnmount=function(){var t=this.props.willUnmount;t&&t(ze(ze({},this.props.hookProps),{el:this.rootEl}))},e}(ci);function KI(){var n,e,t=[];return function(i,r){return(!e||!Wo(e,r)||i!==n)&&(n=i,e=r,t=QI(i,r)),t}}function QI(n,e){return typeof n=="function"&&(n=n(e)),f0(n)}function Ox(n,e){return typeof n=="function"?n(e,Ae):n}var Th=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.normalizeClassNames=KI(),t}return e.prototype.render=function(){var t=this,i=t.props,r=t.context,a=r.options,o={view:r.viewApi},s=this.normalizeClassNames(a.viewClassNames,o);return Ae(Kw,{hookProps:o,didMount:a.viewDidMount,willUnmount:a.viewWillUnmount,elRef:i.elRef},function(u){return i.children(u,["fc-"+i.viewSpec.type+"-view","fc-view"].concat(s))})},e}(ci);function kx(n){return zo(n,CW)}function CW(n){var e=typeof n=="function"?{component:n}:n,t=e.component;return e.content&&(t=SW(e)),{superType:e.type,component:t,rawOptions:e}}function SW(n){return function(e){return Ae(Go.Consumer,null,function(t){return Ae(Th,{viewSpec:t.viewSpec},function(i,r){var a=ze(ze({},e),{nextDayThreshold:t.options.nextDayThreshold});return Ae(Wa,{hookProps:a,classNames:n.classNames,content:n.content,didMount:n.didMount,willUnmount:n.willUnmount,elRef:i},function(o,s,u,c){return Ae("div",{className:r.concat(s).join(" "),ref:o},c)})})})}}function _W(n,e,t,i){var r=kx(n),a=kx(e.views),o=yW(r,a);return zo(o,function(s){return xW(s,a,e,t,i)})}function xW(n,e,t,i,r){var a=n.overrides.duration||n.defaults.duration||i.duration||t.duration,o=null,s="",u="",c={};if(a&&(o=EW(a),o)){var l=u0(o);s=l.unit,l.value===1&&(u=s,c=e[s]?e[s].rawOptions:{})}var _=function(M){var P=M.buttonText||{},N=n.defaults.buttonTextKey;return N!=null&&P[N]!=null?P[N]:P[n.type]!=null?P[n.type]:P[u]!=null?P[u]:null},I=function(M){var P=M.buttonHints||{},N=n.defaults.buttonTextKey;return N!=null&&P[N]!=null?P[N]:P[n.type]!=null?P[n.type]:P[u]!=null?P[u]:null};return{type:n.type,component:n.component,duration:o,durationUnit:s,singleUnit:u,optionDefaults:n.defaults,optionOverrides:ze(ze({},c),n.overrides),buttonTextOverride:_(i)||_(t)||n.overrides.buttonText,buttonTextDefault:_(r)||n.defaults.buttonText||_(Yf)||n.type,buttonTitleOverride:I(i)||I(t)||n.overrides.buttonHint,buttonTitleDefault:I(r)||n.defaults.buttonHint||I(Yf)}}var Px={};function EW(n){var e=JSON.stringify(n),t=Px[e];return t===void 0&&(t=oi(n),Px[e]=t),t}var qI=function(){function n(e){this.props=e,this.nowDate=xd(e.nowInput,e.dateEnv),this.initHiddenDays()}return n.prototype.buildPrev=function(e,t,i){var r=this.props.dateEnv,a=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(a,-1,i)},n.prototype.buildNext=function(e,t,i){var r=this.props.dateEnv,a=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(a,1,i)},n.prototype.build=function(e,t,i){i===void 0&&(i=!0);var r=this.props,a,o,s,u,c,l;return a=this.buildValidRange(),a=this.trimHiddenDays(a),i&&(e=l4(e,a)),o=this.buildCurrentRangeInfo(e,t),s=/^(year|month|week|day)$/.test(o.unit),u=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,s),u=this.trimHiddenDays(u),c=u,r.showNonCurrentDates||(c=Fc(c,o.range)),c=this.adjustActiveRange(c),c=Fc(c,a),l=Uw(o.range,a),{validRange:a,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:s,activeRange:c,renderRange:u,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:l,dateIncrement:this.buildDateIncrement(o.duration)}},n.prototype.buildValidRange=function(){var e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}},n.prototype.buildCurrentRangeInfo=function(e,t){var i=this.props,r=null,a=null,o=null,s;return i.duration?(r=i.duration,a=i.durationUnit,o=this.buildRangeFromDuration(e,t,r,a)):(s=this.props.dayCount)?(a="day",o=this.buildRangeFromDayCount(e,t,s)):(o=this.buildCustomVisibleRange(e))?a=i.dateEnv.greatestWholeUnit(o.start,o.end).unit:(r=this.getFallbackDuration(),a=u0(r).unit,o=this.buildRangeFromDuration(e,t,r,a)),{duration:r,unit:a,range:o}},n.prototype.getFallbackDuration=function(){return oi({day:1})},n.prototype.adjustActiveRange=function(e){var t=this.props,i=t.dateEnv,r=t.usesMinMaxTime,a=t.slotMinTime,o=t.slotMaxTime,s=e.start,u=e.end;return r&&(sh(a)<0&&(s=xi(s),s=i.add(s,a)),sh(o)>1&&(u=xi(u),u=Nr(u,-1),u=i.add(u,o))),{start:s,end:u}},n.prototype.buildRangeFromDuration=function(e,t,i,r){var a=this.props,o=a.dateEnv,s=a.dateAlignment,u,c,l;if(!s){var _=this.props.dateIncrement;_&&Ms(_)<Ms(i)?s=u0(_).unit:s=r}sh(i)<=1&&this.isHiddenDay(u)&&(u=this.skipHiddenDays(u,t),u=xi(u));function I(){u=o.startOf(e,s),c=o.add(u,i),l={start:u,end:c}}return I(),this.trimHiddenDays(l)||(e=this.skipHiddenDays(e,t),I()),l},n.prototype.buildRangeFromDayCount=function(e,t,i){var r=this.props,a=r.dateEnv,o=r.dateAlignment,s=0,u=e,c;o&&(u=a.startOf(u,o)),u=xi(u),u=this.skipHiddenDays(u,t),c=u;do c=Nr(c,1),this.isHiddenDay(c)||(s+=1);while(s<i);return{start:u,end:c}},n.prototype.buildCustomVisibleRange=function(e){var t=this.props,i=t.visibleRangeInput,r=typeof i=="function"?i.call(t.calendarApi,t.dateEnv.toDate(e)):i,a=this.refineRange(r);return a&&(a.start==null||a.end==null)?null:a},n.prototype.buildRenderRange=function(e,t,i){return e},n.prototype.buildDateIncrement=function(e){var t=this.props.dateIncrement,i;return t||((i=this.props.dateAlignment)?oi(1,i):e||oi({days:1}))},n.prototype.refineRange=function(e){if(e){var t=a4(e,this.props.dateEnv);return t&&(t=Ww(t)),t}return null},n.prototype.initHiddenDays=function(){var e=this.props.hiddenDays||[],t=[],i=0,r;for(this.props.weekends===!1&&e.push(0,6),r=0;r<7;r+=1)(t[r]=e.indexOf(r)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t},n.prototype.trimHiddenDays=function(e){var t=e.start,i=e.end;return t&&(t=this.skipHiddenDays(t)),i&&(i=this.skipHiddenDays(i,-1,!0)),t==null||i==null||t<i?{start:t,end:i}:null},n.prototype.isHiddenDay=function(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]},n.prototype.skipHiddenDays=function(e,t,i){for(t===void 0&&(t=1),i===void 0&&(i=!1);this.isHiddenDayHash[(e.getUTCDay()+(i?t:0)+7)%7];)e=Nr(e,t);return e},n}();function TW(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function IW(n,e){var t;switch(e.type){case"SET_OPTION":return ze(ze({},n),(t={},t[e.optionName]=e.rawOptionValue,t));default:return n}}function DW(n,e,t,i){var r;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||t);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if(r=i.buildPrev(n,t),r.isValid)return r;break;case"NEXT":if(r=i.buildNext(n,t),r.isValid)return r;break}return n}function AW(n,e,t){var i=e?e.activeRange:null;return tD({},NW(n,t),i,t)}function MW(n,e,t,i){var r=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return tD(n,e.sources,r,i);case"REMOVE_EVENT_SOURCE":return kW(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?nD(n,r,i):n;case"FETCH_EVENT_SOURCES":return Qw(n,e.sourceIds?EI(e.sourceIds):iD(n,i),r,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return RW(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function OW(n,e,t){var i=e?e.activeRange:null;return Qw(n,iD(n,t),i,!0,t)}function eD(n){for(var e in n)if(n[e].isFetching)return!0;return!1}function tD(n,e,t,i){for(var r={},a=0,o=e;a<o.length;a++){var s=o[a];r[s.sourceId]=s}return t&&(r=nD(r,t,i)),ze(ze({},n),r)}function kW(n,e){return Nc(n,function(t){return t.sourceId!==e})}function nD(n,e,t){return Qw(n,Nc(n,function(i){return PW(i,e,t)}),e,!1,t)}function PW(n,e,t){return rD(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function Qw(n,e,t,i,r){var a={};for(var o in n){var s=n[o];e[o]?a[o]=LW(s,t,i,r):a[o]=s}return a}function LW(n,e,t,i){var r=i.options,a=i.calendarApi,o=i.pluginHooks.eventSourceDefs[n.sourceDefId],s=Fh();return o.fetch({eventSource:n,range:e,isRefetch:t,context:i},function(u){var c=u.rawEvents;r.eventSourceSuccess&&(c=r.eventSourceSuccess.call(a,c,u.xhr)||c),n.success&&(c=n.success.call(a,c,u.xhr)||c),i.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:s,fetchRange:e,rawEvents:c})},function(u){console.warn(u.message,u),r.eventSourceFailure&&r.eventSourceFailure.call(a,u),n.failure&&n.failure(u),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:s,fetchRange:e,error:u})}),ze(ze({},n),{isFetching:!0,latestFetchId:s})}function RW(n,e,t,i){var r,a=n[e];return a&&t===a.latestFetchId?ze(ze({},n),(r={},r[e]=ze(ze({},a),{isFetching:!1,fetchRange:i}),r)):n}function iD(n,e){return Nc(n,function(t){return rD(t,e)})}function NW(n,e){var t=jI(e),i=[].concat(n.eventSources||[]),r=[];n.initialEvents&&i.unshift(n.initialEvents),n.events&&i.unshift(n.events);for(var a=0,o=i;a<o.length;a++){var s=o[a],u=FI(s,e,t);u&&r.push(u)}return r}function rD(n,e){var t=e.pluginHooks.eventSourceDefs;return!t[n.sourceDefId].ignoreRange}function FW(n,e,t,i,r){switch(e.type){case"RECEIVE_EVENTS":return jW(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,r);case"ADD_EVENTS":return HW(n,e.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Hw(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?Sh(n,i.activeRange,r):n;case"REMOVE_EVENTS":return K5(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return aD(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Hv(n,function(a){return!a.sourceId});case"REMOVE_ALL_EVENTS":return ja();default:return n}}function jW(n,e,t,i,r,a){if(e&&t===e.latestFetchId){var o=ov(BW(r,e,a),e,a);return i&&(o=Sh(o,i,a)),Hw(aD(n,e.sourceId),o)}return n}function BW(n,e,t){var i=t.options.eventDataTransform,r=e?e.eventDataTransform:null;return r&&(n=Lx(n,r)),i&&(n=Lx(n,i)),n}function Lx(n,e){var t;if(!e)t=n;else{t=[];for(var i=0,r=n;i<r.length;i++){var a=r[i],o=e(a);o?t.push(o):o==null&&t.push(a)}}return t}function HW(n,e,t,i){return t&&(e=Sh(e,t,i)),Hw(n,e)}function zW(n,e,t){var i=n.defs,r=zo(n.instances,function(a){var o=i[a.defId];return o.allDay||o.recurringDef?a:ze(ze({},a),{range:{start:t.createMarker(e.toDate(a.range.start,a.forcedStartTzo)),end:t.createMarker(e.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:a.forcedEndTzo})});return{defs:i,instances:r}}function aD(n,e){return Hv(n,function(t){return t.sourceId!==e})}function WW(n,e){return{defs:n.defs,instances:Nc(n.instances,function(t){return!e[t.instanceId]})}}function UW(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function YW(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function GW(n,e){var t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function $W(n,e){var t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function VW(n,e,t,i,r){var a=n.headerToolbar?Rx(n.headerToolbar,n,e,t,i,r):null,o=n.footerToolbar?Rx(n.footerToolbar,n,e,t,i,r):null;return{header:a,footer:o}}function Rx(n,e,t,i,r,a){var o={},s=[],u=!1;for(var c in n){var l=n[c],_=XW(l,e,t,i,r,a);o[c]=_.widgets,s.push.apply(s,_.viewsWithButtons),u=u||_.hasTitle}return{sectionWidgets:o,viewsWithButtons:s,hasTitle:u}}function XW(n,e,t,i,r,a){var o=e.direction==="rtl",s=e.customButtons||{},u=t.buttonText||{},c=e.buttonText||{},l=t.buttonHints||{},_=e.buttonHints||{},I=n?n.split(" "):[],M=[],P=!1,N=I.map(function(b){return b.split(",").map(function(f){if(f==="title")return P=!0,{buttonName:f};var v,m,d,g,h,C;if(v=s[f])d=function(k){v.click&&v.click.call(k.target,k,k.target)},(g=i.getCustomButtonIconClass(v))||(g=i.getIconClass(f,o))||(h=v.text),C=v.hint||v.text;else if(m=r[f]){M.push(f),d=function(){a.changeView(f)},(h=m.buttonTextOverride)||(g=i.getIconClass(f,o))||(h=m.buttonTextDefault);var D=m.buttonTextOverride||m.buttonTextDefault;C=Uf(m.buttonTitleOverride||m.buttonTitleDefault||e.viewHint,[D,f],D)}else if(a[f])if(d=function(){a[f]()},(h=u[f])||(g=i.getIconClass(f,o))||(h=c[f]),f==="prevYear"||f==="nextYear"){var S=f==="prevYear"?"prev":"next";C=Uf(l[S]||_[S],[c.year||"year","year"],c[f])}else C=function(k){return Uf(l[f]||_[f],[c[k]||k,k],c[f])};return{buttonName:f,buttonClick:d,buttonIcon:g,buttonText:h,buttonHint:C}})});return{widgets:N,viewsWithButtons:M,hasTitle:P}}var ZW={ignoreRange:!0,parseMeta:function(n){return Array.isArray(n.events)?n.events:null},fetch:function(n,e){e({rawEvents:n.eventSource.meta})}},JW=uo({eventSourceDefs:[ZW]}),KW={parseMeta:function(n){return typeof n.events=="function"?n.events:null},fetch:function(n,e,t){var i=n.context.dateEnv,r=n.eventSource.meta;sW(r.bind(null,LI(n.range,i)),function(a){e({rawEvents:a})},t)}},QW=uo({eventSourceDefs:[KW]});function qW(n,e,t,i,r){n=n.toUpperCase();var a=null;n==="GET"?e=e3(e,t):a=sD(t);var o=new XMLHttpRequest;o.open(n,e,!0),n!=="GET"&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onload=function(){if(o.status>=200&&o.status<400){var s=!1,u=void 0;try{u=JSON.parse(o.responseText),s=!0}catch{}s?i(u,o):r("Failure parsing JSON",o)}else r("Request failed",o)},o.onerror=function(){r("Request failed",o)},o.send(a)}function e3(n,e){return n+(n.indexOf("?")===-1?"?":"&")+sD(e)}function sD(n){var e=[];for(var t in n)e.push(encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e.join("&")}var t3={method:String,extraParams:mt,startParam:String,endParam:String,timeZoneParam:String},n3={parseMeta:function(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch:function(n,e,t){var i=n.eventSource.meta,r=r3(i,n.range,n.context);qW(i.method,i.url,r,function(a,o){e({rawEvents:a,xhr:o})},function(a,o){t({message:a,xhr:o})})}},i3=uo({eventSourceRefiners:t3,eventSourceDefs:[n3]});function r3(n,e,t){var i=t.dateEnv,r=t.options,a,o,s,u,c={};return a=n.startParam,a==null&&(a=r.startParam),o=n.endParam,o==null&&(o=r.endParam),s=n.timeZoneParam,s==null&&(s=r.timeZoneParam),typeof n.extraParams=="function"?u=n.extraParams():u=n.extraParams||{},ze(c,u),c[a]=i.formatIso(e.start),c[o]=i.formatIso(e.end),i.timeZone!=="local"&&(c[s]=i.timeZone),c}var a3={daysOfWeek:mt,startTime:oi,endTime:oi,duration:oi,startRecur:mt,endRecur:mt},s3={parse:function(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){var t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null},i=void 0;return n.duration&&(i=n.duration),!i&&n.startTime&&n.endTime&&(i=A5(n.endTime,n.startTime)),{allDayGuess:Boolean(!n.startTime&&!n.endTime),duration:i,typeData:t}}return null},expand:function(n,e,t){var i=Fc(e,{start:n.startRecur,end:n.endRecur});return i?l3(n.daysOfWeek,n.startTime,i,t):[]}},o3=uo({recurringTypes:[s3],eventRefiners:a3});function l3(n,e,t,i){for(var r=n?EI(n):null,a=xi(t.start),o=t.end,s=[];a<o;){var u=void 0;(!r||r[a.getUTCDay()])&&(e?u=i.add(a,e):u=a,s.push(u)),a=Nr(a,1)}return s}var c3=uo({optionChangeHandlers:{events:function(n,e){Nx([n],e)},eventSources:Nx}});function Nx(n,e){for(var t=Rw(e.getCurrentData().eventSources),i=[],r=0,a=n;r<a.length;r++){for(var o=a[r],s=!1,u=0;u<t.length;u+=1)if(t[u]._raw===o){t.splice(u,1),s=!0;break}s||i.push(o)}for(var c=0,l=t;c<l.length;c++){var _=l[c];e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:_.sourceId})}for(var I=0,M=i;I<M.length;I++){var P=M[I];e.calendarApi.addEventSource(P)}}function u3(n,e){e.emitter.trigger("datesSet",ze(ze({},LI(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function h3(n,e){var t=e.emitter;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",Ic(n,e))}var f3=[JW,QW,i3,o3,c3,uo({isLoadingFuncs:[function(n){return eD(n.eventSources)}],contentTypeHandlers:{html:d3,domNodes:p3},propSetHandlers:{dateProfile:u3,eventStore:h3}})];function d3(){var n=null,e="";function t(r,a){(r!==n||a!==e)&&(r.innerHTML=a),n=r,e=a}function i(){n.innerHTML="",n=null,e=""}return{render:t,destroy:i}}function p3(){var n=null,e=[];function t(r,a){var o=Array.prototype.slice.call(a);if(r!==n||!_h(e,o)){for(var s=0,u=o;s<u.length;s++){var c=u[s];r.appendChild(c)}i()}n=r,e=o}function i(){e.forEach(Mw),e=[],n=null}return{render:t,destroy:i}}var qw=function(){function n(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}return n.prototype.request=function(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))},n.prototype.pause=function(e){e===void 0&&(e="");var t=this.pauseDepths;t[e]=(t[e]||0)+1,this.clearTimeout()},n.prototype.resume=function(e,t){e===void 0&&(e="");var i=this.pauseDepths;if(e in i){if(t)delete i[e];else{i[e]-=1;var r=i[e];r<=0&&delete i[e]}this.tryDrain()}},n.prototype.isPaused=function(){return Object.keys(this.pauseDepths).length},n.prototype.tryDrain=function(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}},n.prototype.clear=function(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}},n.prototype.clearTimeout=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},n.prototype.drained=function(){this.drainedOption&&this.drainedOption()},n}(),g3=function(){function n(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new qw(this.drain.bind(this))}return n.prototype.request=function(e,t){this.queue.push(e),this.delayedRunner.request(t)},n.prototype.pause=function(e){this.delayedRunner.pause(e)},n.prototype.resume=function(e,t){this.delayedRunner.resume(e,t)},n.prototype.drain=function(){for(var e=this.queue;e.length;){for(var t=[],i=void 0;i=e.shift();)this.runTask(i),t.push(i);this.drained(t)}},n.prototype.runTask=function(e){this.runTaskOption&&this.runTaskOption(e)},n.prototype.drained=function(e){this.drainedOption&&this.drainedOption(e)},n}();function v3(n,e,t){var i;return/^(year|month)$/.test(n.currentRangeUnit)?i=n.currentRange:i=n.activeRange,t.formatRange(i.start,i.end,Pi(e.titleFormat||m3(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function m3(n){var e=n.currentRangeUnit;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};var t=iv(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}var oD=function(){function n(e){var t=this;this.computeOptionsData=_n(this._computeOptionsData),this.computeCurrentViewData=_n(this._computeCurrentViewData),this.organizeRawLocales=_n(j4),this.buildLocale=_n(UI),this.buildPluginHooks=vW(),this.buildDateEnv=_n(y3),this.buildTheme=_n(b3),this.parseToolbars=_n(VW),this.buildViewSpecs=_n(_W),this.buildDateProfileGenerator=Ag(w3),this.buildViewApi=_n(C3),this.buildViewUiProps=Ag(x3),this.buildEventUiBySource=_n(S3,Wo),this.buildEventUiBases=_n(_3),this.parseContextBusinessHours=Ag(E3),this.buildTitle=_n(v3),this.emitter=new Uv,this.actionRunner=new g3(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.getCurrentData=function(){return t.data},this.dispatch=function(m){t.actionRunner.request(m)},this.props=e,this.actionRunner.pause();var i={},r=this.computeOptionsData(e.optionOverrides,i,e.calendarApi),a=r.calendarOptions.initialView||r.pluginHooks.initialView,o=this.computeCurrentViewData(a,r,e.optionOverrides,i);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(o.options);var s=A4(r.calendarOptions,r.dateEnv),u=o.dateProfileGenerator.build(s);Al(u.activeRange,s)||(s=u.currentRange.start);for(var c={dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},l=0,_=r.pluginHooks.contextInit;l<_.length;l++){var I=_[l];I(c)}for(var M=AW(r.calendarOptions,u,c),P={dynamicOptionOverrides:i,currentViewType:a,currentDate:s,dateProfile:u,businessHours:this.parseContextBusinessHours(c),eventSources:M,eventUiBases:{},eventStore:ja(),renderableEventStore:ja(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(c).selectionConfig},N=ze(ze({},c),P),b=0,f=r.pluginHooks.reducers;b<f.length;b++){var v=f[b];ze(P,v(null,null,N))}wb(P,c)&&this.emitter.trigger("loading",!0),this.state=P,this.updateData(),this.actionRunner.resume()}return n.prototype.resetOptions=function(e,t){var i=this.props;i.optionOverrides=t?ze(ze({},i.optionOverrides),e):e,this.actionRunner.request({type:"NOTHING"})},n.prototype._handleAction=function(e){var t=this,i=t.props,r=t.state,a=t.emitter,o=IW(r.dynamicOptionOverrides,e),s=this.computeOptionsData(i.optionOverrides,o,i.calendarApi),u=TW(r.currentViewType,e),c=this.computeCurrentViewData(u,s,i.optionOverrides,o);i.calendarApi.currentDataManager=this,a.setThisContext(i.calendarApi),a.setOptions(c.options);var l={dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:i.calendarApi,dispatch:this.dispatch,emitter:a,getCurrentData:this.getCurrentData},_=r.currentDate,I=r.dateProfile;this.data&&this.data.dateProfileGenerator!==c.dateProfileGenerator&&(I=c.dateProfileGenerator.build(_)),_=D4(_,e),I=DW(I,e,_,c.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Al(I.currentRange,_))&&(_=I.currentRange.start);for(var M=MW(r.eventSources,e,I,l),P=FW(r.eventStore,e,M,I,l),N=eD(M),b=N&&!c.options.progressiveEventRendering&&r.renderableEventStore||P,f=this.buildViewUiProps(l),v=f.eventUiSingleBase,m=f.selectionConfig,d=this.buildEventUiBySource(M),g=this.buildEventUiBases(b.defs,v,d),h={dynamicOptionOverrides:o,currentViewType:u,currentDate:_,dateProfile:I,eventSources:M,eventStore:P,renderableEventStore:b,selectionConfig:m,eventUiBases:g,businessHours:this.parseContextBusinessHours(l),dateSelection:UW(r.dateSelection,e),eventSelection:YW(r.eventSelection,e),eventDrag:GW(r.eventDrag,e),eventResize:$W(r.eventResize,e)},C=ze(ze({},l),h),D=0,S=s.pluginHooks.reducers;D<S.length;D++){var k=S[D];ze(h,k(r,e,C))}var L=wb(r,l),B=wb(h,l);!L&&B?a.trigger("loading",!0):L&&!B&&a.trigger("loading",!1),this.state=h,i.onAction&&i.onAction(e)},n.prototype.updateData=function(){var e=this,t=e.props,i=e.state,r=this.data,a=this.computeOptionsData(t.optionOverrides,i.dynamicOptionOverrides,t.calendarApi),o=this.computeCurrentViewData(i.currentViewType,a,t.optionOverrides,i.dynamicOptionOverrides),s=this.data=ze(ze(ze({viewTitle:this.buildTitle(i.dateProfile,o.options,a.dateEnv),calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a),o),i),u=a.pluginHooks.optionChangeHandlers,c=r&&r.calendarOptions,l=a.calendarOptions;if(c&&c!==l){c.timeZone!==l.timeZone&&(i.eventSources=s.eventSources=OW(s.eventSources,i.dateProfile,s),i.eventStore=s.eventStore=zW(s.eventStore,r.dateEnv,s.dateEnv));for(var _ in u)c[_]!==l[_]&&u[_](l[_],s)}t.onData&&t.onData(s)},n.prototype._computeOptionsData=function(e,t,i){var r=this.processRawCalendarOptions(e,t),a=r.refinedOptions,o=r.pluginHooks,s=r.localeDefaults,u=r.availableLocaleData,c=r.extra;Fx(c);var l=this.buildDateEnv(a.timeZone,a.locale,a.weekNumberCalculation,a.firstDay,a.weekText,o,u,a.defaultRangeSeparator),_=this.buildViewSpecs(o.views,e,t,s),I=this.buildTheme(a,o),M=this.parseToolbars(a,e,I,_,i);return{calendarOptions:a,pluginHooks:o,dateEnv:l,viewSpecs:_,theme:I,toolbarConfig:M,localeDefaults:s,availableRawLocales:u.map}},n.prototype.processRawCalendarOptions=function(e,t){var i=gb([Yf,e,t]),r=i.locales,a=i.locale,o=this.organizeRawLocales(r),s=o.map,u=this.buildLocale(a||o.defaultCode,s).options,c=this.buildPluginHooks(e.plugins||[],f3),l=this.currentCalendarOptionsRefiners=ze(ze(ze(ze(ze({},Ex),Tx),Ix),c.listenerRefiners),c.optionRefiners),_={},I=gb([Yf,u,e,t]),M={},P=this.currentCalendarOptionsInput,N=this.currentCalendarOptionsRefined,b=!1;for(var f in I)f!=="plugins"&&(I[f]===P[f]||bc[f]&&f in P&&bc[f](P[f],I[f])?M[f]=N[f]:l[f]?(M[f]=l[f](I[f]),b=!0):_[f]=P[f]);return b&&(this.currentCalendarOptionsInput=I,this.currentCalendarOptionsRefined=M),{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:c,availableLocaleData:o,localeDefaults:u,extra:_}},n.prototype._computeCurrentViewData=function(e,t,i,r){var a=t.viewSpecs[e];if(!a)throw new Error('viewType "'+e+`" is not available. Please make sure you've loaded all neccessary plugins`);var o=this.processRawViewOptions(a,t.pluginHooks,t.localeDefaults,i,r),s=o.refinedOptions,u=o.extra;Fx(u);var c=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,nowInput:s.now,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,monthMode:s.monthMode,fixedWeekCount:s.fixedWeekCount}),l=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:a,options:s,dateProfileGenerator:c,viewApi:l}},n.prototype.processRawViewOptions=function(e,t,i,r,a){var o=gb([Yf,e.optionDefaults,i,r,e.optionOverrides,a]),s=ze(ze(ze(ze(ze(ze({},Ex),Tx),Ix),Z5),t.listenerRefiners),t.optionRefiners),u={},c=this.currentViewOptionsInput,l=this.currentViewOptionsRefined,_=!1,I={};for(var M in o)o[M]===c[M]||bc[M]&&bc[M](o[M],c[M])?u[M]=l[M]:(o[M]===this.currentCalendarOptionsInput[M]||bc[M]&&bc[M](o[M],this.currentCalendarOptionsInput[M])?M in this.currentCalendarOptionsRefined&&(u[M]=this.currentCalendarOptionsRefined[M]):s[M]?u[M]=s[M](o[M]):I[M]=o[M],_=!0);return _&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=u),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:I}},n}();function y3(n,e,t,i,r,a,o,s){var u=UI(e||o.defaultCode,o.map);return new N4({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:u,weekNumberCalculation:t,firstDay:i,weekText:r,cmdFormatter:a.cmdFormatter,defaultSeparator:s})}function b3(n,e){var t=e.themeClasses[n.themeSystem]||Ul;return new t(n)}function w3(n){var e=n.dateProfileGeneratorClass||qI;return new e(n)}function C3(n,e,t){return new E4(n,e,t)}function S3(n){return zo(n,function(e){return e.ui})}function _3(n,e,t){var i={"":e};for(var r in n){var a=n[r];a.sourceId&&t[a.sourceId]&&(i[r]=t[a.sourceId])}return i}function x3(n){var e=n.options;return{eventUiSingleBase:cv({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:cv({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function wb(n,e){for(var t=0,i=e.pluginHooks.isLoadingFuncs;t<i.length;t++){var r=i[t];if(r(n))return!0}return!1}function E3(n){return W4(n.options.businessHours,n)}function Fx(n,e){for(var t in n)console.warn("Unknown option '"+t+"'"+(e?" for view '"+e+"'":""))}(function(n){sn(e,n);function e(t){var i=n.call(this,t)||this;return i.handleData=function(r){i.dataManager?i.setState(r):i.state=r},i.dataManager=new oD({optionOverrides:t.optionOverrides,calendarApi:t.calendarApi,onData:i.handleData}),i}return e.prototype.render=function(){return this.props.children(this.state)},e.prototype.componentDidUpdate=function(t){var i=this.props.optionOverrides;i!==t.optionOverrides&&this.dataManager.resetOptions(i)},e})(Aw);var lD=function(){function n(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}return n.prototype.addSegs=function(e){for(var t=[],i=0,r=e;i<r.length;i++){var a=r[i];this.insertEntry(a,t)}return t},n.prototype.insertEntry=function(e,t){var i=this.findInsertion(e);return this.isInsertionValid(i,e)?(this.insertEntryAt(e,i),1):this.handleInvalidInsertion(i,e,t)},n.prototype.isInsertionValid=function(e,t){return(this.maxCoord===-1||e.levelCoord+t.thickness<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)},n.prototype.handleInvalidInsertion=function(e,t,i){return this.allowReslicing&&e.touchingEntry?this.splitEntry(t,e.touchingEntry,i):(i.push(t),0)},n.prototype.splitEntry=function(e,t,i){var r=0,a=[],o=e.span,s=t.span;return o.start<s.start&&(r+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:o.start,end:s.start}},a)),o.end>s.end&&(r+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:o.end}},a)),r?(i.push.apply(i,Yi([{index:e.index,thickness:e.thickness,span:eC(s,o)}],a)),r):(i.push(e),0)},n.prototype.insertEntryAt=function(e,t){var i=this,r=i.entriesByLevel,a=i.levelCoords;t.lateral===-1?(Cb(a,t.level,t.levelCoord),Cb(r,t.level,[e])):Cb(r[t.level],t.lateral,e),this.stackCnts[Dc(e)]=t.stackCnt},n.prototype.findInsertion=function(e){for(var t=this,i=t.levelCoords,r=t.entriesByLevel,a=t.strictOrder,o=t.stackCnts,s=i.length,u=0,c=-1,l=-1,_=null,I=0,M=0;M<s;M+=1){var P=i[M];if(!a&&P>=u+e.thickness)break;for(var N=r[M],b=void 0,f=m0(N,e.span.start,v0),v=f[0]+f[1];(b=N[v])&&b.span.start<e.span.end;){var m=P+b.thickness;m>u&&(u=m,_=b,c=M,l=v),m===u&&(I=Math.max(I,o[Dc(b)]+1)),v+=1}}var d=0;if(_)for(d=c+1;d<s&&i[d]<u;)d+=1;var g=-1;return d<s&&i[d]===u&&(g=m0(r[d],e.span.end,v0)[0]),{touchingLevel:c,touchingLateral:l,touchingEntry:_,stackCnt:I,levelCoord:u,level:d,lateral:g}},n.prototype.toRects=function(){for(var e=this,t=e.entriesByLevel,i=e.levelCoords,r=t.length,a=[],o=0;o<r;o+=1)for(var s=t[o],u=i[o],c=0,l=s;c<l.length;c++){var _=l[c];a.push(ze(ze({},_),{levelCoord:u}))}return a},n}();function v0(n){return n.span.end}function Dc(n){return n.index+":"+n.span.start}function T3(n){for(var e=[],t=0,i=n;t<i.length;t++){for(var r=i[t],a=[],o={span:r.span,entries:[r]},s=0,u=e;s<u.length;s++){var c=u[s];eC(c.span,o.span)?o={entries:c.entries.concat(o.entries),span:I3(c.span,o.span)}:a.push(c)}a.push(o),e=a}return e}function I3(n,e){return{start:Math.min(n.start,e.start),end:Math.max(n.end,e.end)}}function eC(n,e){var t=Math.max(n.start,e.start),i=Math.min(n.end,e.end);return t<i?{start:t,end:i}:null}function Cb(n,e,t){n.splice(e,0,t)}function m0(n,e,t){var i=0,r=n.length;if(!r||e<t(n[i]))return[0,0];if(e>t(n[r-1]))return[r,0];for(;i<r;){var a=Math.floor(i+(r-i)/2),o=t(n[a]);if(e<o)r=a;else if(e>o)i=a+1;else return[a,1]}return[i,0]}var jh=function(){function n(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}return n.prototype.destroy=function(){},n}();function D3(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function tC(n){var e;return e={},e[n.component.uid]=n,e}var y0={},cD=function(){function n(e,t){this.emitter=new Uv}return n.prototype.destroy=function(){},n.prototype.setMirrorIsVisible=function(e){},n.prototype.setMirrorNeedsRevert=function(e){},n.prototype.setAutoScrollEnabled=function(e){},n}(),nC={},A3=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this,i=this.props.widgetGroups.map(function(r){return t.renderWidgetGroup(r)});return Ae.apply(void 0,Yi(["div",{className:"fc-toolbar-chunk"}],i))},e.prototype.renderWidgetGroup=function(t){for(var i=this.props,r=this.context.theme,a=[],o=!0,s=0,u=t;s<u.length;s++){var c=u[s],l=c.buttonName,_=c.buttonClick,I=c.buttonText,M=c.buttonIcon,P=c.buttonHint;if(l==="title")o=!1,a.push(Ae("h2",{className:"fc-toolbar-title",id:i.titleId},i.title));else{var N=l===i.activeButton,b=!i.isTodayEnabled&&l==="today"||!i.isPrevEnabled&&l==="prev"||!i.isNextEnabled&&l==="next",f=["fc-"+l+"-button",r.getClass("button")];N&&f.push(r.getClass("buttonActive")),a.push(Ae("button",{type:"button",title:typeof P=="function"?P(i.navUnit):P,disabled:b,"aria-pressed":N,className:f.join(" "),onClick:_},I||(M?Ae("span",{className:M}):"")))}}if(a.length>1){var v=o&&r.getClass("buttonGroup")||"";return Ae.apply(void 0,Yi(["div",{className:v}],a))}return a[0]},e}(ci),jx=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this.props,i=t.model,r=t.extraClassName,a=!1,o,s,u=i.sectionWidgets,c=u.center;u.left?(a=!0,o=u.left):o=u.start,u.right?(a=!0,s=u.right):s=u.end;var l=[r||"","fc-toolbar",a?"fc-toolbar-ltr":""];return Ae("div",{className:l.join(" ")},this.renderSection("start",o||[]),this.renderSection("center",c||[]),this.renderSection("end",s||[]))},e.prototype.renderSection=function(t,i){var r=this.props;return Ae(A3,{key:t,widgetGroups:i,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})},e}(ci),M3=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={availableWidth:null},t.handleEl=function(i){t.el=i,Ps(t.props.elRef,i),t.updateAvailableWidth()},t.handleResize=function(){t.updateAvailableWidth()},t}return e.prototype.render=function(){var t=this,i=t.props,r=t.state,a=i.aspectRatio,o=["fc-view-harness",a||i.liquid||i.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",u="";return a?r.availableWidth!==null?s=r.availableWidth/a:u=1/a*100+"%":s=i.height||"",Ae("div",{"aria-labelledby":i.labeledById,ref:this.handleEl,className:o.join(" "),style:{height:s,paddingBottom:u}},i.children)},e.prototype.componentDidMount=function(){this.context.addResizeHandler(this.handleResize)},e.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleResize)},e.prototype.updateAvailableWidth=function(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})},e}(ci),O3=function(n){sn(e,n);function e(t){var i=n.call(this,t)||this;return i.handleSegClick=function(r,a){var o=i.component,s=o.context,u=xh(a);if(u&&o.isValidSegDownEl(r.target)){var c=Wr(r.target,".fc-event-forced-url"),l=c?c.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:a,event:new Gi(o.context,u.eventRange.def,u.eventRange.instance),jsEvent:r,view:s.viewApi}),l&&!r.defaultPrevented&&(window.location.href=l)}},i.destroy=CI(t.el,"click",".fc-event",i.handleSegClick),i}return e}(jh),k3=function(n){sn(e,n);function e(t){var i=n.call(this,t)||this;return i.handleEventElRemove=function(r){r===i.currentSegEl&&i.handleSegLeave(null,i.currentSegEl)},i.handleSegEnter=function(r,a){xh(a)&&(i.currentSegEl=a,i.triggerEvent("eventMouseEnter",r,a))},i.handleSegLeave=function(r,a){i.currentSegEl&&(i.currentSegEl=null,i.triggerEvent("eventMouseLeave",r,a))},i.removeHoverListeners=Qz(t.el,".fc-event",i.handleSegEnter,i.handleSegLeave),i}return e.prototype.destroy=function(){this.removeHoverListeners()},e.prototype.triggerEvent=function(t,i,r){var a=this.component,o=a.context,s=xh(r);(!i||a.isValidSegDownEl(i.target))&&o.emitter.trigger(t,{el:r,event:new Gi(o,s.eventRange.def,s.eventRange.instance),jsEvent:i,view:o.viewApi})},e}(jh),P3=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.buildViewContext=_n(fW),t.buildViewPropTransformers=_n(R3),t.buildToolbarProps=_n(L3),t.headerRef=pr(),t.footerRef=pr(),t.interactionsStore={},t.state={viewLabelId:Dl()},t.registerInteractiveComponent=function(i,r){var a=D3(i,r),o=[O3,k3],s=o.concat(t.props.pluginHooks.componentInteractions),u=s.map(function(c){return new c(a)});t.interactionsStore[i.uid]=u,y0[i.uid]=a},t.unregisterInteractiveComponent=function(i){var r=t.interactionsStore[i.uid];if(r){for(var a=0,o=r;a<o.length;a++){var s=o[a];s.destroy()}delete t.interactionsStore[i.uid]}delete y0[i.uid]},t.resizeRunner=new qw(function(){t.props.emitter.trigger("_resize",!0),t.props.emitter.trigger("windowResize",{view:t.props.viewApi})}),t.handleWindowResize=function(i){var r=t.props.options;r.handleWindowResize&&i.target===window&&t.resizeRunner.request(r.windowResizeDelay)},t}return e.prototype.render=function(){var t=this.props,i=t.toolbarConfig,r=t.options,a=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,xd(t.options.now,t.dateEnv),t.viewTitle),o=!1,s="",u;t.isHeightAuto||t.forPrint?s="":r.height!=null?o=!0:r.contentHeight!=null?s=r.contentHeight:u=Math.max(r.aspectRatio,.5);var c=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=i.header&&i.header.hasTitle?this.state.viewLabelId:"";return Ae(Go.Provider,{value:c},i.header&&Ae(jx,ze({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:i.header,titleId:l},a)),Ae(M3,{liquid:o,height:s,aspectRatio:u,labeledById:l},this.renderView(t),this.buildAppendContent()),i.footer&&Ae(jx,ze({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:i.footer,titleId:""},a)))},e.prototype.componentDidMount=function(){var t=this.props;this.calendarInteractions=t.pluginHooks.calendarInteractions.map(function(a){return new a(t)}),window.addEventListener("resize",this.handleWindowResize);var i=t.pluginHooks.propSetHandlers;for(var r in i)i[r](t[r],t)},e.prototype.componentDidUpdate=function(t){var i=this.props,r=i.pluginHooks.propSetHandlers;for(var a in r)i[a]!==t[a]&&r[a](i[a],i)},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(var t=0,i=this.calendarInteractions;t<i.length;t++){var r=i[t];r.destroy()}this.props.emitter.trigger("_unmount")},e.prototype.buildAppendContent=function(){var t=this.props,i=t.pluginHooks.viewContainerAppends.map(function(r){return r(t)});return Ae.apply(void 0,Yi([dr,{}],i))},e.prototype.renderView=function(t){for(var i=t.pluginHooks,r=t.viewSpec,a={dateProfile:t.dateProfile,businessHours:t.businessHours,eventStore:t.renderableEventStore,eventUiBases:t.eventUiBases,dateSelection:t.dateSelection,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,isHeightAuto:t.isHeightAuto,forPrint:t.forPrint},o=this.buildViewPropTransformers(i.viewPropsTransformers),s=0,u=o;s<u.length;s++){var c=u[s];ze(a,c.transform(a,t))}var l=r.component;return Ae(l,ze({},a))},e}(Yv);function L3(n,e,t,i,r,a){var o=t.build(r,void 0,!1),s=t.buildPrev(e,i,!1),u=t.buildNext(e,i,!1);return{title:a,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:o.isValid&&!Al(e.currentRange,r),isPrevEnabled:s.isValid,isNextEnabled:u.isValid}}function R3(n){return n.map(function(e){return new e})}var N3=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={forPrint:!1},t.handleBeforePrint=function(){t.setState({forPrint:!0})},t.handleAfterPrint=function(){t.setState({forPrint:!1})},t}return e.prototype.render=function(){var t=this.props,i=t.options,r=this.state.forPrint,a=r||i.height==="auto"||i.contentHeight==="auto",o=!a&&i.height!=null?i.height:"",s=["fc",r?"fc-media-print":"fc-media-screen","fc-direction-"+i.direction,t.theme.getClass("root")];return $I()||s.push("fc-liquid-hack"),t.children(s,o,a,r)},e.prototype.componentDidMount=function(){var t=this.props.emitter;t.on("_beforeprint",this.handleBeforePrint),t.on("_afterprint",this.handleAfterPrint)},e.prototype.componentWillUnmount=function(){var t=this.props.emitter;t.off("_beforeprint",this.handleBeforePrint),t.off("_afterprint",this.handleAfterPrint)},e}(ci);function F3(n,e){return!n||e>10?Pi({weekday:"short"}):e>1?Pi({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Pi({weekday:"long"})}var uD="fc-col-header-cell";function hD(n){return n.text}var j3=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this.context,i=t.dateEnv,r=t.options,a=t.theme,o=t.viewApi,s=this.props,u=s.date,c=s.dateProfile,l=Xw(u,s.todayRange,null,c),_=[uD].concat(Wv(l,a)),I=i.format(u,s.dayHeaderFormat),M=!l.isDisabled&&s.colCnt>1?Eh(this.context,u):{},P=ze(ze(ze({date:i.toDate(u),view:o},s.extraHookProps),{text:I}),l);return Ae(Wa,{hookProps:P,classNames:r.dayHeaderClassNames,content:r.dayHeaderContent,defaultContent:hD,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},function(N,b,f,v){return Ae("th",ze({ref:N,role:"columnheader",className:_.concat(b).join(" "),"data-date":l.isDisabled?void 0:Bv(u),colSpan:s.colSpan},s.extraDataAttrs),Ae("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&Ae("a",ze({ref:f,className:["fc-col-header-cell-cushion",s.isSticky?"fc-sticky":""].join(" ")},M),v)))})},e}(ci),B3=Pi({weekday:"long"}),H3=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this.props,i=this.context,r=i.dateEnv,a=i.theme,o=i.viewApi,s=i.options,u=Nr(new Date(2592e5),t.dow),c={dow:t.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=[uD].concat(Wv(c,a),t.extraClassNames||[]),_=r.format(u,t.dayHeaderFormat),I=ze(ze(ze(ze({date:u},c),{view:o}),t.extraHookProps),{text:_});return Ae(Wa,{hookProps:I,classNames:s.dayHeaderClassNames,content:s.dayHeaderContent,defaultContent:hD,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},function(M,P,N,b){return Ae("th",ze({ref:M,role:"columnheader",className:l.concat(P).join(" "),colSpan:t.colSpan},t.extraDataAttrs),Ae("div",{className:"fc-scrollgrid-sync-inner"},Ae("a",{"aria-label":r.format(u,B3),className:["fc-col-header-cell-cushion",t.isSticky?"fc-sticky":""].join(" "),ref:N},b)))})},e}(ci),Td=function(n){sn(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.initialNowDate=xd(i.options.now,i.dateEnv),r.initialNowQueriedMs=new Date().valueOf(),r.state=r.computeTiming().currentState,r}return e.prototype.render=function(){var t=this,i=t.props,r=t.state;return i.children(r.nowDate,r.todayRange)},e.prototype.componentDidMount=function(){this.setTimeout()},e.prototype.componentDidUpdate=function(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())},e.prototype.componentWillUnmount=function(){this.clearTimeout()},e.prototype.computeTiming=function(){var t=this,i=t.props,r=t.context,a=Rc(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),o=r.dateEnv.startOf(a,i.unit),s=r.dateEnv.add(o,oi(1,i.unit)),u=s.valueOf()-a.valueOf();return u=Math.min(1e3*60*60*24,u),{currentState:{nowDate:o,todayRange:Bx(o)},nextState:{nowDate:s,todayRange:Bx(s)},waitMs:u}},e.prototype.setTimeout=function(){var t=this,i=this.computeTiming(),r=i.nextState,a=i.waitMs;this.timeoutId=setTimeout(function(){t.setState(r,function(){t.setTimeout()})},a)},e.prototype.clearTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId)},e.contextType=Go,e}(Aw);function Bx(n){var e=xi(n),t=Nr(e,1);return{start:e,end:t}}var fD=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.createDayHeaderFormatter=_n(z3),t}return e.prototype.render=function(){var t=this.context,i=this.props,r=i.dates,a=i.dateProfile,o=i.datesRepDistinctDays,s=i.renderIntro,u=this.createDayHeaderFormatter(t.options.dayHeaderFormat,o,r.length);return Ae(Td,{unit:"day"},function(c,l){return Ae("tr",{role:"row"},s&&s("day"),r.map(function(_){return o?Ae(j3,{key:_.toISOString(),date:_,dateProfile:a,todayRange:l,colCnt:r.length,dayHeaderFormat:u}):Ae(H3,{key:_.getUTCDay(),dow:_.getUTCDay(),dayHeaderFormat:u})}))})},e}(ci);function z3(n,e,t){return n||F3(e,t)}var dD=function(){function n(e,t){for(var i=e.start,r=e.end,a=[],o=[],s=-1;i<r;)t.isHiddenDay(i)?a.push(s+.5):(s+=1,a.push(s),o.push(i)),i=Nr(i,1);this.dates=o,this.indices=a,this.cnt=o.length}return n.prototype.sliceRange=function(e){var t=this.getDateDayIndex(e.start),i=this.getDateDayIndex(Nr(e.end,-1)),r=Math.max(0,t),a=Math.min(this.cnt-1,i);return r=Math.ceil(r),a=Math.floor(a),r<=a?{firstIndex:r,lastIndex:a,isStart:t===r,isEnd:i===a}:null},n.prototype.getDateDayIndex=function(e){var t=this.indices,i=Math.floor(Wl(this.dates[0],e));return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]},n}(),pD=function(){function n(e,t){var i=e.dates,r,a,o;if(t){for(a=i[0].getUTCDay(),r=1;r<i.length&&i[r].getUTCDay()!==a;r+=1);o=Math.ceil(i.length/r)}else o=1,r=i.length;this.rowCnt=o,this.colCnt=r,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return n.prototype.buildCells=function(){for(var e=[],t=0;t<this.rowCnt;t+=1){for(var i=[],r=0;r<this.colCnt;r+=1)i.push(this.buildCell(t,r));e.push(i)}return e},n.prototype.buildCell=function(e,t){var i=this.daySeries.dates[e*this.colCnt+t];return{key:i.toISOString(),date:i}},n.prototype.buildHeaderDates=function(){for(var e=[],t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e},n.prototype.sliceRange=function(e){var t=this.colCnt,i=this.daySeries.sliceRange(e),r=[];if(i)for(var a=i.firstIndex,o=i.lastIndex,s=a;s<=o;){var u=Math.floor(s/t),c=Math.min((u+1)*t,o+1);r.push({row:u,firstCol:s%t,lastCol:(c-1)%t,isStart:i.isStart&&s===a,isEnd:i.isEnd&&c-1===o}),s=c}return r},n}(),gD=function(){function n(){this.sliceBusinessHours=_n(this._sliceBusinessHours),this.sliceDateSelection=_n(this._sliceDateSpan),this.sliceEventStore=_n(this._sliceEventStore),this.sliceEventDrag=_n(this._sliceInteraction),this.sliceEventResize=_n(this._sliceInteraction),this.forceDayIfListItem=!1}return n.prototype.sliceProps=function(e,t,i,r){for(var a=[],o=4;o<arguments.length;o++)a[o-4]=arguments[o];var s=e.eventUiBases,u=this.sliceEventStore.apply(this,Yi([e.eventStore,s,t,i],a));return{dateSelectionSegs:this.sliceDateSelection.apply(this,Yi([e.dateSelection,s,r],a)),businessHourSegs:this.sliceBusinessHours.apply(this,Yi([e.businessHours,t,i,r],a)),fgEventSegs:u.fg,bgEventSegs:u.bg,eventDrag:this.sliceEventDrag.apply(this,Yi([e.eventDrag,s,t,i],a)),eventResize:this.sliceEventResize.apply(this,Yi([e.eventResize,s,t,i],a)),eventSelection:e.eventSelection}},n.prototype.sliceNowDate=function(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return this._sliceDateSpan.apply(this,Yi([{range:{start:e,end:Rc(e,1)},allDay:!1},{},t],i))},n.prototype._sliceBusinessHours=function(e,t,i,r){for(var a=[],o=4;o<arguments.length;o++)a[o-4]=arguments[o];return e?this._sliceEventStore.apply(this,Yi([Sh(e,Sb(t,Boolean(i)),r),{},t,i],a)).bg:[]},n.prototype._sliceEventStore=function(e,t,i,r){for(var a=[],o=4;o<arguments.length;o++)a[o-4]=arguments[o];if(e){var s=p0(e,t,Sb(i,Boolean(r)),r);return{bg:this.sliceEventRanges(s.bg,a),fg:this.sliceEventRanges(s.fg,a)}}return{bg:[],fg:[]}},n.prototype._sliceInteraction=function(e,t,i,r){for(var a=[],o=4;o<arguments.length;o++)a[o-4]=arguments[o];if(!e)return null;var s=p0(e.mutatedEvents,t,Sb(i,Boolean(r)),r);return{segs:this.sliceEventRanges(s.fg,a),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}},n.prototype._sliceDateSpan=function(e,t,i){for(var r=[],a=3;a<arguments.length;a++)r[a-3]=arguments[a];if(!e)return[];for(var o=C4(e,t,i),s=this.sliceRange.apply(this,Yi([e.range],r)),u=0,c=s;u<c.length;u++){var l=c[u];l.eventRange=o}return s},n.prototype.sliceEventRanges=function(e,t){for(var i=[],r=0,a=e;r<a.length;r++){var o=a[r];i.push.apply(i,this.sliceEventRange(o,t))}return i},n.prototype.sliceEventRange=function(e,t){var i=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(i={start:i.start,end:Nr(i.start,1)});for(var r=this.sliceRange.apply(this,Yi([i],t)),a=0,o=r;a<o.length;a++){var s=o[a];s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd}return r},n}();function Sb(n,e){var t=n.activeRange;return e?t:{start:Rc(t.start,n.slotMinTime.milliseconds),end:Rc(t.end,n.slotMaxTime.milliseconds-864e5)}}function vD(n,e,t){var i=n.mutatedEvents.instances;for(var r in i)if(!zv(e.validRange,i[r].range))return!1;return mD({eventDrag:n},t)}function W3(n,e,t){return zv(e.validRange,n.range)?mD({dateSelection:n},t):!1}function mD(n,e){var t=e.getCurrentData(),i=ze({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||U3)(i,e)}function U3(n,e,t,i){return t===void 0&&(t={}),!(n.eventDrag&&!Y3(n,e,t,i)||n.dateSelection&&!G3(n,e,t,i))}function Y3(n,e,t,i){var r=e.getCurrentData(),a=n.eventDrag,o=a.mutatedEvents,s=o.defs,u=o.instances,c=uv(s,a.isEvent?n.eventUiBases:{"":r.selectionConfig});i&&(c=zo(c,i));var l=WW(n.eventStore,a.affectedEvents.instances),_=l.defs,I=l.instances,M=uv(_,n.eventUiBases);for(var P in u){var N=u[P],b=N.range,f=c[N.defId],v=s[N.defId];if(!yD(f.constraints,b,l,n.businessHours,e))return!1;var m=e.options.eventOverlap,d=typeof m=="function"?m:null;for(var g in I){var h=I[g];if(Uw(b,h.range)){var C=M[h.defId].overlap;if(C===!1&&a.isEvent||f.overlap===!1||d&&!d(new Gi(e,_[h.defId],h),new Gi(e,v,N)))return!1}}for(var D=r.eventStore,S=0,k=f.allows;S<k.length;S++){var L=k[S],B=ze(ze({},t),{range:N.range,allDay:v.allDay}),z=D.defs[v.defId],X=D.instances[P],ee=void 0;if(z?ee=new Gi(e,z,X):ee=new Gi(e,v),!L($w(B,e),ee))return!1}}return!0}function G3(n,e,t,i){var r=n.eventStore,a=r.defs,o=r.instances,s=n.dateSelection,u=s.range,c=e.getCurrentData().selectionConfig;if(i&&(c=i(c)),!yD(c.constraints,u,r,n.businessHours,e))return!1;var l=e.options.selectOverlap,_=typeof l=="function"?l:null;for(var I in o){var M=o[I];if(Uw(u,M.range)&&(c.overlap===!1||_&&!_(new Gi(e,a[M.defId],M),null)))return!1}for(var P=0,N=c.allows;P<N.length;P++){var b=N[P],f=ze(ze({},t),s);if(!b($w(f,e),null))return!1}return!0}function yD(n,e,t,i,r){for(var a=0,o=n;a<o.length;a++){var s=o[a];if(!V3($3(s,e,t,i,r),e))return!1}return!0}function $3(n,e,t,i,r){return n==="businessHours"?_b(Sh(i,e,r)):typeof n=="string"?_b(Hv(t,function(a){return a.groupId===n})):typeof n=="object"&&n?_b(Sh(n,e,r)):[]}function _b(n){var e=n.instances,t=[];for(var i in e)t.push(e[i].range);return t}function V3(n,e){for(var t=0,i=n;t<i.length;t++){var r=i[t];if(zv(r,e))return!0}return!1}var fg=/^(visible|hidden)$/,bD=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.handleEl=function(i){t.el=i,Ps(t.props.elRef,i)},t}return e.prototype.render=function(){var t=this.props,i=t.liquid,r=t.liquidIsAbsolute,a=i&&r,o=["fc-scroller"];return i&&(r?o.push("fc-scroller-liquid-absolute"):o.push("fc-scroller-liquid")),Ae("div",{ref:this.handleEl,className:o.join(" "),style:{overflowX:t.overflowX,overflowY:t.overflowY,left:a&&-(t.overcomeLeft||0)||"",right:a&&-(t.overcomeRight||0)||"",bottom:a&&-(t.overcomeBottom||0)||"",marginLeft:!a&&-(t.overcomeLeft||0)||"",marginRight:!a&&-(t.overcomeRight||0)||"",marginBottom:!a&&-(t.overcomeBottom||0)||"",maxHeight:t.maxHeight||""}},t.children)},e.prototype.needsXScrolling=function(){if(fg.test(this.props.overflowX))return!1;for(var t=this.el,i=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),r=t.children,a=0;a<r.length;a+=1){var o=r[a];if(o.getBoundingClientRect().width>i)return!0}return!1},e.prototype.needsYScrolling=function(){if(fg.test(this.props.overflowY))return!1;for(var t=this.el,i=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),r=t.children,a=0;a<r.length;a+=1){var o=r[a];if(o.getBoundingClientRect().height>i)return!0}return!1},e.prototype.getXScrollbarWidth=function(){return fg.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight},e.prototype.getYScrollbarWidth=function(){return fg.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth},e}(ci),ko=function(){function n(e){var t=this;this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=function(i,r){var a=t,o=a.depths,s=a.currentMap,u=!1,c=!1;i!==null?(u=r in s,s[r]=i,o[r]=(o[r]||0)+1,c=!0):(o[r]-=1,o[r]||(delete s[r],delete t.callbackMap[r],u=!0)),t.masterCallback&&(u&&t.masterCallback(null,String(r)),c&&t.masterCallback(i,String(r)))}}return n.prototype.createRef=function(e){var t=this,i=this.callbackMap[e];return i||(i=this.callbackMap[e]=function(r){t.handleValue(r,String(e))}),i},n.prototype.collect=function(e,t,i){return _5(this.currentMap,e,t,i)},n.prototype.getAll=function(){return Rw(this.currentMap)},n}();function X3(n){for(var e=Zz(n,".fc-scrollgrid-shrink"),t=0,i=0,r=e;i<r.length;i++){var a=r[i];t=Math.max(t,c5(a))}return Math.ceil(t)}function wD(n,e){return n.liquid&&e.liquid}function Z3(n,e){return e.maxHeight!=null||wD(n,e)}function J3(n,e,t,i){var r=t.expandRows,a=typeof e.content=="function"?e.content(t):Ae("table",{role:"presentation",className:[e.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:r?t.clientHeight:""}},t.tableColGroupNode,Ae(i?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent));return a}function K3(n,e){return _h(n,e,Wo)}function Q3(n,e){for(var t=[],i=0,r=n;i<r.length;i++)for(var a=r[i],o=a.span||1,s=0;s<o;s+=1)t.push(Ae("col",{style:{width:a.width==="shrink"?q3(e):a.width||"",minWidth:a.minWidth||""}}));return Ae.apply(void 0,Yi(["colgroup",{}],t))}function q3(n){return n==null?4:n}function eU(n){for(var e=0,t=n;e<t.length;e++){var i=t[e];if(i.width==="shrink")return!0}return!1}function tU(n,e){var t=["fc-scrollgrid",e.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function nU(n,e){var t=["fc-scrollgrid-section","fc-scrollgrid-section-"+n.type,n.className];return e&&n.liquid&&n.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function b0(n){return Ae("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function hv(n){var e=n.stickyHeaderDates;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}function CD(n){var e=n.stickyFooterScrollbar;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}var iC=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.processCols=_n(function(i){return i},K3),t.renderMicroColGroup=_n(Q3),t.scrollerRefs=new ko,t.scrollerElRefs=new ko(t._handleScrollerEl.bind(t)),t.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},t.handleSizing=function(){t.safeSetState(ze({shrinkWidth:t.computeShrinkWidth()},t.computeScrollerDims()))},t}return e.prototype.render=function(){var t=this,i=t.props,r=t.state,a=t.context,o=i.sections||[],s=this.processCols(i.cols),u=this.renderMicroColGroup(s,r.shrinkWidth),c=tU(i.liquid,a);i.collapsibleWidth&&c.push("fc-scrollgrid-collapsible");for(var l=o.length,_=0,I,M=[],P=[],N=[];_<l&&(I=o[_]).type==="header";)M.push(this.renderSection(I,u,!0)),_+=1;for(;_<l&&(I=o[_]).type==="body";)P.push(this.renderSection(I,u,!1)),_+=1;for(;_<l&&(I=o[_]).type==="footer";)N.push(this.renderSection(I,u,!0)),_+=1;var b=!$I(),f={role:"rowgroup"};return Ae("table",{role:"grid",className:c.join(" "),style:{height:i.height}},Boolean(!b&&M.length)&&Ae.apply(void 0,Yi(["thead",f],M)),Boolean(!b&&P.length)&&Ae.apply(void 0,Yi(["tbody",f],P)),Boolean(!b&&N.length)&&Ae.apply(void 0,Yi(["tfoot",f],N)),b&&Ae.apply(void 0,Yi(Yi(Yi(["tbody",f],M),P),N)))},e.prototype.renderSection=function(t,i,r){return"outerContent"in t?Ae(dr,{key:t.key},t.outerContent):Ae("tr",{key:t.key,role:"presentation",className:nU(t,this.props.liquid).join(" ")},this.renderChunkTd(t,i,t.chunk,r))},e.prototype.renderChunkTd=function(t,i,r,a){if("outerContent"in r)return r.outerContent;var o=this.props,s=this.state,u=s.forceYScrollbars,c=s.scrollerClientWidths,l=s.scrollerClientHeights,_=Z3(o,t),I=wD(o,t),M=o.liquid?u?"scroll":_?"auto":"hidden":"visible",P=t.key,N=J3(t,r,{tableColGroupNode:i,tableMinWidth:"",clientWidth:!o.collapsibleWidth&&c[P]!==void 0?c[P]:null,clientHeight:l[P]!==void 0?l[P]:null,expandRows:t.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}},a);return Ae(a?"th":"td",{ref:r.elRef,role:"presentation"},Ae("div",{className:"fc-scroller-harness"+(I?" fc-scroller-harness-liquid":"")},Ae(bD,{ref:this.scrollerRefs.createRef(P),elRef:this.scrollerElRefs.createRef(P),overflowY:M,overflowX:o.liquid?"hidden":"visible",maxHeight:t.maxHeight,liquid:I,liquidIsAbsolute:!0},N)))},e.prototype._handleScrollerEl=function(t,i){var r=iU(this.props.sections,i);r&&Ps(r.chunk.scrollerElRef,t)},e.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},e.prototype.componentDidUpdate=function(){this.handleSizing()},e.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},e.prototype.computeShrinkWidth=function(){return eU(this.props.cols)?X3(this.scrollerElRefs.getAll()):0},e.prototype.computeScrollerDims=function(){var t=tW(),i=this,r=i.scrollerRefs,a=i.scrollerElRefs,o=!1,s={},u={};for(var c in r.currentMap){var l=r.currentMap[c];if(l&&l.needsYScrolling()){o=!0;break}}for(var _=0,I=this.props.sections;_<I.length;_++){var M=I[_],c=M.key,P=a.currentMap[c];if(P){var N=P.parentNode;s[c]=Math.floor(N.getBoundingClientRect().width-(o?t.y:0)),u[c]=Math.floor(N.getBoundingClientRect().height)}}return{forceYScrollbars:o,scrollerClientWidths:s,scrollerClientHeights:u}},e}(ci);iC.addStateEquality({scrollerClientWidths:Wo,scrollerClientHeights:Wo});function iU(n,e){for(var t=0,i=n;t<i.length;t++){var r=i[t];if(r.key===e)return r}return null}var Gv=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.elRef=pr(),t}return e.prototype.render=function(){var t=this,i=t.props,r=t.context,a=r.options,o=i.seg,s=o.eventRange,u=s.ui,c={event:new Gi(r,s.def,s.instance),view:r.viewApi,timeText:i.timeText,textColor:u.textColor,backgroundColor:u.backgroundColor,borderColor:u.borderColor,isDraggable:!i.disableDragging&&h4(o,r),isStartResizable:!i.disableResizing&&f4(o,r),isEndResizable:!i.disableResizing&&d4(o),isMirror:Boolean(i.isDragging||i.isResizing||i.isDateSelecting),isStart:Boolean(o.isStart),isEnd:Boolean(o.isEnd),isPast:Boolean(i.isPast),isFuture:Boolean(i.isFuture),isToday:Boolean(i.isToday),isSelected:Boolean(i.isSelected),isDragging:Boolean(i.isDragging),isResizing:Boolean(i.isResizing)},l=p4(c).concat(u.classNames);return Ae(Wa,{hookProps:c,classNames:a.eventClassNames,content:a.eventContent,defaultContent:i.defaultContent,didMount:a.eventDidMount,willUnmount:a.eventWillUnmount,elRef:this.elRef},function(_,I,M,P){return i.children(_,l.concat(I),M,P,c)})},e.prototype.componentDidMount=function(){Ax(this.elRef.current,this.props.seg)},e.prototype.componentDidUpdate=function(t){var i=this.props.seg;i!==t.seg&&Ax(this.elRef.current,i)},e}(ci),SD=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this,i=t.props,r=t.context,a=i.seg,o=r.options.eventTimeFormat||i.defaultTimeFormat,s=Gf(a,o,r,i.defaultDisplayEventTime,i.defaultDisplayEventEnd);return Ae(Gv,{seg:a,timeText:s,disableDragging:i.disableDragging,disableResizing:i.disableResizing,defaultContent:i.defaultContent||rU,isDragging:i.isDragging,isResizing:i.isResizing,isDateSelecting:i.isDateSelecting,isSelected:i.isSelected,isPast:i.isPast,isFuture:i.isFuture,isToday:i.isToday},function(u,c,l,_,I){return Ae("a",ze({className:i.extraClassNames.concat(c).join(" "),style:{borderColor:I.borderColor,backgroundColor:I.backgroundColor},ref:u},Gw(a,r)),Ae("div",{className:"fc-event-main",ref:l,style:{color:I.textColor}},_),I.isStartResizable&&Ae("div",{className:"fc-event-resizer fc-event-resizer-start"}),I.isEndResizable&&Ae("div",{className:"fc-event-resizer fc-event-resizer-end"}))})},e}(ci);function rU(n){return Ae("div",{className:"fc-event-main-frame"},n.timeText&&Ae("div",{className:"fc-event-time"},n.timeText),Ae("div",{className:"fc-event-title-container"},Ae("div",{className:"fc-event-title fc-sticky"},n.event.title||Ae(dr,null,"\xA0"))))}var rC=function(n){return Ae(Go.Consumer,null,function(e){var t=e.options,i={isAxis:n.isAxis,date:e.dateEnv.toDate(n.date),view:e.viewApi};return Ae(Wa,{hookProps:i,classNames:t.nowIndicatorClassNames,content:t.nowIndicatorContent,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount},n.children)})},aU=Pi({day:"numeric"}),aC=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this,i=t.props,r=t.context,a=r.options,o=_D({date:i.date,dateProfile:i.dateProfile,todayRange:i.todayRange,showDayNumber:i.showDayNumber,extraProps:i.extraHookProps,viewApi:r.viewApi,dateEnv:r.dateEnv});return Ae(JI,{hookProps:o,content:a.dayCellContent,defaultContent:i.defaultContent},i.children)},e}(ci);function _D(n){var e=n.date,t=n.dateEnv,i=Xw(e,n.todayRange,null,n.dateProfile);return ze(ze(ze({date:t.toDate(e),view:n.viewApi},i),{dayNumberText:n.showDayNumber?t.format(e,aU):""}),n.extraProps)}var sC=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.refineHookProps=Ag(_D),t.normalizeClassNames=KI(),t}return e.prototype.render=function(){var t=this,i=t.props,r=t.context,a=r.options,o=this.refineHookProps({date:i.date,dateProfile:i.dateProfile,todayRange:i.todayRange,showDayNumber:i.showDayNumber,extraProps:i.extraHookProps,viewApi:r.viewApi,dateEnv:r.dateEnv}),s=Wv(o,r.theme).concat(o.isDisabled?[]:this.normalizeClassNames(a.dayCellClassNames,o)),u=o.isDisabled?{}:{"data-date":Bv(i.date)};return Ae(Kw,{hookProps:o,didMount:a.dayCellDidMount,willUnmount:a.dayCellWillUnmount,elRef:i.elRef},function(c){return i.children(c,s,u,o.isDisabled)})},e}(ci);function xD(n){return Ae("div",{className:"fc-"+n})}var ED=function(n){return Ae(Gv,{defaultContent:sU,seg:n.seg,timeText:"",disableDragging:!0,disableResizing:!0,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:n.isPast,isFuture:n.isFuture,isToday:n.isToday},function(e,t,i,r,a){return Ae("div",{ref:e,className:["fc-bg-event"].concat(t).join(" "),style:{backgroundColor:a.backgroundColor}},r)})};function sU(n){var e=n.event.title;return e&&Ae("div",{className:"fc-event-title"},n.event.title)}var TD=function(n){return Ae(Go.Consumer,null,function(e){var t=e.dateEnv,i=e.options,r=n.date,a=i.weekNumberFormat||n.defaultFormat,o=t.computeWeekNumber(r),s=t.format(r,a),u={num:o,text:s,date:r};return Ae(Wa,{hookProps:u,classNames:i.weekNumberClassNames,content:i.weekNumberContent,defaultContent:oU,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount},n.children)})};function oU(n){return n.text}var xb=10,lU=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={titleId:Dl()},t.handleRootEl=function(i){t.rootEl=i,t.props.elRef&&Ps(t.props.elRef,i)},t.handleDocumentMouseDown=function(i){var r=bI(i);t.rootEl.contains(r)||t.handleCloseClick()},t.handleDocumentKeyDown=function(i){i.key==="Escape"&&t.handleCloseClick()},t.handleCloseClick=function(){var i=t.props.onClose;i&&i()},t}return e.prototype.render=function(){var t=this.context,i=t.theme,r=t.options,a=this,o=a.props,s=a.state,u=["fc-popover",i.getClass("popover")].concat(o.extraClassNames||[]);return $z(Ae("div",ze({id:o.id,className:u.join(" "),"aria-labelledby":s.titleId},o.extraAttrs,{ref:this.handleRootEl}),Ae("div",{className:"fc-popover-header "+i.getClass("popoverHeader")},Ae("span",{className:"fc-popover-title",id:s.titleId},o.title),Ae("span",{className:"fc-popover-close "+i.getIconClass("close"),title:r.closeHint,onClick:this.handleCloseClick})),Ae("div",{className:"fc-popover-body "+i.getClass("popoverContent")},o.children)),o.parentEl)},e.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()},e.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)},e.prototype.updateSize=function(){var t=this.context.isRtl,i=this.props,r=i.alignmentEl,a=i.alignGridTop,o=this.rootEl,s=aW(r);if(s){var u=o.getBoundingClientRect(),c=a?Wr(r,".fc-scrollgrid").getBoundingClientRect().top:s.top,l=t?s.right-u.width:s.left;c=Math.max(c,xb),l=Math.min(l,document.documentElement.clientWidth-xb-u.width),l=Math.max(l,xb);var _=o.offsetParent.getBoundingClientRect();Wf(o,{top:c-_.top,left:l-_.left})}},e}(ci),cU=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.handleRootEl=function(i){t.rootEl=i,i?t.context.registerInteractiveComponent(t,{el:i,useEventCenter:!1}):t.context.unregisterInteractiveComponent(t)},t}return e.prototype.render=function(){var t=this.context,i=t.options,r=t.dateEnv,a=this.props,o=a.startDate,s=a.todayRange,u=a.dateProfile,c=r.format(o,i.dayPopoverFormat);return Ae(sC,{date:o,dateProfile:u,todayRange:s,elRef:this.handleRootEl},function(l,_,I){return Ae(lU,{elRef:l,id:a.id,title:c,extraClassNames:["fc-more-popover"].concat(_),extraAttrs:I,parentEl:a.parentEl,alignmentEl:a.alignmentEl,alignGridTop:a.alignGridTop,onClose:a.onClose},Ae(aC,{date:o,dateProfile:u,todayRange:s},function(M,P){return P&&Ae("div",{className:"fc-more-popover-misc",ref:M},P)}),a.children)})},e.prototype.queryHit=function(t,i,r,a){var o=this,s=o.rootEl,u=o.props;return t>=0&&t<r&&i>=0&&i<a?{dateProfile:u.dateProfile,dateSpan:ze({allDay:!0,range:{start:u.startDate,end:u.endDate}},u.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:r,bottom:a},layer:1}:null},e}(co),ID=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.linkElRef=pr(),t.state={isPopoverOpen:!1,popoverId:Dl()},t.handleClick=function(i){var r=t,a=r.props,o=r.context,s=o.options.moreLinkClick,u=Hx(a).start;function c(l){var _=l.eventRange,I=_.def,M=_.instance,P=_.range;return{event:new Gi(o,I,M),start:o.dateEnv.toDate(P.start),end:o.dateEnv.toDate(P.end),isStart:l.isStart,isEnd:l.isEnd}}typeof s=="function"&&(s=s({date:u,allDay:Boolean(a.allDayDate),allSegs:a.allSegs.map(c),hiddenSegs:a.hiddenSegs.map(c),jsEvent:i,view:o.viewApi})),!s||s==="popover"?t.setState({isPopoverOpen:!0}):typeof s=="string"&&o.calendarApi.zoomTo(u,s)},t.handlePopoverClose=function(){t.setState({isPopoverOpen:!1})},t}return e.prototype.render=function(){var t=this,i=this,r=i.props,a=i.state;return Ae(Go.Consumer,null,function(o){var s=o.viewApi,u=o.options,c=o.calendarApi,l=u.moreLinkText,_=r.moreCnt,I=Hx(r),M=typeof l=="function"?l.call(c,_):"+"+_+" "+l,P=Uf(u.moreLinkHint,[_],M),N={num:_,shortText:"+"+_,text:M,view:s};return Ae(dr,null,Boolean(r.moreCnt)&&Ae(Wa,{elRef:t.linkElRef,hookProps:N,classNames:u.moreLinkClassNames,content:u.moreLinkContent,defaultContent:r.defaultContent||uU,didMount:u.moreLinkDidMount,willUnmount:u.moreLinkWillUnmount},function(b,f,v,m){return r.children(b,["fc-more-link"].concat(f),v,m,t.handleClick,P,a.isPopoverOpen,a.isPopoverOpen?a.popoverId:"")}),a.isPopoverOpen&&Ae(cU,{id:a.popoverId,startDate:I.start,endDate:I.end,dateProfile:r.dateProfile,todayRange:r.todayRange,extraDateSpan:r.extraDateSpan,parentEl:t.parentEl,alignmentEl:r.alignmentElRef.current,alignGridTop:r.alignGridTop,onClose:t.handlePopoverClose},r.popoverContent()))})},e.prototype.componentDidMount=function(){this.updateParentEl()},e.prototype.componentDidUpdate=function(){this.updateParentEl()},e.prototype.updateParentEl=function(){this.linkElRef.current&&(this.parentEl=Wr(this.linkElRef.current,".fc-view-harness"))},e}(ci);function uU(n){return n.text}function Hx(n){if(n.allDayDate)return{start:n.allDayDate,end:Nr(n.allDayDate,1)};var e=n.hiddenSegs;return{start:DD(e),end:fU(e)}}function DD(n){return n.reduce(hU).eventRange.range.start}function hU(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function fU(n){return n.reduce(dU).eventRange.range.end}function dU(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}/*!
FullCalendar v5.11.3
Docs & License: https://fullcalendar.io/
(c) 2022 Adam Shaw
*/var pU=function(n){sn(e,n);function e(t,i){i===void 0&&(i={});var r=n.call(this)||this;return r.isRendering=!1,r.isRendered=!1,r.currentClassNames=[],r.customContentRenderId=0,r.handleAction=function(a){switch(a.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":r.renderRunner.tryDrain()}},r.handleData=function(a){r.currentData=a,r.renderRunner.request(a.calendarOptions.rerenderDelay)},r.handleRenderRequest=function(){if(r.isRendering){r.isRendered=!0;var a=r.currentData;fx(function(){Gz(Ae(N3,{options:a.calendarOptions,theme:a.theme,emitter:a.emitter},function(o,s,u,c){return r.setClassNames(o),r.setHeight(s),Ae(ZI.Provider,{value:r.customContentRenderId},Ae(P3,ze({isHeightAuto:u,forPrint:c},a)))}),r.el)})}else r.isRendered&&(r.isRendered=!1,Vz(r.el),r.setClassNames([]),r.setHeight(""))},r.el=t,r.renderRunner=new qw(r.handleRenderRequest),new oD({optionOverrides:i,calendarApi:r,onAction:r.handleAction,onData:r.handleData}),r}return Object.defineProperty(e.prototype,"view",{get:function(){return this.currentData.viewApi},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.isRendering;t?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),t&&this.updateSize()},e.prototype.destroy=function(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())},e.prototype.updateSize=function(){var t=this;fx(function(){n.prototype.updateSize.call(t)})},e.prototype.batchRendering=function(t){this.renderRunner.pause("batchRendering"),t(),this.renderRunner.resume("batchRendering")},e.prototype.pauseRendering=function(){this.renderRunner.pause("pauseRendering")},e.prototype.resumeRendering=function(){this.renderRunner.resume("pauseRendering",!0)},e.prototype.resetOptions=function(t,i){this.currentDataManager.resetOptions(t,i)},e.prototype.setClassNames=function(t){if(!_h(t,this.currentClassNames)){for(var i=this.el.classList,r=0,a=this.currentClassNames;r<a.length;r++){var o=a[r];i.remove(o)}for(var s=0,u=t;s<u.length;s++){var o=u[s];i.add(o)}this.currentClassNames=t}},e.prototype.setHeight=function(t){yI(this.el,"height",t)},e}(M4);/*!
FullCalendar v5.11.3
Docs & License: https://fullcalendar.io/
(c) 2022 Adam Shaw
*/var gU=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.headerElRef=pr(),t}return e.prototype.renderSimpleLayout=function(t,i){var r=this,a=r.props,o=r.context,s=[],u=hv(o.options);return t&&s.push({type:"header",key:"header",isSticky:u,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:i}}),Ae(Th,{viewSpec:o.viewSpec},function(c,l){return Ae("div",{ref:c,className:["fc-daygrid"].concat(l).join(" ")},Ae(iC,{liquid:!a.isHeightAuto&&!a.forPrint,collapsibleWidth:a.forPrint,cols:[],sections:s}))})},e.prototype.renderHScrollLayout=function(t,i,r,a){var o=this.context.pluginHooks.scrollGridImpl;if(!o)throw new Error("No ScrollGrid implementation");var s=this,u=s.props,c=s.context,l=!u.forPrint&&hv(c.options),_=!u.forPrint&&CD(c.options),I=[];return t&&I.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),I.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:i}]}),_&&I.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:b0}]}),Ae(Th,{viewSpec:c.viewSpec},function(M,P){return Ae("div",{ref:M,className:["fc-daygrid"].concat(P).join(" ")},Ae(o,{liquid:!u.isHeightAuto&&!u.forPrint,collapsibleWidth:u.forPrint,colGroups:[{cols:[{span:r,minWidth:a}]}],sections:I}))})},e}(co);function dg(n,e){for(var t=[],i=0;i<e;i+=1)t[i]=[];for(var r=0,a=n;r<a.length;r++){var o=a[r];t[o.row].push(o)}return t}function pg(n,e){for(var t=[],i=0;i<e;i+=1)t[i]=[];for(var r=0,a=n;r<a.length;r++){var o=a[r];t[o.firstCol].push(o)}return t}function zx(n,e){var t=[];if(n){for(var i=0;i<e;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(var r=0,a=n.segs;r<a.length;r++){var o=a[r];t[o.row].segs.push(o)}}else for(var i=0;i<e;i+=1)t[i]=null;return t}var vU=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this.props,i=Eh(this.context,t.date);return Ae(aC,{date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,showDayNumber:t.showDayNumber,extraHookProps:t.extraHookProps,defaultContent:mU},function(r,a){return(a||t.forceDayTop)&&Ae("div",{className:"fc-daygrid-day-top",ref:r},Ae("a",ze({id:t.dayNumberId,className:"fc-daygrid-day-number"},i),a||Ae(dr,null,"\xA0")))})},e}(ci);function mU(n){return n.dayNumberText}var AD=Pi({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function MD(n){var e=n.eventRange.ui.display;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}var OD=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this.props;return Ae(SD,ze({},t,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:AD,defaultDisplayEventEnd:t.defaultDisplayEventEnd,disableResizing:!t.seg.eventRange.def.allDay}))},e}(ci),kD=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this,i=t.props,r=t.context,a=r.options.eventTimeFormat||AD,o=Gf(i.seg,a,r,!0,i.defaultDisplayEventEnd);return Ae(Gv,{seg:i.seg,timeText:o,defaultContent:yU,isDragging:i.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:i.isSelected,isPast:i.isPast,isFuture:i.isFuture,isToday:i.isToday},function(s,u,c,l){return Ae("a",ze({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(u).join(" "),ref:s},Gw(i.seg,r)),l)})},e}(ci);function yU(n){return Ae(dr,null,Ae("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&Ae("div",{className:"fc-event-time"},n.timeText),Ae("div",{className:"fc-event-title"},n.event.title||Ae(dr,null,"\xA0")))}var bU=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.compileSegs=_n(wU),t}return e.prototype.render=function(){var t=this.props,i=this.compileSegs(t.singlePlacements),r=i.allSegs,a=i.invisibleSegs;return Ae(ID,{dateProfile:t.dateProfile,todayRange:t.todayRange,allDayDate:t.allDayDate,moreCnt:t.moreCnt,allSegs:r,hiddenSegs:a,alignmentElRef:t.alignmentElRef,alignGridTop:t.alignGridTop,extraDateSpan:t.extraDateSpan,popoverContent:function(){var o=(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{};return Ae(dr,null,r.map(function(s){var u=s.eventRange.instance.instanceId;return Ae("div",{className:"fc-daygrid-event-harness",key:u,style:{visibility:o[u]?"hidden":""}},MD(s)?Ae(kD,ze({seg:s,isDragging:!1,isSelected:u===t.eventSelection,defaultDisplayEventEnd:!1},No(s,t.todayRange))):Ae(OD,ze({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:u===t.eventSelection,defaultDisplayEventEnd:!1},No(s,t.todayRange))))}))}},function(o,s,u,c,l,_,I,M){return Ae("a",ze({ref:o,className:["fc-daygrid-more-link"].concat(s).join(" "),title:_,"aria-expanded":I,"aria-controls":M},SI(l)),c)})},e}(ci);function wU(n){for(var e=[],t=[],i=0,r=n;i<r.length;i++){var a=r[i];e.push(a.seg),a.isVisible||t.push(a.seg)}return{allSegs:e,invisibleSegs:t}}var CU=Pi({week:"narrow"}),SU=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.rootElRef=pr(),t.state={dayNumberId:Dl()},t.handleRootEl=function(i){Ps(t.rootElRef,i),Ps(t.props.elRef,i)},t}return e.prototype.render=function(){var t=this,i=t.context,r=t.props,a=t.state,o=t.rootElRef,s=r.date,u=r.dateProfile,c=Eh(i,s,"week");return Ae(sC,{date:s,dateProfile:u,todayRange:r.todayRange,showDayNumber:r.showDayNumber,extraHookProps:r.extraHookProps,elRef:this.handleRootEl},function(l,_,I,M){return Ae("td",ze({ref:l,role:"gridcell",className:["fc-daygrid-day"].concat(_,r.extraClassNames||[]).join(" ")},I,r.extraDataAttrs,r.showDayNumber?{"aria-labelledby":a.dayNumberId}:{}),Ae("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:r.innerElRef},r.showWeekNumber&&Ae(TD,{date:s,defaultFormat:CU},function(P,N,b,f){return Ae("a",ze({ref:P,className:["fc-daygrid-week-number"].concat(N).join(" ")},c),f)}),!M&&Ae(vU,{date:s,dateProfile:u,showDayNumber:r.showDayNumber,dayNumberId:a.dayNumberId,forceDayTop:r.forceDayTop,todayRange:r.todayRange,extraHookProps:r.extraHookProps}),Ae("div",{className:"fc-daygrid-day-events",ref:r.fgContentElRef},r.fgContent,Ae("div",{className:"fc-daygrid-day-bottom",style:{marginTop:r.moreMarginTop}},Ae(bU,{allDayDate:s,singlePlacements:r.singlePlacements,moreCnt:r.moreCnt,alignmentElRef:o,alignGridTop:!r.showDayNumber,extraDateSpan:r.extraDateSpan,dateProfile:r.dateProfile,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,todayRange:r.todayRange}))),Ae("div",{className:"fc-daygrid-day-bg"},r.bgContent)))})},e}(co);function _U(n,e,t,i,r,a,o){var s=new TU;s.allowReslicing=!0,s.strictOrder=i,e===!0||t===!0?(s.maxCoord=a,s.hiddenConsumes=!0):typeof e=="number"?s.maxStackCnt=e:typeof t=="number"&&(s.maxStackCnt=t,s.hiddenConsumes=!0);for(var u=[],c=[],l=0;l<n.length;l+=1){var _=n[l],I=_.eventRange.instance.instanceId,M=r[I];M!=null?u.push({index:l,thickness:M,span:{start:_.firstCol,end:_.lastCol+1}}):c.push(_)}for(var P=s.addSegs(u),N=s.toRects(),b=xU(N,n,o),f=b.singleColPlacements,v=b.multiColPlacements,m=b.leftoverMargins,d=[],g=[],h=0,C=c;h<C.length;h++){var _=C[h];v[_.firstCol].push({seg:_,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var D=_.firstCol;D<=_.lastCol;D+=1)f[D].push({seg:oh(_,D,D+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(var D=0;D<o.length;D+=1)d.push(0);for(var S=0,k=P;S<k.length;S++){var L=k[S],_=n[L.index],B=L.span;v[B.start].push({seg:oh(_,B.start,B.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var D=B.start;D<B.end;D+=1)d[D]+=1,f[D].push({seg:oh(_,D,D+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(var D=0;D<o.length;D+=1)g.push(m[D]);return{singleColPlacements:f,multiColPlacements:v,moreCnts:d,moreMarginTops:g}}function xU(n,e,t){for(var i=EU(n,t.length),r=[],a=[],o=[],s=0;s<t.length;s+=1){for(var u=i[s],c=[],l=0,_=0,I=0,M=u;I<M.length;I++){var P=M[I],N=e[P.index];c.push({seg:oh(N,s,s+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:P.levelCoord,marginTop:P.levelCoord-l}),l=P.levelCoord+P.thickness}var b=[];l=0,_=0;for(var f=0,v=u;f<v.length;f++){var P=v[f],N=e[P.index],m=P.span.end-P.span.start>1,d=P.span.start===s;_+=P.levelCoord-l,l=P.levelCoord+P.thickness,m?(_+=P.thickness,d&&b.push({seg:oh(N,P.span.start,P.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:P.levelCoord,marginTop:0})):d&&(b.push({seg:oh(N,P.span.start,P.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:P.levelCoord,marginTop:_}),_=0)}r.push(c),a.push(b),o.push(_)}return{singleColPlacements:r,multiColPlacements:a,leftoverMargins:o}}function EU(n,e){for(var t=[],i=0;i<e;i+=1)t.push([]);for(var r=0,a=n;r<a.length;r++)for(var o=a[r],i=o.span.start;i<o.span.end;i+=1)t[i].push(o);return t}function oh(n,e,t,i){if(n.firstCol===e&&n.lastCol===t-1)return n;var r=n.eventRange,a=r.range,o=Fc(a,{start:i[e].date,end:Nr(i[t-1].date,1)});return ze(ze({},n),{firstCol:e,lastCol:t-1,eventRange:{def:r.def,ui:ze(ze({},r.ui),{durationEditable:!1}),instance:r.instance,range:o},isStart:n.isStart&&o.start.valueOf()===a.start.valueOf(),isEnd:n.isEnd&&o.end.valueOf()===a.end.valueOf()})}var TU=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.hiddenConsumes=!1,t.forceHidden={},t}return e.prototype.addSegs=function(t){for(var i=this,r=n.prototype.addSegs.call(this,t),a=this.entriesByLevel,o=function(u){return!i.forceHidden[Dc(u)]},s=0;s<a.length;s+=1)a[s]=a[s].filter(o);return r},e.prototype.handleInvalidInsertion=function(t,i,r){var a=this,o=a.entriesByLevel,s=a.forceHidden,u=t.touchingEntry,c=t.touchingLevel,l=t.touchingLateral;if(this.hiddenConsumes&&u){var _=Dc(u);if(!s[_])if(this.allowReslicing){var I=ze(ze({},u),{span:eC(u.span,i.span)}),M=Dc(I);s[M]=!0,o[c][l]=I,this.splitEntry(u,i,r)}else s[_]=!0,r.push(u)}return n.prototype.handleInvalidInsertion.call(this,t,i,r)},e}(lD),PD=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.cellElRefs=new ko,t.frameElRefs=new ko,t.fgElRefs=new ko,t.segHarnessRefs=new ko,t.rootElRef=pr(),t.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},t}return e.prototype.render=function(){var t=this,i=this,r=i.props,a=i.state,o=i.context,s=o.options,u=r.cells.length,c=pg(r.businessHourSegs,u),l=pg(r.bgEventSegs,u),_=pg(this.getHighlightSegs(),u),I=pg(this.getMirrorSegs(),u),M=_U(Yw(r.fgEventSegs,s.eventOrder),r.dayMaxEvents,r.dayMaxEventRows,s.eventOrderStrict,a.eventInstanceHeights,a.maxContentHeight,r.cells),P=M.singleColPlacements,N=M.multiColPlacements,b=M.moreCnts,f=M.moreMarginTops,v=r.eventDrag&&r.eventDrag.affectedInstances||r.eventResize&&r.eventResize.affectedInstances||{};return Ae("tr",{ref:this.rootElRef,role:"row"},r.renderIntro&&r.renderIntro(),r.cells.map(function(m,d){var g=t.renderFgSegs(d,r.forPrint?P[d]:N[d],r.todayRange,v),h=t.renderFgSegs(d,IU(I[d],N),r.todayRange,{},Boolean(r.eventDrag),Boolean(r.eventResize),!1);return Ae(SU,{key:m.key,elRef:t.cellElRefs.createRef(m.key),innerElRef:t.frameElRefs.createRef(m.key),dateProfile:r.dateProfile,date:m.date,showDayNumber:r.showDayNumbers,showWeekNumber:r.showWeekNumbers&&d===0,forceDayTop:r.showWeekNumbers,todayRange:r.todayRange,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,extraHookProps:m.extraHookProps,extraDataAttrs:m.extraDataAttrs,extraClassNames:m.extraClassNames,extraDateSpan:m.extraDateSpan,moreCnt:b[d],moreMarginTop:f[d],singlePlacements:P[d],fgContentElRef:t.fgElRefs.createRef(m.key),fgContent:Ae(dr,null,Ae(dr,null,g),Ae(dr,null,h)),bgContent:Ae(dr,null,t.renderFillSegs(_[d],"highlight"),t.renderFillSegs(c[d],"non-business"),t.renderFillSegs(l[d],"bg-event"))})}))},e.prototype.componentDidMount=function(){this.updateSizing(!0)},e.prototype.componentDidUpdate=function(t,i){var r=this.props;this.updateSizing(!Wo(t,r))},e.prototype.getHighlightSegs=function(){var t=this.props;return t.eventDrag&&t.eventDrag.segs.length?t.eventDrag.segs:t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:t.dateSelectionSegs},e.prototype.getMirrorSegs=function(){var t=this.props;return t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:[]},e.prototype.renderFgSegs=function(t,i,r,a,o,s,u){var c=this.context,l=this.props.eventSelection,_=this.state.framePositions,I=this.props.cells.length===1,M=o||s||u,P=[];if(_)for(var N=0,b=i;N<b.length;N++){var f=b[N],v=f.seg,m=v.eventRange.instance.instanceId,d=m+":"+t,g=f.isVisible&&!a[m],h=f.isAbsolute,C="",D="";h&&(c.isRtl?(D=0,C=_.lefts[v.lastCol]-_.lefts[v.firstCol]):(C=0,D=_.rights[v.firstCol]-_.rights[v.lastCol])),P.push(Ae("div",{className:"fc-daygrid-event-harness"+(h?" fc-daygrid-event-harness-abs":""),key:d,ref:M?null:this.segHarnessRefs.createRef(d),style:{visibility:g?"":"hidden",marginTop:h?"":f.marginTop,top:h?f.absoluteTop:"",left:C,right:D}},MD(v)?Ae(kD,ze({seg:v,isDragging:o,isSelected:m===l,defaultDisplayEventEnd:I},No(v,r))):Ae(OD,ze({seg:v,isDragging:o,isResizing:s,isDateSelecting:u,isSelected:m===l,defaultDisplayEventEnd:I},No(v,r)))))}return P},e.prototype.renderFillSegs=function(t,i){var r=this.context.isRtl,a=this.props.todayRange,o=this.state.framePositions,s=[];if(o)for(var u=0,c=t;u<c.length;u++){var l=c[u],_=r?{right:0,left:o.lefts[l.lastCol]-o.lefts[l.firstCol]}:{left:0,right:o.rights[l.firstCol]-o.rights[l.lastCol]};s.push(Ae("div",{key:PI(l.eventRange),className:"fc-daygrid-bg-harness",style:_},i==="bg-event"?Ae(ED,ze({seg:l},No(l,a))):xD(i)))}return Ae.apply(void 0,Yi([dr,{}],s))},e.prototype.updateSizing=function(t){var i=this,r=i.props,a=i.frameElRefs;if(!r.forPrint&&r.clientWidth!==null){if(t){var o=r.cells.map(function(_){return a.currentMap[_.key]});if(o.length){var s=this.rootElRef.current;this.setState({framePositions:new Qf(s,o,!0,!1)})}}var u=this.state.eventInstanceHeights,c=this.queryEventInstanceHeights(),l=r.dayMaxEvents===!0||r.dayMaxEventRows===!0;this.safeSetState({eventInstanceHeights:ze(ze({},u),c),maxContentHeight:l?this.computeMaxContentHeight():null})}},e.prototype.queryEventInstanceHeights=function(){var t=this.segHarnessRefs.currentMap,i={};for(var r in t){var a=Math.round(t[r].getBoundingClientRect().height),o=r.split(":")[0];i[o]=Math.max(i[o]||0,a)}return i},e.prototype.computeMaxContentHeight=function(){var t=this.props.cells[0].key,i=this.cellElRefs.currentMap[t],r=this.fgElRefs.currentMap[t];return i.getBoundingClientRect().bottom-r.getBoundingClientRect().top},e.prototype.getCellEls=function(){var t=this.cellElRefs.currentMap;return this.props.cells.map(function(i){return t[i.key]})},e}(co);PD.addStateEquality({eventInstanceHeights:Wo});function IU(n,e){if(!n.length)return[];var t=DU(e);return n.map(function(i){return{seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}})}function DU(n){for(var e={},t=0,i=n;t<i.length;t++)for(var r=i[t],a=0,o=r;a<o.length;a++){var s=o[a];e[s.seg.eventRange.instance.instanceId]=s.absoluteTop}return e}var AU=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.splitBusinessHourSegs=_n(dg),t.splitBgEventSegs=_n(dg),t.splitFgEventSegs=_n(dg),t.splitDateSelectionSegs=_n(dg),t.splitEventDrag=_n(zx),t.splitEventResize=_n(zx),t.rowRefs=new ko,t.handleRootEl=function(i){t.rootEl=i,i?t.context.registerInteractiveComponent(t,{el:i,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t}return e.prototype.render=function(){var t=this,i=this.props,r=i.dateProfile,a=i.dayMaxEventRows,o=i.dayMaxEvents,s=i.expandRows,u=i.cells.length,c=this.splitBusinessHourSegs(i.businessHourSegs,u),l=this.splitBgEventSegs(i.bgEventSegs,u),_=this.splitFgEventSegs(i.fgEventSegs,u),I=this.splitDateSelectionSegs(i.dateSelectionSegs,u),M=this.splitEventDrag(i.eventDrag,u),P=this.splitEventResize(i.eventResize,u),N=o===!0||a===!0;N&&!s&&(N=!1,a=null,o=null);var b=["fc-daygrid-body",N?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"];return Ae("div",{className:b.join(" "),ref:this.handleRootEl,style:{width:i.clientWidth,minWidth:i.tableMinWidth}},Ae(Td,{unit:"day"},function(f,v){return Ae(dr,null,Ae("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:i.clientWidth,minWidth:i.tableMinWidth,height:s?i.clientHeight:""}},i.colGroupNode,Ae("tbody",{role:"presentation"},i.cells.map(function(m,d){return Ae(PD,{ref:t.rowRefs.createRef(d),key:m.length?m[0].date.toISOString():d,showDayNumbers:u>1,showWeekNumbers:i.showWeekNumbers,todayRange:v,dateProfile:r,cells:m,renderIntro:i.renderRowIntro,businessHourSegs:c[d],eventSelection:i.eventSelection,bgEventSegs:l[d].filter(MU),fgEventSegs:_[d],dateSelectionSegs:I[d],eventDrag:M[d],eventResize:P[d],dayMaxEvents:o,dayMaxEventRows:a,clientWidth:i.clientWidth,clientHeight:i.clientHeight,forPrint:i.forPrint})}))))}))},e.prototype.prepareHits=function(){this.rowPositions=new Qf(this.rootEl,this.rowRefs.collect().map(function(t){return t.getCellEls()[0]}),!1,!0),this.colPositions=new Qf(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},e.prototype.queryHit=function(t,i){var r=this,a=r.colPositions,o=r.rowPositions,s=a.leftToIndex(t),u=o.topToIndex(i);if(u!=null&&s!=null){var c=this.props.cells[u][s];return{dateProfile:this.props.dateProfile,dateSpan:ze({range:this.getCellRange(u,s),allDay:!0},c.extraDateSpan),dayEl:this.getCellEl(u,s),rect:{left:a.lefts[s],right:a.rights[s],top:o.tops[u],bottom:o.bottoms[u]},layer:0}}return null},e.prototype.getCellEl=function(t,i){return this.rowRefs.currentMap[t].getCellEls()[i]},e.prototype.getCellRange=function(t,i){var r=this.props.cells[t][i].date,a=Nr(r,1);return{start:r,end:a}},e}(co);function MU(n){return n.eventRange.def.allDay}var OU=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.forceDayIfListItem=!0,t}return e.prototype.sliceRange=function(t,i){return i.sliceRange(t)},e}(gD),LD=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.slicer=new OU,t.tableRef=pr(),t}return e.prototype.render=function(){var t=this,i=t.props,r=t.context;return Ae(AU,ze({ref:this.tableRef},this.slicer.sliceProps(i,i.dateProfile,i.nextDayThreshold,r,i.dayTableModel),{dateProfile:i.dateProfile,cells:i.dayTableModel.cells,colGroupNode:i.colGroupNode,tableMinWidth:i.tableMinWidth,renderRowIntro:i.renderRowIntro,dayMaxEvents:i.dayMaxEvents,dayMaxEventRows:i.dayMaxEventRows,showWeekNumbers:i.showWeekNumbers,expandRows:i.expandRows,headerAlignElRef:i.headerAlignElRef,clientWidth:i.clientWidth,clientHeight:i.clientHeight,forPrint:i.forPrint}))},e}(co),kU=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.buildDayTableModel=_n(PU),t.headerRef=pr(),t.tableRef=pr(),t}return e.prototype.render=function(){var t=this,i=this.context,r=i.options,a=i.dateProfileGenerator,o=this.props,s=this.buildDayTableModel(o.dateProfile,a),u=r.dayHeaders&&Ae(fD,{ref:this.headerRef,dateProfile:o.dateProfile,dates:s.headerDates,datesRepDistinctDays:s.rowCnt===1}),c=function(l){return Ae(LD,{ref:t.tableRef,dateProfile:o.dateProfile,dayTableModel:s,businessHours:o.businessHours,dateSelection:o.dateSelection,eventStore:o.eventStore,eventUiBases:o.eventUiBases,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,nextDayThreshold:r.nextDayThreshold,colGroupNode:l.tableColGroupNode,tableMinWidth:l.tableMinWidth,dayMaxEvents:r.dayMaxEvents,dayMaxEventRows:r.dayMaxEventRows,showWeekNumbers:r.weekNumbers,expandRows:!o.isHeightAuto,headerAlignElRef:t.headerElRef,clientWidth:l.clientWidth,clientHeight:l.clientHeight,forPrint:o.forPrint})};return r.dayMinWidth?this.renderHScrollLayout(u,c,s.colCnt,r.dayMinWidth):this.renderSimpleLayout(u,c)},e}(gU);function PU(n,e){var t=new dD(n.renderRange,e);return new pD(t,/year|month|week/.test(n.currentRangeUnit))}var LU=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.buildRenderRange=function(t,i,r){var a=this.props.dateEnv,o=n.prototype.buildRenderRange.call(this,t,i,r),s=o.start,u=o.end,c;if(/^(year|month)$/.test(i)&&(s=a.startOfWeek(s),c=a.startOfWeek(u),c.valueOf()!==u.valueOf()&&(u=vx(c,1))),this.props.monthMode&&this.props.fixedWeekCount){var l=Math.ceil(h5(s,u));u=vx(u,6-l)}return{start:s,end:u}},e}(qI),RU=uo({initialView:"dayGridMonth",views:{dayGrid:{component:kU,dateProfileGeneratorClass:LU},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});/*!
FullCalendar v5.11.3
Docs & License: https://fullcalendar.io/
(c) 2022 Adam Shaw
*/var NU=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},e.prototype.getKeysForDateSpan=function(t){return t.allDay?["allDay"]:["timed"]},e.prototype.getKeysForEventDef=function(t){return t.allDay?c4(t)?["timed","allDay"]:["allDay"]:["timed"]},e}(Z4),FU=Pi({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function RD(n){var e=["fc-timegrid-slot","fc-timegrid-slot-label",n.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return Ae(Go.Consumer,null,function(t){if(!n.isLabeled)return Ae("td",{className:e.join(" "),"data-time":n.isoTimeStr});var i=t.dateEnv,r=t.options,a=t.viewApi,o=r.slotLabelFormat==null?FU:Array.isArray(r.slotLabelFormat)?Pi(r.slotLabelFormat[0]):Pi(r.slotLabelFormat),s={level:0,time:n.time,date:i.toDate(n.date),view:a,text:i.format(n.date,o)};return Ae(Wa,{hookProps:s,classNames:r.slotLabelClassNames,content:r.slotLabelContent,defaultContent:jU,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},function(u,c,l,_){return Ae("td",{ref:u,className:e.concat(c).join(" "),"data-time":n.isoTimeStr},Ae("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},Ae("div",{className:"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion",ref:l},_)))})})}function jU(n){return n.text}var BU=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){return this.props.slatMetas.map(function(t){return Ae("tr",{key:t.key},Ae(RD,ze({},t)))})},e}(ci),HU=Pi({week:"short"}),zU=5,WU=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.allDaySplitter=new NU,t.headerElRef=pr(),t.rootElRef=pr(),t.scrollerElRef=pr(),t.state={slatCoords:null},t.handleScrollTopRequest=function(i){var r=t.scrollerElRef.current;r&&(r.scrollTop=i)},t.renderHeadAxis=function(i,r){r===void 0&&(r="");var a=t.context.options,o=t.props.dateProfile,s=o.renderRange,u=Wl(s.start,s.end),c=u===1?Eh(t.context,s.start,"week"):{};return a.weekNumbers&&i==="day"?Ae(TD,{date:s.start,defaultFormat:HU},function(l,_,I,M){return Ae("th",{ref:l,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(_).join(" ")},Ae("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:r}},Ae("a",ze({ref:I,className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner"},c),M)))}):Ae("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},Ae("div",{className:"fc-timegrid-axis-frame",style:{height:r}}))},t.renderTableRowAxis=function(i){var r=t.context,a=r.options,o=r.viewApi,s={text:a.allDayText,view:o};return Ae(Wa,{hookProps:s,classNames:a.allDayClassNames,content:a.allDayContent,defaultContent:UU,didMount:a.allDayDidMount,willUnmount:a.allDayWillUnmount},function(u,c,l,_){return Ae("td",{ref:u,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(c).join(" ")},Ae("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame"+(i==null?" fc-timegrid-axis-frame-liquid":""),style:{height:i}},Ae("span",{className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner",ref:l},_)))})},t.handleSlatCoords=function(i){t.setState({slatCoords:i})},t}return e.prototype.renderSimpleLayout=function(t,i,r){var a=this,o=a.context,s=a.props,u=[],c=hv(o.options);return t&&u.push({type:"header",key:"header",isSticky:c,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),i&&(u.push({type:"body",key:"all-day",chunk:{content:i}}),u.push({type:"body",key:"all-day-divider",outerContent:Ae("tr",{role:"presentation",className:"fc-scrollgrid-section"},Ae("td",{className:"fc-timegrid-divider "+o.theme.getClass("tableCellShaded")}))})),u.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(o.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:r}}),Ae(Th,{viewSpec:o.viewSpec,elRef:this.rootElRef},function(l,_){return Ae("div",{className:["fc-timegrid"].concat(_).join(" "),ref:l},Ae(iC,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:u}))})},e.prototype.renderHScrollLayout=function(t,i,r,a,o,s,u){var c=this,l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");var _=this,I=_.context,M=_.props,P=!M.forPrint&&hv(I.options),N=!M.forPrint&&CD(I.options),b=[];t&&b.push({type:"header",key:"header",isSticky:P,syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(v){return Ae("tr",{role:"presentation"},c.renderHeadAxis("day",v.rowSyncHeights[0]))}},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),i&&(b.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(v){return Ae("tr",{role:"presentation"},c.renderTableRowAxis(v.rowSyncHeights[0]))}},{key:"cols",content:i}]}),b.push({key:"all-day-divider",type:"body",outerContent:Ae("tr",{role:"presentation",className:"fc-scrollgrid-section"},Ae("td",{colSpan:2,className:"fc-timegrid-divider "+I.theme.getClass("tableCellShaded")}))}));var f=I.options.nowIndicator;return b.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(I.options.expandRows),chunks:[{key:"axis",content:function(v){return Ae("div",{className:"fc-timegrid-axis-chunk"},Ae("table",{"aria-hidden":!0,style:{height:v.expandRows?v.clientHeight:""}},v.tableColGroupNode,Ae("tbody",null,Ae(BU,{slatMetas:s}))),Ae("div",{className:"fc-timegrid-now-indicator-container"},Ae(Td,{unit:f?"minute":"day"},function(m){var d=f&&u&&u.safeComputeTop(m);return typeof d=="number"?Ae(rC,{isAxis:!0,date:m},function(g,h,C,D){return Ae("div",{ref:g,className:["fc-timegrid-now-indicator-arrow"].concat(h).join(" "),style:{top:d}},D)}):null})))}},{key:"cols",scrollerElRef:this.scrollerElRef,content:r}]}),N&&b.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:b0},{key:"cols",content:b0}]}),Ae(Th,{viewSpec:I.viewSpec,elRef:this.rootElRef},function(v,m){return Ae("div",{className:["fc-timegrid"].concat(m).join(" "),ref:v},Ae(l,{liquid:!M.isHeightAuto&&!M.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:a,minWidth:o}]}],sections:b}))})},e.prototype.getAllDayMaxEventProps=function(){var t=this.context.options,i=t.dayMaxEvents,r=t.dayMaxEventRows;return(i===!0||r===!0)&&(i=void 0,r=zU),{dayMaxEvents:i,dayMaxEventRows:r}},e}(co);function UU(n){return n.text}var YU=function(){function n(e,t,i){this.positions=e,this.dateProfile=t,this.slotDuration=i}return n.prototype.safeComputeTop=function(e){var t=this.dateProfile;if(Al(t.currentRange,e)){var i=xi(e),r=e.valueOf()-i.valueOf();if(r>=Ms(t.slotMinTime)&&r<Ms(t.slotMaxTime))return this.computeTimeTop(oi(r))}return null},n.prototype.computeDateTop=function(e,t){return t||(t=xi(e)),this.computeTimeTop(oi(e.valueOf()-t.valueOf()))},n.prototype.computeTimeTop=function(e){var t=this,i=t.positions,r=t.dateProfile,a=i.els.length,o=(e.milliseconds-Ms(r.slotMinTime))/Ms(this.slotDuration),s,u;return o=Math.max(0,o),o=Math.min(a,o),s=Math.floor(o),s=Math.min(s,a-1),u=o-s,i.tops[s]+i.getHeight(s)*u},n}(),GU=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this,i=t.props,r=t.context,a=r.options,o=i.slatElRefs;return Ae("tbody",null,i.slatMetas.map(function(s,u){var c={time:s.time,date:r.dateEnv.toDate(s.date),view:r.viewApi},l=["fc-timegrid-slot","fc-timegrid-slot-lane",s.isLabeled?"":"fc-timegrid-slot-minor"];return Ae("tr",{key:s.key,ref:o.createRef(s.key)},i.axis&&Ae(RD,ze({},s)),Ae(Wa,{hookProps:c,classNames:a.slotLaneClassNames,content:a.slotLaneContent,didMount:a.slotLaneDidMount,willUnmount:a.slotLaneWillUnmount},function(_,I,M,P){return Ae("td",{ref:_,className:l.concat(I).join(" "),"data-time":s.isoTimeStr},P)}))}))},e}(ci),$U=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.rootElRef=pr(),t.slatElRefs=new ko,t}return e.prototype.render=function(){var t=this,i=t.props,r=t.context;return Ae("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},Ae("table",{"aria-hidden":!0,className:r.theme.getClass("table"),style:{minWidth:i.tableMinWidth,width:i.clientWidth,height:i.minHeight}},i.tableColGroupNode,Ae(GU,{slatElRefs:this.slatElRefs,axis:i.axis,slatMetas:i.slatMetas})))},e.prototype.componentDidMount=function(){this.updateSizing()},e.prototype.componentDidUpdate=function(){this.updateSizing()},e.prototype.componentWillUnmount=function(){this.props.onCoords&&this.props.onCoords(null)},e.prototype.updateSizing=function(){var t=this,i=t.context,r=t.props;if(r.onCoords&&r.clientWidth!==null){var a=this.rootElRef.current;a.offsetHeight&&r.onCoords(new YU(new Qf(this.rootElRef.current,VU(this.slatElRefs.currentMap,r.slatMetas),!1,!0),this.props.dateProfile,i.options.slotDuration))}},e}(ci);function VU(n,e){return e.map(function(t){return n[t.key]})}function Mf(n,e){var t=[],i;for(i=0;i<e;i+=1)t.push([]);if(n)for(i=0;i<n.length;i+=1)t[n[i].col].push(n[i]);return t}function Wx(n,e){var t=[];if(n){for(var i=0;i<e;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(var r=0,a=n.segs;r<a.length;r++){var o=a[r];t[o.col].segs.push(o)}}else for(var i=0;i<e;i+=1)t[i]=null;return t}var XU=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.rootElRef=pr(),t}return e.prototype.render=function(){var t=this,i=this.props;return Ae(ID,{allDayDate:null,moreCnt:i.hiddenSegs.length,allSegs:i.hiddenSegs,hiddenSegs:i.hiddenSegs,alignmentElRef:this.rootElRef,defaultContent:ZU,extraDateSpan:i.extraDateSpan,dateProfile:i.dateProfile,todayRange:i.todayRange,popoverContent:function(){return FD(i.hiddenSegs,i)}},function(r,a,o,s,u,c,l,_){return Ae("a",{ref:function(I){Ps(r,I),Ps(t.rootElRef,I)},className:["fc-timegrid-more-link"].concat(a).join(" "),style:{top:i.top,bottom:i.bottom},onClick:u,title:c,"aria-expanded":l,"aria-controls":_},Ae("div",{ref:o,className:"fc-timegrid-more-link-inner fc-sticky"},s))})},e}(ci);function ZU(n){return n.shortText}function JU(n,e,t){var i=new lD;e!=null&&(i.strictOrder=e),t!=null&&(i.maxStackCnt=t);var r=i.addSegs(n),a=T3(r),o=KU(i);o=tY(o,1);var s=nY(o);return{segRects:s,hiddenGroups:a}}function KU(n){var e=n.entriesByLevel,t=oC(function(i,r){return i+":"+r},function(i,r){var a=eY(n,i,r),o=Ux(a,t),s=e[i][r];return[ze(ze({},s),{nextLevelNodes:o[0]}),s.thickness+o[1]]});return Ux(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,t)[0]}function Ux(n,e){if(!n)return[[],0];for(var t=n.level,i=n.lateralStart,r=n.lateralEnd,a=i,o=[];a<r;)o.push(e(t,a)),a+=1;return o.sort(QU),[o.map(qU),o[0][1]]}function QU(n,e){return e[1]-n[1]}function qU(n){return n[0]}function eY(n,e,t){for(var i=n.levelCoords,r=n.entriesByLevel,a=r[e][t],o=i[e]+a.thickness,s=i.length,u=e;u<s&&i[u]<o;u+=1);for(;u<s;u+=1){for(var c=r[u],l=void 0,_=m0(c,a.span.start,v0),I=_[0]+_[1],M=I;(l=c[M])&&l.span.start<a.span.end;)M+=1;if(I<M)return{level:u,lateralStart:I,lateralEnd:M}}return null}function tY(n,e){var t=oC(function(i,r,a){return Dc(i)},function(i,r,a){var o=i.nextLevelNodes,s=i.thickness,u=s+a,c=s/u,l,_=[];if(!o.length)l=e;else for(var I=0,M=o;I<M.length;I++){var P=M[I];if(l===void 0){var N=t(P,r,u);l=N[0],_.push(N[1])}else{var N=t(P,l,0);_.push(N[1])}}var b=(l-r)*c;return[l-b,ze(ze({},i),{thickness:b,nextLevelNodes:_})]});return n.map(function(i){return t(i,0,0)[1]})}function nY(n){var e=[],t=oC(function(r,a,o){return Dc(r)},function(r,a,o){var s=ze(ze({},r),{levelCoord:a,stackDepth:o,stackForward:0});return e.push(s),s.stackForward=i(r.nextLevelNodes,a+r.thickness,o+1)+1});function i(r,a,o){for(var s=0,u=0,c=r;u<c.length;u++){var l=c[u];s=Math.max(t(l,a,o),s)}return s}return i(n,0,0),e}function oC(n,e){var t={};return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var a=n.apply(void 0,i);return a in t?t[a]:t[a]=e.apply(void 0,i)}}function Yx(n,e,t,i){t===void 0&&(t=null),i===void 0&&(i=0);var r=[];if(t)for(var a=0;a<n.length;a+=1){var o=n[a],s=t.computeDateTop(o.start,e),u=Math.max(s+(i||0),t.computeDateTop(o.end,e));r.push({start:Math.round(s),end:Math.round(u)})}return r}function iY(n,e,t,i){for(var r=[],a=[],o=0;o<n.length;o+=1){var s=e[o];s?r.push({index:o,thickness:1,span:s}):a.push(n[o])}for(var u=JU(r,t,i),c=u.segRects,l=u.hiddenGroups,_=[],I=0,M=c;I<M.length;I++){var P=M[I];_.push({seg:n[P.index],rect:P})}for(var N=0,b=a;N<b.length;N++){var f=b[N];_.push({seg:f,rect:null})}return{segPlacements:_,hiddenGroups:l}}var rY=Pi({hour:"numeric",minute:"2-digit",meridiem:!1}),ND=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=["fc-timegrid-event","fc-v-event"];return this.props.isShort&&t.push("fc-timegrid-event-short"),Ae(SD,ze({},this.props,{defaultTimeFormat:rY,extraClassNames:t}))},e}(ci),aY=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this.props;return Ae(aC,{date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraHookProps:t.extraHookProps},function(i,r){return r&&Ae("div",{className:"fc-timegrid-col-misc",ref:i},r)})},e}(ci),sY=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.sortEventSegs=_n(Yw),t}return e.prototype.render=function(){var t=this,i=this,r=i.props,a=i.context,o=a.options.selectMirror,s=r.eventDrag&&r.eventDrag.segs||r.eventResize&&r.eventResize.segs||o&&r.dateSelectionSegs||[],u=r.eventDrag&&r.eventDrag.affectedInstances||r.eventResize&&r.eventResize.affectedInstances||{},c=this.sortEventSegs(r.fgEventSegs,a.options.eventOrder);return Ae(sC,{elRef:r.elRef,date:r.date,dateProfile:r.dateProfile,todayRange:r.todayRange,extraHookProps:r.extraHookProps},function(l,_,I){return Ae("td",ze({ref:l,role:"gridcell",className:["fc-timegrid-col"].concat(_,r.extraClassNames||[]).join(" ")},I,r.extraDataAttrs),Ae("div",{className:"fc-timegrid-col-frame"},Ae("div",{className:"fc-timegrid-col-bg"},t.renderFillSegs(r.businessHourSegs,"non-business"),t.renderFillSegs(r.bgEventSegs,"bg-event"),t.renderFillSegs(r.dateSelectionSegs,"highlight")),Ae("div",{className:"fc-timegrid-col-events"},t.renderFgSegs(c,u,!1,!1,!1)),Ae("div",{className:"fc-timegrid-col-events"},t.renderFgSegs(s,{},Boolean(r.eventDrag),Boolean(r.eventResize),Boolean(o))),Ae("div",{className:"fc-timegrid-now-indicator-container"},t.renderNowIndicator(r.nowIndicatorSegs)),Ae(aY,{date:r.date,dateProfile:r.dateProfile,todayRange:r.todayRange,extraHookProps:r.extraHookProps})))})},e.prototype.renderFgSegs=function(t,i,r,a,o){var s=this.props;return s.forPrint?FD(t,s):this.renderPositionedFgSegs(t,i,r,a,o)},e.prototype.renderPositionedFgSegs=function(t,i,r,a,o){var s=this,u=this.context.options,c=u.eventMaxStack,l=u.eventShortHeight,_=u.eventOrderStrict,I=u.eventMinHeight,M=this.props,P=M.date,N=M.slatCoords,b=M.eventSelection,f=M.todayRange,v=M.nowDate,m=r||a||o,d=Yx(t,P,N,I),g=iY(t,d,_,c),h=g.segPlacements,C=g.hiddenGroups;return Ae(dr,null,this.renderHiddenGroups(C,t),h.map(function(D){var S=D.seg,k=D.rect,L=S.eventRange.instance.instanceId,B=m||Boolean(!i[L]&&k),z=Eb(k&&k.span),X=!m&&k?s.computeSegHStyle(k):{left:0,right:0},ee=Boolean(k)&&k.stackForward>0,ce=Boolean(k)&&k.span.end-k.span.start<l;return Ae("div",{className:"fc-timegrid-event-harness"+(ee?" fc-timegrid-event-harness-inset":""),key:L,style:ze(ze({visibility:B?"":"hidden"},z),X)},Ae(ND,ze({seg:S,isDragging:r,isResizing:a,isDateSelecting:o,isSelected:L===b,isShort:ce},No(S,f,v))))}))},e.prototype.renderHiddenGroups=function(t,i){var r=this.props,a=r.extraDateSpan,o=r.dateProfile,s=r.todayRange,u=r.nowDate,c=r.eventSelection,l=r.eventDrag,_=r.eventResize;return Ae(dr,null,t.map(function(I){var M=Eb(I.span),P=oY(I.entries,i);return Ae(XU,{key:TI(DD(P)),hiddenSegs:P,top:M.top,bottom:M.bottom,extraDateSpan:a,dateProfile:o,todayRange:s,nowDate:u,eventSelection:c,eventDrag:l,eventResize:_})}))},e.prototype.renderFillSegs=function(t,i){var r=this,a=r.props,o=r.context,s=Yx(t,a.date,a.slatCoords,o.options.eventMinHeight),u=s.map(function(c,l){var _=t[l];return Ae("div",{key:PI(_.eventRange),className:"fc-timegrid-bg-harness",style:Eb(c)},i==="bg-event"?Ae(ED,ze({seg:_},No(_,a.todayRange,a.nowDate))):xD(i))});return Ae(dr,null,u)},e.prototype.renderNowIndicator=function(t){var i=this.props,r=i.slatCoords,a=i.date;return r?t.map(function(o,s){return Ae(rC,{isAxis:!1,date:a,key:s},function(u,c,l,_){return Ae("div",{ref:u,className:["fc-timegrid-now-indicator-line"].concat(c).join(" "),style:{top:r.computeDateTop(o.start,a)}},_)})}):null},e.prototype.computeSegHStyle=function(t){var i=this.context,r=i.isRtl,a=i.options,o=a.slotEventOverlap,s=t.levelCoord,u=t.levelCoord+t.thickness,c,l;o&&(u=Math.min(1,s+(u-s)*2)),r?(c=1-u,l=s):(c=s,l=1-u);var _={zIndex:t.stackDepth+1,left:c*100+"%",right:l*100+"%"};return o&&!t.stackForward&&(_[r?"marginLeft":"marginRight"]=10*2),_},e}(ci);function FD(n,e){var t=e.todayRange,i=e.nowDate,r=e.eventSelection,a=e.eventDrag,o=e.eventResize,s=(a?a.affectedInstances:null)||(o?o.affectedInstances:null)||{};return Ae(dr,null,n.map(function(u){var c=u.eventRange.instance.instanceId;return Ae("div",{key:c,style:{visibility:s[c]?"hidden":""}},Ae(ND,ze({seg:u,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===r,isShort:!1},No(u,t,i))))}))}function Eb(n){return n?{top:n.start,bottom:-n.end}:{top:"",bottom:""}}function oY(n,e){return n.map(function(t){return e[t.index]})}var lY=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.splitFgEventSegs=_n(Mf),t.splitBgEventSegs=_n(Mf),t.splitBusinessHourSegs=_n(Mf),t.splitNowIndicatorSegs=_n(Mf),t.splitDateSelectionSegs=_n(Mf),t.splitEventDrag=_n(Wx),t.splitEventResize=_n(Wx),t.rootElRef=pr(),t.cellElRefs=new ko,t}return e.prototype.render=function(){var t=this,i=this,r=i.props,a=i.context,o=a.options.nowIndicator&&r.slatCoords&&r.slatCoords.safeComputeTop(r.nowDate),s=r.cells.length,u=this.splitFgEventSegs(r.fgEventSegs,s),c=this.splitBgEventSegs(r.bgEventSegs,s),l=this.splitBusinessHourSegs(r.businessHourSegs,s),_=this.splitNowIndicatorSegs(r.nowIndicatorSegs,s),I=this.splitDateSelectionSegs(r.dateSelectionSegs,s),M=this.splitEventDrag(r.eventDrag,s),P=this.splitEventResize(r.eventResize,s);return Ae("div",{className:"fc-timegrid-cols",ref:this.rootElRef},Ae("table",{role:"presentation",style:{minWidth:r.tableMinWidth,width:r.clientWidth}},r.tableColGroupNode,Ae("tbody",{role:"presentation"},Ae("tr",{role:"row"},r.axis&&Ae("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},Ae("div",{className:"fc-timegrid-col-frame"},Ae("div",{className:"fc-timegrid-now-indicator-container"},typeof o=="number"&&Ae(rC,{isAxis:!0,date:r.nowDate},function(N,b,f,v){return Ae("div",{ref:N,className:["fc-timegrid-now-indicator-arrow"].concat(b).join(" "),style:{top:o}},v)})))),r.cells.map(function(N,b){return Ae(sY,{key:N.key,elRef:t.cellElRefs.createRef(N.key),dateProfile:r.dateProfile,date:N.date,nowDate:r.nowDate,todayRange:r.todayRange,extraHookProps:N.extraHookProps,extraDataAttrs:N.extraDataAttrs,extraClassNames:N.extraClassNames,extraDateSpan:N.extraDateSpan,fgEventSegs:u[b],bgEventSegs:c[b],businessHourSegs:l[b],nowIndicatorSegs:_[b],dateSelectionSegs:I[b],eventDrag:M[b],eventResize:P[b],slatCoords:r.slatCoords,eventSelection:r.eventSelection,forPrint:r.forPrint})})))))},e.prototype.componentDidMount=function(){this.updateCoords()},e.prototype.componentDidUpdate=function(){this.updateCoords()},e.prototype.updateCoords=function(){var t=this.props;t.onColCoords&&t.clientWidth!==null&&t.onColCoords(new Qf(this.rootElRef.current,cY(this.cellElRefs.currentMap,t.cells),!0,!1))},e}(ci);function cY(n,e){return e.map(function(t){return n[t.key]})}var uY=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.processSlotOptions=_n(hY),t.state={slatCoords:null},t.handleRootEl=function(i){i?t.context.registerInteractiveComponent(t,{el:i,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t.handleScrollRequest=function(i){var r=t.props.onScrollTopRequest,a=t.state.slatCoords;if(r&&a){if(i.time){var o=a.computeTimeTop(i.time);o=Math.ceil(o),o&&(o+=1),r(o)}return!0}return!1},t.handleColCoords=function(i){t.colCoords=i},t.handleSlatCoords=function(i){t.setState({slatCoords:i}),t.props.onSlatCoords&&t.props.onSlatCoords(i)},t}return e.prototype.render=function(){var t=this,i=t.props,r=t.state;return Ae("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:i.clientWidth,minWidth:i.tableMinWidth}},Ae($U,{axis:i.axis,dateProfile:i.dateProfile,slatMetas:i.slatMetas,clientWidth:i.clientWidth,minHeight:i.expandRows?i.clientHeight:"",tableMinWidth:i.tableMinWidth,tableColGroupNode:i.axis?i.tableColGroupNode:null,onCoords:this.handleSlatCoords}),Ae(lY,{cells:i.cells,axis:i.axis,dateProfile:i.dateProfile,businessHourSegs:i.businessHourSegs,bgEventSegs:i.bgEventSegs,fgEventSegs:i.fgEventSegs,dateSelectionSegs:i.dateSelectionSegs,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,todayRange:i.todayRange,nowDate:i.nowDate,nowIndicatorSegs:i.nowIndicatorSegs,clientWidth:i.clientWidth,tableMinWidth:i.tableMinWidth,tableColGroupNode:i.tableColGroupNode,slatCoords:r.slatCoords,onColCoords:this.handleColCoords,forPrint:i.forPrint}))},e.prototype.componentDidMount=function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},e.prototype.componentDidUpdate=function(t){this.scrollResponder.update(t.dateProfile!==this.props.dateProfile)},e.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},e.prototype.queryHit=function(t,i){var r=this.context,a=r.dateEnv,o=r.options,s=this.colCoords,u=this.props.dateProfile,c=this.state.slatCoords,l=this.processSlotOptions(this.props.slotDuration,o.snapDuration),_=l.snapDuration,I=l.snapsPerSlot,M=s.leftToIndex(t),P=c.positions.topToIndex(i);if(M!=null&&P!=null){var N=this.props.cells[M],b=c.positions.tops[P],f=c.positions.getHeight(P),v=(i-b)/f,m=Math.floor(v*I),d=P*I+m,g=this.props.cells[M].date,h=c0(u.slotMinTime,M5(_,d)),C=a.add(g,h),D=a.add(C,_);return{dateProfile:u,dateSpan:ze({range:{start:C,end:D},allDay:!1},N.extraDateSpan),dayEl:s.els[M],rect:{left:s.lefts[M],right:s.rights[M],top:b,bottom:b+f},layer:0}}return null},e}(co);function hY(n,e){var t=e||n,i=Nw(n,t);return i===null&&(t=n,i=1),{snapDuration:t,snapsPerSlot:i}}var fY=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.sliceRange=function(t,i){for(var r=[],a=0;a<i.length;a+=1){var o=Fc(t,i[a]);o&&r.push({start:o.start,end:o.end,isStart:o.start.valueOf()===t.start.valueOf(),isEnd:o.end.valueOf()===t.end.valueOf(),col:a})}return r},e}(gD),dY=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.buildDayRanges=_n(pY),t.slicer=new fY,t.timeColsRef=pr(),t}return e.prototype.render=function(){var t=this,i=this,r=i.props,a=i.context,o=r.dateProfile,s=r.dayTableModel,u=a.options.nowIndicator,c=this.buildDayRanges(s,o,a.dateEnv);return Ae(Td,{unit:u?"minute":"day"},function(l,_){return Ae(uY,ze({ref:t.timeColsRef},t.slicer.sliceProps(r,o,null,a,c),{forPrint:r.forPrint,axis:r.axis,dateProfile:o,slatMetas:r.slatMetas,slotDuration:r.slotDuration,cells:s.cells[0],tableColGroupNode:r.tableColGroupNode,tableMinWidth:r.tableMinWidth,clientWidth:r.clientWidth,clientHeight:r.clientHeight,expandRows:r.expandRows,nowDate:l,nowIndicatorSegs:u&&t.slicer.sliceNowDate(l,a,c),todayRange:_,onScrollTopRequest:r.onScrollTopRequest,onSlatCoords:r.onSlatCoords}))})},e}(co);function pY(n,e,t){for(var i=[],r=0,a=n.headerDates;r<a.length;r++){var o=a[r];i.push({start:t.add(o,e.slotMinTime),end:t.add(o,e.slotMaxTime)})}return i}var Gx=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function gY(n,e,t,i,r){for(var a=new Date(0),o=n,s=oi(0),u=t||vY(i),c=[];Ms(o)<Ms(e);){var l=r.add(a,o),_=Nw(s,u)!==null;c.push({date:l,time:o,key:l.toISOString(),isoTimeStr:P5(l),isLabeled:_}),o=c0(o,i),s=c0(s,i)}return c}function vY(n){var e,t,i;for(e=Gx.length-1;e>=0;e-=1)if(t=oi(Gx[e]),i=Nw(t,n),i!==null&&i>1)return t;return n}var mY=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.buildTimeColsModel=_n(yY),t.buildSlatMetas=_n(gY),t}return e.prototype.render=function(){var t=this,i=this.context,r=i.options,a=i.dateEnv,o=i.dateProfileGenerator,s=this.props,u=s.dateProfile,c=this.buildTimeColsModel(u,o),l=this.allDaySplitter.splitProps(s),_=this.buildSlatMetas(u.slotMinTime,u.slotMaxTime,r.slotLabelInterval,r.slotDuration,a),I=r.dayMinWidth,M=!I,P=I,N=r.dayHeaders&&Ae(fD,{dates:c.headerDates,dateProfile:u,datesRepDistinctDays:!0,renderIntro:M?this.renderHeadAxis:null}),b=r.allDaySlot!==!1&&function(v){return Ae(LD,ze({},l.allDay,{dateProfile:u,dayTableModel:c,nextDayThreshold:r.nextDayThreshold,tableMinWidth:v.tableMinWidth,colGroupNode:v.tableColGroupNode,renderRowIntro:M?t.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:t.headerElRef,clientWidth:v.clientWidth,clientHeight:v.clientHeight,forPrint:s.forPrint},t.getAllDayMaxEventProps()))},f=function(v){return Ae(dY,ze({},l.timed,{dayTableModel:c,dateProfile:u,axis:M,slotDuration:r.slotDuration,slatMetas:_,forPrint:s.forPrint,tableColGroupNode:v.tableColGroupNode,tableMinWidth:v.tableMinWidth,clientWidth:v.clientWidth,clientHeight:v.clientHeight,onSlatCoords:t.handleSlatCoords,expandRows:v.expandRows,onScrollTopRequest:t.handleScrollTopRequest}))};return P?this.renderHScrollLayout(N,b,f,c.colCnt,I,_,this.state.slatCoords):this.renderSimpleLayout(N,b,f)},e}(WU);function yY(n,e){var t=new dD(n.renderRange,e);return new pD(t,!1)}var bY={allDaySlot:Boolean},wY=uo({initialView:"timeGridWeek",optionRefiners:bY,views:{timeGrid:{component:mY,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});/*!
FullCalendar v5.11.3
Docs & License: https://fullcalendar.io/
(c) 2022 Adam Shaw
*/var CY=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={textId:Dl()},t}return e.prototype.render=function(){var t=this.context,i=t.theme,r=t.dateEnv,a=t.options,o=t.viewApi,s=this.props,u=s.cellId,c=s.dayDate,l=s.todayRange,_=this.state.textId,I=Xw(c,l),M=a.listDayFormat?r.format(c,a.listDayFormat):"",P=a.listDaySideFormat?r.format(c,a.listDaySideFormat):"",N=ze({date:r.toDate(c),view:o,textId:_,text:M,sideText:P,navLinkAttrs:Eh(this.context,c),sideNavLinkAttrs:Eh(this.context,c,"day",!1)},I),b=["fc-list-day"].concat(Wv(I,i));return Ae(Wa,{hookProps:N,classNames:a.dayHeaderClassNames,content:a.dayHeaderContent,defaultContent:SY,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},function(f,v,m,d){return Ae("tr",{ref:f,className:b.concat(v).join(" "),"data-date":Bv(c)},Ae("th",{scope:"colgroup",colSpan:3,id:u,"aria-labelledby":_},Ae("div",{className:"fc-list-day-cushion "+i.getClass("tableCellShaded"),ref:m},d)))})},e}(ci);function SY(n){return Ae(dr,null,n.text&&Ae("a",ze({id:n.textId,className:"fc-list-day-text"},n.navLinkAttrs),n.text),n.sideText&&Ae("a",ze({"aria-hidden":!0,className:"fc-list-day-side-text"},n.sideNavLinkAttrs),n.sideText))}var _Y=Pi({hour:"numeric",minute:"2-digit",meridiem:"short"}),xY=function(n){sn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this,i=t.props,r=t.context,a=i.seg,o=i.timeHeaderId,s=i.eventHeaderId,u=i.dateHeaderId,c=r.options.eventTimeFormat||_Y;return Ae(Gv,{seg:a,timeText:"",disableDragging:!0,disableResizing:!0,defaultContent:function(){return EY(a,r)},isPast:i.isPast,isFuture:i.isFuture,isToday:i.isToday,isSelected:i.isSelected,isDragging:i.isDragging,isResizing:i.isResizing,isDateSelecting:i.isDateSelecting},function(l,_,I,M,P){return Ae("tr",{className:["fc-list-event",P.event.url?"fc-event-forced-url":""].concat(_).join(" "),ref:l},TY(a,c,r,o,u),Ae("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},Ae("span",{className:"fc-list-event-dot",style:{borderColor:P.borderColor||P.backgroundColor}})),Ae("td",{ref:I,headers:s+" "+u,className:"fc-list-event-title"},M))})},e}(ci);function EY(n,e){var t=Gw(n,e);return Ae("a",ze({},t),n.eventRange.def.title)}function TY(n,e,t,i,r){var a=t.options;if(a.displayEventTime!==!1){var o=n.eventRange.def,s=n.eventRange.instance,u=!1,c=void 0;if(o.allDay?u=!0:r4(n.eventRange.range)?n.isStart?c=Gf(n,e,t,null,null,s.range.start,n.end):n.isEnd?c=Gf(n,e,t,null,null,n.start,s.range.end):u=!0:c=Gf(n,e,t),u){var l={text:t.options.allDayText,view:t.viewApi};return Ae(Wa,{hookProps:l,classNames:a.allDayClassNames,content:a.allDayContent,defaultContent:IY,didMount:a.allDayDidMount,willUnmount:a.allDayWillUnmount},function(_,I,M,P){return Ae("td",{ref:_,headers:i+" "+r,className:["fc-list-event-time"].concat(I).join(" ")},P)})}return Ae("td",{className:"fc-list-event-time"},c)}return null}function IY(n){return n.text}var DY=function(n){sn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.computeDateVars=_n(MY),t.eventStoreToSegs=_n(t._eventStoreToSegs),t.state={timeHeaderId:Dl(),eventHeaderId:Dl(),dateHeaderIdRoot:Dl()},t.setRootEl=function(i){i?t.context.registerInteractiveComponent(t,{el:i}):t.context.unregisterInteractiveComponent(t)},t}return e.prototype.render=function(){var t=this,i=this,r=i.props,a=i.context,o=["fc-list",a.theme.getClass("table"),a.options.stickyHeaderDates!==!1?"fc-list-sticky":""],s=this.computeDateVars(r.dateProfile),u=s.dayDates,c=s.dayRanges,l=this.eventStoreToSegs(r.eventStore,r.eventUiBases,c);return Ae(Th,{viewSpec:a.viewSpec,elRef:this.setRootEl},function(_,I){return Ae("div",{ref:_,className:o.concat(I).join(" ")},Ae(bD,{liquid:!r.isHeightAuto,overflowX:r.isHeightAuto?"visible":"hidden",overflowY:r.isHeightAuto?"visible":"auto"},l.length>0?t.renderSegList(l,u):t.renderEmptyMessage()))})},e.prototype.renderEmptyMessage=function(){var t=this.context,i=t.options,r=t.viewApi,a={text:i.noEventsText,view:r};return Ae(Wa,{hookProps:a,classNames:i.noEventsClassNames,content:i.noEventsContent,defaultContent:AY,didMount:i.noEventsDidMount,willUnmount:i.noEventsWillUnmount},function(o,s,u,c){return Ae("div",{className:["fc-list-empty"].concat(s).join(" "),ref:o},Ae("div",{className:"fc-list-empty-cushion",ref:u},c))})},e.prototype.renderSegList=function(t,i){var r=this.context,a=r.theme,o=r.options,s=this.state,u=s.timeHeaderId,c=s.eventHeaderId,l=s.dateHeaderIdRoot,_=OY(t);return Ae(Td,{unit:"day"},function(I,M){for(var P=[],N=0;N<_.length;N+=1){var b=_[N];if(b){var f=Bv(i[N]),v=l+"-"+f;P.push(Ae(CY,{key:f,cellId:v,dayDate:i[N],todayRange:M})),b=Yw(b,o.eventOrder);for(var m=0,d=b;m<d.length;m++){var g=d[m];P.push(Ae(xY,ze({key:f+":"+g.eventRange.instance.instanceId,seg:g,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:u,eventHeaderId:c,dateHeaderId:v},No(g,M,I))))}}}return Ae("table",{className:"fc-list-table "+a.getClass("table")},Ae("thead",null,Ae("tr",null,Ae("th",{scope:"col",id:u},o.timeHint),Ae("th",{scope:"col","aria-hidden":!0}),Ae("th",{scope:"col",id:c},o.eventHint))),Ae("tbody",null,P))})},e.prototype._eventStoreToSegs=function(t,i,r){return this.eventRangesToSegs(p0(t,i,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,r)},e.prototype.eventRangesToSegs=function(t,i){for(var r=[],a=0,o=t;a<o.length;a++){var s=o[a];r.push.apply(r,this.eventRangeToSegs(s,i))}return r},e.prototype.eventRangeToSegs=function(t,i){var r=this.context.dateEnv,a=this.context.options.nextDayThreshold,o=t.range,s=t.def.allDay,u,c,l,_=[];for(u=0;u<i.length;u+=1)if(c=Fc(o,i[u]),c&&(l={component:this,eventRange:t,start:c.start,end:c.end,isStart:t.isStart&&c.start.valueOf()===o.start.valueOf(),isEnd:t.isEnd&&c.end.valueOf()===o.end.valueOf(),dayIndex:u},_.push(l),!l.isEnd&&!s&&u+1<i.length&&o.end<r.add(i[u+1].start,a))){l.end=o.end,l.isEnd=!0;break}return _},e}(co);function AY(n){return n.text}function MY(n){for(var e=xi(n.renderRange.start),t=n.renderRange.end,i=[],r=[];e<t;)i.push(e),r.push({start:e,end:Nr(e,1)}),e=Nr(e,1);return{dayDates:i,dayRanges:r}}function OY(n){var e=[],t,i;for(t=0;t<n.length;t+=1)i=n[t],(e[i.dayIndex]||(e[i.dayIndex]=[])).push(i);return e}var kY={listDayFormat:$x,listDaySideFormat:$x,noEventsClassNames:mt,noEventsContent:mt,noEventsDidMount:mt,noEventsWillUnmount:mt};function $x(n){return n===!1?null:Pi(n)}var PY=uo({optionRefiners:kY,views:{list:{component:DY,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});/*!
FullCalendar v5.11.3
Docs & License: https://fullcalendar.io/
(c) 2022 Adam Shaw
*/nC.touchMouseIgnoreWait=500;var w0=0,fv=0,C0=!1,lC=function(){function n(e){var t=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(i){if(!t.shouldIgnoreMouse()&&LY(i)&&t.tryStart(i)){var r=t.createEventFromMouse(i,!0);t.emitter.trigger("pointerdown",r),t.initScrollWatch(r),t.shouldIgnoreMove||document.addEventListener("mousemove",t.handleMouseMove),document.addEventListener("mouseup",t.handleMouseUp)}},this.handleMouseMove=function(i){var r=t.createEventFromMouse(i);t.recordCoords(r),t.emitter.trigger("pointermove",r)},this.handleMouseUp=function(i){document.removeEventListener("mousemove",t.handleMouseMove),document.removeEventListener("mouseup",t.handleMouseUp),t.emitter.trigger("pointerup",t.createEventFromMouse(i)),t.cleanup()},this.handleTouchStart=function(i){if(t.tryStart(i)){t.isTouchDragging=!0;var r=t.createEventFromTouch(i,!0);t.emitter.trigger("pointerdown",r),t.initScrollWatch(r);var a=i.target;t.shouldIgnoreMove||a.addEventListener("touchmove",t.handleTouchMove),a.addEventListener("touchend",t.handleTouchEnd),a.addEventListener("touchcancel",t.handleTouchEnd),window.addEventListener("scroll",t.handleTouchScroll,!0)}},this.handleTouchMove=function(i){var r=t.createEventFromTouch(i);t.recordCoords(r),t.emitter.trigger("pointermove",r)},this.handleTouchEnd=function(i){if(t.isDragging){var r=i.target;r.removeEventListener("touchmove",t.handleTouchMove),r.removeEventListener("touchend",t.handleTouchEnd),r.removeEventListener("touchcancel",t.handleTouchEnd),window.removeEventListener("scroll",t.handleTouchScroll,!0),t.emitter.trigger("pointerup",t.createEventFromTouch(i)),t.cleanup(),t.isTouchDragging=!1,RY()}},this.handleTouchScroll=function(){t.wasTouchScroll=!0},this.handleScroll=function(i){if(!t.shouldIgnoreMove){var r=window.pageXOffset-t.prevScrollX+t.prevPageX,a=window.pageYOffset-t.prevScrollY+t.prevPageY;t.emitter.trigger("pointermove",{origEvent:i,isTouch:t.isTouchDragging,subjectEl:t.subjectEl,pageX:r,pageY:a,deltaX:r-t.origPageX,deltaY:a-t.origPageY})}},this.containerEl=e,this.emitter=new Uv,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),NY()}return n.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),FY()},n.prototype.tryStart=function(e){var t=this.querySubjectEl(e),i=e.target;return t&&(!this.handleSelector||Wr(i,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1},n.prototype.cleanup=function(){C0=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},n.prototype.querySubjectEl=function(e){return this.selector?Wr(e.target,this.selector):this.containerEl},n.prototype.shouldIgnoreMouse=function(){return w0||this.isTouchDragging},n.prototype.cancelTouchScroll=function(){this.isDragging&&(C0=!0)},n.prototype.initScrollWatch=function(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))},n.prototype.recordCoords=function(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},n.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},n.prototype.createEventFromMouse=function(e,t){var i=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:r}},n.prototype.createEventFromTouch=function(e,t){var i=e.touches,r,a,o=0,s=0;return i&&i.length?(r=i[0].pageX,a=i[0].pageY):(r=e.pageX,a=e.pageY),t?(this.origPageX=r,this.origPageY=a):(o=r-this.origPageX,s=a-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:a,deltaX:o,deltaY:s}},n}();function LY(n){return n.button===0&&!n.ctrlKey}function RY(){w0+=1,setTimeout(function(){w0-=1},nC.touchMouseIgnoreWait)}function NY(){fv+=1,fv===1&&window.addEventListener("touchmove",jD,{passive:!1})}function FY(){fv-=1,fv||window.removeEventListener("touchmove",jD,{passive:!1})}function jD(n){C0&&n.preventDefault()}var jY=function(){function n(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return n.prototype.start=function(e,t,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=i-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},n.prototype.handleMove=function(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()},n.prototype.setIsVisible=function(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)},n.prototype.stop=function(e,t){var i=this,r=function(){i.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)},n.prototype.doRevertAnimation=function(e,t){var i=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",Wf(i,{left:r.left,top:r.top}),qz(i,function(){i.style.transition="",e()})},n.prototype.cleanup=function(){this.mirrorEl&&(Mw(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},n.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&Wf(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},n.prototype.getMirrorEl=function(){var e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.classList.add("fc-unselectable"),t.classList.add("fc-event-dragging"),Wf(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t},n}(),BD=function(n){sn(e,n);function e(t,i){var r=n.call(this)||this;return r.handleScroll=function(){r.scrollTop=r.scrollController.getScrollTop(),r.scrollLeft=r.scrollController.getScrollLeft(),r.handleScrollChange()},r.scrollController=t,r.doesListening=i,r.scrollTop=r.origScrollTop=t.getScrollTop(),r.scrollLeft=r.origScrollLeft=t.getScrollLeft(),r.scrollWidth=t.getScrollWidth(),r.scrollHeight=t.getScrollHeight(),r.clientWidth=t.getClientWidth(),r.clientHeight=t.getClientHeight(),r.clientRect=r.computeClientRect(),r.doesListening&&r.getEventTarget().addEventListener("scroll",r.handleScroll),r}return e.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},e.prototype.getScrollTop=function(){return this.scrollTop},e.prototype.getScrollLeft=function(){return this.scrollLeft},e.prototype.setScrollTop=function(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())},e.prototype.setScrollLeft=function(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())},e.prototype.getClientWidth=function(){return this.clientWidth},e.prototype.getClientHeight=function(){return this.clientHeight},e.prototype.getScrollWidth=function(){return this.scrollWidth},e.prototype.getScrollHeight=function(){return this.scrollHeight},e.prototype.handleScrollChange=function(){},e}(Jw),HD=function(n){sn(e,n);function e(t,i){return n.call(this,new cW(t),i)||this}return e.prototype.getEventTarget=function(){return this.scrollController.el},e.prototype.computeClientRect=function(){return rW(this.scrollController.el)},e}(BD),BY=function(n){sn(e,n);function e(t){return n.call(this,new uW,t)||this}return e.prototype.getEventTarget=function(){return window},e.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},e.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},e}(BD),Vx=typeof performance=="function"?performance.now:Date.now,HY=function(){function n(){var e=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(e.isAnimating){var t=e.computeBestEdge(e.pointerScreenX+window.pageXOffset,e.pointerScreenY+window.pageYOffset);if(t){var i=Vx();e.handleSide(t,(i-e.msSinceRequest)/1e3),e.requestAnimation(i)}else e.isAnimating=!1}}}return n.prototype.start=function(e,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))},n.prototype.handleMove=function(e,t){if(this.isEnabled){var i=e-window.pageXOffset,r=t-window.pageYOffset,a=this.pointerScreenY===null?0:r-this.pointerScreenY,o=this.pointerScreenX===null?0:i-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Vx()))}},n.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var e=0,t=this.scrollCaches;e<t.length;e++){var i=t[e];i.destroy()}this.scrollCaches=null}},n.prototype.requestAnimation=function(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)},n.prototype.handleSide=function(e,t){var i=e.scrollCache,r=this.edgeThreshold,a=r-e.distance,o=a*a/(r*r)*this.maxVelocity*t,s=1;switch(e.name){case"left":s=-1;case"right":i.setScrollLeft(i.getScrollLeft()+o*s);break;case"top":s=-1;case"bottom":i.setScrollTop(i.getScrollTop()+o*s);break}},n.prototype.computeBestEdge=function(e,t){for(var i=this.edgeThreshold,r=null,a=this.scrollCaches||[],o=0,s=a;o<s.length;o++){var u=s[o],c=u.clientRect,l=e-c.left,_=c.right-e,I=t-c.top,M=c.bottom-t;l>=0&&_>=0&&I>=0&&M>=0&&(I<=i&&this.everMovedUp&&u.canScrollUp()&&(!r||r.distance>I)&&(r={scrollCache:u,name:"top",distance:I}),M<=i&&this.everMovedDown&&u.canScrollDown()&&(!r||r.distance>M)&&(r={scrollCache:u,name:"bottom",distance:M}),l<=i&&this.everMovedLeft&&u.canScrollLeft()&&(!r||r.distance>l)&&(r={scrollCache:u,name:"left",distance:l}),_<=i&&this.everMovedRight&&u.canScrollRight()&&(!r||r.distance>_)&&(r={scrollCache:u,name:"right",distance:_}))}return r},n.prototype.buildCaches=function(e){return this.queryScrollEls(e).map(function(t){return t===window?new BY(!1):new HD(t,!1)})},n.prototype.queryScrollEls=function(e){for(var t=[],i=0,r=this.scrollQuery;i<r.length;i++){var a=r[i];typeof a=="object"?t.push(a):t.push.apply(t,Array.prototype.slice.call(wI(e).querySelectorAll(a)))}return t},n}(),Id=function(n){sn(e,n);function e(t,i){var r=n.call(this,t)||this;r.containerEl=t,r.delay=null,r.minDistance=0,r.touchScrollAllowed=!0,r.mirrorNeedsRevert=!1,r.isInteracting=!1,r.isDragging=!1,r.isDelayEnded=!1,r.isDistanceSurpassed=!1,r.delayTimeoutId=null,r.onPointerDown=function(o){r.isDragging||(r.isInteracting=!0,r.isDelayEnded=!1,r.isDistanceSurpassed=!1,e5(document.body),n5(document.body),o.isTouch||o.origEvent.preventDefault(),r.emitter.trigger("pointerdown",o),r.isInteracting&&!r.pointer.shouldIgnoreMove&&(r.mirror.setIsVisible(!1),r.mirror.start(o.subjectEl,o.pageX,o.pageY),r.startDelay(o),r.minDistance||r.handleDistanceSurpassed(o)))},r.onPointerMove=function(o){if(r.isInteracting){if(r.emitter.trigger("pointermove",o),!r.isDistanceSurpassed){var s=r.minDistance,u=void 0,c=o.deltaX,l=o.deltaY;u=c*c+l*l,u>=s*s&&r.handleDistanceSurpassed(o)}r.isDragging&&(o.origEvent.type!=="scroll"&&(r.mirror.handleMove(o.pageX,o.pageY),r.autoScroller.handleMove(o.pageX,o.pageY)),r.emitter.trigger("dragmove",o))}},r.onPointerUp=function(o){r.isInteracting&&(r.isInteracting=!1,t5(document.body),i5(document.body),r.emitter.trigger("pointerup",o),r.isDragging&&(r.autoScroller.stop(),r.tryStopDrag(o)),r.delayTimeoutId&&(clearTimeout(r.delayTimeoutId),r.delayTimeoutId=null))};var a=r.pointer=new lC(t);return a.emitter.on("pointerdown",r.onPointerDown),a.emitter.on("pointermove",r.onPointerMove),a.emitter.on("pointerup",r.onPointerUp),i&&(a.selector=i),r.mirror=new jY,r.autoScroller=new HY,r}return e.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},e.prototype.startDelay=function(t){var i=this;typeof this.delay=="number"?this.delayTimeoutId=setTimeout(function(){i.delayTimeoutId=null,i.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)},e.prototype.handleDelayEnd=function(t){this.isDelayEnded=!0,this.tryStartDrag(t)},e.prototype.handleDistanceSurpassed=function(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)},e.prototype.tryStartDrag=function(t){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())},e.prototype.tryStopDrag=function(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))},e.prototype.stopDrag=function(t){this.isDragging=!1,this.emitter.trigger("dragend",t)},e.prototype.setIgnoreMove=function(t){this.pointer.shouldIgnoreMove=t},e.prototype.setMirrorIsVisible=function(t){this.mirror.setIsVisible(t)},e.prototype.setMirrorNeedsRevert=function(t){this.mirrorNeedsRevert=t},e.prototype.setAutoScrollEnabled=function(t){this.autoScroller.isEnabled=t},e}(cD),zY=function(){function n(e){this.origRect=Zw(e),this.scrollCaches=XI(e).map(function(t){return new HD(t,!0)})}return n.prototype.destroy=function(){for(var e=0,t=this.scrollCaches;e<t.length;e++){var i=t[e];i.destroy()}},n.prototype.computeLeft=function(){for(var e=this.origRect.left,t=0,i=this.scrollCaches;t<i.length;t++){var r=i[t];e+=r.origScrollLeft-r.getScrollLeft()}return e},n.prototype.computeTop=function(){for(var e=this.origRect.top,t=0,i=this.scrollCaches;t<i.length;t++){var r=i[t];e+=r.origScrollTop-r.getScrollTop()}return e},n.prototype.isWithinClipping=function(e,t){for(var i={left:e,top:t},r=0,a=this.scrollCaches;r<a.length;r++){var o=a[r];if(!WY(o.getEventTarget())&&!Y4(i,o.clientRect))return!1}return!0},n}();function WY(n){var e=n.tagName;return e==="HTML"||e==="BODY"}var $v=function(){function n(e,t){var i=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(r){var a=i.dragging;i.initialHit=null,i.movingHit=null,i.finalHit=null,i.prepareHits(),i.processFirstCoord(r),i.initialHit||!i.requireInitial?(a.setIgnoreMove(!1),i.emitter.trigger("pointerdown",r)):a.setIgnoreMove(!0)},this.handleDragStart=function(r){i.emitter.trigger("dragstart",r),i.handleMove(r,!0)},this.handleDragMove=function(r){i.emitter.trigger("dragmove",r),i.handleMove(r)},this.handlePointerUp=function(r){i.releaseHits(),i.emitter.trigger("pointerup",r)},this.handleDragEnd=function(r){i.movingHit&&i.emitter.trigger("hitupdate",null,!0,r),i.finalHit=i.movingHit,i.movingHit=null,i.emitter.trigger("dragend",r)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Uv}return n.prototype.processFirstCoord=function(e){var t={left:e.pageX,top:e.pageY},i=t,r=e.subjectEl,a;r instanceof HTMLElement&&(a=Zw(r),i=G4(i,a));var o=this.initialHit=this.queryHitForOffset(i.left,i.top);if(o){if(this.useSubjectCenter&&a){var s=GI(a,o.rect);s&&(i=$4(s))}this.coordAdjust=V4(i,t)}else this.coordAdjust={left:0,top:0}},n.prototype.handleMove=function(e,t){var i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!Vv(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))},n.prototype.prepareHits=function(){this.offsetTrackers=zo(this.droppableStore,function(e){return e.component.prepareHits(),new zY(e.el)})},n.prototype.releaseHits=function(){var e=this.offsetTrackers;for(var t in e)e[t].destroy();this.offsetTrackers={}},n.prototype.queryHitForOffset=function(e,t){var i=this,r=i.droppableStore,a=i.offsetTrackers,o=null;for(var s in r){var u=r[s].component,c=a[s];if(c&&c.isWithinClipping(e,t)){var l=c.computeLeft(),_=c.computeTop(),I=e-l,M=t-_,P=c.origRect,N=P.right-P.left,b=P.bottom-P.top;if(I>=0&&I<N&&M>=0&&M<b){var f=u.queryHit(I,M,N,b);f&&zv(f.dateProfile.activeRange,f.dateSpan.range)&&(!o||f.layer>o.layer)&&(f.componentId=s,f.context=u.context,f.rect.left+=l,f.rect.right+=l,f.rect.top+=_,f.rect.bottom+=_,o=f)}}}return o},n}();function Vv(n,e){return!n&&!e?!0:Boolean(n)!==Boolean(e)?!1:y4(n.dateSpan,e.dateSpan)}function zD(n,e){for(var t={},i=0,r=e.pluginHooks.datePointTransforms;i<r.length;i++){var a=r[i];ze(t,a(n,e))}return ze(t,UY(n,e.dateEnv)),t}function UY(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}var YY=function(n){sn(e,n);function e(t){var i=n.call(this,t)||this;i.handlePointerDown=function(a){var o=i.dragging,s=a.origEvent.target;o.setIgnoreMove(!i.component.isValidDateDownEl(s))},i.handleDragEnd=function(a){var o=i.component,s=i.dragging.pointer;if(!s.wasTouchScroll){var u=i.hitDragging,c=u.initialHit,l=u.finalHit;if(c&&l&&Vv(c,l)){var _=o.context,I=ze(ze({},zD(c.dateSpan,_)),{dayEl:c.dayEl,jsEvent:a.origEvent,view:_.viewApi||_.calendarApi.view});_.emitter.trigger("dateClick",I)}}},i.dragging=new Id(t.el),i.dragging.autoScroller.isEnabled=!1;var r=i.hitDragging=new $v(i.dragging,tC(t));return r.emitter.on("pointerdown",i.handlePointerDown),r.emitter.on("dragend",i.handleDragEnd),i}return e.prototype.destroy=function(){this.dragging.destroy()},e}(jh),GY=function(n){sn(e,n);function e(t){var i=n.call(this,t)||this;i.dragSelection=null,i.handlePointerDown=function(u){var c=i,l=c.component,_=c.dragging,I=l.context.options,M=I.selectable&&l.isValidDateDownEl(u.origEvent.target);_.setIgnoreMove(!M),_.delay=u.isTouch?$Y(l):null},i.handleDragStart=function(u){i.component.context.calendarApi.unselect(u)},i.handleHitUpdate=function(u,c){var l=i.component.context,_=null,I=!1;if(u){var M=i.hitDragging.initialHit,P=u.componentId===M.componentId&&i.isHitComboAllowed&&!i.isHitComboAllowed(M,u);P||(_=VY(M,u,l.pluginHooks.dateSelectionTransformers)),(!_||!W3(_,u.dateProfile,l))&&(I=!0,_=null)}_?l.dispatch({type:"SELECT_DATES",selection:_}):c||l.dispatch({type:"UNSELECT_DATES"}),I?Ow():kw(),c||(i.dragSelection=_)},i.handlePointerUp=function(u){i.dragSelection&&(NI(i.dragSelection,u,i.component.context),i.dragSelection=null)};var r=t.component,a=r.context.options,o=i.dragging=new Id(t.el);o.touchScrollAllowed=!1,o.minDistance=a.selectMinDistance||0,o.autoScroller.isEnabled=a.dragScroll;var s=i.hitDragging=new $v(i.dragging,tC(t));return s.emitter.on("pointerdown",i.handlePointerDown),s.emitter.on("dragstart",i.handleDragStart),s.emitter.on("hitupdate",i.handleHitUpdate),s.emitter.on("pointerup",i.handlePointerUp),i}return e.prototype.destroy=function(){this.dragging.destroy()},e}(jh);function $Y(n){var e=n.context.options,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function VY(n,e,t){var i=n.dateSpan,r=e.dateSpan,a=[i.range.start,i.range.end,r.range.start,r.range.end];a.sort(l5);for(var o={},s=0,u=t;s<u.length;s++){var c=u[s],l=c(n,e);if(l===!1)return null;l&&ze(o,l)}return o.range={start:a[0],end:a[3]},o.allDay=i.allDay,o}var WD=function(n){sn(e,n);function e(t){var i=n.call(this,t)||this;i.subjectEl=null,i.subjectSeg=null,i.isDragging=!1,i.eventRange=null,i.relevantEvents=null,i.receivingContext=null,i.validMutation=null,i.mutatedRelevantEvents=null,i.handlePointerDown=function(u){var c=u.origEvent.target,l=i,_=l.component,I=l.dragging,M=I.mirror,P=_.context.options,N=_.context;i.subjectEl=u.subjectEl;var b=i.subjectSeg=xh(u.subjectEl),f=i.eventRange=b.eventRange,v=f.instance.instanceId;i.relevantEvents=Bw(N.getCurrentData().eventStore,v),I.minDistance=u.isTouch?0:P.eventDragMinDistance,I.delay=u.isTouch&&v!==_.props.eventSelection?ZY(_):null,P.fixedMirrorParent?M.parentNode=P.fixedMirrorParent:M.parentNode=Wr(c,".fc"),M.revertDuration=P.dragRevertDuration;var m=_.isValidSegDownEl(c)&&!Wr(c,".fc-event-resizer");I.setIgnoreMove(!m),i.isDragging=m&&u.subjectEl.classList.contains("fc-event-draggable")},i.handleDragStart=function(u){var c=i.component.context,l=i.eventRange,_=l.instance.instanceId;u.isTouch?_!==i.component.props.eventSelection&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:_}):c.dispatch({type:"UNSELECT_EVENT"}),i.isDragging&&(c.calendarApi.unselect(u),c.emitter.trigger("eventDragStart",{el:i.subjectEl,event:new Gi(c,l.def,l.instance),jsEvent:u.origEvent,view:c.viewApi}))},i.handleHitUpdate=function(u,c){if(!!i.isDragging){var l=i.relevantEvents,_=i.hitDragging.initialHit,I=i.component.context,M=null,P=null,N=null,b=!1,f={affectedEvents:l,mutatedEvents:ja(),isEvent:!0};if(u){M=u.context;var v=M.options;I===M||v.editable&&v.droppable?(P=XY(_,u,M.getCurrentData().pluginHooks.eventDragMutationMassagers),P&&(N=Vw(l,M.getCurrentData().eventUiBases,P,M),f.mutatedEvents=N,vD(f,u.dateProfile,M)||(b=!0,P=null,N=null,f.mutatedEvents=ja()))):M=null}i.displayDrag(M,f),b?Ow():kw(),c||(I===M&&Vv(_,u)&&(P=null),i.dragging.setMirrorNeedsRevert(!P),i.dragging.setMirrorIsVisible(!u||!wI(i.subjectEl).querySelector(".fc-event-mirror")),i.receivingContext=M,i.validMutation=P,i.mutatedRelevantEvents=N)}},i.handlePointerUp=function(){i.isDragging||i.cleanup()},i.handleDragEnd=function(u){if(i.isDragging){var c=i.component.context,l=c.viewApi,_=i,I=_.receivingContext,M=_.validMutation,P=i.eventRange.def,N=i.eventRange.instance,b=new Gi(c,P,N),f=i.relevantEvents,v=i.mutatedRelevantEvents,m=i.hitDragging.finalHit;if(i.clearDrag(),c.emitter.trigger("eventDragStop",{el:i.subjectEl,event:b,jsEvent:u.origEvent,view:l}),M){if(I===c){var d=new Gi(c,v.defs[P.defId],N?v.instances[N.instanceId]:null);c.dispatch({type:"MERGE_EVENTS",eventStore:v});for(var g={oldEvent:b,event:d,relatedEvents:Ic(v,c,N),revert:function(){c.dispatch({type:"MERGE_EVENTS",eventStore:f})}},h={},C=0,D=c.getCurrentData().pluginHooks.eventDropTransformers;C<D.length;C++){var S=D[C];ze(h,S(M,c))}c.emitter.trigger("eventDrop",ze(ze(ze({},g),h),{el:u.subjectEl,delta:M.datesDelta,jsEvent:u.origEvent,view:l})),c.emitter.trigger("eventChange",g)}else if(I){var k={event:b,relatedEvents:Ic(f,c,N),revert:function(){c.dispatch({type:"MERGE_EVENTS",eventStore:f})}};c.emitter.trigger("eventLeave",ze(ze({},k),{draggedEl:u.subjectEl,view:l})),c.dispatch({type:"REMOVE_EVENTS",eventStore:f}),c.emitter.trigger("eventRemove",k);var L=v.defs[P.defId],B=v.instances[N.instanceId],z=new Gi(I,L,B);I.dispatch({type:"MERGE_EVENTS",eventStore:v});var X={event:z,relatedEvents:Ic(v,I,B),revert:function(){I.dispatch({type:"REMOVE_EVENTS",eventStore:v})}};I.emitter.trigger("eventAdd",X),u.isTouch&&I.dispatch({type:"SELECT_EVENT",eventInstanceId:N.instanceId}),I.emitter.trigger("drop",ze(ze({},zD(m.dateSpan,I)),{draggedEl:u.subjectEl,jsEvent:u.origEvent,view:m.context.viewApi})),I.emitter.trigger("eventReceive",ze(ze({},X),{draggedEl:u.subjectEl,view:m.context.viewApi}))}}else c.emitter.trigger("_noEventDrop")}i.cleanup()};var r=i.component,a=r.context.options,o=i.dragging=new Id(t.el);o.pointer.selector=e.SELECTOR,o.touchScrollAllowed=!1,o.autoScroller.isEnabled=a.dragScroll;var s=i.hitDragging=new $v(i.dragging,y0);return s.useSubjectCenter=t.useEventCenter,s.emitter.on("pointerdown",i.handlePointerDown),s.emitter.on("dragstart",i.handleDragStart),s.emitter.on("hitupdate",i.handleHitUpdate),s.emitter.on("pointerup",i.handlePointerUp),s.emitter.on("dragend",i.handleDragEnd),i}return e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.displayDrag=function(t,i){var r=this.component.context,a=this.receivingContext;a&&a!==t&&(a===r?a.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:i.affectedEvents,mutatedEvents:ja(),isEvent:!0}}):a.dispatch({type:"UNSET_EVENT_DRAG"})),t&&t.dispatch({type:"SET_EVENT_DRAG",state:i})},e.prototype.clearDrag=function(){var t=this.component.context,i=this.receivingContext;i&&i.dispatch({type:"UNSET_EVENT_DRAG"}),t!==i&&t.dispatch({type:"UNSET_EVENT_DRAG"})},e.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},e.SELECTOR=".fc-event-draggable, .fc-event-resizable",e}(jh);function XY(n,e,t){var i=n.dateSpan,r=e.dateSpan,a=i.range.start,o=r.range.start,s={};i.allDay!==r.allDay&&(s.allDay=r.allDay,s.hasEnd=e.context.options.allDayMaintainDuration,r.allDay&&(a=xi(a)));var u=nh(a,o,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);u.milliseconds&&(s.allDay=!1);for(var c={datesDelta:u,standardProps:s},l=0,_=t;l<_.length;l++){var I=_[l];I(c,n,e)}return c}function ZY(n){var e=n.context.options,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}var JY=function(n){sn(e,n);function e(t){var i=n.call(this,t)||this;i.draggingSegEl=null,i.draggingSeg=null,i.eventRange=null,i.relevantEvents=null,i.validMutation=null,i.mutatedRelevantEvents=null,i.handlePointerDown=function(s){var u=i.component,c=i.querySegEl(s),l=xh(c),_=i.eventRange=l.eventRange;i.dragging.minDistance=u.context.options.eventDragMinDistance,i.dragging.setIgnoreMove(!i.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&i.component.props.eventSelection!==_.instance.instanceId)},i.handleDragStart=function(s){var u=i.component.context,c=i.eventRange;i.relevantEvents=Bw(u.getCurrentData().eventStore,i.eventRange.instance.instanceId);var l=i.querySegEl(s);i.draggingSegEl=l,i.draggingSeg=xh(l),u.calendarApi.unselect(),u.emitter.trigger("eventResizeStart",{el:l,event:new Gi(u,c.def,c.instance),jsEvent:s.origEvent,view:u.viewApi})},i.handleHitUpdate=function(s,u,c){var l=i.component.context,_=i.relevantEvents,I=i.hitDragging.initialHit,M=i.eventRange.instance,P=null,N=null,b=!1,f={affectedEvents:_,mutatedEvents:ja(),isEvent:!0};if(s){var v=s.componentId===I.componentId&&i.isHitComboAllowed&&!i.isHitComboAllowed(I,s);v||(P=KY(I,s,c.subjectEl.classList.contains("fc-event-resizer-start"),M.range))}P&&(N=Vw(_,l.getCurrentData().eventUiBases,P,l),f.mutatedEvents=N,vD(f,s.dateProfile,l)||(b=!0,P=null,N=null,f.mutatedEvents=null)),N?l.dispatch({type:"SET_EVENT_RESIZE",state:f}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),b?Ow():kw(),u||(P&&Vv(I,s)&&(P=null),i.validMutation=P,i.mutatedRelevantEvents=N)},i.handleDragEnd=function(s){var u=i.component.context,c=i.eventRange.def,l=i.eventRange.instance,_=new Gi(u,c,l),I=i.relevantEvents,M=i.mutatedRelevantEvents;if(u.emitter.trigger("eventResizeStop",{el:i.draggingSegEl,event:_,jsEvent:s.origEvent,view:u.viewApi}),i.validMutation){var P=new Gi(u,M.defs[c.defId],l?M.instances[l.instanceId]:null);u.dispatch({type:"MERGE_EVENTS",eventStore:M});var N={oldEvent:_,event:P,relatedEvents:Ic(M,u,l),revert:function(){u.dispatch({type:"MERGE_EVENTS",eventStore:I})}};u.emitter.trigger("eventResize",ze(ze({},N),{el:i.draggingSegEl,startDelta:i.validMutation.startDelta||oi(0),endDelta:i.validMutation.endDelta||oi(0),jsEvent:s.origEvent,view:u.viewApi})),u.emitter.trigger("eventChange",N)}else u.emitter.trigger("_noEventResize");i.draggingSeg=null,i.relevantEvents=null,i.validMutation=null};var r=t.component,a=i.dragging=new Id(t.el);a.pointer.selector=".fc-event-resizer",a.touchScrollAllowed=!1,a.autoScroller.isEnabled=r.context.options.dragScroll;var o=i.hitDragging=new $v(i.dragging,tC(t));return o.emitter.on("pointerdown",i.handlePointerDown),o.emitter.on("dragstart",i.handleDragStart),o.emitter.on("hitupdate",i.handleHitUpdate),o.emitter.on("dragend",i.handleDragEnd),i}return e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.querySegEl=function(t){return Wr(t.subjectEl,".fc-event")},e}(jh);function KY(n,e,t,i){var r=n.context.dateEnv,a=n.dateSpan.range.start,o=e.dateSpan.range.start,s=nh(a,o,r,n.largeUnit);if(t){if(r.add(i.start,s)<i.end)return{startDelta:s}}else if(r.add(i.end,s)>i.start)return{endDelta:s};return null}var QY=function(){function n(e){var t=this;this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(r){r.jsEvent&&(t.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(r){var a=t.context.options.unselectCancel,o=bI(r.origEvent);t.matchesCancel=!!Wr(o,a),t.matchesEvent=!!Wr(o,WD.SELECTOR)},this.onDocumentPointerUp=function(r){var a=t.context,o=t.documentPointer,s=a.getCurrentData();if(!o.wasTouchScroll){if(s.dateSelection&&!t.isRecentPointerDateSelect){var u=a.options.unselectAuto;u&&(!u||!t.matchesCancel)&&a.calendarApi.unselect(r)}s.eventSelection&&!t.matchesEvent&&a.dispatch({type:"UNSELECT_EVENT"})}t.isRecentPointerDateSelect=!1};var i=this.documentPointer=new lC(document);i.shouldIgnoreMove=!0,i.shouldWatchScroll=!1,i.emitter.on("pointerdown",this.onDocumentPointerDown),i.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}return n.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},n}(),qY={fixedMirrorParent:mt},eG={dateClick:mt,eventDragStart:mt,eventDragStop:mt,eventDrop:mt,eventResizeStart:mt,eventResizeStop:mt,eventResize:mt,drop:mt,eventReceive:mt,eventLeave:mt};nC.dataAttrPrefix="";(function(n){sn(e,n);function e(t){var i=n.call(this,t)||this;i.shouldIgnoreMove=!1,i.mirrorSelector="",i.currentMirrorEl=null,i.handlePointerDown=function(a){i.emitter.trigger("pointerdown",a),i.shouldIgnoreMove||i.emitter.trigger("dragstart",a)},i.handlePointerMove=function(a){i.shouldIgnoreMove||i.emitter.trigger("dragmove",a)},i.handlePointerUp=function(a){i.emitter.trigger("pointerup",a),i.shouldIgnoreMove||i.emitter.trigger("dragend",a)};var r=i.pointer=new lC(t);return r.emitter.on("pointerdown",i.handlePointerDown),r.emitter.on("pointermove",i.handlePointerMove),r.emitter.on("pointerup",i.handlePointerUp),i}return e.prototype.destroy=function(){this.pointer.destroy()},e.prototype.setIgnoreMove=function(t){this.shouldIgnoreMove=t},e.prototype.setMirrorIsVisible=function(t){if(t)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var i=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;i&&(this.currentMirrorEl=i,i.style.visibility="hidden")}},e})(cD);var tG=uo({componentInteractions:[YY,GY,WD,JY],calendarInteractions:[QY],elementDraggingImpl:Id,optionRefiners:qY,listenerRefiners:eG});function nG(n,e){e===void 0&&(e={});var t=e.insertAt;if(n&&typeof document<"u"){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}}function Ml(n,e){return typeof n=="string"?(e||document).querySelector(n):n||null}function qf(n){var e=n.getBoundingClientRect();return{top:e.top+(document.documentElement.scrollTop||document.body.scrollTop),left:e.left+(document.documentElement.scrollLeft||document.body.scrollLeft)}}function iG(n){return n.offsetParent===null}function rG(n){var e=n.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function aG(n){var e=window.getComputedStyle(n),t=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight);return n.clientWidth-t}function sG(n,e,t){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0);for(var r in t)i[r]=t[r];return n.dispatchEvent(i)}function dv(n){return n.titleHeight+n.margins.top+n.paddings.top}function Og(n){return n.margins.left+n.paddings.left}function UD(n){return n.margins.top+n.margins.bottom+n.paddings.top+n.paddings.bottom+n.titleHeight+n.legendHeight}function pv(n){return n.margins.left+n.margins.right+n.paddings.left+n.paddings.right}function oG(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function YD(n){return parseFloat(n.toFixed(2))}function S0(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0&&arguments[3];t||(t=i?n[0]:n[n.length-1]);var r=new Array(Math.abs(e)).fill(t);return n=i?r.concat(n):n.concat(r)}function GD(n,e){return(n+"").length*e}function lh(n,e){return{x:Math.sin(n*nE)*e,y:Math.cos(n*nE)*e}}function ih(n){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return!Number.isNaN(n)&&n!==void 0&&!!Number.isFinite(n)&&!(e&&n<0)}function lG(n){return Number(Math.round(n+"e4")+"e-4")}function $D(n){var e=void 0,t=void 0,i=void 0;if(n instanceof Date)return new Date(n.getTime());if((n===void 0?"undefined":W$(n))!=="object"||n===null)return n;e=Array.isArray(n)?[]:{};for(i in n)t=n[i],e[i]=$D(t);return e}function VD(n,e){var t=void 0,i=void 0;return n<=e?(t=e-n,i=n):(t=n-e,i=e),[t,i]}function Ra(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length-n.length;return t>0?n=S0(n,t):e=S0(e,t),[n,e]}function cC(n,e){if(n)return n.length>e?n.slice(0,e-3)+"...":n}function cG(n){var e=void 0;if(typeof n=="number")e=n;else if(typeof n=="string"&&(e=Number(n),Number.isNaN(e)))return n;var t=Math.floor(Math.log10(Math.abs(e)));if(t<=2)return e;var i=Math.floor(t/3),r=Math.pow(10,t-3*i)*+(e/Math.pow(10,t)).toFixed(1);return Math.round(100*r)/100+" "+["","K","M","B","T"][i]}function XD(n,e){for(var t=[],i=0;i<n.length;i++)t.push([n[i],e[i]]);var r=function(o,s){var u=s[0]-o[0],c=s[1]-o[1];return{length:Math.sqrt(Math.pow(u,2)+Math.pow(c,2)),angle:Math.atan2(c,u)}},a=function(o,s,u,c){var l=r(s||o,u||o),_=l.angle+(c?Math.PI:0),I=.2*l.length;return[o[0]+Math.cos(_)*I,o[1]+Math.sin(_)*I]};return function(o,s){return o.reduce(function(u,c,l,_){return l===0?c[0]+","+c[1]:u+" "+s(c,l,_)},"")}(t,function(o,s,u){var c=a(u[s-1],u[s-2],o),l=a(o,u[s-1],u[s+1],!0);return"C "+c[0]+","+c[1]+" "+l[0]+","+l[1]+" "+o[0]+","+o[1]})}function Tb(n){return n>255?255:n<0?0:n}function uC(n,e){var t=nA(n),i=!1;t[0]=="#"&&(t=t.slice(1),i=!0);var r=parseInt(t,16),a=Tb((r>>16)+e),o=Tb((r>>8&255)+e),s=Tb((255&r)+e);return(i?"#":"")+(s|o<<8|a<<16).toString(16)}function uG(n){var e=/(^\s*)(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/i;return/(^\s*)(#)((?:[A-Fa-f0-9]{3}){1,2})$/i.test(n)||e.test(n)}function Xx(n,e){return typeof n=="string"?(e||document).querySelector(n):n||null}function gi(n,e){var t=document.createElementNS("http://www.w3.org/2000/svg",n);for(var i in e){var r=e[i];if(i==="inside")Xx(r).appendChild(t);else if(i==="around"){var a=Xx(r);a.parentNode.insertBefore(t,a),t.appendChild(a)}else i==="styles"?(r===void 0?"undefined":G$(r))==="object"&&Object.keys(r).map(function(o){t.style[o]=r[o]}):(i==="className"&&(i="class"),i==="innerHTML"?t.textContent=r:t.setAttribute(i,r))}return t}function hG(n,e){return gi("linearGradient",{inside:n,id:e,x1:0,x2:0,y1:0,y2:1})}function Ib(n,e,t,i){return gi("stop",{inside:n,style:"stop-color: "+t,offset:e,"stop-opacity":i})}function fG(n,e,t,i){return gi("svg",{className:e,inside:n,width:t,height:i})}function dG(n){return gi("defs",{inside:n})}function _0(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,i={className:n,transform:e};return t&&(i.inside=t),gi("g",i)}function gv(n){return gi("path",{className:arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",d:n,styles:{stroke:arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none",fill:arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none","stroke-width":arguments.length>4&&arguments[4]!==void 0?arguments[4]:2}})}function pG(n,e,t,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,o=t.x+n.x,s=t.y+n.y,u=t.x+e.x,c=t.y+e.y;return"M"+t.x+" "+t.y+`
		L`+o+" "+s+`
		A `+i+" "+i+" 0 "+a+" "+(r?1:0)+`
		`+u+" "+c+" z"}function gG(n,e,t,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,o=t.x+n.x,s=t.y+n.y,u=t.x+e.x,c=2*t.y,l=t.y+e.y;return"M"+t.x+" "+t.y+`
		L`+o+" "+s+`
		A `+i+" "+i+" 0 "+a+" "+(r?1:0)+`
		`+u+" "+c+` z
		L`+o+" "+c+`
		A `+i+" "+i+" 0 "+a+" "+(r?1:0)+`
		`+u+" "+l+" z"}function vG(n,e,t,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,o=t.x+n.x,s=t.y+n.y,u=t.x+e.x,c=t.y+e.y;return"M"+o+" "+s+`
		A `+i+" "+i+" 0 "+a+" "+(r?1:0)+`
		`+u+" "+c}function mG(n,e,t,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,o=t.x+n.x,s=t.y+n.y,u=t.x+e.x,c=2*i+s,l=t.y+n.y;return"M"+o+" "+s+`
		A `+i+" "+i+" 0 "+a+" "+(r?1:0)+`
		`+u+" "+c+`
		M`+o+" "+c+`
		A `+i+" "+i+" 0 "+a+" "+(r?1:0)+`
		`+u+" "+l}function Zx(n,e){var t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i="path-fill-gradient-"+e+"-"+(t?"lighter":"default"),r=hG(n,i),a=[1,.6,.2];return t&&(a=[.4,.2,0]),Ib(r,"0%",e,a[0]),Ib(r,"50%",e,a[1]),Ib(r,"100%",e,a[2]),i}function yG(n,e,t,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:eA,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"none";return gi("rect",{className:"percentage-bar",x:n,y:e,width:t,height:i,fill:a,styles:{stroke:uC(a,-25),"stroke-dasharray":"0, "+(i+t)+", "+t+", "+i,"stroke-width":r}})}function ZD(n,e,t,i,r){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"none",o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},s={className:n,x:e,y:t,width:i,height:i,rx:r,fill:a};return Object.keys(o).map(function(u){s[u]=o[u]}),gi("rect",s)}function bG(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none",r=arguments[4];r=arguments.length>5&&arguments[5]!==void 0&&arguments[5]?cC(r,iA):r;var a={className:"legend-bar",x:0,y:0,width:t,height:"2px",fill:i},o=gi("text",{className:"legend-dataset-text",x:0,y:0,dy:2*gr+"px","font-size":1.2*gr+"px","text-anchor":"start",fill:hC,innerHTML:r}),s=gi("g",{transform:"translate("+n+", "+e+")"});return s.appendChild(gi("rect",a)),s.appendChild(o),s}function wG(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none",r=arguments[4];r=arguments.length>5&&arguments[5]!==void 0&&arguments[5]?cC(r,iA):r;var a={className:"legend-dot",cx:0,cy:0,r:t,fill:i},o=gi("text",{className:"legend-dataset-text",x:0,y:0,dx:gr+"px",dy:gr/3+"px","font-size":1.2*gr+"px","text-anchor":"start",fill:hC,innerHTML:r}),s=gi("g",{transform:"translate("+n+", "+e+")"});return s.appendChild(gi("circle",a)),s.appendChild(o),s}function $f(n,e,t,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},a=r.fontSize||gr;return gi("text",{className:n,x:e,y:t,dy:(r.dy!==void 0?r.dy:a/2)+"px","font-size":a+"px",fill:r.fill||hC,"text-anchor":r.textAnchor||"start",innerHTML:i})}function CG(n,e,t,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};r.stroke||(r.stroke=Bh);var a=gi("line",{className:"line-vertical "+r.className,x1:0,x2:0,y1:t,y2:i,styles:{stroke:r.stroke}}),o=gi("text",{x:0,y:t>i?t+Ll:t-Ll-gr,dy:gr+"px","font-size":gr+"px","text-anchor":"middle",innerHTML:e+""}),s=gi("g",{transform:"translate("+n+", 0)"});return s.appendChild(a),s.appendChild(o),s}function JD(n,e,t,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};r.stroke||(r.stroke=Bh),r.lineType||(r.lineType=""),r.shortenNumbers&&(e=cG(e));var a=gi("line",{className:"line-horizontal "+r.className+(r.lineType==="dashed"?"dashed":""),x1:t,x2:i,y1:0,y2:0,styles:{stroke:r.stroke}}),o=gi("text",{x:t<i?t-Ll:t+Ll,y:0,dy:gr/2-2+"px","font-size":gr+"px","text-anchor":t<i?"end":"start",innerHTML:e+""}),s=gi("g",{transform:"translate(0, "+n+")","stroke-opacity":1});return o!==0&&o!=="0"||(s.style.stroke="rgba(27, 31, 35, 0.6)"),s.appendChild(a),s.appendChild(o),s}function SG(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};ih(n)||(n=0),i.pos||(i.pos="left"),i.offset||(i.offset=0),i.mode||(i.mode="span"),i.stroke||(i.stroke=Bh),i.className||(i.className="");var r=-1*ch,a=i.mode==="span"?t+ch:0;return i.mode==="tick"&&i.pos==="right"&&(r=t+ch,a=t),r+=i.offset,a+=i.offset,JD(n,e,r,a,{stroke:i.stroke,className:i.className,lineType:i.lineType,shortenNumbers:i.shortenNumbers})}function _G(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};ih(n)||(n=0),i.pos||(i.pos="bottom"),i.offset||(i.offset=0),i.mode||(i.mode="span"),i.stroke||(i.stroke=Bh),i.className||(i.className="");var r=t+ch,a=i.mode==="span"?-1*ch:t;return i.mode==="tick"&&i.pos==="top"&&(r=-1*ch,a=0),CG(n,e,r,a,{stroke:i.stroke,className:i.className,lineType:i.lineType})}function xG(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};i.labelPos||(i.labelPos="right");var r=gi("text",{className:"chart-label",x:i.labelPos==="left"?Ll:t-GD(e,5)-Ll,y:0,dy:gr/-2+"px","font-size":gr+"px","text-anchor":"start",innerHTML:e+""}),a=JD(n,"",0,t,{stroke:i.stroke||Bh,className:i.className||"",lineType:i.lineType});return a.appendChild(r),a}function EG(n,e,t,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},a=n-e,o=gi("rect",{className:"bar mini",styles:{fill:"rgba(228, 234, 239, 0.49)",stroke:Bh,"stroke-dasharray":t+", "+a},x:0,y:0,width:t,height:a});r.labelPos||(r.labelPos="right");var s=gi("text",{className:"chart-label",x:r.labelPos==="left"?Ll:t-GD(i+"",4.5)-Ll,y:0,dy:gr/-2+"px","font-size":gr+"px","text-anchor":"start",innerHTML:i+""}),u=gi("g",{transform:"translate(0, "+e+")"});return u.appendChild(o),u.appendChild(s),u}function TG(n,e,t,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{},u=VD(e,s.zeroLine),c=Y$(u,2),l=c[0],_=c[1];_-=o,l===0&&(l=s.minHeight,_-=s.minHeight),ih(n)||(n=0),ih(_)||(_=0),ih(l,!0)||(l=0),ih(t,!0)||(t=0);var I=gi("rect",{className:"bar mini",style:"fill: "+i,"data-point-index":a,x:n,y:_,width:t,height:l});if((r+="")||r.length){I.setAttribute("y",0),I.setAttribute("x",0);var M=gi("text",{className:"data-point-value",x:t/2,y:0,dy:gr/2*-1+"px","font-size":gr+"px","text-anchor":"middle",innerHTML:r}),P=gi("g",{"data-point-index":a,transform:"translate("+n+", "+_+")"});return P.appendChild(I),P.appendChild(M),P}return I}function IG(n,e,t,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,o=gi("circle",{style:"fill: "+i,"data-point-index":a,cx:n,cy:e,r:t});if((r+="")||r.length){o.setAttribute("cy",0),o.setAttribute("cx",0);var s=gi("text",{className:"data-point-value",x:0,y:0,dy:gr/2*-1-t+"px","font-size":gr+"px","text-anchor":"middle",innerHTML:r}),u=gi("g",{"data-point-index":a,transform:"translate("+n+", "+e+")"});return u.appendChild(o),u.appendChild(s),u}return o}function DG(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},a=e.map(function(_,I){return n[I]+","+_}).join("L");i.spline&&(a=XD(n,e));var o=gv("M"+a,"line-graph-path",t);if(i.heatline){var s=Zx(r.svgDefs,t);o.style.stroke="url(#"+s+")"}var u={path:o};if(i.regionFill){var c=Zx(r.svgDefs,t,!0),l="M"+n[0]+","+r.zeroLine+"L"+a+"L"+n.slice(-1)[0]+","+r.zeroLine;u.region=gv(l,"region-fill","none","url(#"+c+")")}return u}function Dd(n,e,t,i){var r=typeof e=="string"?e:e.join(", ");return[n,{transform:t.join(", ")},i,Rl,"translate",{transform:r}]}function AG(n,e,t){return Dd(n,[t,0],[e,0],Ih)}function Jx(n,e,t){return Dd(n,[0,t],[0,e],Ih)}function MG(n,e,t,i){var r=e-t,a=n.childNodes[0];return[[a,{height:r,"stroke-dasharray":a.getAttribute("width")+", "+r},Ih,Rl],Dd(n,[0,i],[0,t],Ih)]}function OG(n,e,t,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=VD(t,(arguments.length>5&&arguments[5]!==void 0?arguments[5]:{}).zeroLine),o=X$(a,2),s=o[0],u=o[1];return u-=r,n.nodeName!=="rect"?[[n.childNodes[0],{width:i,height:s},ed,Rl],Dd(n,n.getAttribute("transform").split("(")[1].slice(0,-1),[e,u],Ih)]:[[n,{width:i,height:s,x:e,y:u},ed,Rl]]}function kG(n,e,t){return n.nodeName!=="circle"?[Dd(n,n.getAttribute("transform").split("(")[1].slice(0,-1),[e,t],Ih)]:[[n,{cx:e,cy:t},ed,Rl]]}function PG(n,e,t,i,r){var a=[],o=t.map(function(_,I){return e[I]+","+_}).join("L");r&&(o=XD(e,t));var s=[n.path,{d:"M"+o},iE,Rl];if(a.push(s),n.region){var u=e[0]+","+i+"L",c="L"+e.slice(-1)[0]+", "+i,l=[n.region,{d:"M"+u+o+c},iE,Rl];a.push(l)}return a}function Kx(n,e){return[n,{d:e},ed,Rl]}function LG(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function RG(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"linear",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=n.cloneNode(!0),s=n.cloneNode(!0);for(var u in e){var c=void 0;c=u==="transform"?document.createElementNS("http://www.w3.org/2000/svg","animateTransform"):document.createElementNS("http://www.w3.org/2000/svg","animate");var l=a[u]||n.getAttribute(u),_=e[u],I={attributeName:u,from:l,to:_,begin:"0s",dur:t/1e3+"s",values:l+";"+_,keySplines:K$[i],keyTimes:"0;1",calcMode:"spline",fill:"freeze"};r&&(I.type=r);for(var M in I)c.setAttribute(M,I[M]);o.appendChild(c),r?s.setAttribute(u,"translate("+_+")"):s.setAttribute(u,_)}return[o,s]}function vv(n,e){n.style.transform=e,n.style.webkitTransform=e,n.style.msTransform=e,n.style.mozTransform=e,n.style.oTransform=e}function NG(n,e){var t=[],i=[];e.map(function(a){var o=a[0],s=o.parentNode,u=void 0,c=void 0;a[0]=o;var l=RG.apply(void 0,LG(a)),_=J$(l,2);u=_[0],c=_[1],t.push(c),i.push([u,s]),s&&s.replaceChild(u,o)});var r=n.cloneNode(!0);return i.map(function(a,o){a[1]&&(a[1].replaceChild(t[o],a[0]),e[o][0]=t[o])}),r}function FG(n,e,t){if(t.length!==0){var i=NG(e,t);e.parentNode==n&&(n.removeChild(e),n.appendChild(i)),setTimeout(function(){i.parentNode==n&&(n.removeChild(i),n.appendChild(e))},Z$)}}function jG(n,e){var t=document.createElement("a");t.style="display: none";var i=new Blob(e,{type:"image/svg+xml; charset=utf-8"}),r=window.URL.createObjectURL(i);t.href=r,t.download=n,document.body.appendChild(t),t.click(),setTimeout(function(){document.body.removeChild(t),window.URL.revokeObjectURL(r)},300)}function BG(n){var e=n.cloneNode(!0);e.classList.add("chart-container"),e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");var t=Ml.create("style",{innerHTML:Q$});e.insertBefore(t,e.firstChild);var i=Ml.create("div");return i.appendChild(e),i.innerHTML}function HG(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zG(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function WG(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?n:e}function UG(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function Qx(n){var e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e}function Db(n){var e=n.getDate(),t=n.getMonth()+1;return[n.getFullYear(),(t>9?"":"0")+t,(e>9?"":"0")+e].join("-")}function wc(n){return new Date(n.getTime())}function Ab(n,e){var t=QD(n);return Math.ceil(YG(t,e)/Ff)}function YG(n,e){var t=n9*rA;return(Qx(e)-Qx(n))/t}function GG(n,e){return n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear()}function KD(n){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],t=i9[n];return e?t.slice(0,3):t}function qx(n,e){return new Date(e,n+1,0)}function QD(n){var e=wc(n),t=e.getDay();return t!==0&&Ju(e,-1*t),e}function Ju(n,e){n.setDate(n.getDate()+e)}function $G(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ad(n,e,t){var i=Object.keys(aE).filter(function(a){return n.includes(a)}),r=aE[i[0]];return Object.assign(r,{constants:e,getData:t}),new s9(r)}function VG(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function XG(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ZG(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?n:e}function JG(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function KG(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function QG(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function qG(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?n:e}function e$(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function x0(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function Nf(n){if(n===0)return[0,0];if(isNaN(n))return{mantissa:-6755399441055744,exponent:972};var e=n>0?1:-1;if(!isFinite(n))return{mantissa:4503599627370496*e,exponent:972};n=Math.abs(n);var t=Math.floor(Math.log10(n));return[e*(n/Math.pow(10,t)),t]}function t$(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=Math.ceil(n),i=Math.floor(e),r=t-i,a=r,o=1;r>5&&(r%2!=0&&(r=++t-i),a=r/2,o=2),r<=2&&(o=r/(a=4)),r===0&&(a=5,o=1);for(var s=[],u=0;u<=a;u++)s.push(i+o*u);return s}function Of(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=Nf(n),i=f9(t,2),r=i[0],a=i[1],o=e?e/Math.pow(10,a):0,s=t$(r=r.toFixed(6),o);return s=s.map(function(u){return u*Math.pow(10,a)})}function n$(n){function e(c,l){for(var _=Of(c),I=_[1]-_[0],M=0,P=1;M<l;P++)M+=I,_.unshift(-1*M);return _}var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=Math.max.apply(Math,x0(n)),r=Math.min.apply(Math,x0(n)),a=[];if(i>=0&&r>=0)Nf(i)[1],a=t?Of(i,r):Of(i);else if(i>0&&r<0){var o=Math.abs(r);i>=o?(Nf(i)[1],a=e(i,o)):(Nf(o)[1],a=e(o,i).reverse().map(function(c){return-1*c}))}else if(i<=0&&r<=0){var s=Math.abs(r),u=Math.abs(i);Nf(s)[1],a=(a=t?Of(s,u):Of(s)).reverse().map(function(c){return-1*c})}return a}function i$(n){var e=qD(n);return n.indexOf(0)>=0?n.indexOf(0):n[0]>0?-1*n[0]/e:-1*n[n.length-1]/e+(n.length-1)}function qD(n){return n[1]-n[0]}function r$(n){return n[n.length-1]-n[0]}function gg(n,e){return YD(e.zeroLine-n*e.scaleMultiplier)}function a$(n,e){var t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=e.reduce(function(r,a){return Math.abs(a-n)<Math.abs(r-n)?a:r},[]);return t?e.indexOf(i):i}function s$(n,e){for(var t=Math.max.apply(Math,x0(n)),i=1/(e-1),r=[],a=0;a<e;a++){var o=t*(i*a);r.push(o)}return r}function o$(n,e){return e.filter(function(t){return t<n}).length}function l$(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function c$(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function u$(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?n:e}function h$(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function f$(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function d$(n,e){n.labels=n.labels||[];var t=n.labels.length,i=n.datasets,r=new Array(t).fill(0);return i||(i=[{values:r}]),i.map(function(a){if(a.values){var o=a.values;o=(o=o.map(function(s){return isNaN(s)?0:s})).length>t?o.slice(0,t):S0(o,t-o.length,0),a.values=o}else a.values=r;a.chartType||(a.chartType=e)}),n.yRegions&&n.yRegions.map(function(a){if(a.end<a.start){var o=[a.end,a.start];a.start=o[0],a.end=o[1]}}),n}function p$(n){var e=n.labels.length,t=new Array(e).fill(0),i={labels:n.labels.slice(0,-1),datasets:n.datasets.map(function(r){return{name:"",values:t.slice(0,-1),chartType:r.chartType}})};return n.yMarkers&&(i.yMarkers=[{value:0,label:""}]),n.yRegions&&(i.yRegions=[{start:0,end:0,label:""}]),i}function g$(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=n/e.length;i<=0&&(i=1);var r=i/N$,a=void 0;if(t){var o=Math.max.apply(Math,f$(e.map(function(s){return s.length})));a=Math.ceil(o/r)}return e.map(function(s,u){return(s+="").length>r&&(t?u%a!=0&&(s=""):s=r-3>0?s.slice(0,r-3)+" ...":s.slice(0,r)+".."),s})}function eE(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function v$(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function m$(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?n:e}function y$(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function b$(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function w$(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function C$(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?n:e}function S$(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function _$(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function x$(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"line",e=arguments[1],t=arguments[2];return n==="axis-mixed"?(t.type="line",new E0(e,t)):lE[n]?new lE[n](e,t):void console.error("Undefined chart type: "+n)}var E$='.chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ol,.graph-svg-tip ul{padding-left:0;display:-webkit-box;display:-ms-flexbox;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;-webkit-box-flex:1;-ms-flex:1;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:" ";border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}';nG(E$);var T$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};Ml.create=function(n,e){var t=document.createElement(n);for(var i in e){var r=e[i];if(i==="inside")Ml(r).appendChild(t);else if(i==="around"){var a=Ml(r);a.parentNode.insertBefore(t,a),t.appendChild(a)}else i==="styles"?(r===void 0?"undefined":T$(r))==="object"&&Object.keys(r).map(function(o){t.style[o]=r[o]}):i in t?t[i]=r:t.setAttribute(i,r)}return t};var I$={margins:{top:10,bottom:10,left:20,right:20},paddings:{top:20,bottom:40,left:30,right:10},baseHeight:240,titleHeight:20,legendHeight:30,titleFontSize:12},D$=700,A$=400,M$=100,O$=.5,k$=0,P$=4,tE=4,L$=20,eA=2,Mb=5,Ku=10,R$=2,N$=7,F$=5,kf=["light-blue","blue","violet","red","orange","yellow","green","light-green","purple","magenta","light-grey","dark-grey"],j$=["#ebedf0","#c6e48b","#7bc96f","#239a3b","#196127"],B$={bar:kf,line:kf,pie:kf,percentage:kf,heatmap:j$,donut:kf},nE=Math.PI/180,tA=360,H$=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),z$=function(){function n(e){var t=e.parent,i=t===void 0?null:t,r=e.colors,a=r===void 0?[]:r;oG(this,n),this.parent=i,this.colors=a,this.titleName="",this.titleValue="",this.listValues=[],this.titleValueFirst=0,this.x=0,this.y=0,this.top=0,this.left=0,this.setup()}return H$(n,[{key:"setup",value:function(){this.makeTooltip()}},{key:"refresh",value:function(){this.fill(),this.calcPosition()}},{key:"makeTooltip",value:function(){var e=this;this.container=Ml.create("div",{inside:this.parent,className:"graph-svg-tip comparison",innerHTML:`<span class="title"></span>
				<ul class="data-point-list"></ul>
				<div class="svg-pointer"></div>`}),this.hideTip(),this.title=this.container.querySelector(".title"),this.dataPointList=this.container.querySelector(".data-point-list"),this.parent.addEventListener("mouseleave",function(){e.hideTip()})}},{key:"fill",value:function(){var e=this,t=void 0;this.index&&this.container.setAttribute("data-point-index",this.index),t=this.titleValueFirst?"<strong>"+this.titleValue+"</strong>"+this.titleName:this.titleName+"<strong>"+this.titleValue+"</strong>",this.title.innerHTML=t,this.dataPointList.innerHTML="",this.listValues.map(function(i,r){var a=e.colors[r]||"black",o=i.formatted===0||i.formatted?i.formatted:i.value,s=Ml.create("li",{styles:{"border-top":"3px solid "+a},innerHTML:'<strong style="display: block;">'+(o===0||o?o:"")+`</strong>
					`+(i.title?i.title:"")});e.dataPointList.appendChild(s)})}},{key:"calcPosition",value:function(){var e=this.container.offsetWidth;this.top=this.y-this.container.offsetHeight-F$,this.left=this.x-e/2;var t=this.parent.offsetWidth-e,i=this.container.querySelector(".svg-pointer");if(this.left<0)i.style.left="calc(50% - "+-1*this.left+"px)",this.left=0;else if(this.left>t){var r="calc(50% + "+(this.left-t)+"px)";i.style.left=r,this.left=t}else i.style.left="50%"}},{key:"setValues",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;this.titleName=i.name,this.titleValue=i.value,this.listValues=r,this.x=e,this.y=t,this.titleValueFirst=i.valueFirst||0,this.index=a,this.refresh()}},{key:"hideTip",value:function(){this.container.style.top="0px",this.container.style.left="0px",this.container.style.opacity="0"}},{key:"showTip",value:function(){this.container.style.top=this.top+"px",this.container.style.left=this.left+"px",this.container.style.opacity="1"}}]),n}(),W$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},U$={"light-blue":"#7cd6fd",blue:"#5e64ff",violet:"#743ee2",red:"#ff5858",orange:"#ffa00a",yellow:"#feef72",green:"#28a745","light-green":"#98d85b",purple:"#b554ff",magenta:"#ffa3ef",black:"#36114C",grey:"#bdd3e6","light-grey":"#f0f4f7","dark-grey":"#b8c2cc"},nA=function(n){return/rgb[a]{0,1}\([\d, ]+\)/gim.test(n)?/\D+(\d*)\D+(\d*)\D+(\d*)/gim.exec(n).map(function(e,t){return t!==0?Number(e).toString(16):"#"}).reduce(function(e,t){return""+e+t}):U$[n]||n},Y$=function(){function n(e,t){var i=[],r=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done)&&(i.push(s.value),!t||i.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return i}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),G$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ch=6,Ll=4,iA=15,gr=10,Bh="#dadada",hC="#555b51",$$={bar:function(n){var e=void 0;n.nodeName!=="rect"&&(e=n.getAttribute("transform"),n=n.childNodes[0]);var t=n.cloneNode();return t.style.fill="#000000",t.style.opacity="0.4",e&&t.setAttribute("transform",e),t},dot:function(n){var e=void 0;n.nodeName!=="circle"&&(e=n.getAttribute("transform"),n=n.childNodes[0]);var t=n.cloneNode(),i=n.getAttribute("r"),r=n.getAttribute("fill");return t.setAttribute("r",parseInt(i)+tE),t.setAttribute("fill",r),t.style.opacity="0.6",e&&t.setAttribute("transform",e),t},heat_square:function(n){var e=void 0;n.nodeName!=="circle"&&(e=n.getAttribute("transform"),n=n.childNodes[0]);var t=n.cloneNode(),i=n.getAttribute("r"),r=n.getAttribute("fill");return t.setAttribute("r",parseInt(i)+tE),t.setAttribute("fill",r),t.style.opacity="0.6",e&&t.setAttribute("transform",e),t}},V$={bar:function(n,e){var t=void 0;n.nodeName!=="rect"&&(t=n.getAttribute("transform"),n=n.childNodes[0]);var i=["x","y","width","height"];Object.values(n.attributes).filter(function(r){return i.includes(r.name)&&r.specified}).map(function(r){e.setAttribute(r.name,r.nodeValue)}),t&&e.setAttribute("transform",t)},dot:function(n,e){var t=void 0;n.nodeName!=="circle"&&(t=n.getAttribute("transform"),n=n.childNodes[0]);var i=["cx","cy"];Object.values(n.attributes).filter(function(r){return i.includes(r.name)&&r.specified}).map(function(r){e.setAttribute(r.name,r.nodeValue)}),t&&e.setAttribute("transform",t)},heat_square:function(n,e){var t=void 0;n.nodeName!=="circle"&&(t=n.getAttribute("transform"),n=n.childNodes[0]);var i=["cx","cy"];Object.values(n.attributes).filter(function(r){return i.includes(r.name)&&r.specified}).map(function(r){e.setAttribute(r.name,r.nodeValue)}),t&&e.setAttribute("transform",t)}},X$=function(){function n(e,t){var i=[],r=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done)&&(i.push(s.value),!t||i.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return i}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ed=350,iE=350,Ih=ed,Z$=250,Rl="easein",J$=function(){function n(e,t){var i=[],r=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done)&&(i.push(s.value),!t||i.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return i}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),K$={ease:"0.25 0.1 0.25 1",linear:"0 0 1 1",easein:"0.1 0.8 0.2 1",easeout:"0 0 0.58 1",easeinout:"0.42 0 0.58 1"},Q$=".chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ul{padding-left:0;display:flex}.graph-svg-tip ol{padding-left:0;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:' ';border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}",q$=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),fC=function(){function n(e,t){if(HG(this,n),t=$D(t),this.parent=typeof e=="string"?document.querySelector(e):e,!(this.parent instanceof HTMLElement))throw new Error("No `parent` element to render on was provided.");this.rawChartArgs=t,this.title=t.title||"",this.type=t.type||"",this.realData=this.prepareData(t.data),this.data=this.prepareFirstData(this.realData),this.colors=this.validateColors(t.colors,this.type),this.config={showTooltip:1,showLegend:1,isNavigable:t.isNavigable||0,animate:t.animate!==void 0?t.animate:1,truncateLegends:t.truncateLegends||1},this.measures=JSON.parse(JSON.stringify(I$));var i=this.measures;this.setMeasures(t),this.title.length||(i.titleHeight=0),this.config.showLegend||(i.legendHeight=0),this.argHeight=t.height||i.baseHeight,this.state={},this.options={},this.initTimeout=D$,this.config.isNavigable&&(this.overlays=[]),this.configure(t)}return q$(n,[{key:"prepareData",value:function(e){return e}},{key:"prepareFirstData",value:function(e){return e}},{key:"validateColors",value:function(e,t){var i=[];return(e=(e||[]).concat(B$[t])).forEach(function(r){var a=nA(r);uG(a)?i.push(a):console.warn('"'+r+'" is not a valid color.')}),i}},{key:"setMeasures",value:function(){}},{key:"configure",value:function(){var e=this,t=this.argHeight;this.baseHeight=t,this.height=t-UD(this.measures),this.boundDrawFn=function(){return e.draw(!0)},ResizeObserver&&(this.resizeObserver=new ResizeObserver(this.boundDrawFn),this.resizeObserver.observe(this.parent)),window.addEventListener("resize",this.boundDrawFn),window.addEventListener("orientationchange",this.boundDrawFn)}},{key:"destroy",value:function(){this.resizeObserver&&this.resizeObserver.disconnect(),window.removeEventListener("resize",this.boundDrawFn),window.removeEventListener("orientationchange",this.boundDrawFn)}},{key:"setup",value:function(){this.makeContainer(),this.updateWidth(),this.makeTooltip(),this.draw(!1,!0)}},{key:"makeContainer",value:function(){this.parent.innerHTML="";var e={inside:this.parent,className:"chart-container"};this.independentWidth&&(e.styles={width:this.independentWidth+"px"}),this.container=Ml.create("div",e)}},{key:"makeTooltip",value:function(){this.tip=new z$({parent:this.container,colors:this.colors}),this.bindTooltip()}},{key:"bindTooltip",value:function(){}},{key:"draw",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];t&&iG(this.parent)||(this.updateWidth(),this.calc(t),this.makeChartArea(),this.setupComponents(),this.components.forEach(function(r){return r.setup(e.drawArea)}),this.render(this.components,!1),i&&(this.data=this.realData,setTimeout(function(){e.update(e.data)},this.initTimeout)),this.renderLegend(),this.setupNavigation(i))}},{key:"calc",value:function(){}},{key:"updateWidth",value:function(){this.baseWidth=aG(this.parent),this.width=this.baseWidth-pv(this.measures)}},{key:"makeChartArea",value:function(){this.svg&&this.container.removeChild(this.svg);var e=this.measures;this.svg=fG(this.container,"frappe-chart chart",this.baseWidth,this.baseHeight),this.svgDefs=dG(this.svg),this.title.length&&(this.titleEL=$f("title",e.margins.left,e.margins.top,this.title,{fontSize:e.titleFontSize,fill:"#666666",dy:e.titleFontSize}));var t=dv(e);this.drawArea=_0(this.type+"-chart chart-draw-area","translate("+Og(e)+", "+t+")"),this.config.showLegend&&(t+=this.height+e.paddings.bottom,this.legendArea=_0("chart-legend","translate("+Og(e)+", "+t+")")),this.title.length&&this.svg.appendChild(this.titleEL),this.svg.appendChild(this.drawArea),this.config.showLegend&&this.svg.appendChild(this.legendArea),this.updateTipOffset(Og(e),dv(e))}},{key:"updateTipOffset",value:function(e,t){this.tip.offset={x:e,y:t}}},{key:"setupComponents",value:function(){this.components=new Map}},{key:"update",value:function(e){e||console.error("No data to update."),this.data=this.prepareData(e),this.calc(),this.render(this.components,this.config.animate),this.renderLegend()}},{key:"render",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.components,i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.config.isNavigable&&this.overlays.map(function(a){return a.parentNode.removeChild(a)});var r=[];t.forEach(function(a){r=r.concat(a.update(i))}),r.length>0?(FG(this.container,this.svg,r),setTimeout(function(){t.forEach(function(a){return a.make()}),e.updateNav()},A$)):(t.forEach(function(a){return a.make()}),this.updateNav())}},{key:"updateNav",value:function(){this.config.isNavigable&&(this.makeOverlay(),this.bindUnits())}},{key:"renderLegend",value:function(){}},{key:"setupNavigation",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.config.isNavigable&&t&&(this.bindOverlay(),this.keyActions={13:this.onEnterKey.bind(this),37:this.onLeftArrow.bind(this),38:this.onUpArrow.bind(this),39:this.onRightArrow.bind(this),40:this.onDownArrow.bind(this)},document.addEventListener("keydown",function(i){rG(e.container)&&(i=i||window.event,e.keyActions[i.keyCode]&&e.keyActions[i.keyCode]())}))}},{key:"makeOverlay",value:function(){}},{key:"updateOverlay",value:function(){}},{key:"bindOverlay",value:function(){}},{key:"bindUnits",value:function(){}},{key:"onLeftArrow",value:function(){}},{key:"onRightArrow",value:function(){}},{key:"onUpArrow",value:function(){}},{key:"onDownArrow",value:function(){}},{key:"onEnterKey",value:function(){}},{key:"addDataPoint",value:function(){}},{key:"removeDataPoint",value:function(){}},{key:"getDataPoint",value:function(){}},{key:"setCurrentDataPoint",value:function(){}},{key:"updateDataset",value:function(){}},{key:"export",value:function(){var e=BG(this.svg);jG(this.title||"Chart",[e])}}]),n}(),e9=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),t9=function n(e,t,i){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:n(a,t,i)}if("value"in r)return r.value;var o=r.get;if(o!==void 0)return o.call(i)},dC=function(n){function e(t,i){return zG(this,e),WG(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return UG(e,n),e9(e,[{key:"configure",value:function(t){t9(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),this.config.formatTooltipY=(t.tooltipOptions||{}).formatTooltipY,this.config.maxSlices=t.maxSlices||20,this.config.maxLegendPoints=t.maxLegendPoints||20}},{key:"calc",value:function(){var t=this,i=this.state,r=this.config.maxSlices;i.sliceTotals=[];var a=this.data.labels.map(function(u,c){var l=0;return t.data.datasets.map(function(_){l+=_.values[c]}),[l,u]}).filter(function(u){return u[0]>=0}),o=a;if(a.length>r){a.sort(function(u,c){return c[0]-u[0]}),o=a.slice(0,r-1);var s=0;a.slice(r-1).map(function(u){s+=u[0]}),o.push([s,"Rest"]),this.colors[r-1]="grey"}i.labels=[],o.map(function(u){i.sliceTotals.push(lG(u[0])),i.labels.push(u[1])}),i.grandTotal=i.sliceTotals.reduce(function(u,c){return u+c},0),this.center={x:this.width/2,y:this.height/2}}},{key:"renderLegend",value:function(){var t=this,i=this.state;this.legendArea.textContent="",this.legendTotals=i.sliceTotals.slice(0,this.config.maxLegendPoints);var r=0,a=0;this.legendTotals.map(function(o,s){var u=150,c=Math.floor((t.width-pv(t.measures))/u);t.legendTotals.length<c&&(u=t.width/t.legendTotals.length),r>c&&(r=0,a+=20);var l=u*r+5,_=t.config.truncateLegends?cC(i.labels[s],u/10):i.labels[s],I=t.config.formatTooltipY?t.config.formatTooltipY(o):o,M=wG(l,a,5,t.colors[s],_+": "+I,!1);t.legendArea.appendChild(M),r++})}}]),e}(fC),rE=12,Ff=7,rA=1e3,n9=86400,i9=["January","February","March","April","May","June","July","August","September","October","November","December"],r9=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Na=function(){function n(e,t){var i=[],r=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done)&&(i.push(s.value),!t||i.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return i}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a9=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),s9=function(){function n(e){var t=e.layerClass,i=t===void 0?"":t,r=e.layerTransform,a=r===void 0?"":r,o=e.constants,s=e.getData,u=e.makeElements,c=e.animateElements;$G(this,n),this.layerTransform=a,this.constants=o,this.makeElements=u,this.getData=s,this.animateElements=c,this.store=[],this.labels=[],this.layerClass=i,this.layerClass=typeof this.layerClass=="function"?this.layerClass():this.layerClass,this.refresh()}return a9(n,[{key:"refresh",value:function(e){this.data=e||this.getData()}},{key:"setup",value:function(e){this.layer=_0(this.layerClass,this.layerTransform,e)}},{key:"make",value:function(){this.render(this.data),this.oldData=this.data}},{key:"render",value:function(e){var t=this;this.store=this.makeElements(e),this.layer.textContent="",this.store.forEach(function(i){t.layer.appendChild(i)}),this.labels.forEach(function(i){t.layer.appendChild(i)})}},{key:"update",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.refresh();var t=[];return e&&(t=this.animateElements(this.data)||[]),t}}]),n}(),aE={donutSlices:{layerClass:"donut-slices",makeElements:function(n){return n.sliceStrings.map(function(e,t){var i=gv(e,"donut-path",n.colors[t],"none",n.strokeWidth);return i.style.transition="transform .3s;",i})},animateElements:function(n){return this.store.map(function(e,t){return Kx(e,n.sliceStrings[t])})}},pieSlices:{layerClass:"pie-slices",makeElements:function(n){return n.sliceStrings.map(function(e,t){var i=gv(e,"pie-path","none",n.colors[t]);return i.style.transition="transform .3s;",i})},animateElements:function(n){return this.store.map(function(e,t){return Kx(e,n.sliceStrings[t])})}},percentageBars:{layerClass:"percentage-bars",makeElements:function(n){var e=this;return n.xPositions.map(function(t,i){return yG(t,0,n.widths[i],e.constants.barHeight,e.constants.barDepth,n.colors[i])})},animateElements:function(n){if(n)return[]}},yAxis:{layerClass:"y axis",makeElements:function(n){var e=this;return n.positions.map(function(t,i){return SG(t,n.labels[i],e.constants.width,{mode:e.constants.mode,pos:e.constants.pos,shortenNumbers:e.constants.shortenNumbers})})},animateElements:function(n){var e=n.positions,t=n.labels,i=this.oldData.positions,r=this.oldData.labels,a=Ra(i,e),o=Na(a,2);i=o[0],e=o[1];var s=Ra(r,t),u=Na(s,2);return r=u[0],t=u[1],this.render({positions:i,labels:t}),this.store.map(function(c,l){return Jx(c,e[l],i[l])})}},xAxis:{layerClass:"x axis",makeElements:function(n){var e=this;return n.positions.map(function(t,i){return _G(t,n.calcLabels[i],e.constants.height,{mode:e.constants.mode,pos:e.constants.pos})})},animateElements:function(n){var e=n.positions,t=n.calcLabels,i=this.oldData.positions,r=this.oldData.calcLabels,a=Ra(i,e),o=Na(a,2);i=o[0],e=o[1];var s=Ra(r,t),u=Na(s,2);return r=u[0],t=u[1],this.render({positions:i,calcLabels:t}),this.store.map(function(c,l){return AG(c,e[l],i[l])})}},yMarkers:{layerClass:"y-markers",makeElements:function(n){var e=this;return n.map(function(t){return xG(t.position,t.label,e.constants.width,{labelPos:t.options.labelPos,mode:"span",lineType:"dashed"})})},animateElements:function(n){var e=Ra(this.oldData,n),t=Na(e,2);this.oldData=t[0];var i=(n=t[1]).map(function(s){return s.position}),r=n.map(function(s){return s.label}),a=n.map(function(s){return s.options}),o=this.oldData.map(function(s){return s.position});return this.render(o.map(function(s,u){return{position:o[u],label:r[u],options:a[u]}})),this.store.map(function(s,u){return Jx(s,i[u],o[u])})}},yRegions:{layerClass:"y-regions",makeElements:function(n){var e=this;return n.map(function(t){return EG(t.startPos,t.endPos,e.constants.width,t.label,{labelPos:t.options.labelPos})})},animateElements:function(n){var e=Ra(this.oldData,n),t=Na(e,2);this.oldData=t[0];var i=(n=t[1]).map(function(l){return l.endPos}),r=n.map(function(l){return l.label}),a=n.map(function(l){return l.startPos}),o=n.map(function(l){return l.options}),s=this.oldData.map(function(l){return l.endPos}),u=this.oldData.map(function(l){return l.startPos});this.render(s.map(function(l,_){return{startPos:u[_],endPos:s[_],label:r[_],options:o[_]}}));var c=[];return this.store.map(function(l,_){c=c.concat(MG(l,a[_],i[_],s[_]))}),c}},heatDomain:{layerClass:function(){return"heat-domain domain-"+this.constants.index},makeElements:function(n){var e=this,t=this.constants,i=t.index,r=t.colWidth,a=t.rowHeight,o=t.squareSize,s=t.radius,u=t.xTranslate,c=0;return this.serializedSubDomains=[],n.cols.map(function(l,_){_===1&&e.labels.push($f("domain-name",u,-12,KD(i,!0).toUpperCase(),{fontSize:9})),l.map(function(I,M){if(I.fill){var P={"data-date":I.yyyyMmDd,"data-value":I.dataValue,"data-day":M},N=ZD("day",u,c,o,s,I.fill,P);e.serializedSubDomains.push(N)}c+=a}),c=0,u+=r}),this.serializedSubDomains},animateElements:function(n){if(n)return[]}},barGraph:{layerClass:function(){return"dataset-units dataset-bars dataset-"+this.constants.index},makeElements:function(n){var e=this.constants;return this.unitType="bar",this.units=n.yPositions.map(function(t,i){return TG(n.xPositions[i],t,n.barWidth,e.color,n.labels[i],i,n.offsets[i],{zeroLine:n.zeroLine,barsWidth:n.barsWidth,minHeight:e.minHeight})}),this.units},animateElements:function(n){var e=n.xPositions,t=n.yPositions,i=n.offsets,r=n.labels,a=this.oldData.xPositions,o=this.oldData.yPositions,s=this.oldData.offsets,u=this.oldData.labels,c=Ra(a,e),l=Na(c,2);a=l[0],e=l[1];var _=Ra(o,t),I=Na(_,2);o=I[0],t=I[1];var M=Ra(s,i),P=Na(M,2);s=P[0],i=P[1];var N=Ra(u,r),b=Na(N,2);u=b[0],r=b[1],this.render({xPositions:a,yPositions:o,offsets:s,labels:r,zeroLine:this.oldData.zeroLine,barsWidth:this.oldData.barsWidth,barWidth:this.oldData.barWidth});var f=[];return this.store.map(function(v,m){f=f.concat(OG(v,e[m],t[m],n.barWidth,i[m],{zeroLine:n.zeroLine}))}),f}},lineGraph:{layerClass:function(){return"dataset-units dataset-line dataset-"+this.constants.index},makeElements:function(n){var e=this.constants;return this.unitType="dot",this.paths={},e.hideLine||(this.paths=DG(n.xPositions,n.yPositions,e.color,{heatline:e.heatline,regionFill:e.regionFill,spline:e.spline},{svgDefs:e.svgDefs,zeroLine:n.zeroLine})),this.units=[],e.hideDots||(this.units=n.yPositions.map(function(t,i){return IG(n.xPositions[i],t,n.radius,e.color,e.valuesOverPoints?n.values[i]:"",i)})),Object.values(this.paths).concat(this.units)},animateElements:function(n){var e=n.xPositions,t=n.yPositions,i=n.values,r=this.oldData.xPositions,a=this.oldData.yPositions,o=this.oldData.values,s=Ra(r,e),u=Na(s,2);r=u[0],e=u[1];var c=Ra(a,t),l=Na(c,2);a=l[0],t=l[1];var _=Ra(o,i),I=Na(_,2);o=I[0],i=I[1],this.render({xPositions:r,yPositions:a,values:i,zeroLine:this.oldData.zeroLine,radius:this.oldData.radius});var M=[];return Object.keys(this.paths).length&&(M=M.concat(PG(this.paths,e,t,n.zeroLine,this.constants.spline))),this.units.length&&this.units.map(function(P,N){M=M.concat(kG(P,e[N],t[N]))}),M}}},o9=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),l9=function n(e,t,i){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:n(a,t,i)}if("value"in r)return r.value;var o=r.get;if(o!==void 0)return o.call(i)},c9=function(n){function e(t,i){XG(this,e);var r=ZG(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return r.type="percentage",r.setup(),r}return JG(e,n),o9(e,[{key:"setMeasures",value:function(t){var i=this.measures;this.barOptions=t.barOptions||{};var r=this.barOptions;r.height=r.height||L$,r.depth=r.depth||eA,i.paddings.right=30,i.legendHeight=60,i.baseHeight=8*(r.height+.5*r.depth)}},{key:"setupComponents",value:function(){var t=this.state,i=[["percentageBars",{barHeight:this.barOptions.height,barDepth:this.barOptions.depth},function(){return{xPositions:t.xPositions,widths:t.widths,colors:this.colors}}.bind(this)]];this.components=new Map(i.map(function(r){var a=Ad.apply(void 0,VG(r));return[r[0],a]}))}},{key:"calc",value:function(){var t=this;l9(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var i=this.state;i.xPositions=[],i.widths=[];var r=0;i.sliceTotals.map(function(a){var o=t.width*a/i.grandTotal;i.widths.push(o),i.xPositions.push(r),r+=o})}},{key:"makeDataByIndex",value:function(){}},{key:"bindTooltip",value:function(){var t=this,i=this.state;this.container.addEventListener("mousemove",function(r){var a=t.components.get("percentageBars").store,o=r.target;if(a.includes(o)){var s=a.indexOf(o),u=qf(t.container),c=qf(o),l=c.left-u.left+parseInt(o.getAttribute("width"))/2,_=c.top-u.top,I=(t.formattedLabels&&t.formattedLabels.length>0?t.formattedLabels[s]:t.state.labels[s])+": ",M=i.sliceTotals[s]/i.grandTotal;t.tip.setValues(l,_,{name:I,value:(100*M).toFixed(1)+"%"}),t.tip.showTip()}})}}]),e}(dC),u9=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),sE=function n(e,t,i){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:n(a,t,i)}if("value"in r)return r.value;var o=r.get;if(o!==void 0)return o.call(i)},h9=function(n){function e(t,i){QG(this,e);var r=qG(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return r.type="pie",r.initTimeout=0,r.init=1,r.setup(),r}return e$(e,n),u9(e,[{key:"configure",value:function(t){sE(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=t.hoverRadio||.1,this.config.startAngle=t.startAngle||0,this.clockWise=t.clockWise||!1}},{key:"calc",value:function(){var t=this;sE(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var i=this.state;this.radius=this.height>this.width?this.center.x:this.center.y;var r=this.radius,a=this.clockWise,o=i.slicesProperties||[];i.sliceStrings=[],i.slicesProperties=[];var s=180-this.config.startAngle;i.sliceTotals.map(function(u,c){var l=s,_=u/i.grandTotal*tA,I=_>180?1:0,M=a?-_:_,P=s+=M,N=lh(l,r),b=lh(P,r),f=t.init&&o[c],v=void 0,m=void 0;t.init?(v=f?f.startPosition:N,m=f?f.endPosition:N):(v=N,m=b);var d=_===360?gG(v,m,t.center,t.radius,a,I):pG(v,m,t.center,t.radius,a,I);i.sliceStrings.push(d),i.slicesProperties.push({startPosition:N,endPosition:b,value:u,total:i.grandTotal,startAngle:l,endAngle:P,angle:M})}),this.init=0}},{key:"setupComponents",value:function(){var t=this.state,i=[["pieSlices",{},function(){return{sliceStrings:t.sliceStrings,colors:this.colors}}.bind(this)]];this.components=new Map(i.map(function(r){var a=Ad.apply(void 0,KG(r));return[r[0],a]}))}},{key:"calTranslateByAngle",value:function(t){var i=this.radius,r=this.hoverRadio,a=lh(t.startAngle+t.angle/2,i);return"translate3d("+a.x*r+"px,"+a.y*r+"px,0)"}},{key:"hoverSlice",value:function(t,i,r,a){if(t){var o=this.colors[i];if(r){vv(t,this.calTranslateByAngle(this.state.slicesProperties[i])),t.style.fill=uC(o,50);var s=qf(this.svg),u=a.pageX-s.left+10,c=a.pageY-s.top-10,l=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[i]:this.state.labels[i])+": ",_=(100*this.state.sliceTotals[i]/this.state.grandTotal).toFixed(1);this.tip.setValues(u,c,{name:l,value:_+"%"}),this.tip.showTip()}else vv(t,"translate3d(0,0,0)"),this.tip.hideTip(),t.style.fill=o}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(t){var i=t.target,r=this.components.get("pieSlices").store,a=this.curActiveSliceIndex,o=this.curActiveSlice;if(r.includes(i)){var s=r.indexOf(i);this.hoverSlice(o,a,!1),this.curActiveSlice=i,this.curActiveSliceIndex=s,this.hoverSlice(i,s,!0,t)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),e}(dC),f9=function(){function n(e,t){var i=[],r=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done)&&(i.push(s.value),!t||i.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return i}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d9=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),Is=Ku+R$,Uu=Is,p9=function(n){function e(t,i){c$(this,e);var r=u$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));r.type="heatmap",r.countLabel=i.countLabel||"";var a=["Sunday","Monday"],o=a.includes(i.startSubDomain)?i.startSubDomain:"Sunday";return r.startSubDomainIndex=a.indexOf(o),r.setup(),r}return h$(e,n),d9(e,[{key:"setMeasures",value:function(t){var i=this.measures;this.discreteDomains=t.discreteDomains===0?0:1,i.paddings.top=3*Uu,i.paddings.bottom=0,i.legendHeight=2*Uu,i.baseHeight=Uu*Ff+UD(i);var r=this.data,a=this.discreteDomains?rE:0;this.independentWidth=(Ab(r.start,r.end)+a)*Is+pv(i)}},{key:"updateWidth",value:function(){var t=this.discreteDomains?rE:0,i=this.state.noOfWeeks?this.state.noOfWeeks:52;this.baseWidth=(i+t)*Is+pv(this.measures)}},{key:"prepareData",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.data;if(t.start&&t.end&&t.start>t.end)throw new Error("Start date cannot be greater than end date.");if(t.start||(t.start=new Date,t.start.setFullYear(t.start.getFullYear()-1)),t.end||(t.end=new Date),t.dataPoints=t.dataPoints||{},parseInt(Object.keys(t.dataPoints)[0])>1e5){var i={};Object.keys(t.dataPoints).forEach(function(r){var a=new Date(r*rA);i[Db(a)]=t.dataPoints[r]}),t.dataPoints=i}return t}},{key:"calc",value:function(){var t=this.state;t.start=wc(this.data.start),t.end=wc(this.data.end),t.firstWeekStart=wc(t.start),t.noOfWeeks=Ab(t.start,t.end),t.distribution=s$(Object.values(this.data.dataPoints),Mb),t.domainConfigs=this.getDomains()}},{key:"setupComponents",value:function(){var t=this,i=this.state,r=this.discreteDomains?0:1,a=i.domainConfigs.map(function(s,u){return["heatDomain",{index:s.index,colWidth:Is,rowHeight:Uu,squareSize:Ku,radius:t.rawChartArgs.radius||0,xTranslate:i.domainConfigs.filter(function(c,l){return l<u}).map(function(c){return c.cols.length-r}).reduce(function(c,l){return c+l},0)*Is},function(){return i.domainConfigs[u]}.bind(t)]});this.components=new Map(a.map(function(s,u){var c=Ad.apply(void 0,l$(s));return[s[0]+"-"+u,c]}));var o=0;r9.forEach(function(s,u){if([1,3,5].includes(u)){var c=$f("subdomain-name",-Is/2,o,s,{fontSize:Ku,dy:8,textAnchor:"end"});t.drawArea.appendChild(c)}o+=Uu})}},{key:"update",value:function(t){t||console.error("No data to update."),this.data=this.prepareData(t),this.draw(),this.bindTooltip()}},{key:"bindTooltip",value:function(){var t=this;this.container.addEventListener("mousemove",function(i){t.components.forEach(function(r){var a=r.store,o=i.target;if(a.includes(o)){var s=o.getAttribute("data-value"),u=o.getAttribute("data-date").split("-"),c=KD(parseInt(u[1])-1,!0),l=t.container.getBoundingClientRect(),_=o.getBoundingClientRect(),I=parseInt(i.target.getAttribute("width")),M=_.left-l.left+I/2,P=_.top-l.top,N=s+" "+t.countLabel,b=" on "+c+" "+u[0]+", "+u[2];t.tip.setValues(M,P,{name:b,value:N,valueFirst:1},[]),t.tip.showTip()}})})}},{key:"renderLegend",value:function(){var t=this;this.legendArea.textContent="";var i=0,r=Uu,a=this.rawChartArgs.radius||0,o=$f("subdomain-name",i,r,"Less",{fontSize:Ku+1,dy:9});i=2*Is+Is/2,this.legendArea.appendChild(o),this.colors.slice(0,Mb).map(function(u,c){var l=ZD("heatmap-legend-unit",i+(Is+3)*c,r,Ku,a,u);t.legendArea.appendChild(l)});var s=$f("subdomain-name",i+Mb*(Is+3)+Is/4,r,"More",{fontSize:Ku+1,dy:9});this.legendArea.appendChild(s)}},{key:"getDomains",value:function(){for(var t=this.state,i=[t.start.getMonth(),t.start.getFullYear()],r=i[0],a=i[1],o=[t.end.getMonth(),t.end.getFullYear()],s=o[0]-r+1+12*(o[1]-a),u=[],c=wc(t.start),l=0;l<s;l++){var _=t.end;if(!GG(c,t.end)){var I=[c.getMonth(),c.getFullYear()];_=qx(I[0],I[1])}u.push(this.getDomainConfig(c,_)),Ju(_,1),c=_}return u}},{key:"getDomainConfig",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=[t.getMonth(),t.getFullYear()],a=r[0],o=r[1],s=QD(t),u={index:a,cols:[]};Ju(i=wc(i)||qx(a,o),1);for(var c=Ab(s,i),l=[],_=void 0,I=0;I<c;I++)_=this.getCol(s,a),l.push(_),Ju(s=new Date(_[Ff-1].yyyyMmDd),1);return _[Ff-1].dataValue!==void 0&&(Ju(s,1),l.push(this.getCol(s,a,!0))),u.cols=l,u}},{key:"getCol",value:function(t,i){for(var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=this.state,o=wc(t),s=[],u=0;u<Ff;u++,Ju(o,1)){var c={},l=o>=a.start&&o<=a.end;r||o.getMonth()!==i||!l?c.yyyyMmDd=Db(o):c=this.getSubDomainConfig(o),s.push(c)}return s}},{key:"getSubDomainConfig",value:function(t){var i=Db(t),r=this.data.dataPoints[i];return{yyyyMmDd:i,dataValue:r||0,fill:this.colors[o$(r,this.state.distribution)]}}}]),e}(fC),g9=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),Ob=function n(e,t,i){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:n(a,t,i)}if("value"in r)return r.value;var o=r.get;if(o!==void 0)return o.call(i)},E0=function(n){function e(t,i){v$(this,e);var r=m$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return r.barOptions=i.barOptions||{},r.lineOptions=i.lineOptions||{},r.type=i.type||"line",r.init=1,r.setup(),r}return y$(e,n),g9(e,[{key:"setMeasures",value:function(){this.data.datasets.length<=1&&(this.config.showLegend=0,this.measures.paddings.bottom=30)}},{key:"configure",value:function(t){Ob(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),t.axisOptions=t.axisOptions||{},t.tooltipOptions=t.tooltipOptions||{},this.config.xAxisMode=t.axisOptions.xAxisMode||"span",this.config.yAxisMode=t.axisOptions.yAxisMode||"span",this.config.xIsSeries=t.axisOptions.xIsSeries||0,this.config.shortenYAxisNumbers=t.axisOptions.shortenYAxisNumbers||0,this.config.formatTooltipX=t.tooltipOptions.formatTooltipX,this.config.formatTooltipY=t.tooltipOptions.formatTooltipY,this.config.valuesOverPoints=t.valuesOverPoints}},{key:"prepareData",value:function(){return d$(arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.data,this.type)}},{key:"prepareFirstData",value:function(){return p$(arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.data)}},{key:"calc",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.calcXPositions(),t||this.calcYAxisParameters(this.getAllYValues(),this.type==="line"),this.makeDataByIndex()}},{key:"calcXPositions",value:function(){var t=this.state,i=this.data.labels;t.datasetLength=i.length,t.unitWidth=this.width/t.datasetLength,t.xOffset=t.unitWidth/2,t.xAxis={labels:i,positions:i.map(function(r,a){return YD(t.xOffset+a*t.unitWidth)})}}},{key:"calcYAxisParameters",value:function(t){var i=n$(t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:"false"),r=this.height/r$(i),a=qD(i)*r,o=this.height-i$(i)*a;this.state.yAxis={labels:i,positions:i.map(function(s){return o-s*r}),scaleMultiplier:r,zeroLine:o},this.calcDatasetPoints(),this.calcYExtremes(),this.calcYRegions()}},{key:"calcDatasetPoints",value:function(){var t=this.state,i=function(r){return r.map(function(a){return gg(a,t.yAxis)})};t.datasets=this.data.datasets.map(function(r,a){var o=r.values,s=r.cumulativeYs||[];return{name:r.name&&r.name.replace(/<|>|&/g,function(u){return u=="&"?"&amp;":u=="<"?"&lt;":"&gt;"}),index:a,chartType:r.chartType,values:o,yPositions:i(o),cumulativeYs:s,cumulativeYPos:i(s)}})}},{key:"calcYExtremes",value:function(){var t=this.state;if(this.barOptions.stacked)return void(t.yExtremes=t.datasets[t.datasets.length-1].cumulativeYPos);t.yExtremes=new Array(t.datasetLength).fill(9999),t.datasets.map(function(i){i.yPositions.map(function(r,a){r<t.yExtremes[a]&&(t.yExtremes[a]=r)})})}},{key:"calcYRegions",value:function(){var t=this.state;this.data.yMarkers&&(this.state.yMarkers=this.data.yMarkers.map(function(i){return i.position=gg(i.value,t.yAxis),i.options||(i.options={}),i})),this.data.yRegions&&(this.state.yRegions=this.data.yRegions.map(function(i){return i.startPos=gg(i.start,t.yAxis),i.endPos=gg(i.end,t.yAxis),i.options||(i.options={}),i}))}},{key:"getAllYValues",value:function(){var t,i=this,r="values";if(this.barOptions.stacked){r="cumulativeYs";var a=new Array(this.state.datasetLength).fill(0);this.data.datasets.map(function(s,u){var c=i.data.datasets[u].values;s[r]=a=a.map(function(l,_){return l+c[_]})})}var o=this.data.datasets.map(function(s){return s[r]});return this.data.yMarkers&&o.push(this.data.yMarkers.map(function(s){return s.value})),this.data.yRegions&&this.data.yRegions.map(function(s){o.push([s.end,s.start])}),(t=[]).concat.apply(t,eE(o))}},{key:"setupComponents",value:function(){var t=this,i=[["yAxis",{mode:this.config.yAxisMode,width:this.width,shortenNumbers:this.config.shortenYAxisNumbers},function(){return this.state.yAxis}.bind(this)],["xAxis",{mode:this.config.xAxisMode,height:this.height},function(){var l=this.state;return l.xAxis.calcLabels=g$(this.width,l.xAxis.labels,this.config.xIsSeries),l.xAxis}.bind(this)],["yRegions",{width:this.width,pos:"right"},function(){return this.state.yRegions}.bind(this)]],r=this.state.datasets.filter(function(l){return l.chartType==="bar"}),a=this.state.datasets.filter(function(l){return l.chartType==="line"}),o=r.map(function(l){var _=l.index;return["barGraph-"+l.index,{index:_,color:t.colors[_],stacked:t.barOptions.stacked,valuesOverPoints:t.config.valuesOverPoints,minHeight:t.height*k$},function(){var I=this.state,M=I.datasets[_],P=this.barOptions.stacked,N=this.barOptions.spaceRatio||O$,b=I.unitWidth*(1-N),f=b/(P?1:r.length),v=I.xAxis.positions.map(function(g){return g-b/2});P||(v=v.map(function(g){return g+f*_}));var m=new Array(I.datasetLength).fill("");this.config.valuesOverPoints&&(m=P&&M.index===I.datasets.length-1?M.cumulativeYs:M.values);var d=new Array(I.datasetLength).fill(0);return P&&(d=M.yPositions.map(function(g,h){return g-M.cumulativeYPos[h]})),{xPositions:v,yPositions:M.yPositions,offsets:d,labels:m,zeroLine:I.yAxis.zeroLine,barsWidth:b,barWidth:f}}.bind(t)]}),s=a.map(function(l){var _=l.index;return["lineGraph-"+l.index,{index:_,color:t.colors[_],svgDefs:t.svgDefs,heatline:t.lineOptions.heatline,regionFill:t.lineOptions.regionFill,spline:t.lineOptions.spline,hideDots:t.lineOptions.hideDots,hideLine:t.lineOptions.hideLine,valuesOverPoints:t.config.valuesOverPoints},function(){var I=this.state,M=I.datasets[_],P=I.yAxis.positions[0]<I.yAxis.zeroLine?I.yAxis.positions[0]:I.yAxis.zeroLine;return{xPositions:I.xAxis.positions,yPositions:M.yPositions,values:M.values,zeroLine:P,radius:this.lineOptions.dotSize||P$}}.bind(t)]}),u=[["yMarkers",{width:this.width,pos:"right"},function(){return this.state.yMarkers}.bind(this)]];i=i.concat(o,s,u);var c=["yMarkers","yRegions"];this.dataUnitComponents=[],this.components=new Map(i.filter(function(l){return!c.includes(l[0])||t.state[l[0]]}).map(function(l){var _=Ad.apply(void 0,eE(l));return(l[0].includes("lineGraph")||l[0].includes("barGraph"))&&t.dataUnitComponents.push(_),[l[0],_]}))}},{key:"makeDataByIndex",value:function(){var t=this;this.dataByIndex={};var i=this.state,r=this.config.formatTooltipX,a=this.config.formatTooltipY;i.xAxis.labels.map(function(o,s){var u=t.state.datasets.map(function(c,l){var _=c.values[s];return{title:c.name,value:_,yPos:c.yPositions[s],color:t.colors[l],formatted:a?a(_):_}});t.dataByIndex[s]={label:o,formattedLabel:r?r(o):o,xPos:i.xAxis.positions[s],values:u,yExtreme:i.yExtremes[s]}})}},{key:"bindTooltip",value:function(){var t=this;this.container.addEventListener("mousemove",function(i){var r=t.measures,a=qf(t.container),o=i.pageX-a.left-Og(r),s=i.pageY-a.top;s<t.height+dv(r)&&s>dv(r)?t.mapTooltipXPosition(o):t.tip.hideTip()})}},{key:"mapTooltipXPosition",value:function(t){var i=this.state;if(i.yExtremes){var r=a$(t,i.xAxis.positions,!0);if(r>=0){var a=this.dataByIndex[r];this.tip.setValues(a.xPos+this.tip.offset.x,a.yExtreme+this.tip.offset.y,{name:a.formattedLabel,value:""},a.values,r),this.tip.showTip()}}}},{key:"renderLegend",value:function(){var t=this,i=this.data;i.datasets.length>1&&(this.legendArea.textContent="",i.datasets.map(function(r,a){var o=M$,s=bG(o*a,"0",o,t.colors[a],r.name,t.config.truncateLegends);t.legendArea.appendChild(s)}))}},{key:"makeOverlay",value:function(){var t=this;if(this.init)return void(this.init=0);this.overlayGuides&&this.overlayGuides.forEach(function(i){var r=i.overlay;r.parentNode.removeChild(r)}),this.overlayGuides=this.dataUnitComponents.map(function(i){return{type:i.unitType,overlay:void 0,units:i.units}}),this.state.currentIndex===void 0&&(this.state.currentIndex=this.state.datasetLength-1),this.overlayGuides.map(function(i){var r=i.units[t.state.currentIndex];i.overlay=$$[i.type](r),t.drawArea.appendChild(i.overlay)})}},{key:"updateOverlayGuides",value:function(){this.overlayGuides&&this.overlayGuides.forEach(function(t){var i=t.overlay;i.parentNode.removeChild(i)})}},{key:"bindOverlay",value:function(){var t=this;this.parent.addEventListener("data-select",function(){t.updateOverlay()})}},{key:"bindUnits",value:function(){var t=this;this.dataUnitComponents.map(function(i){i.units.map(function(r){r.addEventListener("click",function(){var a=r.getAttribute("data-point-index");t.setCurrentDataPoint(a)})})}),this.tip.container.addEventListener("click",function(){var i=t.tip.container.getAttribute("data-point-index");t.setCurrentDataPoint(i)})}},{key:"updateOverlay",value:function(){var t=this;this.overlayGuides.map(function(i){var r=i.units[t.state.currentIndex];V$[i.type](r,i.overlay)})}},{key:"onLeftArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex-1)}},{key:"onRightArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex+1)}},{key:"getDataPoint",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.state.currentIndex,i=this.state;return{index:t,label:i.xAxis.labels[t],values:i.datasets.map(function(r){return r.values[t]})}}},{key:"setCurrentDataPoint",value:function(t){var i=this.state;(t=parseInt(t))<0&&(t=0),t>=i.xAxis.labels.length&&(t=i.xAxis.labels.length-1),t!==i.currentIndex&&(i.currentIndex=t,sG(this.parent,"data-select",this.getDataPoint()))}},{key:"addDataPoint",value:function(t,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.state.datasetLength;Ob(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addDataPoint",this).call(this,t,i,r),this.data.labels.splice(r,0,t),this.data.datasets.map(function(a,o){a.values.splice(r,0,i[o])}),this.update(this.data)}},{key:"removeDataPoint",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.state.datasetLength-1;this.data.labels.length<=1||(Ob(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeDataPoint",this).call(this,t),this.data.labels.splice(t,1),this.data.datasets.map(function(i){i.values.splice(t,1)}),this.update(this.data))}},{key:"updateDataset",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.data.datasets[i].values=t,this.update(this.data)}},{key:"updateDatasets",value:function(t){this.data.datasets.map(function(i,r){t[r]&&(i.values=t[r])}),this.update(this.data)}}]),e}(fC),v9=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),oE=function n(e,t,i){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:n(a,t,i)}if("value"in r)return r.value;var o=r.get;if(o!==void 0)return o.call(i)},m9=function(n){function e(t,i){w$(this,e);var r=C$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return r.type="donut",r.initTimeout=0,r.init=1,r.setup(),r}return S$(e,n),v9(e,[{key:"configure",value:function(t){oE(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=t.hoverRadio||.1,this.config.startAngle=t.startAngle||0,this.clockWise=t.clockWise||!1,this.strokeWidth=t.strokeWidth||30}},{key:"calc",value:function(){var t=this;oE(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var i=this.state;this.radius=this.height>this.width?this.center.x-this.strokeWidth/2:this.center.y-this.strokeWidth/2;var r=this.radius,a=this.clockWise,o=i.slicesProperties||[];i.sliceStrings=[],i.slicesProperties=[];var s=180-this.config.startAngle;i.sliceTotals.map(function(u,c){var l=s,_=u/i.grandTotal*tA,I=_>180?1:0,M=a?-_:_,P=s+=M,N=lh(l,r),b=lh(P,r),f=t.init&&o[c],v=void 0,m=void 0;t.init?(v=f?f.startPosition:N,m=f?f.endPosition:N):(v=N,m=b);var d=_===360?mG(v,m,t.center,t.radius,t.clockWise,I):vG(v,m,t.center,t.radius,t.clockWise,I);i.sliceStrings.push(d),i.slicesProperties.push({startPosition:N,endPosition:b,value:u,total:i.grandTotal,startAngle:l,endAngle:P,angle:M})}),this.init=0}},{key:"setupComponents",value:function(){var t=this.state,i=[["donutSlices",{},function(){return{sliceStrings:t.sliceStrings,colors:this.colors,strokeWidth:this.strokeWidth}}.bind(this)]];this.components=new Map(i.map(function(r){var a=Ad.apply(void 0,b$(r));return[r[0],a]}))}},{key:"calTranslateByAngle",value:function(t){var i=this.radius,r=this.hoverRadio,a=lh(t.startAngle+t.angle/2,i);return"translate3d("+a.x*r+"px,"+a.y*r+"px,0)"}},{key:"hoverSlice",value:function(t,i,r,a){if(t){var o=this.colors[i];if(r){vv(t,this.calTranslateByAngle(this.state.slicesProperties[i])),t.style.stroke=uC(o,50);var s=qf(this.svg),u=a.pageX-s.left+10,c=a.pageY-s.top-10,l=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[i]:this.state.labels[i])+": ",_=(100*this.state.sliceTotals[i]/this.state.grandTotal).toFixed(1);this.tip.setValues(u,c,{name:l,value:_+"%"}),this.tip.showTip()}else vv(t,"translate3d(0,0,0)"),this.tip.hideTip(),t.style.stroke=o}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(t){var i=t.target,r=this.components.get("donutSlices").store,a=this.curActiveSliceIndex,o=this.curActiveSlice;if(r.includes(i)){var s=r.indexOf(i);this.hoverSlice(o,a,!1),this.curActiveSlice=i,this.curActiveSliceIndex=s,this.hoverSlice(i,s,!0,t)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),e}(dC),lE={bar:E0,line:E0,percentage:c9,heatmap:p9,pie:h9,donut:m9},y9=function n(e,t){return _$(this,n),x$(t.type,e,t)},aA={exports:{}};(function(n,e){(function(t,i){i()})(sr,function(){function t(c,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function i(c,l,_){var I=new XMLHttpRequest;I.open("GET",c),I.responseType="blob",I.onload=function(){u(I.response,l,_)},I.onerror=function(){console.error("could not download file")},I.send()}function r(c){var l=new XMLHttpRequest;l.open("HEAD",c,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function a(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(l)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof sr=="object"&&sr.global===sr?sr:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(c,l,_){var I=o.URL||o.webkitURL,M=document.createElement("a");l=l||c.name||"download",M.download=l,M.rel="noopener",typeof c=="string"?(M.href=c,M.origin===location.origin?a(M):r(M.href)?i(c,l,_):a(M,M.target="_blank")):(M.href=I.createObjectURL(c),setTimeout(function(){I.revokeObjectURL(M.href)},4e4),setTimeout(function(){a(M)},0))}:"msSaveOrOpenBlob"in navigator?function(c,l,_){if(l=l||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(t(c,_),l);else if(r(c))i(c,l,_);else{var I=document.createElement("a");I.href=c,I.target="_blank",setTimeout(function(){a(I)})}}:function(c,l,_,I){if(I=I||open("","_blank"),I&&(I.document.title=I.document.body.innerText="downloading..."),typeof c=="string")return i(c,l,_);var M=c.type==="application/octet-stream",P=/constructor/i.test(o.HTMLElement)||o.safari,N=/CriOS\/[\d]+/.test(navigator.userAgent);if((N||M&&P||s)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var m=b.result;m=N?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),I?I.location.href=m:location=m,I=null},b.readAsDataURL(c)}else{var f=o.URL||o.webkitURL,v=f.createObjectURL(c);I?I.location=v:location.href=v,I=null,setTimeout(function(){f.revokeObjectURL(v)},4e4)}});o.saveAs=u.saveAs=u,n.exports=u})})(aA);var sA={exports:{}},kb={exports:{}};/*!
 * TOAST UI Color Picker
 * @version 2.2.8
 * @author NHN Cloud FE Development Team <dl_javascript@nhn.com>
 * @license MIT
 */var cE;function b9(){return cE||(cE=1,function(n,e){(function(i,r){n.exports=r()})(window,function(){return function(t){var i={};function r(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=i,r.d=function(a,o,s){r.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:s})},r.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},r.t=function(a,o){if(o&1&&(a=r(a)),o&8||o&4&&typeof a=="object"&&a&&a.__esModule)return a;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:a}),o&2&&typeof a!="string")for(var u in a)r.d(s,u,function(c){return a[c]}.bind(null,u));return s},r.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(o,"a",o),o},r.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},r.p="dist",r(r.s=33)}([function(t,i,r){function a(o,s){var u=Object.prototype.hasOwnProperty,c,l,_,I;for(_=1,I=arguments.length;_<I;_+=1){c=arguments[_];for(l in c)u.call(c,l)&&(o[l]=c[l])}return o}t.exports=a},function(t,i,r){function a(o){return o instanceof Array}t.exports=a},function(t,i,r){var a=r(1),o=r(6),s=r(7);function u(c,l,_){a(c)?o(c,l,_):s(c,l,_)}t.exports=u},function(t,i,r){function a(o){return o===void 0}t.exports=a},function(t,i,r){var a=r(22),o=r(2),s=r(6),u=r(7),c=r(37),l=0,_={getLength:function(I){var M=0;return u(I,function(){M+=1}),M},map:function(I,M,P){var N=[];return o(I,function(){N.push(M.apply(P||null,arguments))}),N},filter:function(I,M,P){var N=[];return s(I,function(b){M.apply(P||null,arguments)&&N.push(b)}),N},generateId:function(){return l+=1,l},isOldBrowser:function(){return a.msie&&a.version<9}(),sendHostName:function(){c("color-picker","UA-129987462-1")}};t.exports=_},function(t,i,r){var a=r(1);function o(s,u,c){var l,_;if(c=c||0,!a(u))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(u,s,c);for(_=u.length,l=c;c>=0&&l<_;l+=1)if(u[l]===s)return l;return-1}t.exports=o},function(t,i,r){function a(o,s,u){var c=0,l=o.length;for(u=u||null;c<l&&s.call(u,o[c],c,o)!==!1;c+=1);}t.exports=a},function(t,i,r){function a(o,s,u){var c;u=u||null;for(c in o)if(o.hasOwnProperty(c)&&s.call(u,o[c],c,o)===!1)break}t.exports=a},function(t,i,r){var a=r(39),o=r(13),s=r(41),u=r(3),c=r(9),l=r(19),_=r(4);function I(M,P){var N=_.generateId();u(P)&&(P=c.appendHTMLElement("div")),a(P,"tui-view-"+N),this.id=N,this.container=P,this.childs=new l(function(b){return b.id}),this.parent=null}I.prototype.addChild=function(M,P){P&&P.call(M,this),M.parent=this,this.childs.add(M)},I.prototype.removeChild=function(M,P){var N=s(M)?this.childs.items[M]:M;P&&P.call(N,this),this.childs.remove(N.id)},I.prototype.render=function(){this.childs.each(function(M){M.render()})},I.prototype.recursive=function(M,P){!o(M)||(P||M(this),this.childs.each(function(N){N.recursive(M)}))},I.prototype.resize=function(){for(var M=Array.prototype.slice.call(arguments),P=this.parent;P;)o(P._onResize)&&P._onResize.apply(P,M),P=P.parent},I.prototype._beforeDestroy=function(){},I.prototype._destroy=function(){this._beforeDestroy(),this.container.innerHTML="",this.id=this.parent=this.childs=this.container=null},I.prototype.destroy=function(M){this.childs&&(this.childs.each(function(P){P.destroy(!0),P._destroy()}),this.childs.clear()),!M&&this._destroy()},I.prototype.getViewBound=function(){var M=this.container.getBoundingClientRect();return{x:M.left,y:M.top,width:M.right-M.left,height:M.bottom-M.top}},t.exports=I},function(t,i,r){var a={appendHTMLElement:function(o,s,u){var c=document.createElement(o);return c.className=u||"",s?s.appendChild(c):document.body.appendChild(c),c}};t.exports=a},function(t,i,r){var a=r(0),o=r(20),s=r(11),u=r(21),c=r(1),l=r(13),_=r(2),I=/\s+/g;function M(){this.events=null,this.contexts=null}M.mixin=function(P){a(P.prototype,M.prototype)},M.prototype._getHandlerItem=function(P,N){var b={handler:P};return N&&(b.context=N),b},M.prototype._safeEvent=function(P){var N=this.events,b;return N||(N=this.events={}),P&&(b=N[P],b||(b=[],N[P]=b),N=b),N},M.prototype._safeContext=function(){var P=this.contexts;return P||(P=this.contexts=[]),P},M.prototype._indexOfContext=function(P){for(var N=this._safeContext(),b=0;N[b];){if(P===N[b][0])return b;b+=1}return-1},M.prototype._memorizeContext=function(P){var N,b;!o(P)||(N=this._safeContext(),b=this._indexOfContext(P),b>-1?N[b][1]+=1:N.push([P,1]))},M.prototype._forgetContext=function(P){var N,b;!o(P)||(N=this._safeContext(),b=this._indexOfContext(P),b>-1&&(N[b][1]-=1,N[b][1]<=0&&N.splice(b,1)))},M.prototype._bindEvent=function(P,N,b){var f=this._safeEvent(P);this._memorizeContext(b),f.push(this._getHandlerItem(N,b))},M.prototype.on=function(P,N,b){var f=this;s(P)?(P=P.split(I),_(P,function(v){f._bindEvent(v,N,b)})):u(P)&&(b=N,_(P,function(v,m){f.on(m,v,b)}))},M.prototype.once=function(P,N,b){var f=this;if(u(P)){b=N,_(P,function(m,d){f.once(d,m,b)});return}function v(){N.apply(b,arguments),f.off(P,v,b)}this.on(P,v,b)},M.prototype._spliceMatches=function(P,N){var b=0,f;if(!!c(P))for(f=P.length;b<f;b+=1)N(P[b])===!0&&(P.splice(b,1),f-=1,b-=1)},M.prototype._matchHandler=function(P){var N=this;return function(b){var f=P===b.handler;return f&&N._forgetContext(b.context),f}},M.prototype._matchContext=function(P){var N=this;return function(b){var f=P===b.context;return f&&N._forgetContext(b.context),f}},M.prototype._matchHandlerAndContext=function(P,N){var b=this;return function(f){var v=P===f.handler,m=N===f.context,d=v&&m;return d&&b._forgetContext(f.context),d}},M.prototype._offByEventName=function(P,N){var b=this,f=l(N),v=b._matchHandler(N);P=P.split(I),_(P,function(m){var d=b._safeEvent(m);f?b._spliceMatches(d,v):(_(d,function(g){b._forgetContext(g.context)}),b.events[m]=[])})},M.prototype._offByHandler=function(P){var N=this,b=this._matchHandler(P);_(this._safeEvent(),function(f){N._spliceMatches(f,b)})},M.prototype._offByObject=function(P,N){var b=this,f;this._indexOfContext(P)<0?_(P,function(v,m){b.off(m,v)}):s(N)?(f=this._matchContext(P),b._spliceMatches(this._safeEvent(N),f)):l(N)?(f=this._matchHandlerAndContext(N,P),_(this._safeEvent(),function(v){b._spliceMatches(v,f)})):(f=this._matchContext(P),_(this._safeEvent(),function(v){b._spliceMatches(v,f)}))},M.prototype.off=function(P,N){s(P)?this._offByEventName(P,N):arguments.length?l(P)?this._offByHandler(P):u(P)&&this._offByObject(P,N):(this.events={},this.contexts=[])},M.prototype.fire=function(P){this.invoke.apply(this,arguments)},M.prototype.invoke=function(P){var N,b,f,v;if(!this.hasListener(P))return!0;for(N=this._safeEvent(P),b=Array.prototype.slice.call(arguments,1),f=0;N[f];){if(v=N[f],v.handler.apply(v.context,b)===!1)return!1;f+=1}return!0},M.prototype.hasListener=function(P){return this.getListenerLength(P)>0},M.prototype.getListenerLength=function(P){var N=this._safeEvent(P);return N.length},t.exports=M},function(t,i,r){function a(o){return typeof o=="string"||o instanceof String}t.exports=a},function(t,i,r){var a=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,o={leadingZero:function(s,u){var c="",l=0;if((s+"").length>u)return s+"";for(;l<u-1;l+=1)c+="0";return(c+s).slice(u*-1)},isValidRGB:function(s){return a.test(s)},hexToRGB:function(s){var u,c,l;return o.isValidRGB(s)?(s=s.substring(1),u=parseInt(s.substr(0,2),16),c=parseInt(s.substr(2,2),16),l=parseInt(s.substr(4,2),16),[u,c,l]):!1},rgbToHEX:function(s,u,c){var l="#"+o.leadingZero(s.toString(16),2)+o.leadingZero(u.toString(16),2)+o.leadingZero(c.toString(16),2);return o.isValidRGB(l)?l:!1},rgbToHSV:function(s,u,c){var l,_,I,M,P,N;if(s/=255,u/=255,c/=255,l=Math.max(s,u,c),_=Math.min(s,u,c),P=l,N=l-_,M=l===0?0:N/l,l===_)I=0;else{switch(l){case s:I=(u-c)/N+(u<c?6:0);break;case u:I=(c-s)/N+2;break;case c:I=(s-u)/N+4;break}I/=6}return[Math.round(I*360),Math.round(M*100),Math.round(P*100)]},hsvToRGB:function(s,u,c){var l,_,I,M,P,N,b,f;if(s=Math.max(0,Math.min(360,s)),u=Math.max(0,Math.min(100,u)),c=Math.max(0,Math.min(100,c)),u/=100,c/=100,u===0)return l=_=I=c,[Math.round(l*255),Math.round(_*255),Math.round(I*255)];switch(s/=60,M=Math.floor(s),P=s-M,N=c*(1-u),b=c*(1-u*P),f=c*(1-u*(1-P)),M){case 0:l=c,_=f,I=N;break;case 1:l=b,_=c,I=N;break;case 2:l=N,_=c,I=f;break;case 3:l=N,_=b,I=c;break;case 4:l=f,_=N,I=c;break;default:l=c,_=N,I=b;break}return[Math.round(l*255),Math.round(_*255),Math.round(I*255)]}};t.exports=o},function(t,i,r){function a(o){return o instanceof Function}t.exports=a},function(t,i,r){var a=r(11),o=r(2),s=r(26);function u(_,I,M,P){if(a(I)){o(I.split(/\s+/g),function(N){c(_,N,M,P)});return}o(I,function(N,b){c(_,b,N,M)})}function c(_,I,M,P){function N(b){M.call(P||_,b||window.event)}"addEventListener"in _?_.addEventListener(I,N):"attachEvent"in _&&_.attachEvent("on"+I,N),l(_,I,M,N)}function l(_,I,M,P){var N=s(_,I),b=!1;o(N,function(f){return f.handler===M?(b=!0,!1):!0}),b||N.push({handler:M,wrappedHandler:P})}t.exports=u},function(t,i,r){function a(o){if(o.preventDefault){o.preventDefault();return}o.returnValue=!1}t.exports=a},function(t,i,r){function a(o){return o.replace(/([A-Z])/g,function(s){return"-"+s.toLowerCase()})}t.exports=a},function(t,i,r){var a=r(11),o=r(2),s=r(26);function u(_,I,M){if(a(I)){o(I.split(/\s+/g),function(P){c(_,P,M)});return}o(I,function(P,N){c(_,N,P)})}function c(_,I,M){var P=s(_,I),N;M?(o(P,function(b,f){return M===b.handler?(l(_,I,b.wrappedHandler),N=f,!1):!0}),P.splice(N,1)):(o(P,function(b){l(_,I,b.wrappedHandler)}),P.splice(0,P.length))}function l(_,I,M){"removeEventListener"in _?_.removeEventListener(I,M):"detachEvent"in _&&_.detachEvent("on"+I,M)}t.exports=u},function(t,i,r){var a=r(50);function o(s,u){var c=a(u.prototype);c.constructor=s,s.prototype=c}t.exports=o},function(t,i,r){var a=r(6),o=r(7),s=r(0),u=r(1),c=r(20),l=r(13),_=r(21),I=r(4),M=Array.prototype.slice;function P(N){this.items={},this.length=0,l(N)&&(this.getItemID=N)}P.and=function(N){var b;return N=M.call(arguments),b=N.length,function(f){for(var v=0;v<b;v+=1)if(!N[v].call(null,f))return!1;return!0}},P.or=function(N){var b;return N=M.call(arguments),b=N.length,function(f){for(var v=1,m=N[0].call(null,f);v<b;v+=1)m=m||N[v].call(null,f);return m}},P.merge=function(N){var b={},f=new P(N.getItemID);return a(arguments,function(v){s(b,v.items)}),f.items=b,f.length=I.getLength(f.items),f},P.prototype.getItemID=function(N){return N._id+""},P.prototype.add=function(N){var b,f;if(arguments.length>1){a(M.call(arguments),function(v){this.add(v)},this);return}b=this.getItemID(N),f=this.items,f[b]||(this.length+=1),f[b]=N},P.prototype.remove=function(N){var b=[],f,v;return this.length?arguments.length>1?(b=I.map(M.call(arguments),function(m){return this.remove(m)},this),b):(f=this.items,_(N)&&(N=this.getItemID(N)),f[N]?(this.length-=1,v=f[N],delete f[N],v):b):b},P.prototype.clear=function(){this.items={},this.length=0},P.prototype.has=function(N){var b,f;return this.length?(b=l(N),f=!1,b?this.each(function(v){return N(v)===!0?(f=!0,!1):!0}):(N=_(N)?this.getItemID(N):N,f=c(this.items[N])),f):!1},P.prototype.doWhenHas=function(N,b,f){var v=this.items[N];!c(v)||b.call(f||this,v)},P.prototype.find=function(N){var b=new P;return this.hasOwnProperty("getItemID")&&(b.getItemID=this.getItemID),this.each(function(f){N(f)===!0&&b.add(f)}),b},P.prototype.groupBy=function(N,b){var f={},v=l(N),m=this.getItemID,d,g;if(u(N)){if(a(N,function(h){f[h+""]=new P(m)}),!b)return f;N=b,v=!0}return this.each(function(h){v?g=N(h):(g=h[N],l(g)&&(g=g.apply(h))),d=f[g],d||(d=f[g]=new P(m)),d.add(h)}),f},P.prototype.single=function(){var N;return this.each(function(b){return N=b,!1},this),N},P.prototype.sort=function(N){var b=[];return this.each(function(f){b.push(f)}),l(N)&&(b=b.sort(N)),b},P.prototype.each=function(N,b){o(this.items,N,b||this)},P.prototype.toArray=function(){return this.length?I.map(this.items,function(N){return N}):[]},t.exports=P},function(t,i,r){var a=r(3),o=r(36);function s(u){return!a(u)&&!o(u)}t.exports=s},function(t,i,r){function a(o){return o===Object(o)}t.exports=a},function(t,i,r){var a={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};typeof window<"u"&&window.navigator&&o();function o(){var s=window.navigator,u=s.appName.replace(/\s/g,"_"),c=s.userAgent,l=/MSIE\s([0-9]+[.0-9]*)/,_=/Trident.*rv:11\./,I=/Edge\/(\d+)\./,M={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},P,N,b={Microsoft_Internet_Explorer:function(){var v=c.match(l);v?(a.msie=!0,a.version=parseFloat(v[1])):a.others=!0},Netscape:function(){var v=!1;if(_.exec(c))a.msie=!0,a.version=11,v=!0;else if(I.exec(c))a.edge=!0,a.version=c.match(I)[1],v=!0;else for(P in M)if(M.hasOwnProperty(P)&&(N=c.match(M[P]),N&&N.length>1)){a[P]=v=!0,a.version=parseFloat(N[1]||0);break}v||(a.others=!0)}},f=b[u];f&&b[u]()}t.exports=a},function(t,i,r){var a=r(3);function o(s){return!s||!s.className?"":a(s.className.baseVal)?s.className:s.className.baseVal}t.exports=o},function(t,i,r){(function(a){var o=r(10),s=r(42),u=r(44),c=r(47),l=r(28),_=r(17),I=r(14),M=r(15),P=r(0);function N(b,f){I(f,"mousedown",this._onMouseDown,this),this.options=P({distance:10},b),this.container=f,this._isMoved=!1,this._distance=0,this._dragStartFired=!1,this._dragStartEventData=null}N.prototype.destroy=function(){_(this.container,"mousedown",this._onMouseDown),this.options=this.container=this._isMoved=this._distance=this._dragStartFired=this._dragStartEventData=null},N.prototype._toggleDragEvent=function(b){var f=this.container;b?(s(f),I(window,"dragstart",M),I(a.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)):(u(f),_(window,"dragstart",M),_(a.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp}))},N.prototype._getEventData=function(b){return{target:l(b),originEvent:b}},N.prototype._onMouseDown=function(b){c(b)===0&&(this._distance=0,this._dragStartFired=!1,this._dragStartEventData=this._getEventData(b),this._toggleDragEvent(!0))},N.prototype._onMouseMove=function(b){var f=this.options.distance;if(M(b),this._isMoved=!0,this._distance<f){this._distance+=1;return}if(!this._dragStartFired&&(this._dragStartFired=!0,!this.invoke("dragStart",this._dragStartEventData))){this._toggleDragEvent(!1);return}this.fire("drag",this._getEventData(b))},N.prototype._onMouseUp=function(b){if(this._toggleDragEvent(!1),this._isMoved){this._isMoved=!1,this.fire("dragEnd",this._getEventData(b));return}this.fire("click",this._getEventData(b))},o.mixin(N),t.exports=N}).call(this,r(25))},function(t,i){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch{typeof window=="object"&&(r=window)}t.exports=r},function(t,i,r){var a="_feEventKey";function o(s,u){var c=s[a],l;return c||(c=s[a]={}),l=c[u],l||(l=c[u]=[]),l}t.exports=o},function(t,i,r){function a(o){var s=document.documentElement.style,u,c;for(u=0,c=o.length;u<c;u+=1)if(o[u]in s)return o[u];return!1}t.exports=a},function(t,i,r){function a(o){return o.target||o.srcElement}t.exports=a},function(t,i,r){var a=r(10),o=r(28),s=r(17),u=r(14),c=r(30),l=r(0),_=r(18),I=r(9),M=r(12),P=r(8),N=r(51);function b(f,v){this.options=l({cssPrefix:"tui-colorpicker-",preset:["#181818","#282828","#383838","#585858","#B8B8B8","#D8D8D8","#E8E8E8","#F8F8F8","#AB4642","#DC9656","#F7CA88","#A1B56C","#86C1B9","#7CAFC2","#BA8BAF","#A16946"],detailTxt:"Detail"},f),v=I.appendHTMLElement("div",v,this.options.cssPrefix+"palette-container"),P.call(this,f,v)}_(b,P),b.prototype._onClick=function(f){var v=this.options,m=o(f),d={};if(c(m,v.cssPrefix+"palette-button")){d.color=m.value,this.fire("_selectColor",d);return}c(m,v.cssPrefix+"palette-toggle-slider")&&this.fire("_toggleSlider")},b.prototype._onChange=function(f){var v=this.options,m=o(f),d={};c(m,v.cssPrefix+"palette-hex")&&(d.color=m.value,this.fire("_selectColor",d))},b.prototype._beforeDestroy=function(){this._toggleEvent(!1)},b.prototype._toggleEvent=function(f){var v=this.options,m=this.container,d=f?u:s,g;d(m,"click",this._onClick,this),g=m.querySelector("."+v.cssPrefix+"palette-hex",m),g&&d(g,"change",this._onChange,this)},b.prototype.render=function(f){var v=this.options,m="";this._toggleEvent(!1),m=N({cssPrefix:v.cssPrefix,preset:v.preset,detailTxt:v.detailTxt,color:f,isValidRGB:M.isValidRGB,getItemClass:function(d){return d?"":" "+v.cssPrefix+"color-transparent"},isSelected:function(d){return d===f?" "+v.cssPrefix+"selected":""}}),this.container.innerHTML=m,this._toggleEvent(!0)},a.mixin(b),t.exports=b},function(t,i,r){var a=r(5),o=r(23);function s(u,c){var l;return u.classList?u.classList.contains(c):(l=o(u).split(/\s+/),a(c,l)>-1)}t.exports=s},function(t,i,r){var a=r(10),o=r(53),s=r(54),u=r(30),c=r(0),l=r(18),_=r(9),I=r(32),M=r(12),P=r(8),N=r(24),b=r(57),f=-7,v=112,m=-3,d=115,g=359.99;function h(C,D){D=_.appendHTMLElement("div",D,C.cssPrefix+"slider-container"),D.style.display="none",P.call(this,C,D),this.options=c({color:"#f8f8f8",cssPrefix:"tui-colorpicker-"},C),this._dragDataCache={},this.sliderHandleElement=null,this.huebarHandleElement=null,this.baseColorElement=null,this.drag=new N({distance:0},D),this.colorSliderPosLimitRange=[f,v],this.huebarPosLimitRange=[m,d],this.drag.on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this)}l(h,P),h.prototype._beforeDestroy=function(){this.drag.off(),this.drag=this.options=this._dragDataCache=this.sliderHandleElement=this.huebarHandleElement=this.baseColorElement=null},h.prototype.toggle=function(C){this.container.style.display=C?"block":"none"},h.prototype.isVisible=function(){return this.container.style.display==="block"},h.prototype.render=function(C){var D=this.container,S=this.options,k=b.layout,L,B;!M.isValidRGB(C)||(k=k.replace(/{{slider}}/,b.slider),k=k.replace(/{{huebar}}/,b.huebar),k=k.replace(/{{cssPrefix}}/g,S.cssPrefix),k=k.replace(/{{id}}/g,S.id),this.container.innerHTML=k,this.sliderSvgElement=D.querySelector("."+S.cssPrefix+"svg-slider"),this.huebarSvgElement=D.querySelector("."+S.cssPrefix+"svg-huebar"),this.sliderHandleElement=D.querySelector("."+S.cssPrefix+"slider-handle"),this.huebarHandleElement=D.querySelector("."+S.cssPrefix+"huebar-handle"),this.baseColorElement=D.querySelector("."+S.cssPrefix+"slider-basecolor"),L=M.hexToRGB(C),B=M.rgbToHSV.apply(null,L),this.moveHue(B[0],!0),this.moveSaturationAndValue(B[1],B[2],!0))},h.prototype._setColorSliderPosMax=function(){var C=this.sliderSvgElement.getClientRects()[0];C&&(this.colorSliderPosLimitRange[1]=C.height-10)},h.prototype._moveColorSliderHandle=function(C,D,S){var k=this.sliderHandleElement,L;D=Math.max(this.colorSliderPosLimitRange[0],D),D=Math.min(this.colorSliderPosLimitRange[1],D),C=Math.max(this.colorSliderPosLimitRange[0],C),C=Math.min(this.colorSliderPosLimitRange[1],C),I.setTranslateXY(k,C,D),L=D>50?"white":"black",I.setStrokeColor(k,L),S||this.fire("_selectColor",{color:M.rgbToHEX.apply(null,this.getRGB())})},h.prototype.moveSaturationAndValue=function(C,D,S){var k,L,B,z;C=C||0,D=D||0,k=Math.abs(this.colorSliderPosLimitRange[0]),L=this.colorSliderPosLimitRange[1],B=C*L/100-k,z=L-D*L/100-k,this._moveColorSliderHandle(B,z,S)},h.prototype._moveColorSliderByPosition=function(C,D){var S=this.colorSliderPosLimitRange[0];this._moveColorSliderHandle(C+S,D+S)},h.prototype.getSaturationAndValue=function(){var C=Math.abs(this.colorSliderPosLimitRange[0]),D=C+this.colorSliderPosLimitRange[1],S=I.getTranslateXY(this.sliderHandleElement),k,L;return k=(S[1]+C)/D*100,L=100-(S[0]+C)/D*100,[k,L]},h.prototype._setHueBarPosMax=function(){var C=this.huebarSvgElement.getClientRects()[0];C&&(this.huebarPosLimitRange[1]=C.height-7)},h.prototype._moveHueHandle=function(C,D){var S=this.huebarHandleElement,k=this.baseColorElement,L,B;C=Math.max(this.huebarPosLimitRange[0],C),C=Math.min(this.huebarPosLimitRange[1],C),I.setTranslateY(S,C),L=M.hsvToRGB(this.getHue(),100,100),B=M.rgbToHEX.apply(null,L),I.setGradientColorStop(k,B),D||this.fire("_selectColor",{color:M.rgbToHEX.apply(null,this.getRGB())})},h.prototype.moveHue=function(C,D){var S=0,k,L;k=Math.abs(this.huebarPosLimitRange[0]),L=k+this.huebarPosLimitRange[1],C=C||0,S=L*C/g-k,this._moveHueHandle(S,D)},h.prototype._moveHueByPosition=function(C){var D=this.huebarPosLimitRange[0];this._moveHueHandle(C+D)},h.prototype.getHue=function(){var C=this.huebarHandleElement,D=I.getTranslateXY(C),S,k;return S=Math.abs(this.huebarPosLimitRange[0]),k=S+this.huebarPosLimitRange[1],(D[0]+S)*g/k},h.prototype.getHSV=function(){var C=this.getSaturationAndValue(),D=this.getHue();return[D].concat(C)},h.prototype.getRGB=function(){return M.hsvToRGB.apply(null,this.getHSV())},h.prototype._prepareColorSliderForMouseEvent=function(C){var D=this.options,S=s(C.target,"."+D.cssPrefix+"slider-part"),k;return k=this._dragDataCache={isColorSlider:u(S,D.cssPrefix+"slider-left"),parentElement:S},k},h.prototype._onClick=function(C){var D=this._prepareColorSliderForMouseEvent(C),S=o(C.originEvent,D.parentElement);D.isColorSlider?this._moveColorSliderByPosition(S[0],S[1]):this._moveHueByPosition(S[1]),this._dragDataCache=null},h.prototype._onDragStart=function(C){this._setColorSliderPosMax(),this._setHueBarPosMax(),this._prepareColorSliderForMouseEvent(C)},h.prototype._onDrag=function(C){var D=this._dragDataCache,S=o(C.originEvent,D.parentElement);D.isColorSlider?this._moveColorSliderByPosition(S[0],S[1]):this._moveHueByPosition(S[1])},h.prototype._onDragEnd=function(){this._dragDataCache=null},a.mixin(h),t.exports=h},function(t,i,r){var a=r(4).isOldBrowser,o=/[\.\-0-9]+/g,s=-6,u={getTranslateXY:function(c){var l;return a?(l=c.style,[parseFloat(l.top),parseFloat(l.left)]):(l=c.getAttribute("transform"),l?(l=l.match(o),[parseFloat(l[1]),parseFloat(l[0])]):[0,0])},setTranslateXY:function(c,l,_){a?(c.style.left=l+"px",c.style.top=_+"px"):c.setAttribute("transform","translate("+l+","+_+")")},setTranslateY:function(c,l){a?c.style.top=l+"px":c.setAttribute("transform","translate("+s+","+l+")")},setStrokeColor:function(c,l){a?c.strokecolor=l:c.setAttribute("stroke",l)},setGradientColorStop:function(c,l){a?c.color=l:c.setAttribute("stop-color",l)}};t.exports=u},function(t,i,r){r(34),t.exports=r(35)},function(t,i,r){},function(t,i,r){var a=r(19),o=r(8),s=r(24),u=r(48),c=r(29),l=r(31),_=r(12),I=r(32),M={Collection:a,View:o,Drag:s,create:u,Palette:c,Slider:l,colorutil:_,svgvml:I};t.exports=M},function(t,i,r){function a(o){return o===null}t.exports=a},function(t,i,r){var a=r(3),o=r(38),s=7*24*60*60*1e3;function u(l){var _=new Date().getTime();return _-l>s}function c(l,_){var I="https://www.google-analytics.com/collect",M=location.hostname,P="event",N="use",b="TOAST UI "+l+" for "+M+": Statistics",f=window.localStorage.getItem(b);!a(window.tui)&&window.tui.usageStatistics===!1||f&&!u(f)||(window.localStorage.setItem(b,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&o(I,{v:1,t:P,tid:_,cid:M,dp:M,dh:l,el:l,ec:N})},1e3))}t.exports=c},function(t,i,r){var a=r(7);function o(s,u){var c=document.createElement("img"),l="";return a(u,function(_,I){l+="&"+I+"="+_}),l=l.substring(1),c.src=s+"?"+l,c.style.display="none",document.body.appendChild(c),document.body.removeChild(c),c}t.exports=o},function(t,i,r){var a=r(2),o=r(5),s=r(23),u=r(40);function c(l){var _=Array.prototype.slice.call(arguments,1),I=l.classList,M=[],P;if(I){a(_,function(N){l.classList.add(N)});return}P=s(l),P&&(_=[].concat(P.split(/\s+/),_)),a(_,function(N){o(N,M)<0&&M.push(N)}),u(l,M)}t.exports=c},function(t,i,r){var a=r(1),o=r(3);function s(u,c){if(c=a(c)?c.join(" "):c,c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),o(u.className.baseVal)){u.className=c;return}u.className.baseVal=c}t.exports=s},function(t,i,r){function a(o){return typeof o=="number"||o instanceof Number}t.exports=a},function(t,i,r){var a=r(14),o=r(15),s=r(43),u=r(27),c="onselectstart"in document,l="prevUserSelect",_=u(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);function I(M){M||(M=document),c?a(M,"selectstart",o):(M=M===document?document.documentElement:M,s(M,l,M.style[_]),M.style[_]="none")}t.exports=I},function(t,i,r){var a=r(16);function o(s,u,c){if(s.dataset){s.dataset[u]=c;return}s.setAttribute("data-"+a(u),c)}t.exports=o},function(t,i,r){var a=r(17),o=r(15),s=r(45),u=r(46),c=r(27),l="onselectstart"in document,_="prevUserSelect",I=c(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);function M(P){P||(P=document),l?a(P,"selectstart",o):(P=P===document?document.documentElement:P,P.style[I]=s(P,_)||"auto",u(P,_))}t.exports=M},function(t,i,r){var a=r(16);function o(s,u){return s.dataset?s.dataset[u]:s.getAttribute("data-"+a(u))}t.exports=o},function(t,i,r){var a=r(16);function o(s,u){if(s.dataset){delete s.dataset[u];return}s.removeAttribute("data-"+a(u))}t.exports=o},function(t,i,r){var a=r(22),o=r(5),s=["0","1","3","5","7"],u=["2","6"],c=["4"];function l(I){return a.msie&&a.version<=8?_(I):I.button}function _(I){var M=String(I.button);return o(M,s)>-1?0:o(M,u)>-1?2:o(M,c)>-1?1:null}t.exports=l},function(t,i,r){var a=r(10),o=r(0),s=r(4),u=r(12),c=r(49),l=r(29),_=r(31),I=0;function M(){return I+=1,I}function P(N){var b;if(!(this instanceof P))return new P(N);if(N=this.options=o({container:null,color:"#f8f8f8",preset:["#181818","#282828","#383838","#585858","#b8b8b8","#d8d8d8","#e8e8e8","#f8f8f8","#ab4642","#dc9656","#f7ca88","#a1b56c","#86c1b9","#7cafc2","#ba8baf","#a16946"],cssPrefix:"tui-colorpicker-",detailTxt:"Detail",id:M(),usageStatistics:!0},N),!N.container)throw new Error("ColorPicker(): need container option.");b=this.layout=new c(N,N.container),this.palette=new l(N,b.container),this.palette.on({_selectColor:this._onSelectColorInPalette,_toggleSlider:this._onToggleSlider},this),this.slider=new _(N,b.container),this.slider.on("_selectColor",this._onSelectColorInSlider,this),b.addChild(this.palette),b.addChild(this.slider),this.render(N.color),N.usageStatistics&&s.sendHostName()}P.prototype._onSelectColorInPalette=function(N){var b=N.color,f=this.options;if(!u.isValidRGB(b)&&b!==""){this.render();return}this.fire("selectColor",{color:b,origin:"palette"}),f.color!==b&&(f.color=b,this.render(b))},P.prototype._onToggleSlider=function(){this.slider.toggle(!this.slider.isVisible())},P.prototype._onSelectColorInSlider=function(N){var b=N.color,f=this.options;this.fire("selectColor",{color:b,origin:"slider"}),f.color!==b&&(f.color=b,this.palette.render(b))},P.prototype.setColor=function(N){if(!u.isValidRGB(N))throw new Error("ColorPicker#setColor(): need valid hex string color value");this.options.color=N,this.render(N)},P.prototype.getColor=function(){return this.options.color},P.prototype.toggle=function(N){this.layout.container.style.display=N?"block":"none"},P.prototype.render=function(N){this.layout.render(N||this.options.color)},P.prototype.destroy=function(){this.layout.destroy(),this.options.container.innerHTML="",this.layout=this.slider=this.palette=this.options=null},a.mixin(P),t.exports=P},function(t,i,r){var a=r(0),o=r(18),s=r(9),u=r(8);function c(l,_){this.options=a({cssPrefix:"tui-colorpicker-"},l),_=s.appendHTMLElement("div",_,this.options.cssPrefix+"container"),u.call(this,l,_),this.render()}o(c,u),c.prototype.render=function(l){this.recursive(function(_){_.render(l)},!0)},t.exports=c},function(t,i,r){function a(o){function s(){}return s.prototype=o,new s}t.exports=a},function(t,i,r){var a=r(52);t.exports=function(o){var s=['<li><input class="{{cssPrefix}}palette-button{{isSelected @this}}{{getItemClass @this}}" type="button"',"{{if isValidRGB @this}}",' style="background-color:{{@this}};color:{{@this}}"',"{{/if}}",' title="{{@this}}" value="{{@this}}" /></li>'].join(""),u=['<ul class="{{cssPrefix}}clearfix">',"{{each preset}}",s,"{{/each}}","</ul>",'<div class="{{cssPrefix}}clearfix" style="overflow:hidden">','<input type="button" class="{{cssPrefix}}palette-toggle-slider" value="{{detailTxt}}" />','<input type="text" class="{{cssPrefix}}palette-hex" value="{{color}}" maxlength="7" />','<span class="{{cssPrefix}}palette-preview" style="background-color:{{color}};color:{{color}}">{{color}}</span>',"</div>"].join(`
`);return a(u,o)}},function(t,i,r){var a=r(5),o=r(2),s=r(1),u=r(11),c=r(0),l=/{{\s?|\s?}}/g,_=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,I=/\[\s?|\s?\]/,M=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,P=/\./,N=/^["']\w+["']$/,b=/"|'/g,f=/^-?\d+\.?\d*$/,v=2,m={if:D,each:S,with:k},d="a".split(/a/).length===3,g=function(){return d?function(le,me){return le.split(me)}:function(le,me){var je=[],Pe=0,it,Te;for(me.global||(me=new RegExp(me,"g")),it=me.exec(le);it!==null;)Te=it.index,je.push(le.slice(Pe,Te)),Pe=Te+it[0].length,it=me.exec(le);return je.push(le.slice(Pe)),je}}();function h(le,me){var je,Pe=me[le];return le==="true"?Pe=!0:le==="false"?Pe=!1:N.test(le)?Pe=le.replace(b,""):_.test(le)?(je=le.split(I),Pe=h(je[0],me)[h(je[1],me)]):M.test(le)?(je=le.split(P),Pe=h(je[0],me)[je[1]]):f.test(le)&&(Pe=parseFloat(le)),Pe}function C(le,me){var je=[le],Pe=[],it=0,Te=0;return o(me,function(lt,he){lt.indexOf("if")===0?it+=1:lt==="/if"?it-=1:!it&&(lt.indexOf("elseif")===0||lt==="else")&&(je.push(lt==="else"?["true"]:lt.split(" ").slice(1)),Pe.push(me.slice(Te,he)),Te=he+1)}),Pe.push(me.slice(Te)),{exps:je,sourcesInsideIf:Pe}}function D(le,me,je){var Pe=C(le,me),it=!1,Te="";return o(Pe.exps,function(lt,he){return it=z(lt,je),it&&(Te=ee(Pe.sourcesInsideIf[he],je)),!it}),Te}function S(le,me,je){var Pe=z(le,je),it=s(Pe)?"@index":"@key",Te={},lt="";return o(Pe,function(he,Dt){Te[it]=Dt,Te["@this"]=he,c(je,Te),lt+=ee(me.slice(),je)}),lt}function k(le,me,je){var Pe=a("as",le),it=le[Pe+1],Te=z(le.slice(0,Pe),je),lt={};return lt[it]=Te,ee(me,c(je,lt))||""}function L(le,me,je){var Pe=le.splice(me+1,je-me);return Pe.pop(),Pe}function B(le,me,je){for(var Pe=m[le],it=1,Te=0,lt,he=Te+v,Dt=me[he];it&&u(Dt);)Dt.indexOf(le)===0?it+=1:Dt.indexOf("/"+le)===0&&(it-=1,lt=he),he+=v,Dt=me[he];if(it)throw Error(le+" needs {{/"+le+"}} expression.");return me[Te]=Pe(me[Te].split(" ").slice(1),L(me,Te,lt),je),me}function z(le,me){var je=h(le[0],me);return je instanceof Function?X(je,le.slice(1),me):je}function X(le,me,je){var Pe=[];return o(me,function(it){Pe.push(h(it,je))}),le.apply(null,Pe)}function ee(le,me){for(var je=1,Pe=le[je],it,Te,lt;u(Pe);)it=Pe.split(" "),Te=it[0],m[Te]?(lt=B(Te,le.splice(je,le.length-je),me),le=le.concat(lt)):le[je]=z(it,me),je+=v,Pe=le[je];return le.join("")}function ce(le,me){return ee(g(le,l),me)}t.exports=ce},function(t,i,r){var a=r(1);function o(s,u){var c=a(s),l=c?s[0]:s.clientX,_=c?s[1]:s.clientY,I;return u?(I=u.getBoundingClientRect(),[l-I.left-u.clientLeft,_-I.top-u.clientTop]):[l,_]}t.exports=o},function(t,i,r){var a=r(55);function o(s,u){var c=s.parentNode;if(a(s,u))return s;for(;c&&c!==document;){if(a(c,u))return c;c=c.parentNode}return null}t.exports=o},function(t,i,r){var a=r(5),o=r(56),s=Element.prototype,u=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector||function(l){var _=this.document||this.ownerDocument;return a(this,o(_.querySelectorAll(l)))>-1};function c(l,_){return u.call(l,_)}t.exports=c},function(t,i,r){var a=r(6);function o(s){var u;try{u=Array.prototype.slice.call(s)}catch{u=[],a(s,function(l){u.push(l)})}return u}t.exports=o},function(t,i,r){(function(a){var o=r(4).isOldBrowser,s=['<div class="{{cssPrefix}}slider-left {{cssPrefix}}slider-part">{{slider}}</div>','<div class="{{cssPrefix}}slider-right {{cssPrefix}}slider-part">{{huebar}}</div>'].join(`
`),u=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-slider">',"<defs>",'<linearGradient id="{{cssPrefix}}svg-fill-color-{{id}}" x1="0%" y1="0%" x2="100%" y2="0%">','<stop offset="0%" stop-color="rgb(255,255,255)" />','<stop class="{{cssPrefix}}slider-basecolor" offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>",'<linearGradient id="{{cssPrefix}}svn-fill-black-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" style="stop-color:rgb(0,0,0);stop-opacity:0" />','<stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity:1" />',"</linearGradient>","</defs>",'<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svg-fill-color-{{id}})"></rect>','<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svn-fill-black-{{id}})"></rect>','<path transform="translate(0,0)" class="{{cssPrefix}}slider-handle" d="M0 7.5 L15 7.5 M7.5 15 L7.5 0 M2 7 a5.5 5.5 0 1 1 0 1 Z" stroke="black" stroke-width="0.75" fill="none" />',"</svg>"].join(`
`),c=['<div class="{{cssPrefix}}vml-slider">','<v:rect strokecolor="none" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill class="{{cssPrefix}}vml {{cssPrefix}}slider-basecolor" type="gradient" method="none" color="#ff0000" color2="#fff" angle="90" />',"</v:rect>",'<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill type="gradient" method="none" color="black" color2="white" o:opacity2="0%" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}slider-handle" coordsize="1 1" style="width:1px;height:1px;"path="m 0,7 l 14,7 m 7,14 l 7,0 ar 12,12 2,2 z" filled="false" stroked="true" />',"</div>"].join(`
`),l=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-huebar">',"<defs>",'<linearGradient id="g-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" stop-color="rgb(255,0,0)" />','<stop offset="16.666%" stop-color="rgb(255,255,0)" />','<stop offset="33.333%" stop-color="rgb(0,255,0)" />','<stop offset="50%" stop-color="rgb(0,255,255)" />','<stop offset="66.666%" stop-color="rgb(0,0,255)" />','<stop offset="83.333%" stop-color="rgb(255,0,255)" />','<stop offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>","</defs>",'<rect width="18px" height="100%" fill="url(#g-{{id}})"></rect>','<path transform="translate(-6,-3)" class="{{cssPrefix}}huebar-handle" d="M0 0 L4 4 L0 8 L0 0 Z" fill="black" stroke="none" />',"</svg>"].join(`
`),_=['<div class="{{cssPrefix}}vml-huebar">','<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-huebar-bg">','<v:fill type="gradient" method="none" colors="0% rgb(255,0,0), 16.666% rgb(255,255,0), 33.333% rgb(0,255,0), 50% rgb(0,255,255), 66.666% rgb(0,0,255), 83.333% rgb(255,0,255), 100% rgb(255,0,0)" angle="180" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}huebar-handle" coordsize="1 1" style="width:1px;height:1px;position:absolute;z-index:1;right:22px;top:-3px;"path="m 0,0 l 4,4 l 0,8 l 0,0 z" filled="true" fillcolor="black" stroked="false" />',"</div>"].join(`
`);o&&a.document.namespaces.add("v","urn:schemas-microsoft-com:vml"),t.exports={layout:s,slider:o?c:u,huebar:o?_:l}}).call(this,r(25))}])})}(kb)),kb.exports}/*!
 * TOAST UI ImageEditor
 * @version 3.15.3
 * @license MIT
 */(function(n,e){(function(i,r){n.exports=r(b9())})(self,function(t){return function(){var i={2777:function(s,u,c){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var l=l||{version:"4.6.0"};if(u.fabric=l,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?l.document=document:l.document=document.implementation.createHTMLDocument(""),l.window=window;else{var _=c(4960),I=new _.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;l.document=I.document,l.jsdomImplForWrapper=c(6759).implForWrapper,l.nodeCanvas=c(6272).Canvas,l.window=I,DOMParser=l.window.DOMParser}l.isTouchSupported="ontouchstart"in l.window||"ontouchstart"in l.document||l.window&&l.window.navigator&&l.window.navigator.maxTouchPoints>0,l.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",l.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],l.DPI=96,l.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",l.commaWsp="(?:\\s+,?\\s*|,\\s*)",l.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,l.reNonWord=/[ \n\.,;!\?\-]/,l.fontPaths={},l.iMatrix=[1,0,0,1,0,0],l.svgNS="http://www.w3.org/2000/svg",l.perfLimitSizeTotal=2097152,l.maxCacheSideLimit=4096,l.minCacheSideLimit=256,l.charWidthsCache={},l.textureSize=2048,l.disableStyleCopyPaste=!1,l.enableGLFiltering=!0,l.devicePixelRatio=l.window.devicePixelRatio||l.window.webkitDevicePixelRatio||l.window.mozDevicePixelRatio||1,l.browserShadowBlurConstant=1,l.arcToSegmentsCache={},l.boundsOfCurveCache={},l.cachesBoundsOfCurve=!0,l.forceGLPutImageData=!1,l.initFilterBackend=function(){if(l.enableGLFiltering&&l.isWebglSupported&&l.isWebglSupported(l.textureSize))return console.log("max texture size: "+l.maxTextureSize),new l.WebglFilterBackend({tileSize:l.textureSize});if(l.Canvas2dFilterBackend)return new l.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=l),function(){function b(h,C){if(!!this.__eventListeners[h]){var D=this.__eventListeners[h];C?D[D.indexOf(C)]=!1:l.util.array.fill(D,!1)}}function f(h,C){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var D in h)this.on(D,h[D]);else this.__eventListeners[h]||(this.__eventListeners[h]=[]),this.__eventListeners[h].push(C);return this}function v(h,C){var D=function(){C.apply(this,arguments),this.off(h,D)}.bind(this);this.on(h,D)}function m(h,C){if(arguments.length===1)for(var D in h)v.call(this,D,h[D]);else v.call(this,h,C);return this}function d(h,C){if(!this.__eventListeners)return this;if(arguments.length===0)for(h in this.__eventListeners)b.call(this,h);else if(arguments.length===1&&typeof arguments[0]=="object")for(var D in h)b.call(this,D,h[D]);else b.call(this,h,C);return this}function g(h,C){if(!this.__eventListeners)return this;var D=this.__eventListeners[h];if(!D)return this;for(var S=0,k=D.length;S<k;S++)D[S]&&D[S].call(this,C||{});return this.__eventListeners[h]=D.filter(function(L){return L!==!1}),this}l.Observable={fire:g,on:f,once:m,off:d}}(),l.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var b=0,f=arguments.length;b<f;b++)this._onObjectAdded(arguments[b]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(b,f,v){var m=this._objects;return v?m[f]=b:m.splice(f,0,b),this._onObjectAdded&&this._onObjectAdded(b),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var b=this._objects,f,v=!1,m=0,d=arguments.length;m<d;m++)f=b.indexOf(arguments[m]),f!==-1&&(v=!0,b.splice(f,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[m]));return this.renderOnAddRemove&&v&&this.requestRenderAll(),this},forEachObject:function(b,f){for(var v=this.getObjects(),m=0,d=v.length;m<d;m++)b.call(f,v[m],m,v);return this},getObjects:function(b){return typeof b>"u"?this._objects.concat():this._objects.filter(function(f){return f.type===b})},item:function(b){return this._objects[b]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(b,f){return this._objects.indexOf(b)>-1?!0:f?this._objects.some(function(v){return typeof v.contains=="function"&&v.contains(b,!0)}):!1},complexity:function(){return this._objects.reduce(function(b,f){return b+=f.complexity?f.complexity():0,b},0)}},l.CommonMethods={_setOptions:function(b){for(var f in b)this.set(f,b[f])},_initGradient:function(b,f){b&&b.colorStops&&!(b instanceof l.Gradient)&&this.set(f,new l.Gradient(b))},_initPattern:function(b,f,v){b&&b.source&&!(b instanceof l.Pattern)?this.set(f,new l.Pattern(b,v)):v&&v()},_setObject:function(b){for(var f in b)this._set(f,b[f])},set:function(b,f){return typeof b=="object"?this._setObject(b):this._set(b,f),this},_set:function(b,f){this[b]=f},toggle:function(b){var f=this.get(b);return typeof f=="boolean"&&this.set(b,!f),this},get:function(b){return this[b]}},function(b){var f=Math.sqrt,v=Math.atan2,m=Math.pow,d=Math.PI/180,g=Math.PI/2;l.util={cos:function(h){if(h===0)return 1;h<0&&(h=-h);var C=h/g;switch(C){case 1:case 3:return 0;case 2:return-1}return Math.cos(h)},sin:function(h){if(h===0)return 0;var C=h/g,D=1;switch(h<0&&(D=-1),C){case 1:return D;case 2:return 0;case 3:return-D}return Math.sin(h)},removeFromArray:function(h,C){var D=h.indexOf(C);return D!==-1&&h.splice(D,1),h},getRandomInt:function(h,C){return Math.floor(Math.random()*(C-h+1))+h},degreesToRadians:function(h){return h*d},radiansToDegrees:function(h){return h/d},rotatePoint:function(h,C,D){var S=new l.Point(h.x-C.x,h.y-C.y),k=l.util.rotateVector(S,D);return new l.Point(k.x,k.y).addEquals(C)},rotateVector:function(h,C){var D=l.util.sin(C),S=l.util.cos(C),k=h.x*S-h.y*D,L=h.x*D+h.y*S;return{x:k,y:L}},transformPoint:function(h,C,D){return D?new l.Point(C[0]*h.x+C[2]*h.y,C[1]*h.x+C[3]*h.y):new l.Point(C[0]*h.x+C[2]*h.y+C[4],C[1]*h.x+C[3]*h.y+C[5])},makeBoundingBoxFromPoints:function(h,C){if(C)for(var D=0;D<h.length;D++)h[D]=l.util.transformPoint(h[D],C);var S=[h[0].x,h[1].x,h[2].x,h[3].x],k=l.util.array.min(S),L=l.util.array.max(S),B=L-k,z=[h[0].y,h[1].y,h[2].y,h[3].y],X=l.util.array.min(z),ee=l.util.array.max(z),ce=ee-X;return{left:k,top:X,width:B,height:ce}},invertTransform:function(h){var C=1/(h[0]*h[3]-h[1]*h[2]),D=[C*h[3],-C*h[1],-C*h[2],C*h[0]],S=l.util.transformPoint({x:h[4],y:h[5]},D,!0);return D[4]=-S.x,D[5]=-S.y,D},toFixed:function(h,C){return parseFloat(Number(h).toFixed(C))},parseUnit:function(h,C){var D=/\D{0,2}$/.exec(h),S=parseFloat(h);switch(C||(C=l.Text.DEFAULT_SVG_FONT_SIZE),D[0]){case"mm":return S*l.DPI/25.4;case"cm":return S*l.DPI/2.54;case"in":return S*l.DPI;case"pt":return S*l.DPI/72;case"pc":return S*l.DPI/72*12;case"em":return S*C;default:return S}},falseFunction:function(){return!1},getKlass:function(h,C){return h=l.util.string.camelize(h.charAt(0).toUpperCase()+h.slice(1)),l.util.resolveNamespace(C)[h]},getSvgAttributes:function(h){var C=["instantiated_by_use","style","id","class"];switch(h){case"linearGradient":C=C.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":C=C.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":C=C.concat(["offset","stop-color","stop-opacity"]);break}return C},resolveNamespace:function(h){if(!h)return l;var C=h.split("."),D=C.length,S,k=b||l.window;for(S=0;S<D;++S)k=k[C[S]];return k},loadImage:function(h,C,D,S){if(!h){C&&C.call(D,h);return}var k=l.util.createImage(),L=function(){C&&C.call(D,k,!1),k=k.onload=k.onerror=null};k.onload=L,k.onerror=function(){l.log("Error loading "+k.src),C&&C.call(D,null,!0),k=k.onload=k.onerror=null},h.indexOf("data")!==0&&S!==void 0&&S!==null&&(k.crossOrigin=S),h.substring(0,14)==="data:image/svg"&&(k.onload=null,l.util.loadImageInDom(k,L)),k.src=h},loadImageInDom:function(h,C){var D=l.document.createElement("div");D.style.width=D.style.height="1px",D.style.left=D.style.top="-100%",D.style.position="absolute",D.appendChild(h),l.document.querySelector("body").appendChild(D),h.onload=function(){C(),D.parentNode.removeChild(D),D=null}},enlivenObjects:function(h,C,D,S){h=h||[];var k=[],L=0,B=h.length;function z(){++L===B&&C&&C(k.filter(function(X){return X}))}if(!B){C&&C(k);return}h.forEach(function(X,ee){if(!X||!X.type){z();return}var ce=l.util.getKlass(X.type,D);ce.fromObject(X,function(le,me){me||(k[ee]=le),S&&S(X,le,me),z()})})},enlivenPatterns:function(h,C){h=h||[];function D(){++k===L&&C&&C(S)}var S=[],k=0,L=h.length;if(!L){C&&C(S);return}h.forEach(function(B,z){B&&B.source?new l.Pattern(B,function(X){S[z]=X,D()}):(S[z]=B,D())})},groupSVGElements:function(h,C,D){var S;return h&&h.length===1?h[0]:(C&&(C.width&&C.height?C.centerPoint={x:C.width/2,y:C.height/2}:(delete C.width,delete C.height)),S=new l.Group(h,C),typeof D<"u"&&(S.sourcePath=D),S)},populateWithProperties:function(h,C,D){if(D&&Object.prototype.toString.call(D)==="[object Array]")for(var S=0,k=D.length;S<k;S++)D[S]in h&&(C[D[S]]=h[D[S]])},drawDashedLine:function(h,C,D,S,k,L){var B=S-C,z=k-D,X=f(B*B+z*z),ee=v(z,B),ce=L.length,le=0,me=!0;for(h.save(),h.translate(C,D),h.moveTo(0,0),h.rotate(ee),C=0;X>C;)C+=L[le++%ce],C>X&&(C=X),h[me?"lineTo":"moveTo"](C,0),me=!me;h.restore()},createCanvasElement:function(){return l.document.createElement("canvas")},copyCanvasElement:function(h){var C=l.util.createCanvasElement();return C.width=h.width,C.height=h.height,C.getContext("2d").drawImage(h,0,0),C},toDataURL:function(h,C,D){return h.toDataURL("image/"+C,D)},createImage:function(){return l.document.createElement("img")},multiplyTransformMatrices:function(h,C,D){return[h[0]*C[0]+h[2]*C[1],h[1]*C[0]+h[3]*C[1],h[0]*C[2]+h[2]*C[3],h[1]*C[2]+h[3]*C[3],D?0:h[0]*C[4]+h[2]*C[5]+h[4],D?0:h[1]*C[4]+h[3]*C[5]+h[5]]},qrDecompose:function(h){var C=v(h[1],h[0]),D=m(h[0],2)+m(h[1],2),S=f(D),k=(h[0]*h[3]-h[2]*h[1])/S,L=v(h[0]*h[2]+h[1]*h[3],D);return{angle:C/d,scaleX:S,scaleY:k,skewX:L/d,skewY:0,translateX:h[4],translateY:h[5]}},calcRotateMatrix:function(h){if(!h.angle)return l.iMatrix.concat();var C=l.util.degreesToRadians(h.angle),D=l.util.cos(C),S=l.util.sin(C);return[D,S,-S,D,0,0]},calcDimensionsMatrix:function(h){var C=typeof h.scaleX>"u"?1:h.scaleX,D=typeof h.scaleY>"u"?1:h.scaleY,S=[h.flipX?-C:C,0,0,h.flipY?-D:D,0,0],k=l.util.multiplyTransformMatrices,L=l.util.degreesToRadians;return h.skewX&&(S=k(S,[1,0,Math.tan(L(h.skewX)),1],!0)),h.skewY&&(S=k(S,[1,Math.tan(L(h.skewY)),0,1],!0)),S},composeMatrix:function(h){var C=[1,0,0,1,h.translateX||0,h.translateY||0],D=l.util.multiplyTransformMatrices;return h.angle&&(C=D(C,l.util.calcRotateMatrix(h))),(h.scaleX!==1||h.scaleY!==1||h.skewX||h.skewY||h.flipX||h.flipY)&&(C=D(C,l.util.calcDimensionsMatrix(h))),C},resetObjectTransform:function(h){h.scaleX=1,h.scaleY=1,h.skewX=0,h.skewY=0,h.flipX=!1,h.flipY=!1,h.rotate(0)},saveObjectTransform:function(h){return{scaleX:h.scaleX,scaleY:h.scaleY,skewX:h.skewX,skewY:h.skewY,angle:h.angle,left:h.left,flipX:h.flipX,flipY:h.flipY,top:h.top}},isTransparent:function(h,C,D,S){S>0&&(C>S?C-=S:C=0,D>S?D-=S:D=0);var k=!0,L,B,z=h.getImageData(C,D,S*2||1,S*2||1),X=z.data.length;for(L=3;L<X&&(B=z.data[L],k=B<=0,k!==!1);L+=4);return z=null,k},parsePreserveAspectRatioAttribute:function(h){var C="meet",D="Mid",S="Mid",k=h.split(" "),L;return k&&k.length&&(C=k.pop(),C!=="meet"&&C!=="slice"?(L=C,C="meet"):k.length&&(L=k.pop())),D=L!=="none"?L.slice(1,4):"none",S=L!=="none"?L.slice(5,8):"none",{meetOrSlice:C,alignX:D,alignY:S}},clearFabricFontCache:function(h){h=(h||"").toLowerCase(),h?l.charWidthsCache[h]&&delete l.charWidthsCache[h]:l.charWidthsCache={}},limitDimsByArea:function(h,C){var D=Math.sqrt(C*h),S=Math.floor(C/D);return{x:Math.floor(D),y:S}},capValue:function(h,C,D){return Math.max(h,Math.min(C,D))},findScaleToFit:function(h,C){return Math.min(C.width/h.width,C.height/h.height)},findScaleToCover:function(h,C){return Math.max(C.width/h.width,C.height/h.height)},matrixToSVG:function(h){return"matrix("+h.map(function(C){return l.util.toFixed(C,l.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(h,C){var D=l.util.invertTransform(C),S=l.util.multiplyTransformMatrices(D,h.calcOwnMatrix());l.util.applyTransformToObject(h,S)},addTransformToObject:function(h,C){l.util.applyTransformToObject(h,l.util.multiplyTransformMatrices(C,h.calcOwnMatrix()))},applyTransformToObject:function(h,C){var D=l.util.qrDecompose(C),S=new l.Point(D.translateX,D.translateY);h.flipX=!1,h.flipY=!1,h.set("scaleX",D.scaleX),h.set("scaleY",D.scaleY),h.skewX=D.skewX,h.skewY=D.skewY,h.angle=D.angle,h.setPositionByOrigin(S,"center","center")},sizeAfterTransform:function(h,C,D){var S=h/2,k=C/2,L=[{x:-S,y:-k},{x:S,y:-k},{x:-S,y:k},{x:S,y:k}],B=l.util.calcDimensionsMatrix(D),z=l.util.makeBoundingBoxFromPoints(L,B);return{x:z.width,y:z.height}}}}(u),function(){var b=Array.prototype.join,f={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},v={m:"l",M:"L"};function m(Oe,Se,Ye,ve,Ce,_e,pe,Ve,Ze,ht,ot){var st=l.util.cos(Oe),re=l.util.sin(Oe),H=l.util.cos(Se),q=l.util.sin(Se),ie=Ye*Ce*H-ve*_e*q+pe,ue=ve*Ce*H+Ye*_e*q+Ve,be=ht+Ze*(-Ye*Ce*re-ve*_e*st),ke=ot+Ze*(-ve*Ce*re+Ye*_e*st),Xe=ie+Ze*(Ye*Ce*q+ve*_e*H),qe=ue+Ze*(ve*Ce*q-Ye*_e*H);return["C",be,ke,Xe,qe,ie,ue]}function d(Oe,Se,Ye,ve,Ce,_e,pe){var Ve=Math.PI,Ze=pe*Ve/180,ht=l.util.sin(Ze),ot=l.util.cos(Ze),st=0,re=0;Ye=Math.abs(Ye),ve=Math.abs(ve);var H=-ot*Oe*.5-ht*Se*.5,q=-ot*Se*.5+ht*Oe*.5,ie=Ye*Ye,ue=ve*ve,be=q*q,ke=H*H,Xe=ie*ue-ie*be-ue*ke,qe=0;if(Xe<0){var Le=Math.sqrt(1-Xe/(ie*ue));Ye*=Le,ve*=Le}else qe=(Ce===_e?-1:1)*Math.sqrt(Xe/(ie*be+ue*ke));var ut=qe*Ye*q/ve,bt=-qe*ve*H/Ye,zt=ot*ut-ht*bt+Oe*.5,qt=ht*ut+ot*bt+Se*.5,Zt=g(1,0,(H-ut)/Ye,(q-bt)/ve),Xt=g((H-ut)/Ye,(q-bt)/ve,(-H-ut)/Ye,(-q-bt)/ve);_e===0&&Xt>0?Xt-=2*Ve:_e===1&&Xt<0&&(Xt+=2*Ve);for(var Jt=Math.ceil(Math.abs(Xt/Ve*2)),Mn=[],kn=Xt/Jt,qn=8/3*Math.sin(kn/4)*Math.sin(kn/4)/Math.sin(kn/2),wt=Zt+kn,St=0;St<Jt;St++)Mn[St]=m(Zt,wt,ot,ht,Ye,ve,zt,qt,qn,st,re),st=Mn[St][5],re=Mn[St][6],Zt=wt,wt+=kn;return Mn}function g(Oe,Se,Ye,ve){var Ce=Math.atan2(Se,Oe),_e=Math.atan2(ve,Ye);return _e>=Ce?_e-Ce:2*Math.PI-(Ce-_e)}function h(Oe,Se,Ye,ve,Ce,_e,pe,Ve){var Ze;if(l.cachesBoundsOfCurve&&(Ze=b.call(arguments),l.boundsOfCurveCache[Ze]))return l.boundsOfCurveCache[Ze];var ht=Math.sqrt,ot=Math.min,st=Math.max,re=Math.abs,H=[],q=[[],[]],ie,ue,be,ke,Xe,qe,Le,ut;ue=6*Oe-12*Ye+6*Ce,ie=-3*Oe+9*Ye-9*Ce+3*pe,be=3*Ye-3*Oe;for(var bt=0;bt<2;++bt){if(bt>0&&(ue=6*Se-12*ve+6*_e,ie=-3*Se+9*ve-9*_e+3*Ve,be=3*ve-3*Se),re(ie)<1e-12){if(re(ue)<1e-12)continue;ke=-be/ue,0<ke&&ke<1&&H.push(ke);continue}Le=ue*ue-4*be*ie,!(Le<0)&&(ut=ht(Le),Xe=(-ue+ut)/(2*ie),0<Xe&&Xe<1&&H.push(Xe),qe=(-ue-ut)/(2*ie),0<qe&&qe<1&&H.push(qe))}for(var zt,qt,Zt=H.length,Xt=Zt,Jt;Zt--;)ke=H[Zt],Jt=1-ke,zt=Jt*Jt*Jt*Oe+3*Jt*Jt*ke*Ye+3*Jt*ke*ke*Ce+ke*ke*ke*pe,q[0][Zt]=zt,qt=Jt*Jt*Jt*Se+3*Jt*Jt*ke*ve+3*Jt*ke*ke*_e+ke*ke*ke*Ve,q[1][Zt]=qt;q[0][Xt]=Oe,q[1][Xt]=Se,q[0][Xt+1]=pe,q[1][Xt+1]=Ve;var Mn=[{x:ot.apply(null,q[0]),y:ot.apply(null,q[1])},{x:st.apply(null,q[0]),y:st.apply(null,q[1])}];return l.cachesBoundsOfCurve&&(l.boundsOfCurveCache[Ze]=Mn),Mn}function C(Oe,Se,Ye){for(var ve=Ye[1],Ce=Ye[2],_e=Ye[3],pe=Ye[4],Ve=Ye[5],Ze=Ye[6],ht=Ye[7],ot=d(Ze-Oe,ht-Se,ve,Ce,pe,Ve,_e),st=0,re=ot.length;st<re;st++)ot[st][1]+=Oe,ot[st][2]+=Se,ot[st][3]+=Oe,ot[st][4]+=Se,ot[st][5]+=Oe,ot[st][6]+=Se;return ot}function D(Oe){var Se=0,Ye=0,ve=Oe.length,Ce=0,_e=0,pe,Ve,Ze,ht=[],ot,st,re;for(Ve=0;Ve<ve;++Ve){switch(Ze=!1,pe=Oe[Ve].slice(0),pe[0]){case"l":pe[0]="L",pe[1]+=Se,pe[2]+=Ye;case"L":Se=pe[1],Ye=pe[2];break;case"h":pe[1]+=Se;case"H":pe[0]="L",pe[2]=Ye,Se=pe[1];break;case"v":pe[1]+=Ye;case"V":pe[0]="L",Ye=pe[1],pe[1]=Se,pe[2]=Ye;break;case"m":pe[0]="M",pe[1]+=Se,pe[2]+=Ye;case"M":Se=pe[1],Ye=pe[2],Ce=pe[1],_e=pe[2];break;case"c":pe[0]="C",pe[1]+=Se,pe[2]+=Ye,pe[3]+=Se,pe[4]+=Ye,pe[5]+=Se,pe[6]+=Ye;case"C":st=pe[3],re=pe[4],Se=pe[5],Ye=pe[6];break;case"s":pe[0]="S",pe[1]+=Se,pe[2]+=Ye,pe[3]+=Se,pe[4]+=Ye;case"S":ot==="C"?(st=2*Se-st,re=2*Ye-re):(st=Se,re=Ye),Se=pe[3],Ye=pe[4],pe[0]="C",pe[5]=pe[3],pe[6]=pe[4],pe[3]=pe[1],pe[4]=pe[2],pe[1]=st,pe[2]=re,st=pe[3],re=pe[4];break;case"q":pe[0]="Q",pe[1]+=Se,pe[2]+=Ye,pe[3]+=Se,pe[4]+=Ye;case"Q":st=pe[1],re=pe[2],Se=pe[3],Ye=pe[4];break;case"t":pe[0]="T",pe[1]+=Se,pe[2]+=Ye;case"T":ot==="Q"?(st=2*Se-st,re=2*Ye-re):(st=Se,re=Ye),pe[0]="Q",Se=pe[1],Ye=pe[2],pe[1]=st,pe[2]=re,pe[3]=Se,pe[4]=Ye;break;case"a":pe[0]="A",pe[6]+=Se,pe[7]+=Ye;case"A":Ze=!0,ht=ht.concat(C(Se,Ye,pe)),Se=pe[6],Ye=pe[7];break;case"z":case"Z":Se=Ce,Ye=_e;break}Ze||ht.push(pe),ot=pe[0]}return ht}function S(Oe,Se,Ye,ve){return Math.sqrt((Ye-Oe)*(Ye-Oe)+(ve-Se)*(ve-Se))}function k(Oe){return Oe*Oe*Oe}function L(Oe){return 3*Oe*Oe*(1-Oe)}function B(Oe){return 3*Oe*(1-Oe)*(1-Oe)}function z(Oe){return(1-Oe)*(1-Oe)*(1-Oe)}function X(Oe,Se,Ye,ve,Ce,_e,pe,Ve){return function(Ze){var ht=k(Ze),ot=L(Ze),st=B(Ze),re=z(Ze);return{x:pe*ht+Ce*ot+Ye*st+Oe*re,y:Ve*ht+_e*ot+ve*st+Se*re}}}function ee(Oe,Se,Ye,ve,Ce,_e,pe,Ve){return function(Ze){var ht=1-Ze,ot=3*ht*ht*(Ye-Oe)+6*ht*Ze*(Ce-Ye)+3*Ze*Ze*(pe-Ce),st=3*ht*ht*(ve-Se)+6*ht*Ze*(_e-ve)+3*Ze*Ze*(Ve-_e);return Math.atan2(st,ot)}}function ce(Oe){return Oe*Oe}function le(Oe){return 2*Oe*(1-Oe)}function me(Oe){return(1-Oe)*(1-Oe)}function je(Oe,Se,Ye,ve,Ce,_e){return function(pe){var Ve=ce(pe),Ze=le(pe),ht=me(pe);return{x:Ce*Ve+Ye*Ze+Oe*ht,y:_e*Ve+ve*Ze+Se*ht}}}function Pe(Oe,Se,Ye,ve,Ce,_e){return function(pe){var Ve=1-pe,Ze=2*Ve*(Ye-Oe)+2*pe*(Ce-Ye),ht=2*Ve*(ve-Se)+2*pe*(_e-ve);return Math.atan2(ht,Ze)}}function it(Oe,Se,Ye){var ve={x:Se,y:Ye},Ce,_e=0,pe;for(pe=1;pe<=100;pe+=1)Ce=Oe(pe/100),_e+=S(ve.x,ve.y,Ce.x,Ce.y),ve=Ce;return _e}function Te(Oe,Se){for(var Ye=0,ve=0,Ce=Oe.iterator,_e={x:Oe.x,y:Oe.y},pe,Ve,Ze=.01,ht=Oe.angleFinder,ot;ve<Se&&Ye<=1&&Ze>1e-4;)pe=Ce(Ye),ot=Ye,Ve=S(_e.x,_e.y,pe.x,pe.y),Ve+ve>Se?(Ze/=2,Ye-=Ze):(_e=pe,Ye+=Ze,ve+=Ve);return pe.angle=ht(ot),pe}function lt(Oe){for(var Se=0,Ye=Oe.length,ve,Ce=0,_e=0,pe=0,Ve=0,Ze=[],ht,ot,st,re=0;re<Ye;re++){switch(ve=Oe[re],ot={x:Ce,y:_e,command:ve[0]},ve[0]){case"M":ot.length=0,pe=Ce=ve[1],Ve=_e=ve[2];break;case"L":ot.length=S(Ce,_e,ve[1],ve[2]),Ce=ve[1],_e=ve[2];break;case"C":ht=X(Ce,_e,ve[1],ve[2],ve[3],ve[4],ve[5],ve[6]),st=ee(Ce,_e,ve[1],ve[2],ve[3],ve[4],ve[5],ve[6]),ot.iterator=ht,ot.angleFinder=st,ot.length=it(ht,Ce,_e),Ce=ve[5],_e=ve[6];break;case"Q":ht=je(Ce,_e,ve[1],ve[2],ve[3],ve[4]),st=Pe(Ce,_e,ve[1],ve[2],ve[3],ve[4]),ot.iterator=ht,ot.angleFinder=st,ot.length=it(ht,Ce,_e),Ce=ve[3],_e=ve[4];break;case"Z":case"z":ot.destX=pe,ot.destY=Ve,ot.length=S(Ce,_e,pe,Ve),Ce=pe,_e=Ve;break}Se+=ot.length,Ze.push(ot)}return Ze.push({length:Se,x:Ce,y:_e}),Ze}function he(Oe,Se,Ye){Ye||(Ye=lt(Oe));for(var ve=0;Se-Ye[ve].length>0&&ve<Ye.length-2;)Se-=Ye[ve].length,ve++;var Ce=Ye[ve],_e=Se/Ce.length,pe=Ce.command,Ve=Oe[ve],Ze;switch(pe){case"M":return{x:Ce.x,y:Ce.y,angle:0};case"Z":case"z":return Ze=new l.Point(Ce.x,Ce.y).lerp(new l.Point(Ce.destX,Ce.destY),_e),Ze.angle=Math.atan2(Ce.destY-Ce.y,Ce.destX-Ce.x),Ze;case"L":return Ze=new l.Point(Ce.x,Ce.y).lerp(new l.Point(Ve[1],Ve[2]),_e),Ze.angle=Math.atan2(Ve[2]-Ce.y,Ve[1]-Ce.x),Ze;case"C":return Te(Ce,Se);case"Q":return Te(Ce,Se)}}function Dt(Oe){var Se=[],Ye=[],ve,Ce,_e=l.rePathCommand,pe="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",Ve="("+pe+")"+l.commaWsp,Ze="([01])"+l.commaWsp+"?",ht=Ve+"?"+Ve+"?"+Ve+Ze+Ze+Ve+"?("+pe+")",ot=new RegExp(ht,"g"),st,re,H;if(!Oe||!Oe.match)return Se;H=Oe.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var q=0,ie,ue=H.length;q<ue;q++){ve=H[q],re=ve.slice(1).trim(),Ye.length=0;var be=ve.charAt(0);if(ie=[be],be.toLowerCase()==="a")for(var ke;ke=ot.exec(re);)for(var Xe=1;Xe<ke.length;Xe++)Ye.push(ke[Xe]);else for(;st=_e.exec(re);)Ye.push(st[0]);for(var Xe=0,qe=Ye.length;Xe<qe;Xe++)Ce=parseFloat(Ye[Xe]),isNaN(Ce)||ie.push(Ce);var Le=f[be.toLowerCase()],ut=v[be]||be;if(ie.length-1>Le)for(var bt=1,zt=ie.length;bt<zt;bt+=Le)Se.push([be].concat(ie.slice(bt,bt+Le))),be=ut;else Se.push(ie)}return Se}function Ke(Oe,Se){var Ye=[],ve,Ce=new l.Point(Oe[0].x,Oe[0].y),_e=new l.Point(Oe[1].x,Oe[1].y),pe=Oe.length,Ve=1,Ze=0,ht=pe>2;for(Se=Se||0,ht&&(Ve=Oe[2].x<_e.x?-1:Oe[2].x===_e.x?0:1,Ze=Oe[2].y<_e.y?-1:Oe[2].y===_e.y?0:1),Ye.push(["M",Ce.x-Ve*Se,Ce.y-Ze*Se]),ve=1;ve<pe;ve++){if(!Ce.eq(_e)){var ot=Ce.midPointFrom(_e);Ye.push(["Q",Ce.x,Ce.y,ot.x,ot.y])}Ce=Oe[ve],ve+1<Oe.length&&(_e=Oe[ve+1])}return ht&&(Ve=Ce.x>Oe[ve-2].x?1:Ce.x===Oe[ve-2].x?0:-1,Ze=Ce.y>Oe[ve-2].y?1:Ce.y===Oe[ve-2].y?0:-1),Ye.push(["L",Ce.x+Ve*Se,Ce.y+Ze*Se]),Ye}function Mt(Oe,Se,Ye){return Ye&&(Se=l.util.multiplyTransformMatrices(Se,[1,0,0,1,-Ye.x,-Ye.y])),Oe.map(function(ve){for(var Ce=ve.slice(0),_e={},pe=1;pe<ve.length-1;pe+=2)_e.x=ve[pe],_e.y=ve[pe+1],_e=l.util.transformPoint(_e,Se),Ce[pe]=_e.x,Ce[pe+1]=_e.y;return Ce})}function Me(Oe,Se,Ye,ve,Ce,_e,pe,Ve,Ze){for(var ht=0,ot=0,st,re=[],H=d(Ve-Oe,Ze-Se,Ye,ve,_e,pe,Ce),q=0,ie=H.length;q<ie;q++)st=h(ht,ot,H[q][1],H[q][2],H[q][3],H[q][4],H[q][5],H[q][6]),re.push({x:st[0].x+Oe,y:st[0].y+Se}),re.push({x:st[1].x+Oe,y:st[1].y+Se}),ht=H[q][5],ot=H[q][6];return re}function Be(Oe,Se,Ye,ve){ve=ve.slice(0).unshift("X");var Ce=C(Se,Ye,ve);Ce.forEach(function(_e){Oe.bezierCurveTo.apply(Oe,_e.slice(1))})}l.util.joinPath=function(Oe){return Oe.map(function(Se){return Se.join(" ")}).join(" ")},l.util.parsePath=Dt,l.util.makePathSimpler=D,l.util.getSmoothPathFromPoints=Ke,l.util.getPathSegmentsInfo=lt,l.util.getBoundsOfCurve=h,l.util.getPointOnPath=he,l.util.transformPath=Mt,l.util.fromArcToBeizers=C,l.util.getBoundsOfArc=Me,l.util.drawArc=Be}(),function(){var b=Array.prototype.slice;function f(h,C){for(var D=b.call(arguments,2),S=[],k=0,L=h.length;k<L;k++)S[k]=D.length?h[k][C].apply(h[k],D):h[k][C].call(h[k]);return S}function v(h,C){return g(h,C,function(D,S){return D>=S})}function m(h,C){return g(h,C,function(D,S){return D<S})}function d(h,C){for(var D=h.length;D--;)h[D]=C;return h}function g(h,C,D){if(!(!h||h.length===0)){var S=h.length-1,k=C?h[S][C]:h[S];if(C)for(;S--;)D(h[S][C],k)&&(k=h[S][C]);else for(;S--;)D(h[S],k)&&(k=h[S]);return k}}l.util.array={fill:d,invoke:f,min:m,max:v}}(),function(){function b(v,m,d){if(d)if(!l.isLikelyNode&&m instanceof Element)v=m;else if(m instanceof Array){v=[];for(var g=0,h=m.length;g<h;g++)v[g]=b({},m[g],d)}else if(m&&typeof m=="object")for(var C in m)C==="canvas"||C==="group"?v[C]=null:m.hasOwnProperty(C)&&(v[C]=b({},m[C],d));else v=m;else for(var C in m)v[C]=m[C];return v}function f(v,m){return b({},v,m)}l.util.object={extend:b,clone:f},l.util.object.extend(l.util,l.Observable)}(),function(){function b(g){return g.replace(/-+(.)?/g,function(h,C){return C?C.toUpperCase():""})}function f(g,h){return g.charAt(0).toUpperCase()+(h?g.slice(1):g.slice(1).toLowerCase())}function v(g){return g.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function m(g){var h=0,C,D=[];for(h=0,C;h<g.length;h++)(C=d(g,h))!==!1&&D.push(C);return D}function d(g,h){var C=g.charCodeAt(h);if(isNaN(C))return"";if(C<55296||C>57343)return g.charAt(h);if(55296<=C&&C<=56319){if(g.length<=h+1)throw"High surrogate without following low surrogate";var D=g.charCodeAt(h+1);if(56320>D||D>57343)throw"High surrogate without following low surrogate";return g.charAt(h)+g.charAt(h+1)}if(h===0)throw"Low surrogate without preceding high surrogate";var S=g.charCodeAt(h-1);if(55296>S||S>56319)throw"Low surrogate without preceding high surrogate";return!1}l.util.string={camelize:b,capitalize:f,escapeXml:v,graphemeSplit:m}}(),function(){var b=Array.prototype.slice,f=function(){},v=function(){for(var C in{toString:1})if(C==="toString")return!1;return!0}(),m=function(C,D,S){for(var k in D)k in C.prototype&&typeof C.prototype[k]=="function"&&(D[k]+"").indexOf("callSuper")>-1?C.prototype[k]=function(L){return function(){var B=this.constructor.superclass;this.constructor.superclass=S;var z=D[L].apply(this,arguments);if(this.constructor.superclass=B,L!=="initialize")return z}}(k):C.prototype[k]=D[k],v&&(D.toString!==Object.prototype.toString&&(C.prototype.toString=D.toString),D.valueOf!==Object.prototype.valueOf&&(C.prototype.valueOf=D.valueOf))};function d(){}function g(C){for(var D=null,S=this;S.constructor.superclass;){var k=S.constructor.superclass.prototype[C];if(S[C]!==k){D=k;break}S=S.constructor.superclass.prototype}return D?arguments.length>1?D.apply(this,b.call(arguments,1)):D.call(this):console.log("tried to callSuper "+C+", method not found in prototype chain",this)}function h(){var C=null,D=b.call(arguments,0);typeof D[0]=="function"&&(C=D.shift());function S(){this.initialize.apply(this,arguments)}S.superclass=C,S.subclasses=[],C&&(d.prototype=C.prototype,S.prototype=new d,C.subclasses.push(S));for(var k=0,L=D.length;k<L;k++)m(S,D[k],C);return S.prototype.initialize||(S.prototype.initialize=f),S.prototype.constructor=S,S.prototype.callSuper=g,S}l.util.createClass=h}(),function(){var b=!!l.document.createElement("div").attachEvent,f=["touchstart","touchmove","touchend"];l.util.addListener=function(m,d,g,h){m&&m.addEventListener(d,g,b?!1:h)},l.util.removeListener=function(m,d,g,h){m&&m.removeEventListener(d,g,b?!1:h)};function v(m){var d=m.changedTouches;return d&&d[0]?d[0]:m}l.util.getPointer=function(m){var d=m.target,g=l.util.getScrollLeftTop(d),h=v(m);return{x:h.clientX+g.left,y:h.clientY+g.top}},l.util.isTouchEvent=function(m){return f.indexOf(m.type)>-1||m.pointerType==="touch"}}(),function(){function b(h,C){var D=h.style;if(!D)return h;if(typeof C=="string")return h.style.cssText+=";"+C,C.indexOf("opacity")>-1?g(h,C.match(/opacity:\s*(\d?\.?\d*)/)[1]):h;for(var S in C)if(S==="opacity")g(h,C[S]);else{var k=S==="float"||S==="cssFloat"?typeof D.styleFloat>"u"?"cssFloat":"styleFloat":S;D[k]=C[S]}return h}var f=l.document.createElement("div"),v=typeof f.style.opacity=="string",m=typeof f.style.filter=="string",d=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,g=function(h){return h};v?g=function(h,C){return h.style.opacity=C,h}:m&&(g=function(h,C){var D=h.style;return h.currentStyle&&!h.currentStyle.hasLayout&&(D.zoom=1),d.test(D.filter)?(C=C>=.9999?"":"alpha(opacity="+C*100+")",D.filter=D.filter.replace(d,C)):D.filter+=" alpha(opacity="+C*100+")",h}),l.util.setStyle=b}(),function(){var b=Array.prototype.slice;function f(z){return typeof z=="string"?l.document.getElementById(z):z}var v,m=function(z){return b.call(z,0)};try{v=m(l.document.childNodes)instanceof Array}catch{}v||(m=function(z){for(var X=new Array(z.length),ee=z.length;ee--;)X[ee]=z[ee];return X});function d(z,X){var ee=l.document.createElement(z);for(var ce in X)ce==="class"?ee.className=X[ce]:ce==="for"?ee.htmlFor=X[ce]:ee.setAttribute(ce,X[ce]);return ee}function g(z,X){z&&(" "+z.className+" ").indexOf(" "+X+" ")===-1&&(z.className+=(z.className?" ":"")+X)}function h(z,X,ee){return typeof X=="string"&&(X=d(X,ee)),z.parentNode&&z.parentNode.replaceChild(X,z),X.appendChild(z),X}function C(z){for(var X=0,ee=0,ce=l.document.documentElement,le=l.document.body||{scrollLeft:0,scrollTop:0};z&&(z.parentNode||z.host)&&(z=z.parentNode||z.host,z===l.document?(X=le.scrollLeft||ce.scrollLeft||0,ee=le.scrollTop||ce.scrollTop||0):(X+=z.scrollLeft||0,ee+=z.scrollTop||0),!(z.nodeType===1&&z.style.position==="fixed")););return{left:X,top:ee}}function D(z){var X,ee=z&&z.ownerDocument,ce={left:0,top:0},le={left:0,top:0},me,je={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!ee)return le;for(var Pe in je)le[je[Pe]]+=parseInt(S(z,Pe),10)||0;return X=ee.documentElement,typeof z.getBoundingClientRect<"u"&&(ce=z.getBoundingClientRect()),me=C(z),{left:ce.left+me.left-(X.clientLeft||0)+le.left,top:ce.top+me.top-(X.clientTop||0)+le.top}}var S;l.document.defaultView&&l.document.defaultView.getComputedStyle?S=function(z,X){var ee=l.document.defaultView.getComputedStyle(z,null);return ee?ee[X]:void 0}:S=function(z,X){var ee=z.style[X];return!ee&&z.currentStyle&&(ee=z.currentStyle[X]),ee},function(){var z=l.document.documentElement.style,X="userSelect"in z?"userSelect":"MozUserSelect"in z?"MozUserSelect":"WebkitUserSelect"in z?"WebkitUserSelect":"KhtmlUserSelect"in z?"KhtmlUserSelect":"";function ee(le){return typeof le.onselectstart<"u"&&(le.onselectstart=l.util.falseFunction),X?le.style[X]="none":typeof le.unselectable=="string"&&(le.unselectable="on"),le}function ce(le){return typeof le.onselectstart<"u"&&(le.onselectstart=null),X?le.style[X]="":typeof le.unselectable=="string"&&(le.unselectable=""),le}l.util.makeElementUnselectable=ee,l.util.makeElementSelectable=ce}();function k(z){var X=l.jsdomImplForWrapper(z);return X._canvas||X._image}function L(z){if(!!l.isLikelyNode){var X=l.jsdomImplForWrapper(z);X&&(X._image=null,X._canvas=null,X._currentSrc=null,X._attributes=null,X._classList=null)}}function B(z,X){z.imageSmoothingEnabled=z.imageSmoothingEnabled||z.webkitImageSmoothingEnabled||z.mozImageSmoothingEnabled||z.msImageSmoothingEnabled||z.oImageSmoothingEnabled,z.imageSmoothingEnabled=X}l.util.setImageSmoothing=B,l.util.getById=f,l.util.toArray=m,l.util.addClass=g,l.util.makeElement=d,l.util.wrapElement=h,l.util.getScrollLeftTop=C,l.util.getElementOffset=D,l.util.getNodeCanvas=k,l.util.cleanUpJsdomNode=L}(),function(){function b(m,d){return m+(/\?/.test(m)?"&":"?")+d}function f(){}function v(m,d){d||(d={});var g=d.method?d.method.toUpperCase():"GET",h=d.onComplete||function(){},C=new l.window.XMLHttpRequest,D=d.body||d.parameters;return C.onreadystatechange=function(){C.readyState===4&&(h(C),C.onreadystatechange=f)},g==="GET"&&(D=null,typeof d.parameters=="string"&&(m=b(m,d.parameters))),C.open(g,m,!0),(g==="POST"||g==="PUT")&&C.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),C.send(D),C}l.util.request=v}(),l.log=console.log,l.warn=console.warn,function(){function b(){return!1}function f(C,D,S,k){return-S*Math.cos(C/k*(Math.PI/2))+S+D}function v(C){var D=!1;return g(function(S){C||(C={});var k=S||+new Date,L=C.duration||500,B=k+L,z,X=C.onChange||b,ee=C.abort||b,ce=C.onComplete||b,le=C.easing||f,me="startValue"in C?C.startValue:0,je="endValue"in C?C.endValue:100,Pe=C.byValue||je-me;C.onStart&&C.onStart(),function it(Te){z=Te||+new Date;var lt=z>B?L:z-k,he=lt/L,Dt=le(lt,me,Pe,L),Ke=Math.abs((Dt-me)/Pe);if(!D){if(ee(Dt,Ke,he)){ce(je,1,1);return}if(z>B){X(je,1,1),ce(je,1,1);return}else X(Dt,Ke,he),g(it)}}(k)}),function(){D=!0}}var m=l.window.requestAnimationFrame||l.window.webkitRequestAnimationFrame||l.window.mozRequestAnimationFrame||l.window.oRequestAnimationFrame||l.window.msRequestAnimationFrame||function(C){return l.window.setTimeout(C,1e3/60)},d=l.window.cancelAnimationFrame||l.window.clearTimeout;function g(){return m.apply(l.window,arguments)}function h(){return d.apply(l.window,arguments)}l.util.animate=v,l.util.requestAnimFrame=g,l.util.cancelAnimFrame=h}(),function(){function b(v,m,d){var g="rgba("+parseInt(v[0]+d*(m[0]-v[0]),10)+","+parseInt(v[1]+d*(m[1]-v[1]),10)+","+parseInt(v[2]+d*(m[2]-v[2]),10);return g+=","+(v&&m?parseFloat(v[3]+d*(m[3]-v[3])):1),g+=")",g}function f(v,m,d,g){var h=new l.Color(v).getSource(),C=new l.Color(m).getSource(),D=g.onComplete,S=g.onChange;return g=g||{},l.util.animate(l.util.object.extend(g,{duration:d||500,startValue:h,endValue:C,byValue:C,easing:function(k,L,B,z){var X=g.colorEasing?g.colorEasing(k,z):1-Math.cos(k/z*(Math.PI/2));return b(L,B,X)},onComplete:function(k,L,B){if(D)return D(b(C,C,0),L,B)},onChange:function(k,L,B){if(S){if(Array.isArray(k))return S(b(k,k,0),L,B);S(k,L,B)}}}))}l.util.animateColor=f}(),function(){function b(Me,Be,Oe,Se){return Me<Math.abs(Be)?(Me=Be,Se=Oe/4):Be===0&&Me===0?Se=Oe/(2*Math.PI)*Math.asin(1):Se=Oe/(2*Math.PI)*Math.asin(Be/Me),{a:Me,c:Be,p:Oe,s:Se}}function f(Me,Be,Oe){return Me.a*Math.pow(2,10*(Be-=1))*Math.sin((Be*Oe-Me.s)*(2*Math.PI)/Me.p)}function v(Me,Be,Oe,Se){return Oe*((Me=Me/Se-1)*Me*Me+1)+Be}function m(Me,Be,Oe,Se){return Me/=Se/2,Me<1?Oe/2*Me*Me*Me+Be:Oe/2*((Me-=2)*Me*Me+2)+Be}function d(Me,Be,Oe,Se){return Oe*(Me/=Se)*Me*Me*Me+Be}function g(Me,Be,Oe,Se){return-Oe*((Me=Me/Se-1)*Me*Me*Me-1)+Be}function h(Me,Be,Oe,Se){return Me/=Se/2,Me<1?Oe/2*Me*Me*Me*Me+Be:-Oe/2*((Me-=2)*Me*Me*Me-2)+Be}function C(Me,Be,Oe,Se){return Oe*(Me/=Se)*Me*Me*Me*Me+Be}function D(Me,Be,Oe,Se){return Oe*((Me=Me/Se-1)*Me*Me*Me*Me+1)+Be}function S(Me,Be,Oe,Se){return Me/=Se/2,Me<1?Oe/2*Me*Me*Me*Me*Me+Be:Oe/2*((Me-=2)*Me*Me*Me*Me+2)+Be}function k(Me,Be,Oe,Se){return-Oe*Math.cos(Me/Se*(Math.PI/2))+Oe+Be}function L(Me,Be,Oe,Se){return Oe*Math.sin(Me/Se*(Math.PI/2))+Be}function B(Me,Be,Oe,Se){return-Oe/2*(Math.cos(Math.PI*Me/Se)-1)+Be}function z(Me,Be,Oe,Se){return Me===0?Be:Oe*Math.pow(2,10*(Me/Se-1))+Be}function X(Me,Be,Oe,Se){return Me===Se?Be+Oe:Oe*(-Math.pow(2,-10*Me/Se)+1)+Be}function ee(Me,Be,Oe,Se){return Me===0?Be:Me===Se?Be+Oe:(Me/=Se/2,Me<1?Oe/2*Math.pow(2,10*(Me-1))+Be:Oe/2*(-Math.pow(2,-10*--Me)+2)+Be)}function ce(Me,Be,Oe,Se){return-Oe*(Math.sqrt(1-(Me/=Se)*Me)-1)+Be}function le(Me,Be,Oe,Se){return Oe*Math.sqrt(1-(Me=Me/Se-1)*Me)+Be}function me(Me,Be,Oe,Se){return Me/=Se/2,Me<1?-Oe/2*(Math.sqrt(1-Me*Me)-1)+Be:Oe/2*(Math.sqrt(1-(Me-=2)*Me)+1)+Be}function je(Me,Be,Oe,Se){var Ye=1.70158,ve=0,Ce=Oe;if(Me===0)return Be;if(Me/=Se,Me===1)return Be+Oe;ve||(ve=Se*.3);var _e=b(Ce,Oe,ve,Ye);return-f(_e,Me,Se)+Be}function Pe(Me,Be,Oe,Se){var Ye=1.70158,ve=0,Ce=Oe;if(Me===0)return Be;if(Me/=Se,Me===1)return Be+Oe;ve||(ve=Se*.3);var _e=b(Ce,Oe,ve,Ye);return _e.a*Math.pow(2,-10*Me)*Math.sin((Me*Se-_e.s)*(2*Math.PI)/_e.p)+_e.c+Be}function it(Me,Be,Oe,Se){var Ye=1.70158,ve=0,Ce=Oe;if(Me===0)return Be;if(Me/=Se/2,Me===2)return Be+Oe;ve||(ve=Se*.44999999999999996);var _e=b(Ce,Oe,ve,Ye);return Me<1?-.5*f(_e,Me,Se)+Be:_e.a*Math.pow(2,-10*(Me-=1))*Math.sin((Me*Se-_e.s)*(2*Math.PI)/_e.p)*.5+_e.c+Be}function Te(Me,Be,Oe,Se,Ye){return Ye===void 0&&(Ye=1.70158),Oe*(Me/=Se)*Me*((Ye+1)*Me-Ye)+Be}function lt(Me,Be,Oe,Se,Ye){return Ye===void 0&&(Ye=1.70158),Oe*((Me=Me/Se-1)*Me*((Ye+1)*Me+Ye)+1)+Be}function he(Me,Be,Oe,Se,Ye){return Ye===void 0&&(Ye=1.70158),Me/=Se/2,Me<1?Oe/2*(Me*Me*(((Ye*=1.525)+1)*Me-Ye))+Be:Oe/2*((Me-=2)*Me*(((Ye*=1.525)+1)*Me+Ye)+2)+Be}function Dt(Me,Be,Oe,Se){return Oe-Ke(Se-Me,0,Oe,Se)+Be}function Ke(Me,Be,Oe,Se){return(Me/=Se)<.36363636363636365?Oe*(7.5625*Me*Me)+Be:Me<.7272727272727273?Oe*(7.5625*(Me-=.5454545454545454)*Me+.75)+Be:Me<.9090909090909091?Oe*(7.5625*(Me-=.8181818181818182)*Me+.9375)+Be:Oe*(7.5625*(Me-=.9545454545454546)*Me+.984375)+Be}function Mt(Me,Be,Oe,Se){return Me<Se/2?Dt(Me*2,0,Oe,Se)*.5+Be:Ke(Me*2-Se,0,Oe,Se)*.5+Oe*.5+Be}l.util.ease={easeInQuad:function(Me,Be,Oe,Se){return Oe*(Me/=Se)*Me+Be},easeOutQuad:function(Me,Be,Oe,Se){return-Oe*(Me/=Se)*(Me-2)+Be},easeInOutQuad:function(Me,Be,Oe,Se){return Me/=Se/2,Me<1?Oe/2*Me*Me+Be:-Oe/2*(--Me*(Me-2)-1)+Be},easeInCubic:function(Me,Be,Oe,Se){return Oe*(Me/=Se)*Me*Me+Be},easeOutCubic:v,easeInOutCubic:m,easeInQuart:d,easeOutQuart:g,easeInOutQuart:h,easeInQuint:C,easeOutQuint:D,easeInOutQuint:S,easeInSine:k,easeOutSine:L,easeInOutSine:B,easeInExpo:z,easeOutExpo:X,easeInOutExpo:ee,easeInCirc:ce,easeOutCirc:le,easeInOutCirc:me,easeInElastic:je,easeOutElastic:Pe,easeInOutElastic:it,easeInBack:Te,easeOutBack:lt,easeInOutBack:he,easeInBounce:Dt,easeOutBounce:Ke,easeInOutBounce:Mt}}(),function(b){var f=b.fabric||(b.fabric={}),v=f.util.object.extend,m=f.util.object.clone,d=f.util.toFixed,g=f.util.parseUnit,h=f.util.multiplyTransformMatrices,C=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],D=["symbol","image","marker","pattern","view","svg"],S=["pattern","defs","symbol","metadata","clipPath","mask","desc"],k=["symbol","g","a","svg","clipPath","defs"],L={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},B={stroke:"strokeOpacity",fill:"fillOpacity"},z="font-size",X="clip-path";f.svgValidTagNamesRegEx=le(C),f.svgViewBoxElementsRegEx=le(D),f.svgInvalidAncestorsRegEx=le(S),f.svgValidParentsRegEx=le(k),f.cssRules={},f.gradientDefs={},f.clipPaths={};function ee(ve){return ve in L?L[ve]:ve}function ce(ve,Ce,_e,pe){var Ve=Object.prototype.toString.call(Ce)==="[object Array]",Ze;if((ve==="fill"||ve==="stroke")&&Ce==="none")Ce="";else{if(ve==="strokeUniform")return Ce==="non-scaling-stroke";if(ve==="strokeDashArray")Ce==="none"?Ce=null:Ce=Ce.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(ve==="transformMatrix")_e&&_e.transformMatrix?Ce=h(_e.transformMatrix,f.parseTransformAttribute(Ce)):Ce=f.parseTransformAttribute(Ce);else if(ve==="visible")Ce=Ce!=="none"&&Ce!=="hidden",_e&&_e.visible===!1&&(Ce=!1);else if(ve==="opacity")Ce=parseFloat(Ce),_e&&typeof _e.opacity<"u"&&(Ce*=_e.opacity);else if(ve==="textAnchor")Ce=Ce==="start"?"left":Ce==="end"?"right":"center";else if(ve==="charSpacing")Ze=g(Ce,pe)/pe*1e3;else if(ve==="paintFirst"){var ht=Ce.indexOf("fill"),ot=Ce.indexOf("stroke"),Ce="fill";(ht>-1&&ot>-1&&ot<ht||ht===-1&&ot>-1)&&(Ce="stroke")}else{if(ve==="href"||ve==="xlink:href"||ve==="font")return Ce;if(ve==="imageSmoothing")return Ce==="optimizeQuality";Ze=Ve?Ce.map(g):g(Ce,pe)}}return!Ve&&isNaN(Ze)?Ce:Ze}function le(ve){return new RegExp("^("+ve.join("|")+")\\b","i")}function me(ve){for(var Ce in B)if(!(typeof ve[B[Ce]]>"u"||ve[Ce]==="")){if(typeof ve[Ce]>"u"){if(!f.Object.prototype[Ce])continue;ve[Ce]=f.Object.prototype[Ce]}if(ve[Ce].indexOf("url(")!==0){var _e=new f.Color(ve[Ce]);ve[Ce]=_e.setAlpha(d(_e.getAlpha()*ve[B[Ce]],2)).toRgba()}}return ve}function je(ve,Ce){var _e,pe=[],Ve,Ze,ht;for(Ze=0,ht=Ce.length;Ze<ht;Ze++)_e=Ce[Ze],Ve=ve.getElementsByTagName(_e),pe=pe.concat(Array.prototype.slice.call(Ve));return pe}f.parseTransformAttribute=function(){function ve(Le,ut){var bt=f.util.cos(ut[0]),zt=f.util.sin(ut[0]),qt=0,Zt=0;ut.length===3&&(qt=ut[1],Zt=ut[2]),Le[0]=bt,Le[1]=zt,Le[2]=-zt,Le[3]=bt,Le[4]=qt-(bt*qt-zt*Zt),Le[5]=Zt-(zt*qt+bt*Zt)}function Ce(Le,ut){var bt=ut[0],zt=ut.length===2?ut[1]:ut[0];Le[0]=bt,Le[3]=zt}function _e(Le,ut,bt){Le[bt]=Math.tan(f.util.degreesToRadians(ut[0]))}function pe(Le,ut){Le[4]=ut[0],ut.length===2&&(Le[5]=ut[1])}var Ve=f.iMatrix,Ze=f.reNum,ht=f.commaWsp,ot="(?:(skewX)\\s*\\(\\s*("+Ze+")\\s*\\))",st="(?:(skewY)\\s*\\(\\s*("+Ze+")\\s*\\))",re="(?:(rotate)\\s*\\(\\s*("+Ze+")(?:"+ht+"("+Ze+")"+ht+"("+Ze+"))?\\s*\\))",H="(?:(scale)\\s*\\(\\s*("+Ze+")(?:"+ht+"("+Ze+"))?\\s*\\))",q="(?:(translate)\\s*\\(\\s*("+Ze+")(?:"+ht+"("+Ze+"))?\\s*\\))",ie="(?:(matrix)\\s*\\(\\s*("+Ze+")"+ht+"("+Ze+")"+ht+"("+Ze+")"+ht+"("+Ze+")"+ht+"("+Ze+")"+ht+"("+Ze+")\\s*\\))",ue="(?:"+ie+"|"+q+"|"+H+"|"+re+"|"+ot+"|"+st+")",be="(?:"+ue+"(?:"+ht+"*"+ue+")*)",ke="^\\s*(?:"+be+"?)\\s*$",Xe=new RegExp(ke),qe=new RegExp(ue,"g");return function(Le){var ut=Ve.concat(),bt=[];if(!Le||Le&&!Xe.test(Le))return ut;Le.replace(qe,function(qt){var Zt=new RegExp(ue).exec(qt).filter(function(Mn){return!!Mn}),Xt=Zt[1],Jt=Zt.slice(2).map(parseFloat);switch(Xt){case"translate":pe(ut,Jt);break;case"rotate":Jt[0]=f.util.degreesToRadians(Jt[0]),ve(ut,Jt);break;case"scale":Ce(ut,Jt);break;case"skewX":_e(ut,Jt,2);break;case"skewY":_e(ut,Jt,1);break;case"matrix":ut=Jt;break}bt.push(ut.concat()),ut=Ve.concat()});for(var zt=bt[0];bt.length>1;)bt.shift(),zt=f.util.multiplyTransformMatrices(zt,bt[0]);return zt}}();function Pe(ve,Ce){var _e,pe;ve.replace(/;\s*$/,"").split(";").forEach(function(Ve){var Ze=Ve.split(":");_e=Ze[0].trim().toLowerCase(),pe=Ze[1].trim(),Ce[_e]=pe})}function it(ve,Ce){var _e,pe;for(var Ve in ve)typeof ve[Ve]>"u"||(_e=Ve.toLowerCase(),pe=ve[Ve],Ce[_e]=pe)}function Te(ve,Ce){var _e={};for(var pe in f.cssRules[Ce])if(lt(ve,pe.split(" ")))for(var Ve in f.cssRules[Ce][pe])_e[Ve]=f.cssRules[Ce][pe][Ve];return _e}function lt(ve,Ce){var _e,pe=!0;return _e=Dt(ve,Ce.pop()),_e&&Ce.length&&(pe=he(ve,Ce)),_e&&pe&&Ce.length===0}function he(ve,Ce){for(var _e,pe=!0;ve.parentNode&&ve.parentNode.nodeType===1&&Ce.length;)pe&&(_e=Ce.pop()),ve=ve.parentNode,pe=Dt(ve,_e);return Ce.length===0}function Dt(ve,Ce){var _e=ve.nodeName,pe=ve.getAttribute("class"),Ve=ve.getAttribute("id"),Ze,ht;if(Ze=new RegExp("^"+_e,"i"),Ce=Ce.replace(Ze,""),Ve&&Ce.length&&(Ze=new RegExp("#"+Ve+"(?![a-zA-Z\\-]+)","i"),Ce=Ce.replace(Ze,"")),pe&&Ce.length)for(pe=pe.split(" "),ht=pe.length;ht--;)Ze=new RegExp("\\."+pe[ht]+"(?![a-zA-Z\\-]+)","i"),Ce=Ce.replace(Ze,"");return Ce.length===0}function Ke(ve,Ce){var _e;if(ve.getElementById&&(_e=ve.getElementById(Ce)),_e)return _e;var pe,Ve,Ze,ht=ve.getElementsByTagName("*");for(Ve=0,Ze=ht.length;Ve<Ze;Ve++)if(pe=ht[Ve],Ce===pe.getAttribute("id"))return pe}function Mt(ve){for(var Ce=je(ve,["use","svg:use"]),_e=0;Ce.length&&_e<Ce.length;){var pe=Ce[_e],Ve=pe.getAttribute("xlink:href")||pe.getAttribute("href");if(Ve===null)return;var Ze=Ve.substr(1),ht=pe.getAttribute("x")||0,ot=pe.getAttribute("y")||0,st=Ke(ve,Ze).cloneNode(!0),re=(st.getAttribute("transform")||"")+" translate("+ht+", "+ot+")",H,q=Ce.length,ie,ue,be,ke,Xe=f.svgNS;if(Be(st),/^svg$/i.test(st.nodeName)){var qe=st.ownerDocument.createElementNS(Xe,"g");for(ue=0,be=st.attributes,ke=be.length;ue<ke;ue++)ie=be.item(ue),qe.setAttributeNS(Xe,ie.nodeName,ie.nodeValue);for(;st.firstChild;)qe.appendChild(st.firstChild);st=qe}for(ue=0,be=pe.attributes,ke=be.length;ue<ke;ue++)ie=be.item(ue),!(ie.nodeName==="x"||ie.nodeName==="y"||ie.nodeName==="xlink:href"||ie.nodeName==="href")&&(ie.nodeName==="transform"?re=ie.nodeValue+" "+re:st.setAttribute(ie.nodeName,ie.nodeValue));st.setAttribute("transform",re),st.setAttribute("instantiated_by_use","1"),st.removeAttribute("id"),H=pe.parentNode,H.replaceChild(st,pe),Ce.length===q&&_e++}}var Me=new RegExp("^\\s*("+f.reNum+"+)\\s*,?\\s*("+f.reNum+"+)\\s*,?\\s*("+f.reNum+"+)\\s*,?\\s*("+f.reNum+"+)\\s*$");function Be(ve){if(!f.svgViewBoxElementsRegEx.test(ve.nodeName))return{};var Ce=ve.getAttribute("viewBox"),_e=1,pe=1,Ve=0,Ze=0,ht,ot,st,re,H=ve.getAttribute("width"),q=ve.getAttribute("height"),ie=ve.getAttribute("x")||0,ue=ve.getAttribute("y")||0,be=ve.getAttribute("preserveAspectRatio")||"",ke=!Ce||!(Ce=Ce.match(Me)),Xe=!H||!q||H==="100%"||q==="100%",qe=ke&&Xe,Le={},ut="",bt=0,zt=0;if(Le.width=0,Le.height=0,Le.toBeParsed=qe,ke&&(ie||ue)&&ve.parentNode&&ve.parentNode.nodeName!=="#document"&&(ut=" translate("+g(ie)+" "+g(ue)+") ",st=(ve.getAttribute("transform")||"")+ut,ve.setAttribute("transform",st),ve.removeAttribute("x"),ve.removeAttribute("y")),qe)return Le;if(ke)return Le.width=g(H),Le.height=g(q),Le;if(Ve=-parseFloat(Ce[1]),Ze=-parseFloat(Ce[2]),ht=parseFloat(Ce[3]),ot=parseFloat(Ce[4]),Le.minX=Ve,Le.minY=Ze,Le.viewBoxWidth=ht,Le.viewBoxHeight=ot,Xe?(Le.width=ht,Le.height=ot):(Le.width=g(H),Le.height=g(q),_e=Le.width/ht,pe=Le.height/ot),be=f.util.parsePreserveAspectRatioAttribute(be),be.alignX!=="none"&&(be.meetOrSlice==="meet"&&(pe=_e=_e>pe?pe:_e),be.meetOrSlice==="slice"&&(pe=_e=_e>pe?_e:pe),bt=Le.width-ht*_e,zt=Le.height-ot*_e,be.alignX==="Mid"&&(bt/=2),be.alignY==="Mid"&&(zt/=2),be.alignX==="Min"&&(bt=0),be.alignY==="Min"&&(zt=0)),_e===1&&pe===1&&Ve===0&&Ze===0&&ie===0&&ue===0)return Le;if((ie||ue)&&ve.parentNode.nodeName!=="#document"&&(ut=" translate("+g(ie)+" "+g(ue)+") "),st=ut+" matrix("+_e+" 0 0 "+pe+" "+(Ve*_e+bt)+" "+(Ze*pe+zt)+") ",ve.nodeName==="svg"){for(re=ve.ownerDocument.createElementNS(f.svgNS,"g");ve.firstChild;)re.appendChild(ve.firstChild);ve.appendChild(re)}else re=ve,re.removeAttribute("x"),re.removeAttribute("y"),st=re.getAttribute("transform")+st;return re.setAttribute("transform",st),Le}function Oe(ve,Ce){for(;ve&&(ve=ve.parentNode);)if(ve.nodeName&&Ce.test(ve.nodeName.replace("svg:",""))&&!ve.getAttribute("instantiated_by_use"))return!0;return!1}f.parseSVGDocument=function(ve,Ce,_e,pe){if(!!ve){Mt(ve);var Ve=f.Object.__uid++,Ze,ht,ot=Be(ve),st=f.util.toArray(ve.getElementsByTagName("*"));if(ot.crossOrigin=pe&&pe.crossOrigin,ot.svgUid=Ve,st.length===0&&f.isLikelyNode){st=ve.selectNodes('//*[name(.)!="svg"]');var re=[];for(Ze=0,ht=st.length;Ze<ht;Ze++)re[Ze]=st[Ze];st=re}var H=st.filter(function(ie){return Be(ie),f.svgValidTagNamesRegEx.test(ie.nodeName.replace("svg:",""))&&!Oe(ie,f.svgInvalidAncestorsRegEx)});if(!H||H&&!H.length){Ce&&Ce([],{});return}var q={};st.filter(function(ie){return ie.nodeName.replace("svg:","")==="clipPath"}).forEach(function(ie){var ue=ie.getAttribute("id");q[ue]=f.util.toArray(ie.getElementsByTagName("*")).filter(function(be){return f.svgValidTagNamesRegEx.test(be.nodeName.replace("svg:",""))})}),f.gradientDefs[Ve]=f.getGradientDefs(ve),f.cssRules[Ve]=f.getCSSRules(ve),f.clipPaths[Ve]=q,f.parseElements(H,function(ie,ue){Ce&&(Ce(ie,ot,ue,st),delete f.gradientDefs[Ve],delete f.cssRules[Ve],delete f.clipPaths[Ve])},m(ot),_e,pe)}};function Se(ve,Ce){var _e=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],pe="xlink:href",Ve=Ce.getAttribute(pe).substr(1),Ze=Ke(ve,Ve);if(Ze&&Ze.getAttribute(pe)&&Se(ve,Ze),_e.forEach(function(ot){Ze&&!Ce.hasAttribute(ot)&&Ze.hasAttribute(ot)&&Ce.setAttribute(ot,Ze.getAttribute(ot))}),!Ce.children.length)for(var ht=Ze.cloneNode(!0);ht.firstChild;)Ce.appendChild(ht.firstChild);Ce.removeAttribute(pe)}var Ye=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+f.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+f.reNum+"))?\\s+(.*)");v(f,{parseFontDeclaration:function(ve,Ce){var _e=ve.match(Ye);if(!!_e){var pe=_e[1],Ve=_e[3],Ze=_e[4],ht=_e[5],ot=_e[6];pe&&(Ce.fontStyle=pe),Ve&&(Ce.fontWeight=isNaN(parseFloat(Ve))?Ve:parseFloat(Ve)),Ze&&(Ce.fontSize=g(Ze)),ot&&(Ce.fontFamily=ot),ht&&(Ce.lineHeight=ht==="normal"?1:ht)}},getGradientDefs:function(ve){var Ce=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],_e=je(ve,Ce),pe,Ve=0,Ze={};for(Ve=_e.length;Ve--;)pe=_e[Ve],pe.getAttribute("xlink:href")&&Se(ve,pe),Ze[pe.getAttribute("id")]=pe;return Ze},parseAttributes:function(ve,Ce,_e){if(!!ve){var pe,Ve={},Ze,ht;typeof _e>"u"&&(_e=ve.getAttribute("svgUid")),ve.parentNode&&f.svgValidParentsRegEx.test(ve.parentNode.nodeName)&&(Ve=f.parseAttributes(ve.parentNode,Ce,_e));var ot=Ce.reduce(function(be,ke){return pe=ve.getAttribute(ke),pe&&(be[ke]=pe),be},{}),st=v(Te(ve,_e),f.parseStyleAttribute(ve));ot=v(ot,st),st[X]&&ve.setAttribute(X,st[X]),Ze=ht=Ve.fontSize||f.Text.DEFAULT_SVG_FONT_SIZE,ot[z]&&(ot[z]=Ze=g(ot[z],ht));var re,H,q={};for(var ie in ot)re=ee(ie),H=ce(re,ot[ie],Ve,Ze),q[re]=H;q&&q.font&&f.parseFontDeclaration(q.font,q);var ue=v(Ve,q);return f.svgValidParentsRegEx.test(ve.nodeName)?ue:me(ue)}},parseElements:function(ve,Ce,_e,pe,Ve){new f.ElementsParser(ve,Ce,_e,pe,Ve).parse()},parseStyleAttribute:function(ve){var Ce={},_e=ve.getAttribute("style");return _e&&(typeof _e=="string"?Pe(_e,Ce):it(_e,Ce)),Ce},parsePointsAttribute:function(ve){if(!ve)return null;ve=ve.replace(/,/g," ").trim(),ve=ve.split(/\s+/);var Ce=[],_e,pe;for(_e=0,pe=ve.length;_e<pe;_e+=2)Ce.push({x:parseFloat(ve[_e]),y:parseFloat(ve[_e+1])});return Ce},getCSSRules:function(ve){var Ce=ve.getElementsByTagName("style"),_e,pe,Ve={},Ze;for(_e=0,pe=Ce.length;_e<pe;_e++){var ht=Ce[_e].textContent;ht=ht.replace(/\/\*[\s\S]*?\*\//g,""),ht.trim()!==""&&(Ze=ht.match(/[^{]*\{[\s\S]*?\}/g),Ze=Ze.map(function(ot){return ot.trim()}),Ze.forEach(function(ot){var st=ot.match(/([\s\S]*?)\s*\{([^}]*)\}/),re={},H=st[2].trim(),q=H.replace(/;$/,"").split(/\s*;\s*/);for(_e=0,pe=q.length;_e<pe;_e++){var ie=q[_e].split(/\s*:\s*/),ue=ie[0],be=ie[1];re[ue]=be}ot=st[1],ot.split(",").forEach(function(ke){ke=ke.replace(/^svg/i,"").trim(),ke!==""&&(Ve[ke]?f.util.object.extend(Ve[ke],re):Ve[ke]=f.util.object.clone(re))})}))}return Ve},loadSVGFromURL:function(ve,Ce,_e,pe){ve=ve.replace(/^\n\s*/,"").trim(),new f.util.request(ve,{method:"get",onComplete:Ve});function Ve(Ze){var ht=Ze.responseXML;if(!ht||!ht.documentElement)return Ce&&Ce(null),!1;f.parseSVGDocument(ht.documentElement,function(ot,st,re,H){Ce&&Ce(ot,st,re,H)},_e,pe)}},loadSVGFromString:function(ve,Ce,_e,pe){var Ve=new f.window.DOMParser,Ze=Ve.parseFromString(ve.trim(),"text/xml");f.parseSVGDocument(Ze.documentElement,function(ht,ot,st,re){Ce(ht,ot,st,re)},_e,pe)}})}(u),l.ElementsParser=function(b,f,v,m,d,g){this.elements=b,this.callback=f,this.options=v,this.reviver=m,this.svgUid=v&&v.svgUid||0,this.parsingOptions=d,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=g},function(b){b.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},b.createObjects=function(){var f=this;this.elements.forEach(function(v,m){v.setAttribute("svgUid",f.svgUid),f.createObject(v,m)})},b.findTag=function(f){return l[l.util.string.capitalize(f.tagName.replace("svg:",""))]},b.createObject=function(f,v){var m=this.findTag(f);if(m&&m.fromElement)try{m.fromElement(f,this.createCallback(v,f),this.options)}catch(d){l.log(d)}else this.checkIfDone()},b.createCallback=function(f,v){var m=this;return function(d){var g;m.resolveGradient(d,v,"fill"),m.resolveGradient(d,v,"stroke"),d instanceof l.Image&&d._originalElement&&(g=d.parsePreserveAspectRatioAttribute(v)),d._removeTransformMatrix(g),m.resolveClipPath(d,v),m.reviver&&m.reviver(v,d),m.instances[f]=d,m.checkIfDone()}},b.extractPropertyDefinition=function(f,v,m){var d=f[v],g=this.regexUrl;if(!!g.test(d)){g.lastIndex=0;var h=g.exec(d)[1];return g.lastIndex=0,l[m][this.svgUid][h]}},b.resolveGradient=function(f,v,m){var d=this.extractPropertyDefinition(f,m,"gradientDefs");if(d){var g=v.getAttribute(m+"-opacity"),h=l.Gradient.fromElement(d,f,g,this.options);f.set(m,h)}},b.createClipPathCallback=function(f,v){return function(m){m._removeTransformMatrix(),m.fillRule=m.clipRule,v.push(m)}},b.resolveClipPath=function(f,v){var m=this.extractPropertyDefinition(f,"clipPath","clipPaths"),d,g,h,C,D,S;if(m){C=[],h=l.util.invertTransform(f.calcTransformMatrix());for(var k=m[0].parentNode,L=v;L.parentNode&&L.getAttribute("clip-path")!==f.clipPath;)L=L.parentNode;L.parentNode.appendChild(k);for(var B=0;B<m.length;B++)d=m[B],g=this.findTag(d),g.fromElement(d,this.createClipPathCallback(f,C),this.options);C.length===1?m=C[0]:m=new l.Group(C),D=l.util.multiplyTransformMatrices(h,m.calcTransformMatrix()),m.clipPath&&this.resolveClipPath(m,L);var S=l.util.qrDecompose(D);m.flipX=!1,m.flipY=!1,m.set("scaleX",S.scaleX),m.set("scaleY",S.scaleY),m.angle=S.angle,m.skewX=S.skewX,m.skewY=0,m.setPositionByOrigin({x:S.translateX,y:S.translateY},"center","center"),f.clipPath=m}else delete f.clipPath},b.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(f){return f!=null}),this.callback(this.instances,this.elements))}}(l.ElementsParser.prototype),function(b){var f=b.fabric||(b.fabric={});if(f.Point){f.warn("fabric.Point is already defined");return}f.Point=v;function v(m,d){this.x=m,this.y=d}v.prototype={type:"point",constructor:v,add:function(m){return new v(this.x+m.x,this.y+m.y)},addEquals:function(m){return this.x+=m.x,this.y+=m.y,this},scalarAdd:function(m){return new v(this.x+m,this.y+m)},scalarAddEquals:function(m){return this.x+=m,this.y+=m,this},subtract:function(m){return new v(this.x-m.x,this.y-m.y)},subtractEquals:function(m){return this.x-=m.x,this.y-=m.y,this},scalarSubtract:function(m){return new v(this.x-m,this.y-m)},scalarSubtractEquals:function(m){return this.x-=m,this.y-=m,this},multiply:function(m){return new v(this.x*m,this.y*m)},multiplyEquals:function(m){return this.x*=m,this.y*=m,this},divide:function(m){return new v(this.x/m,this.y/m)},divideEquals:function(m){return this.x/=m,this.y/=m,this},eq:function(m){return this.x===m.x&&this.y===m.y},lt:function(m){return this.x<m.x&&this.y<m.y},lte:function(m){return this.x<=m.x&&this.y<=m.y},gt:function(m){return this.x>m.x&&this.y>m.y},gte:function(m){return this.x>=m.x&&this.y>=m.y},lerp:function(m,d){return typeof d>"u"&&(d=.5),d=Math.max(Math.min(1,d),0),new v(this.x+(m.x-this.x)*d,this.y+(m.y-this.y)*d)},distanceFrom:function(m){var d=this.x-m.x,g=this.y-m.y;return Math.sqrt(d*d+g*g)},midPointFrom:function(m){return this.lerp(m)},min:function(m){return new v(Math.min(this.x,m.x),Math.min(this.y,m.y))},max:function(m){return new v(Math.max(this.x,m.x),Math.max(this.y,m.y))},toString:function(){return this.x+","+this.y},setXY:function(m,d){return this.x=m,this.y=d,this},setX:function(m){return this.x=m,this},setY:function(m){return this.y=m,this},setFromPoint:function(m){return this.x=m.x,this.y=m.y,this},swap:function(m){var d=this.x,g=this.y;this.x=m.x,this.y=m.y,m.x=d,m.y=g},clone:function(){return new v(this.x,this.y)}}}(u),function(b){var f=b.fabric||(b.fabric={});if(f.Intersection){f.warn("fabric.Intersection is already defined");return}function v(m){this.status=m,this.points=[]}f.Intersection=v,f.Intersection.prototype={constructor:v,appendPoint:function(m){return this.points.push(m),this},appendPoints:function(m){return this.points=this.points.concat(m),this}},f.Intersection.intersectLineLine=function(m,d,g,h){var C,D=(h.x-g.x)*(m.y-g.y)-(h.y-g.y)*(m.x-g.x),S=(d.x-m.x)*(m.y-g.y)-(d.y-m.y)*(m.x-g.x),k=(h.y-g.y)*(d.x-m.x)-(h.x-g.x)*(d.y-m.y);if(k!==0){var L=D/k,B=S/k;0<=L&&L<=1&&0<=B&&B<=1?(C=new v("Intersection"),C.appendPoint(new f.Point(m.x+L*(d.x-m.x),m.y+L*(d.y-m.y)))):C=new v}else D===0||S===0?C=new v("Coincident"):C=new v("Parallel");return C},f.Intersection.intersectLinePolygon=function(m,d,g){var h=new v,C=g.length,D,S,k,L;for(L=0;L<C;L++)D=g[L],S=g[(L+1)%C],k=v.intersectLineLine(m,d,D,S),h.appendPoints(k.points);return h.points.length>0&&(h.status="Intersection"),h},f.Intersection.intersectPolygonPolygon=function(m,d){var g=new v,h=m.length,C;for(C=0;C<h;C++){var D=m[C],S=m[(C+1)%h],k=v.intersectLinePolygon(D,S,d);g.appendPoints(k.points)}return g.points.length>0&&(g.status="Intersection"),g},f.Intersection.intersectPolygonRectangle=function(m,d,g){var h=d.min(g),C=d.max(g),D=new f.Point(C.x,h.y),S=new f.Point(h.x,C.y),k=v.intersectLinePolygon(h,D,m),L=v.intersectLinePolygon(D,C,m),B=v.intersectLinePolygon(C,S,m),z=v.intersectLinePolygon(S,h,m),X=new v;return X.appendPoints(k.points),X.appendPoints(L.points),X.appendPoints(B.points),X.appendPoints(z.points),X.points.length>0&&(X.status="Intersection"),X}}(u),function(b){var f=b.fabric||(b.fabric={});if(f.Color){f.warn("fabric.Color is already defined.");return}function v(d){d?this._tryParsingColor(d):this.setSource([0,0,0,1])}f.Color=v,f.Color.prototype={_tryParsingColor:function(d){var g;d in v.colorNameMap&&(d=v.colorNameMap[d]),d==="transparent"&&(g=[255,255,255,0]),g||(g=v.sourceFromHex(d)),g||(g=v.sourceFromRgb(d)),g||(g=v.sourceFromHsl(d)),g||(g=[0,0,0,1]),g&&this.setSource(g)},_rgbToHsl:function(d,g,h){d/=255,g/=255,h/=255;var C,D,S,k=f.util.array.max([d,g,h]),L=f.util.array.min([d,g,h]);if(S=(k+L)/2,k===L)C=D=0;else{var B=k-L;switch(D=S>.5?B/(2-k-L):B/(k+L),k){case d:C=(g-h)/B+(g<h?6:0);break;case g:C=(h-d)/B+2;break;case h:C=(d-g)/B+4;break}C/=6}return[Math.round(C*360),Math.round(D*100),Math.round(S*100)]},getSource:function(){return this._source},setSource:function(d){this._source=d},toRgb:function(){var d=this.getSource();return"rgb("+d[0]+","+d[1]+","+d[2]+")"},toRgba:function(){var d=this.getSource();return"rgba("+d[0]+","+d[1]+","+d[2]+","+d[3]+")"},toHsl:function(){var d=this.getSource(),g=this._rgbToHsl(d[0],d[1],d[2]);return"hsl("+g[0]+","+g[1]+"%,"+g[2]+"%)"},toHsla:function(){var d=this.getSource(),g=this._rgbToHsl(d[0],d[1],d[2]);return"hsla("+g[0]+","+g[1]+"%,"+g[2]+"%,"+d[3]+")"},toHex:function(){var d=this.getSource(),g,h,C;return g=d[0].toString(16),g=g.length===1?"0"+g:g,h=d[1].toString(16),h=h.length===1?"0"+h:h,C=d[2].toString(16),C=C.length===1?"0"+C:C,g.toUpperCase()+h.toUpperCase()+C.toUpperCase()},toHexa:function(){var d=this.getSource(),g;return g=Math.round(d[3]*255),g=g.toString(16),g=g.length===1?"0"+g:g,this.toHex()+g.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(d){var g=this.getSource();return g[3]=d,this.setSource(g),this},toGrayscale:function(){var d=this.getSource(),g=parseInt((d[0]*.3+d[1]*.59+d[2]*.11).toFixed(0),10),h=d[3];return this.setSource([g,g,g,h]),this},toBlackWhite:function(d){var g=this.getSource(),h=(g[0]*.3+g[1]*.59+g[2]*.11).toFixed(0),C=g[3];return d=d||127,h=Number(h)<Number(d)?0:255,this.setSource([h,h,h,C]),this},overlayWith:function(d){d instanceof v||(d=new v(d));var g=[],h=this.getAlpha(),C=.5,D=this.getSource(),S=d.getSource(),k;for(k=0;k<3;k++)g.push(Math.round(D[k]*(1-C)+S[k]*C));return g[3]=h,this.setSource(g),this}},f.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,f.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,f.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,f.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function m(d,g,h){return h<0&&(h+=1),h>1&&(h-=1),h<.16666666666666666?d+(g-d)*6*h:h<.5?g:h<.6666666666666666?d+(g-d)*(.6666666666666666-h)*6:d}f.Color.fromRgb=function(d){return v.fromSource(v.sourceFromRgb(d))},f.Color.sourceFromRgb=function(d){var g=d.match(v.reRGBa);if(g){var h=parseInt(g[1],10)/(/%$/.test(g[1])?100:1)*(/%$/.test(g[1])?255:1),C=parseInt(g[2],10)/(/%$/.test(g[2])?100:1)*(/%$/.test(g[2])?255:1),D=parseInt(g[3],10)/(/%$/.test(g[3])?100:1)*(/%$/.test(g[3])?255:1);return[parseInt(h,10),parseInt(C,10),parseInt(D,10),g[4]?parseFloat(g[4]):1]}},f.Color.fromRgba=v.fromRgb,f.Color.fromHsl=function(d){return v.fromSource(v.sourceFromHsl(d))},f.Color.sourceFromHsl=function(d){var g=d.match(v.reHSLa);if(!!g){var h=(parseFloat(g[1])%360+360)%360/360,C=parseFloat(g[2])/(/%$/.test(g[2])?100:1),D=parseFloat(g[3])/(/%$/.test(g[3])?100:1),S,k,L;if(C===0)S=k=L=D;else{var B=D<=.5?D*(C+1):D+C-D*C,z=D*2-B;S=m(z,B,h+.3333333333333333),k=m(z,B,h),L=m(z,B,h-.3333333333333333)}return[Math.round(S*255),Math.round(k*255),Math.round(L*255),g[4]?parseFloat(g[4]):1]}},f.Color.fromHsla=v.fromHsl,f.Color.fromHex=function(d){return v.fromSource(v.sourceFromHex(d))},f.Color.sourceFromHex=function(d){if(d.match(v.reHex)){var g=d.slice(d.indexOf("#")+1),h=g.length===3||g.length===4,C=g.length===8||g.length===4,D=h?g.charAt(0)+g.charAt(0):g.substring(0,2),S=h?g.charAt(1)+g.charAt(1):g.substring(2,4),k=h?g.charAt(2)+g.charAt(2):g.substring(4,6),L=C?h?g.charAt(3)+g.charAt(3):g.substring(6,8):"FF";return[parseInt(D,16),parseInt(S,16),parseInt(k,16),parseFloat((parseInt(L,16)/255).toFixed(2))]}},f.Color.fromSource=function(d){var g=new v;return g.setSource(d),g}}(u),function(b){var f=b.fabric||(b.fabric={}),v=["e","se","s","sw","w","nw","n","ne","e"],m=["ns","nesw","ew","nwse"],d={},g="left",h="top",C="right",D="bottom",S="center",k={top:D,bottom:h,left:C,right:g,center:S},L=f.util.radiansToDegrees,B=Math.sign||function(re){return(re>0)-(re<0)||+re};function z(re,H){var q=re.angle+L(Math.atan2(H.y,H.x))+360;return Math.round(q%360/45)}function X(re,H){var q=H.transform.target,ie=q.canvas,ue=f.util.object.clone(H);ue.target=q,ie&&ie.fire("object:"+re,ue),q.fire(re,H)}function ee(re,H){var q=H.canvas,ie=q.uniScaleKey,ue=re[ie];return q.uniformScaling&&!ue||!q.uniformScaling&&ue}function ce(re){return re.originX===S&&re.originY===S}function le(re,H,q){var ie=re.lockScalingX,ue=re.lockScalingY;return!!(ie&&ue||!H&&(ie||ue)&&q||ie&&H==="x"||ue&&H==="y")}function me(re,H,q){var ie="not-allowed",ue=ee(re,q),be="";if(H.x!==0&&H.y===0?be="x":H.x===0&&H.y!==0&&(be="y"),le(q,be,ue))return ie;var ke=z(q,H);return v[ke]+"-resize"}function je(re,H,q){var ie="not-allowed";if(H.x!==0&&q.lockSkewingY||H.y!==0&&q.lockSkewingX)return ie;var ue=z(q,H)%4;return m[ue]+"-resize"}function Pe(re,H,q){return re[q.canvas.altActionKey]?d.skewCursorStyleHandler(re,H,q):d.scaleCursorStyleHandler(re,H,q)}function it(re,H,q){var ie=re[q.canvas.altActionKey];if(H.x===0)return ie?"skewX":"scaleY";if(H.y===0)return ie?"skewY":"scaleX"}function Te(re,H,q){return q.lockRotation?"not-allowed":H.cursorStyle}function lt(re,H,q,ie){return{e:re,transform:H,pointer:{x:q,y:ie}}}function he(re){return function(H,q,ie,ue){var be=q.target,ke=be.getCenterPoint(),Xe=be.translateToOriginPoint(ke,q.originX,q.originY),qe=re(H,q,ie,ue);return be.setPositionByOrigin(Xe,q.originX,q.originY),qe}}function Dt(re,H){return function(q,ie,ue,be){var ke=H(q,ie,ue,be);return ke&&X(re,lt(q,ie,ue,be)),ke}}function Ke(re,H,q,ie,ue){var be=re.target,ke=be.controls[re.corner],Xe=be.canvas.getZoom(),qe=be.padding/Xe,Le=be.toLocalPoint(new f.Point(ie,ue),H,q);return Le.x>=qe&&(Le.x-=qe),Le.x<=-qe&&(Le.x+=qe),Le.y>=qe&&(Le.y-=qe),Le.y<=qe&&(Le.y+=qe),Le.x-=ke.offsetX,Le.y-=ke.offsetY,Le}function Mt(re){return re.flipX!==re.flipY}function Me(re,H,q,ie,ue){if(re[H]!==0){var be=re._getTransformedDimensions()[ie],ke=ue/be*re[q];re.set(q,ke)}}function Be(re,H,q,ie){var ue=H.target,be=ue._getTransformedDimensions(0,ue.skewY),ke=Ke(H,H.originX,H.originY,q,ie),Xe=Math.abs(ke.x*2)-be.x,qe=ue.skewX,Le;Xe<2?Le=0:(Le=L(Math.atan2(Xe/ue.scaleX,be.y/ue.scaleY)),H.originX===g&&H.originY===D&&(Le=-Le),H.originX===C&&H.originY===h&&(Le=-Le),Mt(ue)&&(Le=-Le));var ut=qe!==Le;if(ut){var bt=ue._getTransformedDimensions().y;ue.set("skewX",Le),Me(ue,"skewY","scaleY","y",bt)}return ut}function Oe(re,H,q,ie){var ue=H.target,be=ue._getTransformedDimensions(ue.skewX,0),ke=Ke(H,H.originX,H.originY,q,ie),Xe=Math.abs(ke.y*2)-be.y,qe=ue.skewY,Le;Xe<2?Le=0:(Le=L(Math.atan2(Xe/ue.scaleY,be.x/ue.scaleX)),H.originX===g&&H.originY===D&&(Le=-Le),H.originX===C&&H.originY===h&&(Le=-Le),Mt(ue)&&(Le=-Le));var ut=qe!==Le;if(ut){var bt=ue._getTransformedDimensions().x;ue.set("skewY",Le),Me(ue,"skewX","scaleX","x",bt)}return ut}function Se(re,H,q,ie){var ue=H.target,be=ue.skewX,ke,Xe=H.originY;if(ue.lockSkewingX)return!1;if(be===0){var qe=Ke(H,S,S,q,ie);qe.x>0?ke=g:ke=C}else be>0&&(ke=Xe===h?g:C),be<0&&(ke=Xe===h?C:g),Mt(ue)&&(ke=ke===g?C:g);H.originX=ke;var Le=Dt("skewing",he(Be));return Le(re,H,q,ie)}function Ye(re,H,q,ie){var ue=H.target,be=ue.skewY,ke,Xe=H.originX;if(ue.lockSkewingY)return!1;if(be===0){var qe=Ke(H,S,S,q,ie);qe.y>0?ke=h:ke=D}else be>0&&(ke=Xe===g?h:D),be<0&&(ke=Xe===g?D:h),Mt(ue)&&(ke=ke===h?D:h);H.originY=ke;var Le=Dt("skewing",he(Oe));return Le(re,H,q,ie)}function ve(re,H,q,ie){var ue=H,be=ue.target,ke=be.translateToOriginPoint(be.getCenterPoint(),ue.originX,ue.originY);if(be.lockRotation)return!1;var Xe=Math.atan2(ue.ey-ke.y,ue.ex-ke.x),qe=Math.atan2(ie-ke.y,q-ke.x),Le=L(qe-Xe+ue.theta),ut=!0;if(be.snapAngle>0){var bt=be.snapAngle,zt=be.snapThreshold||bt,qt=Math.ceil(Le/bt)*bt,Zt=Math.floor(Le/bt)*bt;Math.abs(Le-Zt)<zt?Le=Zt:Math.abs(Le-qt)<zt&&(Le=qt)}return Le<0&&(Le=360+Le),Le%=360,ut=be.angle!==Le,be.angle=Le,ut}function Ce(re,H,q,ie,ue){ue=ue||{};var be=H.target,ke=be.lockScalingX,Xe=be.lockScalingY,qe=ue.by,Le,ut,bt,zt,qt=ee(re,be),Zt=le(be,qe,qt),Xt,Jt,Mn=H.gestureScale;if(Zt)return!1;if(Mn)ut=H.scaleX*Mn,bt=H.scaleY*Mn;else{if(Le=Ke(H,H.originX,H.originY,q,ie),Xt=qe!=="y"?B(Le.x):1,Jt=qe!=="x"?B(Le.y):1,H.signX||(H.signX=Xt),H.signY||(H.signY=Jt),be.lockScalingFlip&&(H.signX!==Xt||H.signY!==Jt))return!1;if(zt=be._getTransformedDimensions(),qt&&!qe){var kn=Math.abs(Le.x)+Math.abs(Le.y),qn=H.original,wt=Math.abs(zt.x*qn.scaleX/be.scaleX)+Math.abs(zt.y*qn.scaleY/be.scaleY),St=kn/wt;ut=qn.scaleX*St,bt=qn.scaleY*St}else ut=Math.abs(Le.x*be.scaleX/zt.x),bt=Math.abs(Le.y*be.scaleY/zt.y);ce(H)&&(ut*=2,bt*=2),H.signX!==Xt&&qe!=="y"&&(H.originX=k[H.originX],ut*=-1,H.signX=Xt),H.signY!==Jt&&qe!=="x"&&(H.originY=k[H.originY],bt*=-1,H.signY=Jt)}var Lt=be.scaleX,Wt=be.scaleY;return qe?(qe==="x"&&be.set("scaleX",ut),qe==="y"&&be.set("scaleY",bt)):(!ke&&be.set("scaleX",ut),!Xe&&be.set("scaleY",bt)),Lt!==be.scaleX||Wt!==be.scaleY}function _e(re,H,q,ie){return Ce(re,H,q,ie)}function pe(re,H,q,ie){return Ce(re,H,q,ie,{by:"x"})}function Ve(re,H,q,ie){return Ce(re,H,q,ie,{by:"y"})}function Ze(re,H,q,ie){return re[H.target.canvas.altActionKey]?d.skewHandlerX(re,H,q,ie):d.scalingY(re,H,q,ie)}function ht(re,H,q,ie){return re[H.target.canvas.altActionKey]?d.skewHandlerY(re,H,q,ie):d.scalingX(re,H,q,ie)}function ot(re,H,q,ie){var ue=H.target,be=Ke(H,H.originX,H.originY,q,ie),ke=ue.strokeWidth/(ue.strokeUniform?ue.scaleX:1),Xe=ce(H)?2:1,qe=ue.width,Le=Math.abs(be.x*Xe/ue.scaleX)-ke;return ue.set("width",Math.max(Le,0)),qe!==Le}function st(re,H,q,ie){var ue=H.target,be=q-H.offsetX,ke=ie-H.offsetY,Xe=!ue.get("lockMovementX")&&ue.left!==be,qe=!ue.get("lockMovementY")&&ue.top!==ke;return Xe&&ue.set("left",be),qe&&ue.set("top",ke),(Xe||qe)&&X("moving",lt(re,H,q,ie)),Xe||qe}d.scaleCursorStyleHandler=me,d.skewCursorStyleHandler=je,d.scaleSkewCursorStyleHandler=Pe,d.rotationWithSnapping=Dt("rotating",he(ve)),d.scalingEqually=Dt("scaling",he(_e)),d.scalingX=Dt("scaling",he(pe)),d.scalingY=Dt("scaling",he(Ve)),d.scalingYOrSkewingX=Ze,d.scalingXOrSkewingY=ht,d.changeWidth=Dt("resizing",he(ot)),d.skewHandlerX=Se,d.skewHandlerY=Ye,d.dragHandler=st,d.scaleOrSkewActionName=it,d.rotationStyleHandler=Te,d.fireEvent=X,d.wrapWithFixedAnchor=he,d.wrapWithFireEvent=Dt,d.getLocalPoint=Ke,f.controlsUtils=d}(u),function(b){var f=b.fabric||(b.fabric={}),v=f.util.degreesToRadians,m=f.controlsUtils;function d(h,C,D,S,k){S=S||{};var L=this.sizeX||S.cornerSize||k.cornerSize,B=this.sizeY||S.cornerSize||k.cornerSize,z=typeof S.transparentCorners<"u"?S.transparentCorners:k.transparentCorners,X=z?"stroke":"fill",ee=!z&&(S.cornerStrokeColor||k.cornerStrokeColor),ce=C,le=D,me;h.save(),h.fillStyle=S.cornerColor||k.cornerColor,h.strokeStyle=S.cornerStrokeColor||k.cornerStrokeColor,L>B?(me=L,h.scale(1,B/L),le=D*L/B):B>L?(me=B,h.scale(L/B,1),ce=C*B/L):me=L,h.lineWidth=1,h.beginPath(),h.arc(ce,le,me/2,0,2*Math.PI,!1),h[X](),ee&&h.stroke(),h.restore()}function g(h,C,D,S,k){S=S||{};var L=this.sizeX||S.cornerSize||k.cornerSize,B=this.sizeY||S.cornerSize||k.cornerSize,z=typeof S.transparentCorners<"u"?S.transparentCorners:k.transparentCorners,X=z?"stroke":"fill",ee=!z&&(S.cornerStrokeColor||k.cornerStrokeColor),ce=L/2,le=B/2;h.save(),h.fillStyle=S.cornerColor||k.cornerColor,h.strokeStyle=S.cornerStrokeColor||k.cornerStrokeColor,h.lineWidth=1,h.translate(C,D),h.rotate(v(k.angle)),h[X+"Rect"](-ce,-le,L,B),ee&&h.strokeRect(-ce,-le,L,B),h.restore()}m.renderCircleControl=d,m.renderSquareControl=g}(u),function(b){var f=b.fabric||(b.fabric={});function v(m){for(var d in m)this[d]=m[d]}f.Control=v,f.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(m,d){return d.cursorStyle},getActionName:function(m,d){return d.actionName},getVisibility:function(m,d){var g=m._controlsVisibility;return g&&typeof g[d]<"u"?g[d]:this.visible},setVisibility:function(m){this.visible=m},positionHandler:function(m,d){var g=f.util.transformPoint({x:this.x*m.x+this.offsetX,y:this.y*m.y+this.offsetY},d);return g},calcCornerCoords:function(m,d,g,h,C){var D,S,k,L,B=C?this.touchSizeX:this.sizeX,z=C?this.touchSizeY:this.sizeY;if(B&&z&&B!==z){var X=Math.atan2(z,B),ee=Math.sqrt(B*B+z*z)/2,ce=X-f.util.degreesToRadians(m),le=Math.PI/2-X-f.util.degreesToRadians(m);D=ee*f.util.cos(ce),S=ee*f.util.sin(ce),k=ee*f.util.cos(le),L=ee*f.util.sin(le)}else{var me=B&&z?B:d;ee=me*.7071067812;var ce=f.util.degreesToRadians(45-m);D=k=ee*f.util.cos(ce),S=L=ee*f.util.sin(ce)}return{tl:{x:g-L,y:h-k},tr:{x:g+D,y:h-S},bl:{x:g-D,y:h+S},br:{x:g+L,y:h+k}}},render:function(m,d,g,h,C){switch(h=h||{},h.cornerStyle||C.cornerStyle){case"circle":f.controlsUtils.renderCircleControl.call(this,m,d,g,h,C);break;default:f.controlsUtils.renderSquareControl.call(this,m,d,g,h,C)}}}}(u),function(){function b(g,h){var C=g.getAttribute("style"),D=g.getAttribute("offset")||0,S,k,L,B;if(D=parseFloat(D)/(/%$/.test(D)?100:1),D=D<0?0:D>1?1:D,C){var z=C.split(/\s*;\s*/);for(z[z.length-1]===""&&z.pop(),B=z.length;B--;){var X=z[B].split(/\s*:\s*/),ee=X[0].trim(),ce=X[1].trim();ee==="stop-color"?S=ce:ee==="stop-opacity"&&(L=ce)}}return S||(S=g.getAttribute("stop-color")||"rgb(0,0,0)"),L||(L=g.getAttribute("stop-opacity")),S=new l.Color(S),k=S.getAlpha(),L=isNaN(parseFloat(L))?1:parseFloat(L),L*=k*h,{offset:D,color:S.toRgb(),opacity:L}}function f(g){return{x1:g.getAttribute("x1")||0,y1:g.getAttribute("y1")||0,x2:g.getAttribute("x2")||"100%",y2:g.getAttribute("y2")||0}}function v(g){return{x1:g.getAttribute("fx")||g.getAttribute("cx")||"50%",y1:g.getAttribute("fy")||g.getAttribute("cy")||"50%",r1:0,x2:g.getAttribute("cx")||"50%",y2:g.getAttribute("cy")||"50%",r2:g.getAttribute("r")||"50%"}}var m=l.util.object.clone;l.Gradient=l.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(g){g||(g={}),g.coords||(g.coords={});var h,C=this;Object.keys(g).forEach(function(D){C[D]=g[D]}),this.id?this.id+="_"+l.Object.__uid++:this.id=l.Object.__uid++,h={x1:g.coords.x1||0,y1:g.coords.y1||0,x2:g.coords.x2||0,y2:g.coords.y2||0},this.type==="radial"&&(h.r1=g.coords.r1||0,h.r2=g.coords.r2||0),this.coords=h,this.colorStops=g.colorStops.slice()},addColorStop:function(g){for(var h in g){var C=new l.Color(g[h]);this.colorStops.push({offset:parseFloat(h),color:C.toRgb(),opacity:C.getAlpha()})}return this},toObject:function(g){var h={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return l.util.populateWithProperties(this,h,g),h},toSVG:function(g,k){var C=m(this.coords,!0),D,S,k=k||{},L,B,z=m(this.colorStops,!0),X=C.r1>C.r2,ee=this.gradientTransform?this.gradientTransform.concat():l.iMatrix.concat(),ce=-this.offsetX,le=-this.offsetY,me=!!k.additionalTransform,je=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(z.sort(function(he,Dt){return he.offset-Dt.offset}),je==="objectBoundingBox"?(ce/=g.width,le/=g.height):(ce+=g.width/2,le+=g.height/2),g.type==="path"&&this.gradientUnits!=="percentage"&&(ce-=g.pathOffset.x,le-=g.pathOffset.y),ee[4]-=ce,ee[5]-=le,B='id="SVGID_'+this.id+'" gradientUnits="'+je+'"',B+=' gradientTransform="'+(me?k.additionalTransform+" ":"")+l.util.matrixToSVG(ee)+'" ',this.type==="linear"?L=["<linearGradient ",B,' x1="',C.x1,'" y1="',C.y1,'" x2="',C.x2,'" y2="',C.y2,`">
`]:this.type==="radial"&&(L=["<radialGradient ",B,' cx="',X?C.x1:C.x2,'" cy="',X?C.y1:C.y2,'" r="',X?C.r1:C.r2,'" fx="',X?C.x2:C.x1,'" fy="',X?C.y2:C.y1,`">
`]),this.type==="radial"){if(X)for(z=z.concat(),z.reverse(),D=0,S=z.length;D<S;D++)z[D].offset=1-z[D].offset;var Pe=Math.min(C.r1,C.r2);if(Pe>0){var it=Math.max(C.r1,C.r2),Te=Pe/it;for(D=0,S=z.length;D<S;D++)z[D].offset+=Te*(1-z[D].offset)}}for(D=0,S=z.length;D<S;D++){var lt=z[D];L.push("<stop ",'offset="',lt.offset*100+"%",'" style="stop-color:',lt.color,typeof lt.opacity<"u"?";stop-opacity: "+lt.opacity:";",`"/>
`)}return L.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),L.join("")},toLive:function(g){var h,C=l.util.object.clone(this.coords),D,S;if(!!this.type){for(this.type==="linear"?h=g.createLinearGradient(C.x1,C.y1,C.x2,C.y2):this.type==="radial"&&(h=g.createRadialGradient(C.x1,C.y1,C.r1,C.x2,C.y2,C.r2)),D=0,S=this.colorStops.length;D<S;D++){var k=this.colorStops[D].color,L=this.colorStops[D].opacity,B=this.colorStops[D].offset;typeof L<"u"&&(k=new l.Color(k).setAlpha(L).toRgba()),h.addColorStop(B,k)}return h}}}),l.util.object.extend(l.Gradient,{fromElement:function(g,h,C,D){var S=parseFloat(C)/(/%$/.test(C)?100:1);S=S<0?0:S>1?1:S,isNaN(S)&&(S=1);var k=g.getElementsByTagName("stop"),L,B=g.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",z=g.getAttribute("gradientTransform")||"",X=[],ee,ce,le=0,me=0,je;for(g.nodeName==="linearGradient"||g.nodeName==="LINEARGRADIENT"?(L="linear",ee=f(g)):(L="radial",ee=v(g)),ce=k.length;ce--;)X.push(b(k[ce],S));je=l.parseTransformAttribute(z),d(h,ee,D,B),B==="pixels"&&(le=-h.left,me=-h.top);var Pe=new l.Gradient({id:g.getAttribute("id"),type:L,coords:ee,colorStops:X,gradientUnits:B,gradientTransform:je,offsetX:le,offsetY:me});return Pe}});function d(g,h,C,D){var S,k;Object.keys(h).forEach(function(L){S=h[L],S==="Infinity"?k=1:S==="-Infinity"?k=0:(k=parseFloat(h[L],10),typeof S=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(S)&&(k*=.01,D==="pixels"&&((L==="x1"||L==="x2"||L==="r2")&&(k*=C.viewBoxWidth||C.width),(L==="y1"||L==="y2")&&(k*=C.viewBoxHeight||C.height)))),h[L]=k})}}(),function(){var b=l.util.toFixed;l.Pattern=l.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(f,v){if(f||(f={}),this.id=l.Object.__uid++,this.setOptions(f),!f.source||f.source&&typeof f.source!="string"){v&&v(this);return}else{var m=this;this.source=l.util.createImage(),l.util.loadImage(f.source,function(d,g){m.source=d,v&&v(m,g)},null,this.crossOrigin)}},toObject:function(f){var v=l.Object.NUM_FRACTION_DIGITS,m,d;return typeof this.source.src=="string"?m=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(m=this.source.toDataURL()),d={type:"pattern",source:m,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:b(this.offsetX,v),offsetY:b(this.offsetY,v),patternTransform:this.patternTransform?this.patternTransform.concat():null},l.util.populateWithProperties(this,d,f),d},toSVG:function(f){var v=typeof this.source=="function"?this.source():this.source,m=v.width/f.width,d=v.height/f.height,g=this.offsetX/f.width,h=this.offsetY/f.height,C="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(d=1,h&&(d+=Math.abs(h))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(m=1,g&&(m+=Math.abs(g))),v.src?C=v.src:v.toDataURL&&(C=v.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+g+'" y="'+h+'" width="'+m+'" height="'+d+`">
<image x="0" y="0" width="`+v.width+'" height="'+v.height+'" xlink:href="'+C+`"></image>
</pattern>
`},setOptions:function(f){for(var v in f)this[v]=f[v]},toLive:function(f){var v=this.source;return!v||typeof v.src<"u"&&(!v.complete||v.naturalWidth===0||v.naturalHeight===0)?"":f.createPattern(v,this.repeat)}})}(),function(b){var f=b.fabric||(b.fabric={}),v=f.util.toFixed;if(f.Shadow){f.warn("fabric.Shadow is already defined.");return}f.Shadow=f.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(m){typeof m=="string"&&(m=this._parseShadow(m));for(var d in m)this[d]=m[d];this.id=f.Object.__uid++},_parseShadow:function(m){var d=m.trim(),g=f.Shadow.reOffsetsAndBlur.exec(d)||[],h=d.replace(f.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:h.trim(),offsetX:parseFloat(g[1],10)||0,offsetY:parseFloat(g[2],10)||0,blur:parseFloat(g[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(m){var d=40,g=40,h=f.Object.NUM_FRACTION_DIGITS,C=f.util.rotateVector({x:this.offsetX,y:this.offsetY},f.util.degreesToRadians(-m.angle)),D=20,S=new f.Color(this.color);return m.width&&m.height&&(d=v((Math.abs(C.x)+this.blur)/m.width,h)*100+D,g=v((Math.abs(C.y)+this.blur)/m.height,h)*100+D),m.flipX&&(C.x*=-1),m.flipY&&(C.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+g+'%" height="'+(100+2*g)+'%" x="-'+d+'%" width="'+(100+2*d)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+v(this.blur?this.blur/2:0,h)+`"></feGaussianBlur>
	<feOffset dx="`+v(C.x,h)+'" dy="'+v(C.y,h)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+S.toRgb()+'" flood-opacity="'+S.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var m={},d=f.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(g){this[g]!==d[g]&&(m[g]=this[g])},this),m}}),f.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(u),function(){if(l.StaticCanvas){l.warn("fabric.StaticCanvas is already defined.");return}var b=l.util.object.extend,f=l.util.getElementOffset,v=l.util.removeFromArray,m=l.util.toFixed,d=l.util.transformPoint,g=l.util.invertTransform,h=l.util.getNodeCanvas,C=l.util.createCanvasElement,D=new Error("Could not initialize `canvas` element");l.StaticCanvas=l.util.createClass(l.CommonMethods,{initialize:function(S,k){k||(k={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(S,k)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:l.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(S,k){var L=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(S),this._initOptions(k),this.interactive||this._initRetinaScaling(),k.overlayImage&&this.setOverlayImage(k.overlayImage,L),k.backgroundImage&&this.setBackgroundImage(k.backgroundImage,L),k.backgroundColor&&this.setBackgroundColor(k.backgroundColor,L),k.overlayColor&&this.setOverlayColor(k.overlayColor,L),this.calcOffset()},_isRetinaScaling:function(){return l.devicePixelRatio!==1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?l.devicePixelRatio:1},_initRetinaScaling:function(){if(!!this._isRetinaScaling()){var S=l.devicePixelRatio;this.__initRetinaScaling(S,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(S,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(S,k,L){k.setAttribute("width",this.width*S),k.setAttribute("height",this.height*S),L.scale(S,S)},calcOffset:function(){return this._offset=f(this.lowerCanvasEl),this},setOverlayImage:function(S,k,L){return this.__setBgOverlayImage("overlayImage",S,k,L)},setBackgroundImage:function(S,k,L){return this.__setBgOverlayImage("backgroundImage",S,k,L)},setOverlayColor:function(S,k){return this.__setBgOverlayColor("overlayColor",S,k)},setBackgroundColor:function(S,k){return this.__setBgOverlayColor("backgroundColor",S,k)},__setBgOverlayImage:function(S,k,L,B){return typeof k=="string"?l.util.loadImage(k,function(z,X){if(z){var ee=new l.Image(z,B);this[S]=ee,ee.canvas=this}L&&L(z,X)},this,B&&B.crossOrigin):(B&&k.setOptions(B),this[S]=k,k&&(k.canvas=this),L&&L(k,!1)),this},__setBgOverlayColor:function(S,k,L){return this[S]=k,this._initGradient(k,S),this._initPattern(k,S,L),this},_createCanvasElement:function(){var S=C();if(!S||(S.style||(S.style={}),typeof S.getContext>"u"))throw D;return S},_initOptions:function(S){var k=this.lowerCanvasEl;this._setOptions(S),this.width=this.width||parseInt(k.width,10)||0,this.height=this.height||parseInt(k.height,10)||0,this.lowerCanvasEl.style&&(k.width=this.width,k.height=this.height,k.style.width=this.width+"px",k.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(S){S&&S.getContext?this.lowerCanvasEl=S:this.lowerCanvasEl=l.util.getById(S)||this._createCanvasElement(),l.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(S,k){return this.setDimensions({width:S},k)},setHeight:function(S,k){return this.setDimensions({height:S},k)},setDimensions:function(S,k){var L;k=k||{};for(var B in S)L=S[B],k.cssOnly||(this._setBackstoreDimension(B,S[B]),L+="px",this.hasLostContext=!0),k.backstoreOnly||this._setCssDimension(B,L);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),k.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(S,k){return this.lowerCanvasEl[S]=k,this.upperCanvasEl&&(this.upperCanvasEl[S]=k),this.cacheCanvasEl&&(this.cacheCanvasEl[S]=k),this[S]=k,this},_setCssDimension:function(S,k){return this.lowerCanvasEl.style[S]=k,this.upperCanvasEl&&(this.upperCanvasEl.style[S]=k),this.wrapperEl&&(this.wrapperEl.style[S]=k),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(S){var k=this._activeObject,L=this.backgroundImage,B=this.overlayImage,z,X,ee;for(this.viewportTransform=S,X=0,ee=this._objects.length;X<ee;X++)z=this._objects[X],z.group||z.setCoords(!0);return k&&k.setCoords(),L&&L.setCoords(!0),B&&B.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(S,k){var L=S,B=this.viewportTransform.slice(0);S=d(S,g(this.viewportTransform)),B[0]=k,B[3]=k;var z=d(S,B);return B[4]+=L.x-z.x,B[5]+=L.y-z.y,this.setViewportTransform(B)},setZoom:function(S){return this.zoomToPoint(new l.Point(0,0),S),this},absolutePan:function(S){var k=this.viewportTransform.slice(0);return k[4]=-S.x,k[5]=-S.y,this.setViewportTransform(k)},relativePan:function(S){return this.absolutePan(new l.Point(-S.x-this.viewportTransform[4],-S.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(S){this.stateful&&S.setupState(),S._set("canvas",this),S.setCoords(),this.fire("object:added",{target:S}),S.fire("added")},_onObjectRemoved:function(S){this.fire("object:removed",{target:S}),S.fire("removed"),delete S.canvas},clearContext:function(S){return S.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var S=this.contextContainer;return this.renderCanvas(S,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=l.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var S={},k=this.width,L=this.height,B=g(this.viewportTransform);return S.tl=d({x:0,y:0},B),S.br=d({x:k,y:L},B),S.tr=new l.Point(S.br.x,S.tl.y),S.bl=new l.Point(S.tl.x,S.br.y),this.vptCoords=S,S},cancelRequestedRender:function(){this.isRendering&&(l.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(S,k){var L=this.viewportTransform,B=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(S),l.util.setImageSmoothing(S,this.imageSmoothingEnabled),this.fire("before:render",{ctx:S}),this._renderBackground(S),S.save(),S.transform(L[0],L[1],L[2],L[3],L[4],L[5]),this._renderObjects(S,k),S.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(S),B&&(B.canvas=this,B.shouldCache(),B._transformDone=!0,B.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(S)),this._renderOverlay(S),this.controlsAboveOverlay&&this.interactive&&this.drawControls(S),this.fire("after:render",{ctx:S})},drawClipPathOnCanvas:function(S){var k=this.viewportTransform,L=this.clipPath;S.save(),S.transform(k[0],k[1],k[2],k[3],k[4],k[5]),S.globalCompositeOperation="destination-in",L.transform(S),S.scale(1/L.zoomX,1/L.zoomY),S.drawImage(L._cacheCanvas,-L.cacheTranslationX,-L.cacheTranslationY),S.restore()},_renderObjects:function(S,k){var L,B;for(L=0,B=k.length;L<B;++L)k[L]&&k[L].render(S)},_renderBackgroundOrOverlay:function(S,k){var L=this[k+"Color"],B=this[k+"Image"],z=this.viewportTransform,X=this[k+"Vpt"];if(!(!L&&!B)){if(L){S.save(),S.beginPath(),S.moveTo(0,0),S.lineTo(this.width,0),S.lineTo(this.width,this.height),S.lineTo(0,this.height),S.closePath(),S.fillStyle=L.toLive?L.toLive(S,this):L,X&&S.transform(z[0],z[1],z[2],z[3],z[4],z[5]),S.transform(1,0,0,1,L.offsetX||0,L.offsetY||0);var ee=L.gradientTransform||L.patternTransform;ee&&S.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]),S.fill(),S.restore()}B&&(S.save(),X&&S.transform(z[0],z[1],z[2],z[3],z[4],z[5]),B.render(S),S.restore())}},_renderBackground:function(S){this._renderBackgroundOrOverlay(S,"background")},_renderOverlay:function(S){this._renderBackgroundOrOverlay(S,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(S){return this._centerObject(S,new l.Point(this.getCenter().left,S.getCenterPoint().y))},centerObjectV:function(S){return this._centerObject(S,new l.Point(S.getCenterPoint().x,this.getCenter().top))},centerObject:function(S){var k=this.getCenter();return this._centerObject(S,new l.Point(k.left,k.top))},viewportCenterObject:function(S){var k=this.getVpCenter();return this._centerObject(S,k)},viewportCenterObjectH:function(S){var k=this.getVpCenter();return this._centerObject(S,new l.Point(k.x,S.getCenterPoint().y)),this},viewportCenterObjectV:function(S){var k=this.getVpCenter();return this._centerObject(S,new l.Point(S.getCenterPoint().x,k.y))},getVpCenter:function(){var S=this.getCenter(),k=g(this.viewportTransform);return d({x:S.left,y:S.top},k)},_centerObject:function(S,k){return S.setPositionByOrigin(k,"center","center"),S.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(S){return this.toDatalessObject(S)},toObject:function(S){return this._toObjectMethod("toObject",S)},toDatalessObject:function(S){return this._toObjectMethod("toDatalessObject",S)},_toObjectMethod:function(S,k){var L=this.clipPath,B={version:l.version,objects:this._toObjects(S,k)};return L&&!L.excludeFromExport&&(B.clipPath=this._toObject(this.clipPath,S,k)),b(B,this.__serializeBgOverlay(S,k)),l.util.populateWithProperties(this,B,k),B},_toObjects:function(S,k){return this._objects.filter(function(L){return!L.excludeFromExport}).map(function(L){return this._toObject(L,S,k)},this)},_toObject:function(S,k,L){var B;this.includeDefaultValues||(B=S.includeDefaultValues,S.includeDefaultValues=!1);var z=S[k](L);return this.includeDefaultValues||(S.includeDefaultValues=B),z},__serializeBgOverlay:function(S,k){var L={},B=this.backgroundImage,z=this.overlayImage,X=this.backgroundColor,ee=this.overlayColor;return X&&X.toObject?X.excludeFromExport||(L.background=X.toObject(k)):X&&(L.background=X),ee&&ee.toObject?ee.excludeFromExport||(L.overlay=ee.toObject(k)):ee&&(L.overlay=ee),B&&!B.excludeFromExport&&(L.backgroundImage=this._toObject(B,S,k)),z&&!z.excludeFromExport&&(L.overlayImage=this._toObject(z,S,k)),L},svgViewportTransformation:!0,toSVG:function(S,k){S||(S={}),S.reviver=k;var L=[];return this._setSVGPreamble(L,S),this._setSVGHeader(L,S),this.clipPath&&L.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(L,"background"),this._setSVGBgOverlayImage(L,"backgroundImage",k),this._setSVGObjects(L,k),this.clipPath&&L.push(`</g>
`),this._setSVGBgOverlayColor(L,"overlay"),this._setSVGBgOverlayImage(L,"overlayImage",k),L.push("</svg>"),L.join("")},_setSVGPreamble:function(S,k){k.suppressPreamble||S.push('<?xml version="1.0" encoding="',k.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(S,k){var L=k.width||this.width,B=k.height||this.height,z,X='viewBox="0 0 '+this.width+" "+this.height+'" ',ee=l.Object.NUM_FRACTION_DIGITS;k.viewBox?X='viewBox="'+k.viewBox.x+" "+k.viewBox.y+" "+k.viewBox.width+" "+k.viewBox.height+'" ':this.svgViewportTransformation&&(z=this.viewportTransform,X='viewBox="'+m(-z[4]/z[0],ee)+" "+m(-z[5]/z[3],ee)+" "+m(this.width/z[0],ee)+" "+m(this.height/z[3],ee)+'" '),S.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',L,'" ','height="',B,'" ',X,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",l.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(k),`</defs>
`)},createSVGClipPathMarkup:function(S){var k=this.clipPath;return k?(k.clipPathId="CLIPPATH_"+l.Object.__uid++,'<clipPath id="'+k.clipPathId+`" >
`+this.clipPath.toClipPathSVG(S.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var S=this,k=["background","overlay"].map(function(L){var B=S[L+"Color"];if(B&&B.toLive){var z=S[L+"Vpt"],X=S.viewportTransform,ee={width:S.width/(z?X[0]:1),height:S.height/(z?X[3]:1)};return B.toSVG(ee,{additionalTransform:z?l.util.matrixToSVG(X):""})}});return k.join("")},createSVGFontFacesMarkup:function(){var S="",k={},L,B,z,X,ee,ce,le,me,je,Pe=l.fontPaths,it=[];for(this._objects.forEach(function lt(he){it.push(he),he._objects&&he._objects.forEach(lt)}),me=0,je=it.length;me<je;me++)if(L=it[me],B=L.fontFamily,!(L.type.indexOf("text")===-1||k[B]||!Pe[B])&&(k[B]=!0,!!L.styles)){z=L.styles;for(ee in z){X=z[ee];for(le in X)ce=X[le],B=ce.fontFamily,!k[B]&&Pe[B]&&(k[B]=!0)}}for(var Te in k)S+=[`		@font-face {
`,"			font-family: '",Te,`';
`,"			src: url('",Pe[Te],`');
`,`		}
`].join("");return S&&(S=['	<style type="text/css">',`<![CDATA[
`,S,"]]>",`</style>
`].join("")),S},_setSVGObjects:function(S,k){var L,B,z,X=this._objects;for(B=0,z=X.length;B<z;B++)L=X[B],!L.excludeFromExport&&this._setSVGObject(S,L,k)},_setSVGObject:function(S,k,L){S.push(k.toSVG(L))},_setSVGBgOverlayImage:function(S,k,L){this[k]&&!this[k].excludeFromExport&&this[k].toSVG&&S.push(this[k].toSVG(L))},_setSVGBgOverlayColor:function(S,k){var L=this[k+"Color"],B=this.viewportTransform,z=this.width,X=this.height;if(!!L)if(L.toLive){var ee=L.repeat,ce=l.util.invertTransform(B),le=this[k+"Vpt"],me=le?l.util.matrixToSVG(ce):"";S.push('<rect transform="'+me+" translate(",z/2,",",X/2,')"',' x="',L.offsetX-z/2,'" y="',L.offsetY-X/2,'" ','width="',ee==="repeat-y"||ee==="no-repeat"?L.source.width:z,'" height="',ee==="repeat-x"||ee==="no-repeat"?L.source.height:X,'" fill="url(#SVGID_'+L.id+')"',`></rect>
`)}else S.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',L,'"',`></rect>
`)},sendToBack:function(S){if(!S)return this;var k=this._activeObject,L,B,z;if(S===k&&S.type==="activeSelection")for(z=k._objects,L=z.length;L--;)B=z[L],v(this._objects,B),this._objects.unshift(B);else v(this._objects,S),this._objects.unshift(S);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(S){if(!S)return this;var k=this._activeObject,L,B,z;if(S===k&&S.type==="activeSelection")for(z=k._objects,L=0;L<z.length;L++)B=z[L],v(this._objects,B),this._objects.push(B);else v(this._objects,S),this._objects.push(S);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(S,k){if(!S)return this;var L=this._activeObject,B,z,X,ee,ce,le=0;if(S===L&&S.type==="activeSelection")for(ce=L._objects,B=0;B<ce.length;B++)z=ce[B],X=this._objects.indexOf(z),X>0+le&&(ee=X-1,v(this._objects,z),this._objects.splice(ee,0,z)),le++;else X=this._objects.indexOf(S),X!==0&&(ee=this._findNewLowerIndex(S,X,k),v(this._objects,S),this._objects.splice(ee,0,S));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(S,k,L){var B,z;if(L)for(B=k,z=k-1;z>=0;--z){var X=S.intersectsWithObject(this._objects[z])||S.isContainedWithinObject(this._objects[z])||this._objects[z].isContainedWithinObject(S);if(X){B=z;break}}else B=k-1;return B},bringForward:function(S,k){if(!S)return this;var L=this._activeObject,B,z,X,ee,ce,le=0;if(S===L&&S.type==="activeSelection")for(ce=L._objects,B=ce.length;B--;)z=ce[B],X=this._objects.indexOf(z),X<this._objects.length-1-le&&(ee=X+1,v(this._objects,z),this._objects.splice(ee,0,z)),le++;else X=this._objects.indexOf(S),X!==this._objects.length-1&&(ee=this._findNewUpperIndex(S,X,k),v(this._objects,S),this._objects.splice(ee,0,S));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(S,k,L){var B,z,X;if(L)for(B=k,z=k+1,X=this._objects.length;z<X;++z){var ee=S.intersectsWithObject(this._objects[z])||S.isContainedWithinObject(this._objects[z])||this._objects[z].isContainedWithinObject(S);if(ee){B=z;break}}else B=k+1;return B},moveTo:function(S,k){return v(this._objects,S),this._objects.splice(k,0,S),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(l.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(S){S.dispose&&S.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),this.lowerCanvasEl.style=this._originalCanvasStyle,delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),l.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),b(l.StaticCanvas.prototype,l.Observable),b(l.StaticCanvas.prototype,l.Collection),b(l.StaticCanvas.prototype,l.DataURLExporter),b(l.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(S){var k=C();if(!k||!k.getContext)return null;var L=k.getContext("2d");if(!L)return null;switch(S){case"setLineDash":return typeof L.setLineDash<"u";default:return null}}}),l.StaticCanvas.prototype.toJSON=l.StaticCanvas.prototype.toObject,l.isLikelyNode&&(l.StaticCanvas.prototype.createPNGStream=function(){var S=h(this.lowerCanvasEl);return S&&S.createPNGStream()},l.StaticCanvas.prototype.createJPEGStream=function(S){var k=h(this.lowerCanvasEl);return k&&k.createJPEGStream(S)})}(),l.BaseBrush=l.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var b=this.canvas.contextTop;b.strokeStyle=this.color,b.lineWidth=this.width,b.lineCap=this.strokeLineCap,b.miterLimit=this.strokeMiterLimit,b.lineJoin=this.strokeLineJoin,b.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(b){var f=this.canvas.viewportTransform;b.save(),b.transform(f[0],f[1],f[2],f[3],f[4],f[5])},_setShadow:function(){if(!!this.shadow){var b=this.canvas,f=this.shadow,v=b.contextTop,m=b.getZoom();b&&b._isRetinaScaling()&&(m*=l.devicePixelRatio),v.shadowColor=f.color,v.shadowBlur=f.blur*m,v.shadowOffsetX=f.offsetX*m,v.shadowOffsetY=f.offsetY*m}},needsFullRender:function(){var b=new l.Color(this.color);return b.getAlpha()<1||!!this.shadow},_resetShadow:function(){var b=this.canvas.contextTop;b.shadowColor="",b.shadowBlur=b.shadowOffsetX=b.shadowOffsetY=0},_isOutSideCanvas:function(b){return b.x<0||b.x>this.canvas.getWidth()||b.y<0||b.y>this.canvas.getHeight()}}),function(){l.PencilBrush=l.util.createClass(l.BaseBrush,{decimate:.4,initialize:function(b){this.canvas=b,this._points=[]},_drawSegment:function(b,f,v){var m=f.midPointFrom(v);return b.quadraticCurveTo(f.x,f.y,m.x,m.y),m},onMouseDown:function(b,f){!this.canvas._isMainEvent(f.e)||(this._prepareForDrawing(b),this._captureDrawingPath(b),this._render())},onMouseMove:function(b,f){if(!!this.canvas._isMainEvent(f.e)&&!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(b))&&this._captureDrawingPath(b)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var v=this._points,m=v.length,d=this.canvas.contextTop;this._saveAndTransform(d),this.oldEnd&&(d.beginPath(),d.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(d,v[m-2],v[m-1],!0),d.stroke(),d.restore()}},onMouseUp:function(b){return this.canvas._isMainEvent(b.e)?(this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(b){var f=new l.Point(b.x,b.y);this._reset(),this._addPoint(f),this.canvas.contextTop.moveTo(f.x,f.y)},_addPoint:function(b){return this._points.length>1&&b.eq(this._points[this._points.length-1])?!1:(this._points.push(b),!0)},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(b){var f=new l.Point(b.x,b.y);return this._addPoint(f)},_render:function(){var b=this.canvas.contextTop,f,v,m=this._points[0],d=this._points[1];if(this._saveAndTransform(b),b.beginPath(),this._points.length===2&&m.x===d.x&&m.y===d.y){var g=this.width/1e3;m=new l.Point(m.x,m.y),d=new l.Point(d.x,d.y),m.x-=g,d.x+=g}for(b.moveTo(m.x,m.y),f=1,v=this._points.length;f<v;f++)this._drawSegment(b,m,d),m=this._points[f],d=this._points[f+1];b.lineTo(m.x,m.y),b.stroke(),b.restore()},convertPointsToSVGPath:function(b){var f=this.width/1e3;return l.util.getSmoothPathFromPoints(b,f)},_isEmptySVGPath:function(b){var f=l.util.joinPath(b);return f==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(b){var f=new l.Path(b,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,f.shadow=new l.Shadow(this.shadow)),f},decimatePoints:function(b,f){if(b.length<=2)return b;var v=this.canvas.getZoom(),m=Math.pow(f/v,2),d,g=b.length-1,h=b[0],C=[h],D;for(d=1;d<g-1;d++)D=Math.pow(h.x-b[d].x,2)+Math.pow(h.y-b[d].y,2),D>=m&&(h=b[d],C.push(h));return C.push(b[g]),C},_finalizeAndAddPath:function(){var b=this.canvas.contextTop;b.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var f=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(f)){this.canvas.requestRenderAll();return}var v=this.createPath(f);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:v}),this.canvas.add(v),this.canvas.requestRenderAll(),v.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:v})}})}(),l.CircleBrush=l.util.createClass(l.BaseBrush,{width:10,initialize:function(b){this.canvas=b,this.points=[]},drawDot:function(b){var f=this.addPoint(b),v=this.canvas.contextTop;this._saveAndTransform(v),this.dot(v,f),v.restore()},dot:function(b,f){b.fillStyle=f.fill,b.beginPath(),b.arc(f.x,f.y,f.radius,0,Math.PI*2,!1),b.closePath(),b.fill()},onMouseDown:function(b){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(b)},_render:function(){var b=this.canvas.contextTop,f,v,m=this.points;for(this._saveAndTransform(b),f=0,v=m.length;f<v;f++)this.dot(b,m[f]);b.restore()},onMouseMove:function(b){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(b)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(b),this._render()):this.drawDot(b))},onMouseUp:function(){var b=this.canvas.renderOnAddRemove,f,v;this.canvas.renderOnAddRemove=!1;var m=[];for(f=0,v=this.points.length;f<v;f++){var d=this.points[f],g=new l.Circle({radius:d.radius,left:d.x,top:d.y,originX:"center",originY:"center",fill:d.fill});this.shadow&&(g.shadow=new l.Shadow(this.shadow)),m.push(g)}var h=new l.Group(m);h.canvas=this.canvas,this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.fire("path:created",{path:h}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=b,this.canvas.requestRenderAll()},addPoint:function(b){var f=new l.Point(b.x,b.y),v=l.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,m=new l.Color(this.color).setAlpha(l.util.getRandomInt(0,100)/100).toRgba();return f.radius=v,f.fill=m,this.points.push(f),f}}),l.SprayBrush=l.util.createClass(l.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(b){this.canvas=b,this.sprayChunks=[]},onMouseDown:function(b){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(b),this.render(this.sprayChunkPoints)},onMouseMove:function(b){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(b)||(this.addSprayChunk(b),this.render(this.sprayChunkPoints))},onMouseUp:function(){var b=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var f=[],v=0,m=this.sprayChunks.length;v<m;v++)for(var d=this.sprayChunks[v],g=0,h=d.length;g<h;g++){var C=new l.Rect({width:d[g].width,height:d[g].width,left:d[g].x+1,top:d[g].y+1,originX:"center",originY:"center",fill:this.color});f.push(C)}this.optimizeOverlapping&&(f=this._getOptimizedRects(f));var D=new l.Group(f);this.shadow&&D.set("shadow",new l.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:D}),this.canvas.add(D),this.canvas.fire("path:created",{path:D}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=b,this.canvas.requestRenderAll()},_getOptimizedRects:function(b){var f={},v,m,d;for(m=0,d=b.length;m<d;m++)v=b[m].left+""+b[m].top,f[v]||(f[v]=b[m]);var g=[];for(v in f)g.push(f[v]);return g},render:function(b){var f=this.canvas.contextTop,v,m;for(f.fillStyle=this.color,this._saveAndTransform(f),v=0,m=b.length;v<m;v++){var d=b[v];typeof d.opacity<"u"&&(f.globalAlpha=d.opacity),f.fillRect(d.x,d.y,d.width,d.width)}f.restore()},_render:function(){var b=this.canvas.contextTop,f,v;for(b.fillStyle=this.color,this._saveAndTransform(b),f=0,v=this.sprayChunks.length;f<v;f++)this.render(this.sprayChunks[f]);b.restore()},addSprayChunk:function(b){this.sprayChunkPoints=[];var f,v,m,d=this.width/2,g;for(g=0;g<this.density;g++){f=l.util.getRandomInt(b.x-d,b.x+d),v=l.util.getRandomInt(b.y-d,b.y+d),this.dotWidthVariance?m=l.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):m=this.dotWidth;var h=new l.Point(f,v);h.width=m,this.randomOpacity&&(h.opacity=l.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(h)}this.sprayChunks.push(this.sprayChunkPoints)}}),l.PatternBrush=l.util.createClass(l.PencilBrush,{getPatternSrc:function(){var b=20,f=5,v=l.util.createCanvasElement(),m=v.getContext("2d");return v.width=v.height=b+f,m.fillStyle=this.color,m.beginPath(),m.arc(b/2,b/2,b/2,0,Math.PI*2,!1),m.closePath(),m.fill(),v},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(b){var f=this.callSuper("createPath",b),v=f._getLeftTopCoords().scalarAdd(f.strokeWidth/2);return f.stroke=new l.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-v.x,offsetY:-v.y}),f}}),function(){var b=l.util.getPointer,f=l.util.degreesToRadians,v=l.util.isTouchEvent;l.Canvas=l.util.createClass(l.StaticCanvas,{initialize:function(d,g){g||(g={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(d,g),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=l.PencilBrush&&new l.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var d=this.getActiveObjects(),g,h,C;if(d.length>0&&!this.preserveObjectStacking){h=[],C=[];for(var D=0,S=this._objects.length;D<S;D++)g=this._objects[D],d.indexOf(g)===-1?h.push(g):C.push(g);d.length>1&&(this._activeObject._objects=C),h.push.apply(h,C)}else h=this._objects;return h},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var d=this.contextContainer;return this.renderCanvas(d,this._chooseObjectsToRender()),this},renderTopLayer:function(d){d.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(d),this.contextTopDirty=!0),d.restore()},renderTop:function(){var d=this.contextTop;return this.clearContext(d),this.renderTopLayer(d),this.fire("after:render"),this},_normalizePointer:function(d,g){var h=d.calcTransformMatrix(),C=l.util.invertTransform(h),D=this.restorePointerVpt(g);return l.util.transformPoint(D,C)},isTargetTransparent:function(d,g,h){if(d.shouldCache()&&d._cacheCanvas&&d!==this._activeObject){var C=this._normalizePointer(d,{x:g,y:h}),D=Math.max(d.cacheTranslationX+C.x*d.zoomX,0),S=Math.max(d.cacheTranslationY+C.y*d.zoomY,0),z=l.util.isTransparent(d._cacheContext,Math.round(D),Math.round(S),this.targetFindTolerance);return z}var k=this.contextCache,L=d.selectionBackgroundColor,B=this.viewportTransform;d.selectionBackgroundColor="",this.clearContext(k),k.save(),k.transform(B[0],B[1],B[2],B[3],B[4],B[5]),d.render(k),k.restore(),d.selectionBackgroundColor=L;var z=l.util.isTransparent(k,g,h,this.targetFindTolerance);return z},_isSelectionKeyPressed:function(d){var g=!1;return Object.prototype.toString.call(this.selectionKey)==="[object Array]"?g=!!this.selectionKey.find(function(h){return d[h]===!0}):g=d[this.selectionKey],g},_shouldClearSelection:function(d,g){var h=this.getActiveObjects(),C=this._activeObject;return!g||g&&C&&h.length>1&&h.indexOf(g)===-1&&C!==g&&!this._isSelectionKeyPressed(d)||g&&!g.evented||g&&!g.selectable&&C&&C!==g},_shouldCenterTransform:function(d,g,h){if(!!d){var C;return g==="scale"||g==="scaleX"||g==="scaleY"||g==="resizing"?C=this.centeredScaling||d.centeredScaling:g==="rotate"&&(C=this.centeredRotation||d.centeredRotation),C?!h:h}},_getOriginFromCorner:function(d,g){var h={x:d.originX,y:d.originY};return g==="ml"||g==="tl"||g==="bl"?h.x="right":(g==="mr"||g==="tr"||g==="br")&&(h.x="left"),g==="tl"||g==="mt"||g==="tr"?h.y="bottom":(g==="bl"||g==="mb"||g==="br")&&(h.y="top"),h},_getActionFromCorner:function(d,g,h,C){if(!g||!d)return"drag";var D=C.controls[g];return D.getActionName(h,D,C)},_setupCurrentTransform:function(d,g,h){if(!!g){var C=this.getPointer(d),D=g.__corner,S=g.controls[D],k=h&&D?S.getActionHandler(d,g,S):l.controlsUtils.dragHandler,L=this._getActionFromCorner(h,D,d,g),B=this._getOriginFromCorner(g,D),z=d[this.centeredKey],X={target:g,action:L,actionHandler:k,corner:D,scaleX:g.scaleX,scaleY:g.scaleY,skewX:g.skewX,skewY:g.skewY,offsetX:C.x-g.left,offsetY:C.y-g.top,originX:B.x,originY:B.y,ex:C.x,ey:C.y,lastX:C.x,lastY:C.y,theta:f(g.angle),width:g.width*g.scaleX,shiftKey:d.shiftKey,altKey:z,original:l.util.saveObjectTransform(g)};this._shouldCenterTransform(g,L,z)&&(X.originX="center",X.originY="center"),X.original.originX=B.x,X.original.originY=B.y,this._currentTransform=X,this._beforeTransform(d)}},setCursor:function(d){this.upperCanvasEl.style.cursor=d},_drawSelection:function(d){var g=this._groupSelector,h=new l.Point(g.ex,g.ey),C=l.util.transformPoint(h,this.viewportTransform),D=new l.Point(g.ex+g.left,g.ey+g.top),S=l.util.transformPoint(D,this.viewportTransform),k=Math.min(C.x,S.x),L=Math.min(C.y,S.y),B=Math.max(C.x,S.x),z=Math.max(C.y,S.y),X=this.selectionLineWidth/2;this.selectionColor&&(d.fillStyle=this.selectionColor,d.fillRect(k,L,B-k,z-L)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(d.lineWidth=this.selectionLineWidth,d.strokeStyle=this.selectionBorderColor,k+=X,L+=X,B-=X,z-=X,l.Object.prototype._setLineDash.call(this,d,this.selectionDashArray),d.strokeRect(k,L,B-k,z-L))},findTarget:function(d,g){if(!this.skipTargetFind){var h=!0,C=this.getPointer(d,h),D=this._activeObject,S=this.getActiveObjects(),k,L,B=v(d),z=S.length>1&&!g||S.length===1;if(this.targets=[],z&&D._findTargetCorner(C,B)||S.length>1&&!g&&D===this._searchPossibleTargets([D],C))return D;if(S.length===1&&D===this._searchPossibleTargets([D],C))if(this.preserveObjectStacking)k=D,L=this.targets,this.targets=[];else return D;var X=this._searchPossibleTargets(this._objects,C);return d[this.altSelectionKey]&&X&&k&&X!==k&&(X=k,this.targets=L),X}},_checkTarget:function(d,g,h){if(g&&g.visible&&g.evented&&g.containsPoint(d))if((this.perPixelTargetFind||g.perPixelTargetFind)&&!g.isEditing){var C=this.isTargetTransparent(g,h.x,h.y);if(!C)return!0}else return!0},_searchPossibleTargets:function(d,g){for(var h,C=d.length,D;C--;){var S=d[C],k=S.group?this._normalizePointer(S.group,g):g;if(this._checkTarget(k,S,g)){h=d[C],h.subTargetCheck&&h instanceof l.Group&&(D=this._searchPossibleTargets(h._objects,g),D&&this.targets.push(D));break}}return h},restorePointerVpt:function(d){return l.util.transformPoint(d,l.util.invertTransform(this.viewportTransform))},getPointer:function(d,g){if(this._absolutePointer&&!g)return this._absolutePointer;if(this._pointer&&g)return this._pointer;var h=b(d),C=this.upperCanvasEl,D=C.getBoundingClientRect(),S=D.width||0,k=D.height||0,L;(!S||!k)&&("top"in D&&"bottom"in D&&(k=Math.abs(D.top-D.bottom)),"right"in D&&"left"in D&&(S=Math.abs(D.right-D.left))),this.calcOffset(),h.x=h.x-this._offset.left,h.y=h.y-this._offset.top,g||(h=this.restorePointerVpt(h));var B=this.getRetinaScaling();return B!==1&&(h.x/=B,h.y/=B),S===0||k===0?L={width:1,height:1}:L={width:C.width/S,height:C.height/k},{x:h.x*L.width,y:h.y*L.height}},_createUpperCanvas:function(){var d=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),g=this.lowerCanvasEl,h=this.upperCanvasEl;h?h.className="":(h=this._createCanvasElement(),this.upperCanvasEl=h),l.util.addClass(h,"upper-canvas "+d),this.wrapperEl.appendChild(h),this._copyCanvasStyle(g,h),this._applyCanvasStyle(h),this.contextTop=h.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=l.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),l.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),l.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(d){var g=this.width||d.width,h=this.height||d.height;l.util.setStyle(d,{position:"absolute",width:g+"px",height:h+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),d.width=g,d.height=h,l.util.makeElementUnselectable(d)},_copyCanvasStyle:function(d,g){g.style.cssText=d.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var d=this._activeObject;return d?d.type==="activeSelection"&&d._objects?d._objects.slice(0):[d]:[]},_onObjectRemoved:function(d){d===this._activeObject&&(this.fire("before:selection:cleared",{target:d}),this._discardActiveObject(),this.fire("selection:cleared",{target:d}),d.fire("deselected")),d===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",d)},_fireSelectionEvents:function(d,g){var h=!1,C=this.getActiveObjects(),D=[],S=[];d.forEach(function(k){C.indexOf(k)===-1&&(h=!0,k.fire("deselected",{e:g,target:k}),S.push(k))}),C.forEach(function(k){d.indexOf(k)===-1&&(h=!0,k.fire("selected",{e:g,target:k}),D.push(k))}),d.length>0&&C.length>0?h&&this.fire("selection:updated",{e:g,selected:D,deselected:S,updated:D[0]||S[0],target:this._activeObject}):C.length>0?this.fire("selection:created",{e:g,selected:D,target:this._activeObject}):d.length>0&&this.fire("selection:cleared",{e:g,deselected:S})},setActiveObject:function(d,g){var h=this.getActiveObjects();return this._setActiveObject(d,g),this._fireSelectionEvents(h,g),this},_setActiveObject:function(d,g){return this._activeObject===d||!this._discardActiveObject(g,d)||d.onSelect({e:g})?!1:(this._activeObject=d,!0)},_discardActiveObject:function(d,g){var h=this._activeObject;if(h){if(h.onDeselect({e:d,object:g}))return!1;this._activeObject=null}return!0},discardActiveObject:function(d){var g=this.getActiveObjects(),h=this.getActiveObject();return g.length&&this.fire("before:selection:cleared",{target:h,e:d}),this._discardActiveObject(d),this._fireSelectionEvents(g,d),this},dispose:function(){var d=this.wrapperEl;return this.removeListeners(),d.removeChild(this.upperCanvasEl),d.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(g){l.util.cleanUpJsdomNode(this[g]),this[g]=void 0}.bind(this)),d.parentNode&&d.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,l.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(d){var g=this._activeObject;g&&g._renderControls(d)},_toObject:function(d,g,h){var C=this._realizeGroupTransformOnObject(d),D=this.callSuper("_toObject",d,g,h);return this._unwindGroupTransformOnObject(d,C),D},_realizeGroupTransformOnObject:function(d){if(d.group&&d.group.type==="activeSelection"&&this._activeObject===d.group){var g=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],h={};return g.forEach(function(C){h[C]=d[C]}),l.util.addTransformToObject(d,this._activeObject.calcOwnMatrix()),h}else return null},_unwindGroupTransformOnObject:function(d,g){g&&d.set(g)},_setSVGObject:function(d,g,h){var C=this._realizeGroupTransformOnObject(g);this.callSuper("_setSVGObject",d,g,h),this._unwindGroupTransformOnObject(g,C)},setViewportTransform:function(d){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),l.StaticCanvas.prototype.setViewportTransform.call(this,d)}});for(var m in l.StaticCanvas)m!=="prototype"&&(l.Canvas[m]=l.StaticCanvas[m])}(),function(){var b=l.util.addListener,f=l.util.removeListener,v=3,m=2,d=1,g={passive:!1};function h(C,D){return C.button&&C.button===D-1}l.util.object.extend(l.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(b,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(C,D){var S=this.upperCanvasEl,k=this._getEventPrefix();C(l.window,"resize",this._onResize),C(S,k+"down",this._onMouseDown),C(S,k+"move",this._onMouseMove,g),C(S,k+"out",this._onMouseOut),C(S,k+"enter",this._onMouseEnter),C(S,"wheel",this._onMouseWheel),C(S,"contextmenu",this._onContextMenu),C(S,"dblclick",this._onDoubleClick),C(S,"dragover",this._onDragOver),C(S,"dragenter",this._onDragEnter),C(S,"dragleave",this._onDragLeave),C(S,"drop",this._onDrop),this.enablePointerEvents||C(S,"touchstart",this._onTouchStart,g),typeof eventjs<"u"&&D in eventjs&&(eventjs[D](S,"gesture",this._onGesture),eventjs[D](S,"drag",this._onDrag),eventjs[D](S,"orientation",this._onOrientationChange),eventjs[D](S,"shake",this._onShake),eventjs[D](S,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(f,"remove");var C=this._getEventPrefix();f(l.document,C+"up",this._onMouseUp),f(l.document,"touchend",this._onTouchEnd,g),f(l.document,C+"move",this._onMouseMove,g),f(l.document,"touchmove",this._onMouseMove,g)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(C,D){this.__onTransformGesture&&this.__onTransformGesture(C,D)},_onDrag:function(C,D){this.__onDrag&&this.__onDrag(C,D)},_onMouseWheel:function(C){this.__onMouseWheel(C)},_onMouseOut:function(C){var D=this._hoveredTarget;this.fire("mouse:out",{target:D,e:C}),this._hoveredTarget=null,D&&D.fire("mouseout",{e:C});var S=this;this._hoveredTargets.forEach(function(k){S.fire("mouse:out",{target:D,e:C}),k&&D.fire("mouseout",{e:C})}),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach(function(k){k.isEditing&&k.hiddenTextarea.focus()})},_onMouseEnter:function(C){!this._currentTransform&&!this.findTarget(C)&&(this.fire("mouse:over",{target:null,e:C}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(C,D){this.__onOrientationChange&&this.__onOrientationChange(C,D)},_onShake:function(C,D){this.__onShake&&this.__onShake(C,D)},_onLongPress:function(C,D){this.__onLongPress&&this.__onLongPress(C,D)},_onDragOver:function(C){C.preventDefault();var D=this._simpleEventHandler("dragover",C);this._fireEnterLeaveEvents(D,C)},_onContextMenu:function(C){return this.stopContextMenu&&(C.stopPropagation(),C.preventDefault()),!1},_onDoubleClick:function(C){this._cacheTransformEventData(C),this._handleEvent(C,"dblclick"),this._resetTransformEventData(C)},getPointerId:function(C){var D=C.changedTouches;return D?D[0]&&D[0].identifier:this.enablePointerEvents?C.pointerId:-1},_isMainEvent:function(C){return C.isPrimary===!0?!0:C.isPrimary===!1?!1:C.type==="touchend"&&C.touches.length===0?!0:C.changedTouches?C.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(C){C.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(C)),this.__onMouseDown(C),this._resetTransformEventData();var D=this.upperCanvasEl,S=this._getEventPrefix();b(l.document,"touchend",this._onTouchEnd,g),b(l.document,"touchmove",this._onMouseMove,g),f(D,S+"down",this._onMouseDown)},_onMouseDown:function(C){this.__onMouseDown(C),this._resetTransformEventData();var D=this.upperCanvasEl,S=this._getEventPrefix();f(D,S+"move",this._onMouseMove,g),b(l.document,S+"up",this._onMouseUp),b(l.document,S+"move",this._onMouseMove,g)},_onTouchEnd:function(C){if(!(C.touches.length>0)){this.__onMouseUp(C),this._resetTransformEventData(),this.mainTouchId=null;var D=this._getEventPrefix();f(l.document,"touchend",this._onTouchEnd,g),f(l.document,"touchmove",this._onMouseMove,g);var S=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){b(S.upperCanvasEl,D+"down",S._onMouseDown),S._willAddMouseDown=0},400)}},_onMouseUp:function(C){this.__onMouseUp(C),this._resetTransformEventData();var D=this.upperCanvasEl,S=this._getEventPrefix();this._isMainEvent(C)&&(f(l.document,S+"up",this._onMouseUp),f(l.document,S+"move",this._onMouseMove,g),b(D,S+"move",this._onMouseMove,g))},_onMouseMove:function(C){!this.allowTouchScrolling&&C.preventDefault&&C.preventDefault(),this.__onMouseMove(C)},_onResize:function(){this.calcOffset()},_shouldRender:function(C){var D=this._activeObject;return!!D!=!!C||D&&C&&D!==C?!0:(D&&D.isEditing,!1)},__onMouseUp:function(C){var D,S=this._currentTransform,k=this._groupSelector,L=!1,B=!k||k.left===0&&k.top===0;if(this._cacheTransformEventData(C),D=this._target,this._handleEvent(C,"up:before"),h(C,v)){this.fireRightClick&&this._handleEvent(C,"up",v,B);return}if(h(C,m)){this.fireMiddleClick&&this._handleEvent(C,"up",m,B),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(C);return}if(!!this._isMainEvent(C)){if(S&&(this._finalizeCurrentTransform(C),L=S.actionPerformed),!B){var z=D===this._activeObject;this._maybeGroupObjects(C),L||(L=this._shouldRender(D)||!z&&D===this._activeObject)}if(D){if(D.selectable&&D!==this._activeObject&&D.activeOn==="up")this.setActiveObject(D,C),L=!0;else{var X=D._findTargetCorner(this.getPointer(C,!0),l.util.isTouchEvent(C)),ee=D.controls[X],ce=ee&&ee.getMouseUpHandler(C,D,ee);if(ce){var le=this.getPointer(C);ce(C,S,le.x,le.y)}}D.isMoving=!1}this._setCursorFromEvent(C,D),this._handleEvent(C,"up",d,B),this._groupSelector=null,this._currentTransform=null,D&&(D.__corner=0),L?this.requestRenderAll():B||this.renderTop()}},_simpleEventHandler:function(C,D){var S=this.findTarget(D),k=this.targets,L={e:D,target:S,subTargets:k};if(this.fire(C,L),S&&S.fire(C,L),!k)return S;for(var B=0;B<k.length;B++)k[B].fire(C,L);return S},_handleEvent:function(C,D,S,k){var L=this._target,B=this.targets||[],z={e:C,target:L,subTargets:B,button:S||d,isClick:k||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};D==="up"&&(z.currentTarget=this.findTarget(C),z.currentSubTargets=this.targets),this.fire("mouse:"+D,z),L&&L.fire("mouse"+D,z);for(var X=0;X<B.length;X++)B[X].fire("mouse"+D,z)},_finalizeCurrentTransform:function(C){var D=this._currentTransform,S=D.target,k,L={e:C,target:S,transform:D,action:D.action};S._scaling&&(S._scaling=!1),S.setCoords(),(D.actionPerformed||this.stateful&&S.hasStateChanged())&&(D.actionPerformed&&(k=this._addEventOptions(L,D),this._fire(k,L)),this._fire("modified",L))},_addEventOptions:function(C,D){var S,k;switch(D.action){case"scaleX":S="scaled",k="x";break;case"scaleY":S="scaled",k="y";break;case"skewX":S="skewed",k="x";break;case"skewY":S="skewed",k="y";break;case"scale":S="scaled",k="equally";break;case"rotate":S="rotated";break;case"drag":S="moved";break}return C.by=k,S},_onMouseDownInDrawingMode:function(C){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(C).requestRenderAll();var D=this.getPointer(C);this.freeDrawingBrush.onMouseDown(D,{e:C,pointer:D}),this._handleEvent(C,"down")},_onMouseMoveInDrawingMode:function(C){if(this._isCurrentlyDrawing){var D=this.getPointer(C);this.freeDrawingBrush.onMouseMove(D,{e:C,pointer:D})}this.setCursor(this.freeDrawingCursor),this._handleEvent(C,"move")},_onMouseUpInDrawingMode:function(C){var D=this.getPointer(C);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:C,pointer:D}),this._handleEvent(C,"up")},__onMouseDown:function(C){this._cacheTransformEventData(C),this._handleEvent(C,"down:before");var D=this._target;if(h(C,v)){this.fireRightClick&&this._handleEvent(C,"down",v);return}if(h(C,m)){this.fireMiddleClick&&this._handleEvent(C,"down",m);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(C);return}if(!!this._isMainEvent(C)&&!this._currentTransform){var S=this._pointer;this._previousPointer=S;var k=this._shouldRender(D),L=this._shouldGroup(C,D);if(this._shouldClearSelection(C,D)?this.discardActiveObject(C):L&&(this._handleGrouping(C,D),D=this._activeObject),this.selection&&(!D||!D.selectable&&!D.isEditing&&D!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),D){var B=D===this._activeObject;D.selectable&&D.activeOn==="down"&&this.setActiveObject(D,C);var z=D._findTargetCorner(this.getPointer(C,!0),l.util.isTouchEvent(C));if(D.__corner=z,D===this._activeObject&&(z||!L)){this._setupCurrentTransform(C,D,B);var X=D.controls[z],S=this.getPointer(C),ee=X&&X.getMouseDownHandler(C,D,X);ee&&ee(C,this._currentTransform,S.x,S.y)}}this._handleEvent(C,"down"),(k||L)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(C){this._resetTransformEventData(),this._pointer=this.getPointer(C,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(C)||null},_beforeTransform:function(C){var D=this._currentTransform;this.stateful&&D.target.saveState(),this.fire("before:transform",{e:C,transform:D})},__onMouseMove:function(C){this._handleEvent(C,"move:before"),this._cacheTransformEventData(C);var D,S;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(C);return}if(!!this._isMainEvent(C)){var k=this._groupSelector;k?(S=this._absolutePointer,k.left=S.x-k.ex,k.top=S.y-k.ey,this.renderTop()):this._currentTransform?this._transformObject(C):(D=this.findTarget(C)||null,this._setCursorFromEvent(C,D),this._fireOverOutEvents(D,C)),this._handleEvent(C,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(C,D){var S=this._hoveredTarget,k=this._hoveredTargets,L=this.targets,B=Math.max(k.length,L.length);this.fireSyntheticInOutEvents(C,D,{oldTarget:S,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var z=0;z<B;z++)this.fireSyntheticInOutEvents(L[z],D,{oldTarget:k[z],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=C,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(C,D){var S=this._draggedoverTarget,k=this._hoveredTargets,L=this.targets,B=Math.max(k.length,L.length);this.fireSyntheticInOutEvents(C,D,{oldTarget:S,evtOut:"dragleave",evtIn:"dragenter"});for(var z=0;z<B;z++)this.fireSyntheticInOutEvents(L[z],D,{oldTarget:k[z],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=C},fireSyntheticInOutEvents:function(C,D,S){var k,L,B=S.oldTarget,z,X,ee=B!==C,ce=S.canvasEvtIn,le=S.canvasEvtOut;ee&&(k={e:D,target:C,previousTarget:B},L={e:D,target:B,nextTarget:C}),X=C&&ee,z=B&&ee,z&&(le&&this.fire(le,L),B.fire(S.evtOut,L)),X&&(ce&&this.fire(ce,k),C.fire(S.evtIn,k))},__onMouseWheel:function(C){this._cacheTransformEventData(C),this._handleEvent(C,"wheel"),this._resetTransformEventData()},_transformObject:function(C){var D=this.getPointer(C),S=this._currentTransform;S.reset=!1,S.shiftKey=C.shiftKey,S.altKey=C[this.centeredKey],this._performTransformAction(C,S,D),S.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(C,D,S){var k=S.x,L=S.y,B=D.action,z=!1,X=D.actionHandler;X&&(z=X(C,D,k,L)),B==="drag"&&z&&(D.target.isMoving=!0,this.setCursor(D.target.moveCursor||this.moveCursor)),D.actionPerformed=D.actionPerformed||z},_fire:l.controlsUtils.fireEvent,_setCursorFromEvent:function(C,D){if(!D)return this.setCursor(this.defaultCursor),!1;var S=D.hoverCursor||this.hoverCursor,k=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,L=(!k||!k.contains(D))&&D._findTargetCorner(this.getPointer(C,!0));L?this.setCursor(this.getCornerCursor(L,D,C)):(D.subTargetCheck&&this.targets.concat().reverse().map(function(B){S=B.hoverCursor||S}),this.setCursor(S))},getCornerCursor:function(C,D,S){var k=D.controls[C];return k.cursorStyleHandler(S,k,D)}})}(),function(){var b=Math.min,f=Math.max;l.util.object.extend(l.Canvas.prototype,{_shouldGroup:function(v,m){var d=this._activeObject;return d&&this._isSelectionKeyPressed(v)&&m&&m.selectable&&this.selection&&(d!==m||d.type==="activeSelection")&&!m.onSelect({e:v})},_handleGrouping:function(v,m){var d=this._activeObject;d.__corner||m===d&&(m=this.findTarget(v,!0),!m||!m.selectable)||(d&&d.type==="activeSelection"?this._updateActiveSelection(m,v):this._createActiveSelection(m,v))},_updateActiveSelection:function(v,m){var d=this._activeObject,g=d._objects.slice(0);d.contains(v)?(d.removeWithUpdate(v),this._hoveredTarget=v,this._hoveredTargets=this.targets.concat(),d.size()===1&&this._setActiveObject(d.item(0),m)):(d.addWithUpdate(v),this._hoveredTarget=d,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(g,m)},_createActiveSelection:function(v,m){var d=this.getActiveObjects(),g=this._createGroup(v);this._hoveredTarget=g,this._setActiveObject(g,m),this._fireSelectionEvents(d,m)},_createGroup:function(v){var m=this._objects,d=m.indexOf(this._activeObject)<m.indexOf(v),g=d?[this._activeObject,v]:[v,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new l.ActiveSelection(g,{canvas:this})},_groupSelectedObjects:function(v){var m=this._collectObjects(v),d;m.length===1?this.setActiveObject(m[0],v):m.length>1&&(d=new l.ActiveSelection(m.reverse(),{canvas:this}),this.setActiveObject(d,v))},_collectObjects:function(v){for(var m=[],d,g=this._groupSelector.ex,h=this._groupSelector.ey,C=g+this._groupSelector.left,D=h+this._groupSelector.top,S=new l.Point(b(g,C),b(h,D)),k=new l.Point(f(g,C),f(h,D)),L=!this.selectionFullyContained,B=g===C&&h===D,z=this._objects.length;z--&&(d=this._objects[z],!(!(!d||!d.selectable||!d.visible)&&(L&&d.intersectsWithRect(S,k,!0)||d.isContainedWithinRect(S,k,!0)||L&&d.containsPoint(S,null,!0)||L&&d.containsPoint(k,null,!0))&&(m.push(d),B))););return m.length>1&&(m=m.filter(function(X){return!X.onSelect({e:v})})),m},_maybeGroupObjects:function(v){this.selection&&this._groupSelector&&this._groupSelectedObjects(v),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){l.util.object.extend(l.StaticCanvas.prototype,{toDataURL:function(b){b||(b={});var f=b.format||"png",v=b.quality||1,m=(b.multiplier||1)*(b.enableRetinaScaling?this.getRetinaScaling():1),d=this.toCanvasElement(m,b);return l.util.toDataURL(d,f,v)},toCanvasElement:function(b,f){b=b||1,f=f||{};var v=(f.width||this.width)*b,m=(f.height||this.height)*b,d=this.getZoom(),g=this.width,h=this.height,C=d*b,D=this.viewportTransform,S=(D[4]-(f.left||0))*b,k=(D[5]-(f.top||0))*b,L=this.interactive,B=[C,0,0,C,S,k],z=this.enableRetinaScaling,X=l.util.createCanvasElement(),ee=this.contextTop;return X.width=v,X.height=m,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=B,this.width=v,this.height=m,this.calcViewportBoundaries(),this.renderCanvas(X.getContext("2d"),this._objects),this.viewportTransform=D,this.width=g,this.height=h,this.calcViewportBoundaries(),this.interactive=L,this.enableRetinaScaling=z,this.contextTop=ee,X}})}(),l.util.object.extend(l.StaticCanvas.prototype,{loadFromJSON:function(b,f,v){if(!!b){var m=typeof b=="string"?JSON.parse(b):l.util.object.clone(b),d=this,g=m.clipPath,h=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete m.clipPath,this._enlivenObjects(m.objects,function(C){d.clear(),d._setBgOverlay(m,function(){g?d._enlivenObjects([g],function(D){d.clipPath=D[0],d.__setupCanvas.call(d,m,C,h,f)}):d.__setupCanvas.call(d,m,C,h,f)})},v),this}},__setupCanvas:function(b,f,v,m){var d=this;f.forEach(function(g,h){d.insertAt(g,h)}),this.renderOnAddRemove=v,delete b.objects,delete b.backgroundImage,delete b.overlayImage,delete b.background,delete b.overlay,this._setOptions(b),this.renderAll(),m&&m()},_setBgOverlay:function(b,f){var v={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!b.backgroundImage&&!b.overlayImage&&!b.background&&!b.overlay){f&&f();return}var m=function(){v.backgroundImage&&v.overlayImage&&v.backgroundColor&&v.overlayColor&&f&&f()};this.__setBgOverlay("backgroundImage",b.backgroundImage,v,m),this.__setBgOverlay("overlayImage",b.overlayImage,v,m),this.__setBgOverlay("backgroundColor",b.background,v,m),this.__setBgOverlay("overlayColor",b.overlay,v,m)},__setBgOverlay:function(b,f,v,m){var d=this;if(!f){v[b]=!0,m&&m();return}b==="backgroundImage"||b==="overlayImage"?l.util.enlivenObjects([f],function(g){d[b]=g[0],v[b]=!0,m&&m()}):this["set"+l.util.string.capitalize(b,!0)](f,function(){v[b]=!0,m&&m()})},_enlivenObjects:function(b,f,v){if(!b||b.length===0){f&&f([]);return}l.util.enlivenObjects(b,function(m){f&&f(m)},null,v)},_toDataURL:function(b,f){this.clone(function(v){f(v.toDataURL(b))})},_toDataURLWithMultiplier:function(b,f,v){this.clone(function(m){v(m.toDataURLWithMultiplier(b,f))})},clone:function(b,f){var v=JSON.stringify(this.toJSON(f));this.cloneWithoutData(function(m){m.loadFromJSON(v,function(){b&&b(m)})})},cloneWithoutData:function(b){var f=l.util.createCanvasElement();f.width=this.width,f.height=this.height;var v=new l.Canvas(f);this.backgroundImage?(v.setBackgroundImage(this.backgroundImage.src,function(){v.renderAll(),b&&b(v)}),v.backgroundImageOpacity=this.backgroundImageOpacity,v.backgroundImageStretch=this.backgroundImageStretch):b&&b(v)}}),function(b){var f=b.fabric||(b.fabric={}),v=f.util.object.extend,m=f.util.object.clone,d=f.util.toFixed,g=f.util.string.capitalize,h=f.util.degreesToRadians,C=!f.isLikelyNode,D=2;f.Object||(f.Object=f.util.createClass(f.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:C,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(S){S&&this.setOptions(S)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=f.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(S){var k=f.perfLimitSizeTotal,L=S.width,B=S.height,z=f.maxCacheSideLimit,X=f.minCacheSideLimit;if(L<=z&&B<=z&&L*B<=k)return L<X&&(S.width=X),B<X&&(S.height=X),S;var ee=L/B,ce=f.util.limitDimsByArea(ee,k),le=f.util.capValue,me=le(X,ce.x,z),je=le(X,ce.y,z);return L>me&&(S.zoomX/=L/me,S.width=me,S.capped=!0),B>je&&(S.zoomY/=B/je,S.height=je,S.capped=!0),S},_getCacheCanvasDimensions:function(){var S=this.getTotalObjectScaling(),k=this._getTransformedDimensions(0,0),L=k.x*S.scaleX/this.scaleX,B=k.y*S.scaleY/this.scaleY;return{width:L+D,height:B+D,zoomX:S.scaleX,zoomY:S.scaleY,x:L,y:B}},_updateCacheCanvas:function(){var S=this.canvas;if(this.noScaleCache&&S&&S._currentTransform){var k=S._currentTransform.target,L=S._currentTransform.action;if(this===k&&L.slice&&L.slice(0,5)==="scale")return!1}var B=this._cacheCanvas,z=this._limitCacheSize(this._getCacheCanvasDimensions()),X=f.minCacheSideLimit,ee=z.width,ce=z.height,le,me,je=z.zoomX,Pe=z.zoomY,it=ee!==this.cacheWidth||ce!==this.cacheHeight,Te=this.zoomX!==je||this.zoomY!==Pe,lt=it||Te,he=0,Dt=0,Ke=!1;if(it){var Mt=this._cacheCanvas.width,Me=this._cacheCanvas.height,Be=ee>Mt||ce>Me,Oe=(ee<Mt*.9||ce<Me*.9)&&Mt>X&&Me>X;Ke=Be||Oe,Be&&!z.capped&&(ee>X||ce>X)&&(he=ee*.1,Dt=ce*.1)}return this instanceof f.Text&&this.path&&(lt=!0,Ke=!0,he+=this.getHeightOfLine(0)*this.zoomX,Dt+=this.getHeightOfLine(0)*this.zoomY),lt?(Ke?(B.width=Math.ceil(ee+he),B.height=Math.ceil(ce+Dt)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,B.width,B.height)),le=z.x/2,me=z.y/2,this.cacheTranslationX=Math.round(B.width/2-le)+le,this.cacheTranslationY=Math.round(B.height/2-me)+me,this.cacheWidth=ee,this.cacheHeight=ce,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(je,Pe),this.zoomX=je,this.zoomY=Pe,!0):!1},setOptions:function(S){this._setOptions(S),this._initGradient(S.fill,"fill"),this._initGradient(S.stroke,"stroke"),this._initPattern(S.fill,"fill"),this._initPattern(S.stroke,"stroke")},transform:function(S){var k=this.group&&!this.group._transformDone||this.group&&this.canvas&&S===this.canvas.contextTop,L=this.calcTransformMatrix(!k);S.transform(L[0],L[1],L[2],L[3],L[4],L[5])},toObject:function(S){var k=f.Object.NUM_FRACTION_DIGITS,L={type:this.type,version:f.version,originX:this.originX,originY:this.originY,left:d(this.left,k),top:d(this.top,k),width:d(this.width,k),height:d(this.height,k),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:d(this.strokeWidth,k),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:d(this.strokeMiterLimit,k),scaleX:d(this.scaleX,k),scaleY:d(this.scaleY,k),angle:d(this.angle,k),flipX:this.flipX,flipY:this.flipY,opacity:d(this.opacity,k),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:d(this.skewX,k),skewY:d(this.skewY,k)};return this.clipPath&&!this.clipPath.excludeFromExport&&(L.clipPath=this.clipPath.toObject(S),L.clipPath.inverted=this.clipPath.inverted,L.clipPath.absolutePositioned=this.clipPath.absolutePositioned),f.util.populateWithProperties(this,L,S),this.includeDefaultValues||(L=this._removeDefaultValues(L)),L},toDatalessObject:function(S){return this.toObject(S)},_removeDefaultValues:function(S){var k=f.util.getKlass(S.type).prototype,L=k.stateProperties;return L.forEach(function(B){if(!(B==="left"||B==="top")){S[B]===k[B]&&delete S[B];var z=Object.prototype.toString.call(S[B])==="[object Array]"&&Object.prototype.toString.call(k[B])==="[object Array]";z&&S[B].length===0&&k[B].length===0&&delete S[B]}}),S},toString:function(){return"#<fabric."+g(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var S=f.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(S.scaleX),scaleY:Math.abs(S.scaleY)}},getTotalObjectScaling:function(){var S=this.getObjectScaling(),k=S.scaleX,L=S.scaleY;if(this.canvas){var B=this.canvas.getZoom(),z=this.canvas.getRetinaScaling();k*=B*z,L*=B*z}return{scaleX:k,scaleY:L}},getObjectOpacity:function(){var S=this.opacity;return this.group&&(S*=this.group.getObjectOpacity()),S},_set:function(S,k){var L=S==="scaleX"||S==="scaleY",B=this[S]!==k,z=!1;return L&&(k=this._constrainScale(k)),S==="scaleX"&&k<0?(this.flipX=!this.flipX,k*=-1):S==="scaleY"&&k<0?(this.flipY=!this.flipY,k*=-1):S==="shadow"&&k&&!(k instanceof f.Shadow)?k=new f.Shadow(k):S==="dirty"&&this.group&&this.group.set("dirty",k),this[S]=k,B&&(z=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(S)>-1?(this.dirty=!0,z&&this.group.set("dirty",!0)):z&&this.stateProperties.indexOf(S)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:f.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(S){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(S.save(),this._setupCompositeOperation(S),this.drawSelectionBackground(S),this.transform(S),this._setOpacity(S),this._setShadow(S,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(S)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(S),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),S.restore())},renderCache:function(S){S=S||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,S.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(S){var k=this.clipPath;if(S.save(),k.inverted?S.globalCompositeOperation="destination-out":S.globalCompositeOperation="destination-in",k.absolutePositioned){var L=f.util.invertTransform(this.calcTransformMatrix());S.transform(L[0],L[1],L[2],L[3],L[4],L[5])}k.transform(S),S.scale(1/k.zoomX,1/k.zoomY),S.drawImage(k._cacheCanvas,-k.cacheTranslationX,-k.cacheTranslationY),S.restore()},drawObject:function(S,k){var L=this.fill,B=this.stroke;k?(this.fill="black",this.stroke="",this._setClippingProperties(S)):this._renderBackground(S),this._render(S),this._drawClipPath(S),this.fill=L,this.stroke=B},_drawClipPath:function(S){var k=this.clipPath;!k||(k.canvas=this.canvas,k.shouldCache(),k._transformDone=!0,k.renderCache({forClipping:!0}),this.drawClipPathOnCache(S))},drawCacheOnCanvas:function(S){S.scale(1/this.zoomX,1/this.zoomY),S.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(S){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!S&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!S){var k=this.cacheWidth/this.zoomX,L=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-k/2,-L/2,k,L)}return!0}return!1},_renderBackground:function(S){if(!!this.backgroundColor){var k=this._getNonTransformedDimensions();S.fillStyle=this.backgroundColor,S.fillRect(-k.x/2,-k.y/2,k.x,k.y),this._removeShadow(S)}},_setOpacity:function(S){this.group&&!this.group._transformDone?S.globalAlpha=this.getObjectOpacity():S.globalAlpha*=this.opacity},_setStrokeStyles:function(S,k){var L=k.stroke;L&&(S.lineWidth=k.strokeWidth,S.lineCap=k.strokeLineCap,S.lineDashOffset=k.strokeDashOffset,S.lineJoin=k.strokeLineJoin,S.miterLimit=k.strokeMiterLimit,L.toLive?L.gradientUnits==="percentage"||L.gradientTransform||L.patternTransform?this._applyPatternForTransformedGradient(S,L):(S.strokeStyle=L.toLive(S,this),this._applyPatternGradientTransform(S,L)):S.strokeStyle=k.stroke)},_setFillStyles:function(S,k){var L=k.fill;L&&(L.toLive?(S.fillStyle=L.toLive(S,this),this._applyPatternGradientTransform(S,k.fill)):S.fillStyle=L)},_setClippingProperties:function(S){S.globalAlpha=1,S.strokeStyle="transparent",S.fillStyle="#000000"},_setLineDash:function(S,k){!k||k.length===0||(1&k.length&&k.push.apply(k,k),S.setLineDash(k))},_renderControls:function(S,k){var L=this.getViewportTransform(),B=this.calcTransformMatrix(),z,X,ee;k=k||{},X=typeof k.hasBorders<"u"?k.hasBorders:this.hasBorders,ee=typeof k.hasControls<"u"?k.hasControls:this.hasControls,B=f.util.multiplyTransformMatrices(L,B),z=f.util.qrDecompose(B),S.save(),S.translate(z.translateX,z.translateY),S.lineWidth=1*this.borderScaleFactor,this.group||(S.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),S.rotate(h(z.angle)),k.forActiveSelection||this.group?X&&this.drawBordersInGroup(S,z,k):X&&this.drawBorders(S,k),ee&&this.drawControls(S,k),S.restore()},_setShadow:function(S){if(!!this.shadow){var k=this.shadow,L=this.canvas,B,z=L&&L.viewportTransform[0]||1,X=L&&L.viewportTransform[3]||1;k.nonScaling?B={scaleX:1,scaleY:1}:B=this.getObjectScaling(),L&&L._isRetinaScaling()&&(z*=f.devicePixelRatio,X*=f.devicePixelRatio),S.shadowColor=k.color,S.shadowBlur=k.blur*f.browserShadowBlurConstant*(z+X)*(B.scaleX+B.scaleY)/4,S.shadowOffsetX=k.offsetX*z*B.scaleX,S.shadowOffsetY=k.offsetY*X*B.scaleY}},_removeShadow:function(S){!this.shadow||(S.shadowColor="",S.shadowBlur=S.shadowOffsetX=S.shadowOffsetY=0)},_applyPatternGradientTransform:function(S,k){if(!k||!k.toLive)return{offsetX:0,offsetY:0};var L=k.gradientTransform||k.patternTransform,B=-this.width/2+k.offsetX||0,z=-this.height/2+k.offsetY||0;return k.gradientUnits==="percentage"?S.transform(this.width,0,0,this.height,B,z):S.transform(1,0,0,1,B,z),L&&S.transform(L[0],L[1],L[2],L[3],L[4],L[5]),{offsetX:B,offsetY:z}},_renderPaintInOrder:function(S){this.paintFirst==="stroke"?(this._renderStroke(S),this._renderFill(S)):(this._renderFill(S),this._renderStroke(S))},_render:function(){},_renderFill:function(S){!this.fill||(S.save(),this._setFillStyles(S,this),this.fillRule==="evenodd"?S.fill("evenodd"):S.fill(),S.restore())},_renderStroke:function(S){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(S),S.save(),this.strokeUniform&&this.group){var k=this.getObjectScaling();S.scale(1/k.scaleX,1/k.scaleY)}else this.strokeUniform&&S.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(S,this.strokeDashArray),this._setStrokeStyles(S,this),S.stroke(),S.restore()}},_applyPatternForTransformedGradient:function(S,k){var L=this._limitCacheSize(this._getCacheCanvasDimensions()),B=f.util.createCanvasElement(),z,X=this.canvas.getRetinaScaling(),ee=L.x/this.scaleX/X,ce=L.y/this.scaleY/X;B.width=ee,B.height=ce,z=B.getContext("2d"),z.beginPath(),z.moveTo(0,0),z.lineTo(ee,0),z.lineTo(ee,ce),z.lineTo(0,ce),z.closePath(),z.translate(ee/2,ce/2),z.scale(L.zoomX/this.scaleX/X,L.zoomY/this.scaleY/X),this._applyPatternGradientTransform(z,k),z.fillStyle=k.toLive(S),z.fill(),S.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),S.scale(X*this.scaleX/L.zoomX,X*this.scaleY/L.zoomY),S.strokeStyle=z.createPattern(B,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var S=f.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",S.scaleX),this.set("scaleY",S.scaleY),this.angle=S.angle,this.skewX=S.skewX,this.skewY=0}},_removeTransformMatrix:function(S){var k=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),k=f.util.transformPoint(k,this.transformMatrix)),this.transformMatrix=null,S&&(this.scaleX*=S.scaleX,this.scaleY*=S.scaleY,this.cropX=S.cropX,this.cropY=S.cropY,k.x+=S.offsetLeft,k.y+=S.offsetTop,this.width=S.width,this.height=S.height),this.setPositionByOrigin(k,"center","center")},clone:function(S,k){var L=this.toObject(k);this.constructor.fromObject?this.constructor.fromObject(L,S):f.Object._fromObject("Object",L,S)},cloneAsImage:function(S,k){var L=this.toCanvasElement(k);return S&&S(new f.Image(L)),this},toCanvasElement:function(S){S||(S={});var k=f.util,L=k.saveObjectTransform(this),B=this.group,z=this.shadow,X=Math.abs,ee=(S.multiplier||1)*(S.enableRetinaScaling?f.devicePixelRatio:1);delete this.group,S.withoutTransform&&k.resetObjectTransform(this),S.withoutShadow&&(this.shadow=null);var ce=f.util.createCanvasElement(),le=this.getBoundingRect(!0,!0),me=this.shadow,je,Pe={x:0,y:0},it,Te,lt;me&&(it=me.blur,me.nonScaling?je={scaleX:1,scaleY:1}:je=this.getObjectScaling(),Pe.x=2*Math.round(X(me.offsetX)+it)*X(je.scaleX),Pe.y=2*Math.round(X(me.offsetY)+it)*X(je.scaleY)),Te=le.width+Pe.x,lt=le.height+Pe.y,ce.width=Math.ceil(Te),ce.height=Math.ceil(lt);var he=new f.StaticCanvas(ce,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});S.format==="jpeg"&&(he.backgroundColor="#fff"),this.setPositionByOrigin(new f.Point(he.width/2,he.height/2),"center","center");var Dt=this.canvas;he.add(this);var Ke=he.toCanvasElement(ee||1,S);return this.shadow=z,this.set("canvas",Dt),B&&(this.group=B),this.set(L).setCoords(),he._objects=[],he.dispose(),he=null,Ke},toDataURL:function(S){return S||(S={}),f.util.toDataURL(this.toCanvasElement(S),S.format||"png",S.quality||1)},isType:function(S){return this.type===S},complexity:function(){return 1},toJSON:function(S){return this.toObject(S)},rotate:function(S){var k=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return k&&this._setOriginToCenter(),this.set("angle",S),k&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(S,k){k=k||this.canvas.getPointer(S);var L=new f.Point(k.x,k.y),B=this._getLeftTopCoords();return this.angle&&(L=f.util.rotatePoint(L,B,h(-this.angle))),{x:L.x-B.x,y:L.y-B.y}},_setupCompositeOperation:function(S){this.globalCompositeOperation&&(S.globalCompositeOperation=this.globalCompositeOperation)}}),f.util.createAccessors&&f.util.createAccessors(f.Object),v(f.Object.prototype,f.Observable),f.Object.NUM_FRACTION_DIGITS=2,f.Object._fromObject=function(S,k,L,B){var z=f[S];k=m(k,!0),f.util.enlivenPatterns([k.fill,k.stroke],function(X){typeof X[0]<"u"&&(k.fill=X[0]),typeof X[1]<"u"&&(k.stroke=X[1]),f.util.enlivenObjects([k.clipPath],function(ee){k.clipPath=ee[0];var ce=B?new z(k[B],k):new z(k);L&&L(ce)})})},f.Object.__uid=0)}(u),function(){var b=l.util.degreesToRadians,f={left:-.5,center:0,right:.5},v={top:-.5,center:0,bottom:.5};l.util.object.extend(l.Object.prototype,{translateToGivenOrigin:function(m,d,g,h,C){var D=m.x,S=m.y,k,L,B;return typeof d=="string"?d=f[d]:d-=.5,typeof h=="string"?h=f[h]:h-=.5,k=h-d,typeof g=="string"?g=v[g]:g-=.5,typeof C=="string"?C=v[C]:C-=.5,L=C-g,(k||L)&&(B=this._getTransformedDimensions(),D=m.x+k*B.x,S=m.y+L*B.y),new l.Point(D,S)},translateToCenterPoint:function(m,d,g){var h=this.translateToGivenOrigin(m,d,g,"center","center");return this.angle?l.util.rotatePoint(h,m,b(this.angle)):h},translateToOriginPoint:function(m,d,g){var h=this.translateToGivenOrigin(m,"center","center",d,g);return this.angle?l.util.rotatePoint(h,m,b(this.angle)):h},getCenterPoint:function(){var m=new l.Point(this.left,this.top);return this.translateToCenterPoint(m,this.originX,this.originY)},getPointByOrigin:function(m,d){var g=this.getCenterPoint();return this.translateToOriginPoint(g,m,d)},toLocalPoint:function(m,d,g){var h=this.getCenterPoint(),C,D;return typeof d<"u"&&typeof g<"u"?C=this.translateToGivenOrigin(h,"center","center",d,g):C=new l.Point(this.left,this.top),D=new l.Point(m.x,m.y),this.angle&&(D=l.util.rotatePoint(D,h,-b(this.angle))),D.subtractEquals(C)},setPositionByOrigin:function(m,d,g){var h=this.translateToCenterPoint(m,d,g),C=this.translateToOriginPoint(h,this.originX,this.originY);this.set("left",C.x),this.set("top",C.y)},adjustPosition:function(m){var d=b(this.angle),g=this.getScaledWidth(),h=l.util.cos(d)*g,C=l.util.sin(d)*g,D,S;typeof this.originX=="string"?D=f[this.originX]:D=this.originX-.5,typeof m=="string"?S=f[m]:S=m-.5,this.left+=h*(S-D),this.top+=C*(S-D),this.setCoords(),this.originX=m},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var m=this.getCenterPoint();this.originX="center",this.originY="center",this.left=m.x,this.top=m.y},_resetOrigin:function(){var m=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=m.x,this.top=m.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function b(g){return[new l.Point(g.tl.x,g.tl.y),new l.Point(g.tr.x,g.tr.y),new l.Point(g.br.x,g.br.y),new l.Point(g.bl.x,g.bl.y)]}var f=l.util,v=f.degreesToRadians,m=f.multiplyTransformMatrices,d=f.transformPoint;f.object.extend(l.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(g,h){return h?g?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),g?this.aCoords:this.lineCoords)},getCoords:function(g,h){return b(this._getCoords(g,h))},intersectsWithRect:function(g,h,C,D){var S=this.getCoords(C,D),k=l.Intersection.intersectPolygonRectangle(S,g,h);return k.status==="Intersection"},intersectsWithObject:function(g,h,C){var D=l.Intersection.intersectPolygonPolygon(this.getCoords(h,C),g.getCoords(h,C));return D.status==="Intersection"||g.isContainedWithinObject(this,h,C)||this.isContainedWithinObject(g,h,C)},isContainedWithinObject:function(g,h,C){for(var D=this.getCoords(h,C),S=h?g.aCoords:g.lineCoords,k=0,L=g._getImageLines(S);k<4;k++)if(!g.containsPoint(D[k],L))return!1;return!0},isContainedWithinRect:function(g,h,C,D){var S=this.getBoundingRect(C,D);return S.left>=g.x&&S.left+S.width<=h.x&&S.top>=g.y&&S.top+S.height<=h.y},containsPoint:function(g,k,C,D){var S=this._getCoords(C,D),k=k||this._getImageLines(S),L=this._findCrossPoints(g,k);return L!==0&&L%2===1},isOnScreen:function(g){if(!this.canvas)return!1;var h=this.canvas.vptCoords.tl,C=this.canvas.vptCoords.br,D=this.getCoords(!0,g);return D.some(function(S){return S.x<=C.x&&S.x>=h.x&&S.y<=C.y&&S.y>=h.y})||this.intersectsWithRect(h,C,!0,g)?!0:this._containsCenterOfCanvas(h,C,g)},_containsCenterOfCanvas:function(g,h,C){var D={x:(g.x+h.x)/2,y:(g.y+h.y)/2};return!!this.containsPoint(D,null,!0,C)},isPartiallyOnScreen:function(g){if(!this.canvas)return!1;var h=this.canvas.vptCoords.tl,C=this.canvas.vptCoords.br;if(this.intersectsWithRect(h,C,!0,g))return!0;var D=this.getCoords(!0,g).every(function(S){return(S.x>=C.x||S.x<=h.x)&&(S.y>=C.y||S.y<=h.y)});return D&&this._containsCenterOfCanvas(h,C,g)},_getImageLines:function(g){var h={topline:{o:g.tl,d:g.tr},rightline:{o:g.tr,d:g.br},bottomline:{o:g.br,d:g.bl},leftline:{o:g.bl,d:g.tl}};return h},_findCrossPoints:function(g,h){var C,D,S,k,L,B=0,z;for(var X in h)if(z=h[X],!(z.o.y<g.y&&z.d.y<g.y)&&!(z.o.y>=g.y&&z.d.y>=g.y)&&(z.o.x===z.d.x&&z.o.x>=g.x?L=z.o.x:(C=0,D=(z.d.y-z.o.y)/(z.d.x-z.o.x),S=g.y-C*g.x,k=z.o.y-D*z.o.x,L=-(S-k)/(C-D)),L>=g.x&&(B+=1),B===2))break;return B},getBoundingRect:function(g,h){var C=this.getCoords(g,h);return f.makeBoundingBoxFromPoints(C)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(g){return Math.abs(g)<this.minScaleLimit?g<0?-this.minScaleLimit:this.minScaleLimit:g===0?1e-4:g},scale:function(g){return this._set("scaleX",g),this._set("scaleY",g),this.setCoords()},scaleToWidth:function(g,h){var C=this.getBoundingRect(h).width/this.getScaledWidth();return this.scale(g/this.width/C)},scaleToHeight:function(g,h){var C=this.getBoundingRect(h).height/this.getScaledHeight();return this.scale(g/this.height/C)},calcCoords:function(g){return g?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var g=this.getViewportTransform(),h=this.padding,C=v(this.angle),D=f.cos(C),S=f.sin(C),k=D*h,L=S*h,B=k+L,z=k-L,X=this.calcACoords(),ee={tl:d(X.tl,g),tr:d(X.tr,g),bl:d(X.bl,g),br:d(X.br,g)};return h&&(ee.tl.x-=z,ee.tl.y-=B,ee.tr.x+=B,ee.tr.y-=z,ee.bl.x-=B,ee.bl.y+=z,ee.br.x+=z,ee.br.y+=B),ee},calcOCoords:function(){var g=this._calcRotateMatrix(),h=this._calcTranslateMatrix(),C=this.getViewportTransform(),D=m(C,h),S=m(D,g),S=m(S,[1/C[0],0,0,1/C[3],0,0]),k=this._calculateCurrentDimensions(),L={};return this.forEachControl(function(B,z,X){L[z]=B.positionHandler(k,S,X)}),L},calcACoords:function(){var g=this._calcRotateMatrix(),h=this._calcTranslateMatrix(),C=m(h,g),D=this._getTransformedDimensions(),S=D.x/2,k=D.y/2;return{tl:d({x:-S,y:-k},C),tr:d({x:S,y:-k},C),bl:d({x:-S,y:k},C),br:d({x:S,y:k},C)}},setCoords:function(g){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),g?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return f.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var g=this.getCenterPoint();return[1,0,0,1,g.x,g.y]},transformMatrixKey:function(g){var h="_",C="";return!g&&this.group&&(C=this.group.transformMatrixKey(g)+h),C+this.top+h+this.left+h+this.scaleX+h+this.scaleY+h+this.skewX+h+this.skewY+h+this.angle+h+this.originX+h+this.originY+h+this.width+h+this.height+h+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(g){var h=this.calcOwnMatrix();if(g||!this.group)return h;var C=this.transformMatrixKey(g),D=this.matrixCache||(this.matrixCache={});return D.key===C?D.value:(this.group&&(h=m(this.group.calcTransformMatrix(!1),h)),D.key=C,D.value=h,h)},calcOwnMatrix:function(){var g=this.transformMatrixKey(!0),h=this.ownMatrixCache||(this.ownMatrixCache={});if(h.key===g)return h.value;var C=this._calcTranslateMatrix(),D={angle:this.angle,translateX:C[4],translateY:C[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return h.key=g,h.value=f.composeMatrix(D),h.value},_calcDimensionsTransformMatrix:function(g,h,C){return f.calcDimensionsMatrix({skewX:g,skewY:h,scaleX:this.scaleX*(C&&this.flipX?-1:1),scaleY:this.scaleY*(C&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var g=this.strokeWidth,h=this.width+g,C=this.height+g;return{x:h,y:C}},_getTransformedDimensions:function(g,h){typeof g>"u"&&(g=this.skewX),typeof h>"u"&&(h=this.skewY);var C,D,S,k=g===0&&h===0;if(this.strokeUniform?(D=this.width,S=this.height):(C=this._getNonTransformedDimensions(),D=C.x,S=C.y),k)return this._finalizeDimensions(D*this.scaleX,S*this.scaleY);var L=f.sizeAfterTransform(D,S,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:g,skewY:h});return this._finalizeDimensions(L.x,L.y)},_finalizeDimensions:function(g,h){return this.strokeUniform?{x:g+this.strokeWidth,y:h+this.strokeWidth}:{x:g,y:h}},_calculateCurrentDimensions:function(){var g=this.getViewportTransform(),h=this._getTransformedDimensions(),C=d(h,g,!0);return C.scalarAdd(2*this.padding)}})}(),l.util.object.extend(l.Object.prototype,{sendToBack:function(){return this.group?l.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?l.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(b){return this.group?l.StaticCanvas.prototype.sendBackwards.call(this.group,this,b):this.canvas&&this.canvas.sendBackwards(this,b),this},bringForward:function(b){return this.group?l.StaticCanvas.prototype.bringForward.call(this.group,this,b):this.canvas&&this.canvas.bringForward(this,b),this},moveTo:function(b){return this.group&&this.group.type!=="activeSelection"?l.StaticCanvas.prototype.moveTo.call(this.group,this,b):this.canvas&&this.canvas.moveTo(this,b),this}}),function(){function b(v,m){if(m){if(m.toLive)return v+": url(#SVGID_"+m.id+"); ";var d=new l.Color(m),g=v+": "+d.toRgb()+"; ",h=d.getAlpha();return h!==1&&(g+=v+"-opacity: "+h.toString()+"; "),g}else return v+": none; "}var f=l.util.toFixed;l.util.object.extend(l.Object.prototype,{getSvgStyles:function(v){var m=this.fillRule?this.fillRule:"nonzero",d=this.strokeWidth?this.strokeWidth:"0",g=this.strokeDashArray?this.strokeDashArray.join(" "):"none",h=this.strokeDashOffset?this.strokeDashOffset:"0",C=this.strokeLineCap?this.strokeLineCap:"butt",D=this.strokeLineJoin?this.strokeLineJoin:"miter",S=this.strokeMiterLimit?this.strokeMiterLimit:"4",k=typeof this.opacity<"u"?this.opacity:"1",L=this.visible?"":" visibility: hidden;",B=v?"":this.getSvgFilter(),z=b("fill",this.fill),X=b("stroke",this.stroke);return[X,"stroke-width: ",d,"; ","stroke-dasharray: ",g,"; ","stroke-linecap: ",C,"; ","stroke-dashoffset: ",h,"; ","stroke-linejoin: ",D,"; ","stroke-miterlimit: ",S,"; ",z,"fill-rule: ",m,"; ","opacity: ",k,";",B,L].join("")},getSvgSpanStyles:function(v,m){var d="; ",h=v.fontFamily?"font-family: "+(v.fontFamily.indexOf("'")===-1&&v.fontFamily.indexOf('"')===-1?"'"+v.fontFamily+"'":v.fontFamily)+d:"",g=v.strokeWidth?"stroke-width: "+v.strokeWidth+d:"",h=h,C=v.fontSize?"font-size: "+v.fontSize+"px"+d:"",D=v.fontStyle?"font-style: "+v.fontStyle+d:"",S=v.fontWeight?"font-weight: "+v.fontWeight+d:"",k=v.fill?b("fill",v.fill):"",L=v.stroke?b("stroke",v.stroke):"",B=this.getSvgTextDecoration(v),z=v.deltaY?"baseline-shift: "+-v.deltaY+"; ":"";return B&&(B="text-decoration: "+B+d),[L,g,h,C,D,S,B,k,z,m?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(v){return["overline","underline","line-through"].filter(function(m){return v[m.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(v,m){var d=v?this.calcTransformMatrix():this.calcOwnMatrix(),g='transform="'+l.util.matrixToSVG(d);return g+(m||"")+'" '},_setSVGBg:function(v){if(this.backgroundColor){var m=l.Object.NUM_FRACTION_DIGITS;v.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',f(-this.width/2,m),'" y="',f(-this.height/2,m),'" width="',f(this.width,m),'" height="',f(this.height,m),`"></rect>
`)}},toSVG:function(v){return this._createBaseSVGMarkup(this._toSVG(v),{reviver:v})},toClipPathSVG:function(v){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(v),{reviver:v})},_createBaseClipPathSVGMarkup:function(v,m){m=m||{};var d=m.reviver,g=m.additionalTransform||"",h=[this.getSvgTransform(!0,g),this.getSvgCommons()].join(""),C=v.indexOf("COMMON_PARTS");return v[C]=h,d?d(v.join("")):v.join("")},_createBaseSVGMarkup:function(v,m){m=m||{};var d=m.noStyle,g=m.reviver,h=d?"":'style="'+this.getSvgStyles()+'" ',C=m.withShadow?'style="'+this.getSvgFilter()+'" ':"",D=this.clipPath,S=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",k=D&&D.absolutePositioned,L=this.stroke,B=this.fill,z=this.shadow,X,ee=[],ce,le=v.indexOf("COMMON_PARTS"),me=m.additionalTransform;return D&&(D.clipPathId="CLIPPATH_"+l.Object.__uid++,ce='<clipPath id="'+D.clipPathId+`" >
`+D.toClipPathSVG(g)+`</clipPath>
`),k&&ee.push("<g ",C,this.getSvgCommons(),` >
`),ee.push("<g ",this.getSvgTransform(!1),k?"":C+this.getSvgCommons(),` >
`),X=[h,S,d?"":this.addPaintOrder()," ",me?'transform="'+me+'" ':""].join(""),v[le]=X,B&&B.toLive&&ee.push(B.toSVG(this)),L&&L.toLive&&ee.push(L.toSVG(this)),z&&ee.push(z.toSVG(this)),D&&ee.push(ce),ee.push(v.join("")),ee.push(`</g>
`),k&&ee.push(`</g>
`),g?g(ee.join("")):ee.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var b=l.util.object.extend,f="stateProperties";function v(d,g,h){var C={},D=!0;h.forEach(function(S){C[S]=d[S]}),b(d[g],C,D)}function m(d,g,h){if(d===g)return!0;if(Array.isArray(d)){if(!Array.isArray(g)||d.length!==g.length)return!1;for(var C=0,D=d.length;C<D;C++)if(!m(d[C],g[C]))return!1;return!0}else if(d&&typeof d=="object"){var S=Object.keys(d),k;if(!g||typeof g!="object"||!h&&S.length!==Object.keys(g).length)return!1;for(var C=0,D=S.length;C<D;C++)if(k=S[C],!(k==="canvas"||k==="group")&&!m(d[k],g[k]))return!1;return!0}}l.util.object.extend(l.Object.prototype,{hasStateChanged:function(d){d=d||f;var g="_"+d;return Object.keys(this[g]).length<this[d].length?!0:!m(this[g],this,!0)},saveState:function(d){var g=d&&d.propertySet||f,h="_"+g;return this[h]?(v(this,h,this[g]),d&&d.stateProperties&&v(this,h,d.stateProperties),this):this.setupState(d)},setupState:function(d){d=d||{};var g=d.propertySet||f;return d.propertySet=g,this["_"+g]={},this.saveState(d),this}})}(),function(){var b=l.util.degreesToRadians;l.util.object.extend(l.Object.prototype,{_findTargetCorner:function(f,v){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var m=f.x,d=f.y,g,h,C=Object.keys(this.oCoords),D=C.length-1,S;for(this.__corner=0;D>=0;D--)if(S=C[D],!!this.isControlVisible(S)&&(h=this._getImageLines(v?this.oCoords[S].touchCorner:this.oCoords[S].corner),g=this._findCrossPoints({x:m,y:d},h),g!==0&&g%2===1))return this.__corner=S,S;return!1},forEachControl:function(f){for(var v in this.controls)f(this.controls[v],v,this)},_setCornerCoords:function(){var f=this.oCoords;for(var v in f){var m=this.controls[v];f[v].corner=m.calcCornerCoords(this.angle,this.cornerSize,f[v].x,f[v].y,!1),f[v].touchCorner=m.calcCornerCoords(this.angle,this.touchCornerSize,f[v].x,f[v].y,!0)}},drawSelectionBackground:function(f){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;f.save();var v=this.getCenterPoint(),m=this._calculateCurrentDimensions(),d=this.canvas.viewportTransform;return f.translate(v.x,v.y),f.scale(1/d[0],1/d[3]),f.rotate(b(this.angle)),f.fillStyle=this.selectionBackgroundColor,f.fillRect(-m.x/2,-m.y/2,m.x,m.y),f.restore(),this},drawBorders:function(f,v){v=v||{};var m=this._calculateCurrentDimensions(),d=this.borderScaleFactor,g=m.x+d,h=m.y+d,C=typeof v.hasControls<"u"?v.hasControls:this.hasControls,D=!1;return f.save(),f.strokeStyle=v.borderColor||this.borderColor,this._setLineDash(f,v.borderDashArray||this.borderDashArray),f.strokeRect(-g/2,-h/2,g,h),C&&(f.beginPath(),this.forEachControl(function(S,k,L){S.withConnection&&S.getVisibility(L,k)&&(D=!0,f.moveTo(S.x*g,S.y*h),f.lineTo(S.x*g+S.offsetX,S.y*h+S.offsetY))}),D&&f.stroke()),f.restore(),this},drawBordersInGroup:function(f,v,m){m=m||{};var d=l.util.sizeAfterTransform(this.width,this.height,v),g=this.strokeWidth,h=this.strokeUniform,C=this.borderScaleFactor,D=d.x+g*(h?this.canvas.getZoom():v.scaleX)+C,S=d.y+g*(h?this.canvas.getZoom():v.scaleY)+C;return f.save(),this._setLineDash(f,m.borderDashArray||this.borderDashArray),f.strokeStyle=m.borderColor||this.borderColor,f.strokeRect(-D/2,-S/2,D,S),f.restore(),this},drawControls:function(f,v){v=v||{},f.save();var m=this.canvas.getRetinaScaling(),d,g;return f.setTransform(m,0,0,m,0,0),f.strokeStyle=f.fillStyle=v.cornerColor||this.cornerColor,this.transparentCorners||(f.strokeStyle=v.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(f,v.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(d=this.group.calcTransformMatrix()),this.forEachControl(function(h,C,D){g=D.oCoords[C],h.getVisibility(D,C)&&(d&&(g=l.util.transformPoint(g,d)),h.render(f,g.x,g.y,v,D))}),f.restore(),this},isControlVisible:function(f){return this.controls[f]&&this.controls[f].getVisibility(this,f)},setControlVisible:function(f,v){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[f]=v,this},setControlsVisibility:function(f){f||(f={});for(var v in f)this.setControlVisible(v,f[v]);return this},onDeselect:function(){},onSelect:function(){}})}(),l.util.object.extend(l.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(b,f){f=f||{};var v=function(){},m=f.onComplete||v,d=f.onChange||v,g=this;return l.util.animate({startValue:b.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(h){b.set("left",h),g.requestRenderAll(),d()},onComplete:function(){b.setCoords(),m()}}),this},fxCenterObjectV:function(b,f){f=f||{};var v=function(){},m=f.onComplete||v,d=f.onChange||v,g=this;return l.util.animate({startValue:b.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(h){b.set("top",h),g.requestRenderAll(),d()},onComplete:function(){b.setCoords(),m()}}),this},fxRemove:function(b,f){f=f||{};var v=function(){},m=f.onComplete||v,d=f.onChange||v,g=this;return l.util.animate({startValue:b.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(h){b.set("opacity",h),g.requestRenderAll(),d()},onComplete:function(){g.remove(b),m()}}),this}}),l.util.object.extend(l.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var b=[],f,v;for(f in arguments[0])b.push(f);for(var m=0,d=b.length;m<d;m++)f=b[m],v=m!==d-1,this._animate(f,arguments[0][f],arguments[1],v)}else this._animate.apply(this,arguments);return this},_animate:function(b,f,v,m){var d=this,g;f=f.toString(),v?v=l.util.object.clone(v):v={},~b.indexOf(".")&&(g=b.split("."));var h=d.colorProperties.indexOf(b)>-1||g&&d.colorProperties.indexOf(g[1])>-1,C=g?this.get(g[0])[g[1]]:this.get(b);"from"in v||(v.from=C),h||(~f.indexOf("=")?f=C+parseFloat(f.replace("=","")):f=parseFloat(f));var D={startValue:v.from,endValue:f,byValue:v.by,easing:v.easing,duration:v.duration,abort:v.abort&&function(S,k,L){return v.abort.call(d,S,k,L)},onChange:function(S,k,L){g?d[g[0]][g[1]]=S:d.set(b,S),!m&&v.onChange&&v.onChange(S,k,L)},onComplete:function(S,k,L){m||(d.setCoords(),v.onComplete&&v.onComplete(S,k,L))}};return h?l.util.animateColor(D.startValue,D.endValue,D.duration,D):l.util.animate(D)}}),function(b){var f=b.fabric||(b.fabric={}),v=f.util.object.extend,m=f.util.object.clone,d={x1:1,x2:1,y1:1,y2:1};if(f.Line){f.warn("fabric.Line is already defined");return}f.Line=f.util.createClass(f.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:f.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(h,C){h||(h=[0,0,0,0]),this.callSuper("initialize",C),this.set("x1",h[0]),this.set("y1",h[1]),this.set("x2",h[2]),this.set("y2",h[3]),this._setWidthHeight(C)},_setWidthHeight:function(h){h||(h={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in h?h.left:this._getLeftToOriginX(),this.top="top"in h?h.top:this._getTopToOriginY()},_set:function(h,C){return this.callSuper("_set",h,C),typeof d[h]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:g({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:g({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(h){h.beginPath();var C=this.calcLinePoints();h.moveTo(C.x1,C.y1),h.lineTo(C.x2,C.y2),h.lineWidth=this.strokeWidth;var D=h.strokeStyle;h.strokeStyle=this.stroke||h.fillStyle,this.stroke&&this._renderStroke(h),h.strokeStyle=D},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(h){return v(this.callSuper("toObject",h),this.calcLinePoints())},_getNonTransformedDimensions:function(){var h=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(h.y-=this.strokeWidth),this.height===0&&(h.x-=this.strokeWidth)),h},calcLinePoints:function(){var h=this.x1<=this.x2?-1:1,C=this.y1<=this.y2?-1:1,D=h*this.width*.5,S=C*this.height*.5,k=h*this.width*-.5,L=C*this.height*-.5;return{x1:D,x2:k,y1:S,y2:L}},_toSVG:function(){var h=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',h.x1,'" y1="',h.y1,'" x2="',h.x2,'" y2="',h.y2,`" />
`]}}),f.Line.ATTRIBUTE_NAMES=f.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),f.Line.fromElement=function(h,C,D){D=D||{};var S=f.parseAttributes(h,f.Line.ATTRIBUTE_NAMES),k=[S.x1||0,S.y1||0,S.x2||0,S.y2||0];C(new f.Line(k,v(S,D)))},f.Line.fromObject=function(h,C){function D(k){delete k.points,C&&C(k)}var S=m(h,!0);S.points=[h.x1,h.y1,h.x2,h.y2],f.Object._fromObject("Line",S,D,"points")};function g(h,C){var D=h.origin,S=h.axis1,k=h.axis2,L=h.dimension,B=C.nearest,z=C.center,X=C.farthest;return function(){switch(this.get(D)){case B:return Math.min(this.get(S),this.get(k));case z:return Math.min(this.get(S),this.get(k))+.5*this.get(L);case X:return Math.max(this.get(S),this.get(k))}}}}(u),function(b){var f=b.fabric||(b.fabric={}),v=Math.PI;if(f.Circle){f.warn("fabric.Circle is already defined.");return}f.Circle=f.util.createClass(f.Object,{type:"circle",radius:0,startAngle:0,endAngle:v*2,cacheProperties:f.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(d,g){return this.callSuper("_set",d,g),d==="radius"&&this.setRadius(g),this},toObject:function(d){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(d))},_toSVG:function(){var d,g=0,h=0,C=(this.endAngle-this.startAngle)%(2*v);if(C===0)d=["<circle ","COMMON_PARTS",'cx="'+g+'" cy="'+h+'" ','r="',this.radius,`" />
`];else{var D=f.util.cos(this.startAngle)*this.radius,S=f.util.sin(this.startAngle)*this.radius,k=f.util.cos(this.endAngle)*this.radius,L=f.util.sin(this.endAngle)*this.radius,B=C>v?"1":"0";d=['<path d="M '+D+" "+S," A "+this.radius+" "+this.radius," 0 ",+B+" 1"," "+k+" "+L,'" ',"COMMON_PARTS",` />
`]}return d},_render:function(d){d.beginPath(),d.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(d)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(d){return this.radius=d,this.set("width",d*2).set("height",d*2)}}),f.Circle.ATTRIBUTE_NAMES=f.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),f.Circle.fromElement=function(d,g){var h=f.parseAttributes(d,f.Circle.ATTRIBUTE_NAMES);if(!m(h))throw new Error("value of `r` attribute is required and can not be negative");h.left=(h.left||0)-h.radius,h.top=(h.top||0)-h.radius,g(new f.Circle(h))};function m(d){return"radius"in d&&d.radius>=0}f.Circle.fromObject=function(d,g){f.Object._fromObject("Circle",d,g)}}(u),function(b){var f=b.fabric||(b.fabric={});if(f.Triangle){f.warn("fabric.Triangle is already defined");return}f.Triangle=f.util.createClass(f.Object,{type:"triangle",width:100,height:100,_render:function(v){var m=this.width/2,d=this.height/2;v.beginPath(),v.moveTo(-m,d),v.lineTo(0,-d),v.lineTo(m,d),v.closePath(),this._renderPaintInOrder(v)},_toSVG:function(){var v=this.width/2,m=this.height/2,d=[-v+" "+m,"0 "+-m,v+" "+m].join(",");return["<polygon ","COMMON_PARTS",'points="',d,'" />']}}),f.Triangle.fromObject=function(v,m){return f.Object._fromObject("Triangle",v,m)}}(u),function(b){var f=b.fabric||(b.fabric={}),v=Math.PI*2;if(f.Ellipse){f.warn("fabric.Ellipse is already defined.");return}f.Ellipse=f.util.createClass(f.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:f.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(m){this.callSuper("initialize",m),this.set("rx",m&&m.rx||0),this.set("ry",m&&m.ry||0)},_set:function(m,d){switch(this.callSuper("_set",m,d),m){case"rx":this.rx=d,this.set("width",d*2);break;case"ry":this.ry=d,this.set("height",d*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(m){return this.callSuper("toObject",["rx","ry"].concat(m))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(m){m.beginPath(),m.save(),m.transform(1,0,0,this.ry/this.rx,0,0),m.arc(0,0,this.rx,0,v,!1),m.restore(),this._renderPaintInOrder(m)}}),f.Ellipse.ATTRIBUTE_NAMES=f.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),f.Ellipse.fromElement=function(m,d){var g=f.parseAttributes(m,f.Ellipse.ATTRIBUTE_NAMES);g.left=(g.left||0)-g.rx,g.top=(g.top||0)-g.ry,d(new f.Ellipse(g))},f.Ellipse.fromObject=function(m,d){f.Object._fromObject("Ellipse",m,d)}}(u),function(b){var f=b.fabric||(b.fabric={}),v=f.util.object.extend;if(f.Rect){f.warn("fabric.Rect is already defined");return}f.Rect=f.util.createClass(f.Object,{stateProperties:f.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:f.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(m){this.callSuper("initialize",m),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(m){var d=this.rx?Math.min(this.rx,this.width/2):0,g=this.ry?Math.min(this.ry,this.height/2):0,h=this.width,C=this.height,D=-this.width/2,S=-this.height/2,k=d!==0||g!==0,L=1-.5522847498;m.beginPath(),m.moveTo(D+d,S),m.lineTo(D+h-d,S),k&&m.bezierCurveTo(D+h-L*d,S,D+h,S+L*g,D+h,S+g),m.lineTo(D+h,S+C-g),k&&m.bezierCurveTo(D+h,S+C-L*g,D+h-L*d,S+C,D+h-d,S+C),m.lineTo(D+d,S+C),k&&m.bezierCurveTo(D+L*d,S+C,D,S+C-L*g,D,S+C-g),m.lineTo(D,S+g),k&&m.bezierCurveTo(D,S+L*g,D+L*d,S,D+d,S),m.closePath(),this._renderPaintInOrder(m)},toObject:function(m){return this.callSuper("toObject",["rx","ry"].concat(m))},_toSVG:function(){var m=-this.width/2,d=-this.height/2;return["<rect ","COMMON_PARTS",'x="',m,'" y="',d,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),f.Rect.ATTRIBUTE_NAMES=f.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),f.Rect.fromElement=function(m,d,g){if(!m)return d(null);g=g||{};var h=f.parseAttributes(m,f.Rect.ATTRIBUTE_NAMES);h.left=h.left||0,h.top=h.top||0,h.height=h.height||0,h.width=h.width||0;var C=new f.Rect(v(g?f.util.object.clone(g):{},h));C.visible=C.visible&&C.width>0&&C.height>0,d(C)},f.Rect.fromObject=function(m,d){return f.Object._fromObject("Rect",m,d)}}(u),function(b){var f=b.fabric||(b.fabric={}),v=f.util.object.extend,m=f.util.array.min,d=f.util.array.max,g=f.util.toFixed;if(f.Polyline){f.warn("fabric.Polyline is already defined");return}f.Polyline=f.util.createClass(f.Object,{type:"polyline",points:null,cacheProperties:f.Object.prototype.cacheProperties.concat("points"),initialize:function(h,C){C=C||{},this.points=h||[],this.callSuper("initialize",C),this._setPositionDimensions(C)},_setPositionDimensions:function(h){var C=this._calcDimensions(h),D;this.width=C.width,this.height=C.height,h.fromSVG||(D=this.translateToGivenOrigin({x:C.left-this.strokeWidth/2,y:C.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),typeof h.left>"u"&&(this.left=h.fromSVG?C.left:D.x),typeof h.top>"u"&&(this.top=h.fromSVG?C.top:D.y),this.pathOffset={x:C.left+this.width/2,y:C.top+this.height/2}},_calcDimensions:function(){var h=this.points,C=m(h,"x")||0,D=m(h,"y")||0,S=d(h,"x")||0,k=d(h,"y")||0,L=S-C,B=k-D;return{left:C,top:D,width:L,height:B}},toObject:function(h){return v(this.callSuper("toObject",h),{points:this.points.concat()})},_toSVG:function(){for(var h=[],C=this.pathOffset.x,D=this.pathOffset.y,S=f.Object.NUM_FRACTION_DIGITS,k=0,L=this.points.length;k<L;k++)h.push(g(this.points[k].x-C,S),",",g(this.points[k].y-D,S)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',h.join(""),`" />
`]},commonRender:function(h){var C,D=this.points.length,S=this.pathOffset.x,k=this.pathOffset.y;if(!D||isNaN(this.points[D-1].y))return!1;h.beginPath(),h.moveTo(this.points[0].x-S,this.points[0].y-k);for(var L=0;L<D;L++)C=this.points[L],h.lineTo(C.x-S,C.y-k);return!0},_render:function(h){!this.commonRender(h)||this._renderPaintInOrder(h)},complexity:function(){return this.get("points").length}}),f.Polyline.ATTRIBUTE_NAMES=f.SHARED_ATTRIBUTES.concat(),f.Polyline.fromElementGenerator=function(h){return function(C,D,S){if(!C)return D(null);S||(S={});var k=f.parsePointsAttribute(C.getAttribute("points")),L=f.parseAttributes(C,f[h].ATTRIBUTE_NAMES);L.fromSVG=!0,D(new f[h](k,v(L,S)))}},f.Polyline.fromElement=f.Polyline.fromElementGenerator("Polyline"),f.Polyline.fromObject=function(h,C){return f.Object._fromObject("Polyline",h,C,"points")}}(u),function(b){var f=b.fabric||(b.fabric={});if(f.Polygon){f.warn("fabric.Polygon is already defined");return}f.Polygon=f.util.createClass(f.Polyline,{type:"polygon",_render:function(v){!this.commonRender(v)||(v.closePath(),this._renderPaintInOrder(v))}}),f.Polygon.ATTRIBUTE_NAMES=f.SHARED_ATTRIBUTES.concat(),f.Polygon.fromElement=f.Polyline.fromElementGenerator("Polygon"),f.Polygon.fromObject=function(v,m){f.Object._fromObject("Polygon",v,m,"points")}}(u),function(b){var f=b.fabric||(b.fabric={}),v=f.util.array.min,m=f.util.array.max,d=f.util.object.extend,g=Object.prototype.toString,h=f.util.toFixed;if(f.Path){f.warn("fabric.Path is already defined");return}f.Path=f.util.createClass(f.Object,{type:"path",path:null,cacheProperties:f.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:f.Object.prototype.stateProperties.concat("path"),initialize:function(C,D){D=D||{},this.callSuper("initialize",D),C||(C=[]);var S=g.call(C)==="[object Array]";this.path=f.util.makePathSimpler(S?C:f.util.parsePath(C)),this.path&&f.Polyline.prototype._setPositionDimensions.call(this,D)},_renderPathCommands:function(C){var D,S=0,k=0,L=0,B=0,z=0,X=0,ee=-this.pathOffset.x,ce=-this.pathOffset.y;C.beginPath();for(var le=0,me=this.path.length;le<me;++le)switch(D=this.path[le],D[0]){case"L":L=D[1],B=D[2],C.lineTo(L+ee,B+ce);break;case"M":L=D[1],B=D[2],S=L,k=B,C.moveTo(L+ee,B+ce);break;case"C":L=D[5],B=D[6],z=D[3],X=D[4],C.bezierCurveTo(D[1]+ee,D[2]+ce,z+ee,X+ce,L+ee,B+ce);break;case"Q":C.quadraticCurveTo(D[1]+ee,D[2]+ce,D[3]+ee,D[4]+ce),L=D[3],B=D[4],z=D[1],X=D[2];break;case"z":case"Z":L=S,B=k,C.closePath();break}},_render:function(C){this._renderPathCommands(C),this._renderPaintInOrder(C)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(C){return d(this.callSuper("toObject",C),{path:this.path.map(function(D){return D.slice()})})},toDatalessObject:function(C){var D=this.toObject(["sourcePath"].concat(C));return D.sourcePath&&delete D.path,D},_toSVG:function(){var C=f.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',C,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var C=f.Object.NUM_FRACTION_DIGITS;return" translate("+h(-this.pathOffset.x,C)+", "+h(-this.pathOffset.y,C)+")"},toClipPathSVG:function(C){var D=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:C,additionalTransform:D})},toSVG:function(C){var D=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:C,additionalTransform:D})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var C=[],D=[],S,k=0,L=0,B=0,z=0,X,ee=0,ce=this.path.length;ee<ce;++ee){switch(S=this.path[ee],S[0]){case"L":B=S[1],z=S[2],X=[];break;case"M":B=S[1],z=S[2],k=B,L=z,X=[];break;case"C":X=f.util.getBoundsOfCurve(B,z,S[1],S[2],S[3],S[4],S[5],S[6]),B=S[5],z=S[6];break;case"Q":X=f.util.getBoundsOfCurve(B,z,S[1],S[2],S[1],S[2],S[3],S[4]),B=S[3],z=S[4];break;case"z":case"Z":B=k,z=L;break}X.forEach(function(lt){C.push(lt.x),D.push(lt.y)}),C.push(B),D.push(z)}var le=v(C)||0,me=v(D)||0,je=m(C)||0,Pe=m(D)||0,it=je-le,Te=Pe-me;return{left:le,top:me,width:it,height:Te}}}),f.Path.fromObject=function(C,D){if(typeof C.sourcePath=="string"){var S=C.sourcePath;f.loadSVGFromURL(S,function(k){var L=k[0];L.setOptions(C),D&&D(L)})}else f.Object._fromObject("Path",C,D,"path")},f.Path.ATTRIBUTE_NAMES=f.SHARED_ATTRIBUTES.concat(["d"]),f.Path.fromElement=function(C,D,S){var k=f.parseAttributes(C,f.Path.ATTRIBUTE_NAMES);k.fromSVG=!0,D(new f.Path(k.d,d(k,S)))}}(u),function(b){var f=b.fabric||(b.fabric={}),v=f.util.array.min,m=f.util.array.max;f.Group||(f.Group=f.util.createClass(f.Object,f.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(d,g,h){g=g||{},this._objects=[],h&&this.callSuper("initialize",g),this._objects=d||[];for(var C=this._objects.length;C--;)this._objects[C].group=this;if(h)this._updateObjectsACoords();else{var D=g&&g.centerPoint;g.originX!==void 0&&(this.originX=g.originX),g.originY!==void 0&&(this.originY=g.originY),D||this._calcBounds(),this._updateObjectsCoords(D),delete g.centerPoint,this.callSuper("initialize",g)}this.setCoords()},_updateObjectsACoords:function(){for(var d=!0,g=this._objects.length;g--;)this._objects[g].setCoords(d)},_updateObjectsCoords:function(g){for(var g=g||this.getCenterPoint(),h=this._objects.length;h--;)this._updateObjectCoords(this._objects[h],g)},_updateObjectCoords:function(d,g){var h=d.left,C=d.top,D=!0;d.set({left:h-g.x,top:C-g.y}),d.group=this,d.setCoords(D)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(d){var g=!!this.group;return this._restoreObjectsState(),f.util.resetObjectTransform(this),d&&(g&&f.util.removeTransformFromObject(d,this.group.calcTransformMatrix()),this._objects.push(d),d.group=this,d._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,g?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(d){return this._restoreObjectsState(),f.util.resetObjectTransform(this),this.remove(d),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(d){this.dirty=!0,d.group=this,d._set("canvas",this.canvas)},_onObjectRemoved:function(d){this.dirty=!0,delete d.group},_set:function(d,g){var h=this._objects.length;if(this.useSetOnGroup)for(;h--;)this._objects[h].setOnGroup(d,g);if(d==="canvas")for(;h--;)this._objects[h]._set(d,g);f.Object.prototype._set.call(this,d,g)},toObject:function(d){var g=this.includeDefaultValues,h=this._objects.filter(function(D){return!D.excludeFromExport}).map(function(D){var S=D.includeDefaultValues;D.includeDefaultValues=g;var k=D.toObject(d);return D.includeDefaultValues=S,k}),C=f.Object.prototype.toObject.call(this,d);return C.objects=h,C},toDatalessObject:function(d){var g,h=this.sourcePath;if(h)g=h;else{var C=this.includeDefaultValues;g=this._objects.map(function(S){var k=S.includeDefaultValues;S.includeDefaultValues=C;var L=S.toDatalessObject(d);return S.includeDefaultValues=k,L})}var D=f.Object.prototype.toDatalessObject.call(this,d);return D.objects=g,D},render:function(d){this._transformDone=!0,this.callSuper("render",d),this._transformDone=!1},shouldCache:function(){var d=f.Object.prototype.shouldCache.call(this);if(d){for(var g=0,h=this._objects.length;g<h;g++)if(this._objects[g].willDrawShadow())return this.ownCaching=!1,!1}return d},willDrawShadow:function(){if(f.Object.prototype.willDrawShadow.call(this))return!0;for(var d=0,g=this._objects.length;d<g;d++)if(this._objects[d].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(d){for(var g=0,h=this._objects.length;g<h;g++)this._objects[g].render(d);this._drawClipPath(d)},isCacheDirty:function(d){if(this.callSuper("isCacheDirty",d))return!0;if(!this.statefullCache)return!1;for(var g=0,h=this._objects.length;g<h;g++)if(this._objects[g].isCacheDirty(!0)){if(this._cacheCanvas){var C=this.cacheWidth/this.zoomX,D=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-C/2,-D/2,C,D)}return!0}return!1},_restoreObjectsState:function(){var d=this.calcOwnMatrix();return this._objects.forEach(function(g){f.util.addTransformToObject(g,d),delete g.group,g.setCoords()}),this},realizeTransform:function(d,g){return f.util.addTransformToObject(d,g),d},destroy:function(){return this._objects.forEach(function(d){d.set("dirty",!0)}),this._restoreObjectsState()},toActiveSelection:function(){if(!!this.canvas){var d=this._objects,g=this.canvas;this._objects=[];var h=this.toObject();delete h.objects;var C=new f.ActiveSelection([]);return C.set(h),C.type="activeSelection",g.remove(this),d.forEach(function(D){D.group=C,D.dirty=!0,g.add(D)}),C.canvas=g,C._objects=d,g._activeObject=C,C.setCoords(),C}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var d=!0;return this.forEachObject(function(g){g.setCoords(d)}),this},_calcBounds:function(d){for(var g=[],h=[],C,D,S,k=["tr","br","bl","tl"],L=0,B=this._objects.length,z,X=k.length;L<B;++L){for(C=this._objects[L],S=C.calcACoords(),z=0;z<X;z++)D=k[z],g.push(S[D].x),h.push(S[D].y);C.aCoords=S}this._getBounds(g,h,d)},_getBounds:function(d,g,h){var C=new f.Point(v(d),v(g)),D=new f.Point(m(d),m(g)),S=C.y||0,k=C.x||0,L=D.x-C.x||0,B=D.y-C.y||0;this.width=L,this.height=B,h||this.setPositionByOrigin({x:k,y:S},"left","top")},_toSVG:function(d){for(var g=["<g ","COMMON_PARTS",` >
`],h=0,C=this._objects.length;h<C;h++)g.push("		",this._objects[h].toSVG(d));return g.push(`</g>
`),g},getSvgStyles:function(){var d=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",g=this.visible?"":" visibility: hidden;";return[d,this.getSvgFilter(),g].join("")},toClipPathSVG:function(d){for(var g=[],h=0,C=this._objects.length;h<C;h++)g.push("	",this._objects[h].toClipPathSVG(d));return this._createBaseClipPathSVGMarkup(g,{reviver:d})}}),f.Group.fromObject=function(d,g){var h=d.objects,C=f.util.object.clone(d,!0);if(delete C.objects,typeof h=="string"){f.loadSVGFromURL(h,function(D){var S=f.util.groupSVGElements(D,d,h);S.set(C),g&&g(S)});return}f.util.enlivenObjects(h,function(D){f.util.enlivenObjects([d.clipPath],function(S){var k=f.util.object.clone(d,!0);k.clipPath=S[0],delete k.objects,g&&g(new f.Group(D,k,!0))})})})}(u),function(b){var f=b.fabric||(b.fabric={});f.ActiveSelection||(f.ActiveSelection=f.util.createClass(f.Group,{type:"activeSelection",initialize:function(v,m){m=m||{},this._objects=v||[];for(var d=this._objects.length;d--;)this._objects[d].group=this;m.originX&&(this.originX=m.originX),m.originY&&(this.originY=m.originY),this._calcBounds(),this._updateObjectsCoords(),f.Object.prototype.initialize.call(this,m),this.setCoords()},toGroup:function(){var v=this._objects.concat();this._objects=[];var m=f.Object.prototype.toObject.call(this),d=new f.Group([]);if(delete m.type,d.set(m),v.forEach(function(h){h.canvas.remove(h),h.group=d}),d._objects=v,!this.canvas)return d;var g=this.canvas;return g.add(d),g._activeObject=d,d.setCoords(),d},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(v,m,d){v.save(),v.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",v,m),d=d||{},typeof d.hasControls>"u"&&(d.hasControls=!1),d.forActiveSelection=!0;for(var g=0,h=this._objects.length;g<h;g++)this._objects[g]._renderControls(v,d);v.restore()}}),f.ActiveSelection.fromObject=function(v,m){f.util.enlivenObjects(v.objects,function(d){delete v.objects,m&&m(new f.ActiveSelection(d,v,!0))})})}(u),function(b){var f=l.util.object.extend;if(b.fabric||(b.fabric={}),b.fabric.Image){l.warn("fabric.Image is already defined.");return}l.Image=l.util.createClass(l.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:l.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:l.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(v,m){m||(m={}),this.filters=[],this.cacheKey="texture"+l.Object.__uid++,this.callSuper("initialize",m),this._initElement(v,m)},getElement:function(){return this._element||{}},setElement:function(v,m){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=v,this._originalElement=v,this._initConfig(m),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(v){var m=l.filterBackend;m&&m.evictCachesForKey&&m.evictCachesForKey(v)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(v){l.util.cleanUpJsdomNode(this[v]),this[v]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var v=this.getElement();return{width:v.naturalWidth||v.width,height:v.naturalHeight||v.height}},_stroke:function(v){if(!(!this.stroke||this.strokeWidth===0)){var m=this.width/2,d=this.height/2;v.beginPath(),v.moveTo(-m,-d),v.lineTo(m,-d),v.lineTo(m,d),v.lineTo(-m,d),v.lineTo(-m,-d),v.closePath()}},toObject:function(v){var m=[];this.filters.forEach(function(g){g&&m.push(g.toObject())});var d=f(this.callSuper("toObject",["cropX","cropY"].concat(v)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:m});return this.resizeFilter&&(d.resizeFilter=this.resizeFilter.toObject()),d},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var v=[],m=[],d,g=this._element,h=-this.width/2,C=-this.height/2,D="",S="";if(!g)return[];if(this.hasCrop()){var k=l.Object.__uid++;v.push('<clipPath id="imageCrop_'+k+`">
`,'	<rect x="'+h+'" y="'+C+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),D=' clip-path="url(#imageCrop_'+k+')" '}if(this.imageSmoothing||(S='" image-rendering="optimizeSpeed'),m.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',h-this.cropX,'" y="',C-this.cropY,'" width="',g.width||g.naturalWidth,'" height="',g.height||g.height,S,'"',D,`></image>
`),this.stroke||this.strokeDashArray){var L=this.fill;this.fill=null,d=["	<rect ",'x="',h,'" y="',C,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=L}return this.paintFirst!=="fill"?v=v.concat(d,m):v=v.concat(m,d),v},getSrc:function(v){var m=v?this._element:this._originalElement;return m?m.toDataURL?m.toDataURL():this.srcFromAttribute?m.getAttribute("src"):m.src:this.src||""},setSrc:function(v,m,d){return l.util.loadImage(v,function(g,h){this.setElement(g,d),this._setWidthHeight(),m&&m(this,h)},this,d&&d.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var v=this.resizeFilter,m=this.minimumScaleTrigger,d=this.getTotalObjectScaling(),g=d.scaleX,h=d.scaleY,C=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!v||g>m&&h>m){this._element=C,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=g,this._lastScaleY=h;return}l.filterBackend||(l.filterBackend=l.initFilterBackend());var D=l.util.createCanvasElement(),S=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,k=C.width,L=C.height;D.width=k,D.height=L,this._element=D,this._lastScaleX=v.scaleX=g,this._lastScaleY=v.scaleY=h,l.filterBackend.applyFilters([v],C,k,L,this._element,S),this._filterScalingX=D.width/this._originalElement.width,this._filterScalingY=D.height/this._originalElement.height},applyFilters:function(v){if(v=v||this.filters||[],v=v.filter(function(C){return C&&!C.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),v.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var m=this._originalElement,d=m.naturalWidth||m.width,g=m.naturalHeight||m.height;if(this._element===this._originalElement){var h=l.util.createCanvasElement();h.width=d,h.height=g,this._element=h,this._filteredEl=h}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,d,g),this._lastScaleX=1,this._lastScaleY=1;return l.filterBackend||(l.filterBackend=l.initFilterBackend()),l.filterBackend.applyFilters(v,this._originalElement,d,g,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(v){l.util.setImageSmoothing(v,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(v),this._renderPaintInOrder(v)},drawCacheOnCanvas:function(v){l.util.setImageSmoothing(v,this.imageSmoothing),l.Object.prototype.drawCacheOnCanvas.call(this,v)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(v){var m=this._element;if(!!m){var d=this._filterScalingX,g=this._filterScalingY,h=this.width,C=this.height,D=Math.min,S=Math.max,k=S(this.cropX,0),L=S(this.cropY,0),B=m.naturalWidth||m.width,z=m.naturalHeight||m.height,X=k*d,ee=L*g,ce=D(h*d,B-X),le=D(C*g,z-ee),me=-h/2,je=-C/2,Pe=D(h,B/d-k),it=D(C,z/g-L);m&&v.drawImage(m,X,ee,ce,le,me,je,Pe,it)}},_needsResize:function(){var v=this.getTotalObjectScaling();return v.scaleX!==this._lastScaleX||v.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(v,m){this.setElement(l.util.getById(v),m),l.util.addClass(this.getElement(),l.Image.CSS_CANVAS)},_initConfig:function(v){v||(v={}),this.setOptions(v),this._setWidthHeight(v)},_initFilters:function(v,m){v&&v.length?l.util.enlivenObjects(v,function(d){m&&m(d)},"fabric.Image.filters"):m&&m()},_setWidthHeight:function(v){v||(v={});var m=this.getElement();this.width=v.width||m.naturalWidth||m.width||0,this.height=v.height||m.naturalHeight||m.height||0},parsePreserveAspectRatioAttribute:function(){var v=l.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),m=this._element.width,d=this._element.height,g=1,h=1,C=0,D=0,S=0,k=0,L,B=this.width,z=this.height,X={width:B,height:z};return v&&(v.alignX!=="none"||v.alignY!=="none")?(v.meetOrSlice==="meet"&&(g=h=l.util.findScaleToFit(this._element,X),L=(B-m*g)/2,v.alignX==="Min"&&(C=-L),v.alignX==="Max"&&(C=L),L=(z-d*h)/2,v.alignY==="Min"&&(D=-L),v.alignY==="Max"&&(D=L)),v.meetOrSlice==="slice"&&(g=h=l.util.findScaleToCover(this._element,X),L=m-B/g,v.alignX==="Mid"&&(S=L/2),v.alignX==="Max"&&(S=L),L=d-z/h,v.alignY==="Mid"&&(k=L/2),v.alignY==="Max"&&(k=L),m=B/g,d=z/h)):(g=B/m,h=z/d),{width:m,height:d,scaleX:g,scaleY:h,offsetLeft:C,offsetTop:D,cropX:S,cropY:k}}}),l.Image.CSS_CANVAS="canvas-img",l.Image.prototype.getSvgSrc=l.Image.prototype.getSrc,l.Image.fromObject=function(v,m){var d=l.util.object.clone(v);l.util.loadImage(d.src,function(g,h){if(h){m&&m(null,!0);return}l.Image.prototype._initFilters.call(d,d.filters,function(C){d.filters=C||[],l.Image.prototype._initFilters.call(d,[d.resizeFilter],function(D){d.resizeFilter=D[0],l.util.enlivenObjects([d.clipPath],function(S){d.clipPath=S[0];var k=new l.Image(g,d);m(k,!1)})})})},null,d.crossOrigin)},l.Image.fromURL=function(v,m,d){l.util.loadImage(v,function(g,h){m&&m(new l.Image(g,d),h)},null,d&&d.crossOrigin)},l.Image.ATTRIBUTE_NAMES=l.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),l.Image.fromElement=function(v,m,d){var g=l.parseAttributes(v,l.Image.ATTRIBUTE_NAMES);l.Image.fromURL(g["xlink:href"],m,f(d?l.util.object.clone(d):{},g))}}(u),l.util.object.extend(l.Object.prototype,{_getAngleValueForStraighten:function(){var b=this.angle%360;return b>0?Math.round((b-1)/90)*90:Math.round(b/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(b){b=b||{};var f=function(){},v=b.onComplete||f,m=b.onChange||f,d=this;return l.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(g){d.rotate(g),m()},onComplete:function(){d.setCoords(),v()}}),this}}),l.util.object.extend(l.StaticCanvas.prototype,{straightenObject:function(b){return b.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(b){return b.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){function b(v,m){var d="precision "+m+` float;
void main(){}`,g=v.createShader(v.FRAGMENT_SHADER);return v.shaderSource(g,d),v.compileShader(g),!!v.getShaderParameter(g,v.COMPILE_STATUS)}l.isWebglSupported=function(v){if(l.isLikelyNode)return!1;v=v||l.WebglFilterBackend.prototype.tileSize;var m=document.createElement("canvas"),d=m.getContext("webgl")||m.getContext("experimental-webgl"),g=!1;if(d){l.maxTextureSize=d.getParameter(d.MAX_TEXTURE_SIZE),g=l.maxTextureSize>=v;for(var h=["highp","mediump","lowp"],C=0;C<3;C++)if(b(d,h[C])){l.webGlPrecision=h[C];break}}return this.isSupported=g,g},l.WebglFilterBackend=f;function f(v){v&&v.tileSize&&(this.tileSize=v.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}f.prototype={tileSize:2048,resources:{},setupGLContext:function(v,m){this.dispose(),this.createWebGLCanvas(v,m),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(v,m)},chooseFastestCopyGLTo2DMethod:function(v,m){var d=typeof window.performance<"u",g;try{new ImageData(1,1),g=!0}catch{g=!1}var h=typeof ArrayBuffer<"u",C=typeof Uint8ClampedArray<"u";if(!!(d&&g&&h&&C)){var D=l.util.createCanvasElement(),S=new ArrayBuffer(v*m*4);if(l.forceGLPutImageData){this.imageBuffer=S,this.copyGLTo2D=N;return}var k={imageBuffer:S,destinationWidth:v,destinationHeight:m,targetCanvas:D},L,B,z;D.width=v,D.height=m,L=window.performance.now(),P.call(k,this.gl,k),B=window.performance.now()-L,L=window.performance.now(),N.call(k,this.gl,k),z=window.performance.now()-L,B>z?(this.imageBuffer=S,this.copyGLTo2D=N):this.copyGLTo2D=P}},createWebGLCanvas:function(v,m){var d=l.util.createCanvasElement();d.width=v,d.height=m;var g={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},h=d.getContext("webgl",g);h||(h=d.getContext("experimental-webgl",g)),h&&(h.clearColor(0,0,0,0),this.canvas=d,this.gl=h)},applyFilters:function(v,m,d,g,h,C){var D=this.gl,S;C&&(S=this.getCachedTexture(C,m));var k={originalWidth:m.width||m.originalWidth,originalHeight:m.height||m.originalHeight,sourceWidth:d,sourceHeight:g,destinationWidth:d,destinationHeight:g,context:D,sourceTexture:this.createTexture(D,d,g,!S&&m),targetTexture:this.createTexture(D,d,g),originalTexture:S||this.createTexture(D,d,g,!S&&m),passes:v.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:h},L=D.createFramebuffer();return D.bindFramebuffer(D.FRAMEBUFFER,L),v.forEach(function(B){B&&B.applyTo(k)}),M(k),this.copyGLTo2D(D,k),D.bindTexture(D.TEXTURE_2D,null),D.deleteTexture(k.sourceTexture),D.deleteTexture(k.targetTexture),D.deleteFramebuffer(L),h.getContext("2d").setTransform(1,0,0,1,0,0),k},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(v,m,d,g){var h=v.createTexture();return v.bindTexture(v.TEXTURE_2D,h),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,v.NEAREST),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.NEAREST),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,v.CLAMP_TO_EDGE),g?v.texImage2D(v.TEXTURE_2D,0,v.RGBA,v.RGBA,v.UNSIGNED_BYTE,g):v.texImage2D(v.TEXTURE_2D,0,v.RGBA,m,d,0,v.RGBA,v.UNSIGNED_BYTE,null),h},getCachedTexture:function(v,m){if(this.textureCache[v])return this.textureCache[v];var d=this.createTexture(this.gl,m.width,m.height,m);return this.textureCache[v]=d,d},evictCachesForKey:function(v){this.textureCache[v]&&(this.gl.deleteTexture(this.textureCache[v]),delete this.textureCache[v])},copyGLTo2D:P,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var v=this.gl,m={renderer:"",vendor:""};if(!v)return m;var d=v.getExtension("WEBGL_debug_renderer_info");if(d){var g=v.getParameter(d.UNMASKED_RENDERER_WEBGL),h=v.getParameter(d.UNMASKED_VENDOR_WEBGL);g&&(m.renderer=g.toLowerCase()),h&&(m.vendor=h.toLowerCase())}return this.gpuInfo=m,m}}}();function M(b){var f=b.targetCanvas,v=f.width,m=f.height,d=b.destinationWidth,g=b.destinationHeight;(v!==d||m!==g)&&(f.width=d,f.height=g)}function P(b,f){var v=b.canvas,m=f.targetCanvas,d=m.getContext("2d");d.translate(0,m.height),d.scale(1,-1);var g=v.height-m.height;d.drawImage(v,0,g,m.width,m.height,0,0,m.width,m.height)}function N(b,f){var v=f.targetCanvas,m=v.getContext("2d"),d=f.destinationWidth,g=f.destinationHeight,h=d*g*4,C=new Uint8Array(this.imageBuffer,0,h),D=new Uint8ClampedArray(this.imageBuffer,0,h);b.readPixels(0,0,d,g,b.RGBA,b.UNSIGNED_BYTE,C);var S=new ImageData(D,d,g);m.putImageData(S,0,0)}(function(){var b=function(){};l.Canvas2dFilterBackend=f;function f(){}f.prototype={evictCachesForKey:b,dispose:b,clearWebGLCaches:b,resources:{},applyFilters:function(v,m,d,g,h){var C=h.getContext("2d");C.drawImage(m,0,0,d,g);var D=C.getImageData(0,0,d,g),S=C.getImageData(0,0,d,g),k={sourceWidth:d,sourceHeight:g,imageData:D,originalEl:m,originalImageData:S,canvasEl:h,ctx:C,filterBackend:this};return v.forEach(function(L){L.applyTo(k)}),(k.imageData.width!==d||k.imageData.height!==g)&&(h.width=k.imageData.width,h.height=k.imageData.height),C.putImageData(k.imageData,0,0),k}}})(),l.Image=l.Image||{},l.Image.filters=l.Image.filters||{},l.Image.filters.BaseFilter=l.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(b){b&&this.setOptions(b)},setOptions:function(b){for(var f in b)this[f]=b[f]},createProgram:function(b,f,v){f=f||this.fragmentSource,v=v||this.vertexSource,l.webGlPrecision!=="highp"&&(f=f.replace(/precision highp float/g,"precision "+l.webGlPrecision+" float"));var m=b.createShader(b.VERTEX_SHADER);if(b.shaderSource(m,v),b.compileShader(m),!b.getShaderParameter(m,b.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+b.getShaderInfoLog(m));var d=b.createShader(b.FRAGMENT_SHADER);if(b.shaderSource(d,f),b.compileShader(d),!b.getShaderParameter(d,b.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+b.getShaderInfoLog(d));var g=b.createProgram();if(b.attachShader(g,m),b.attachShader(g,d),b.linkProgram(g),!b.getProgramParameter(g,b.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+b.getProgramInfoLog(g));var h=this.getAttributeLocations(b,g),C=this.getUniformLocations(b,g)||{};return C.uStepW=b.getUniformLocation(g,"uStepW"),C.uStepH=b.getUniformLocation(g,"uStepH"),{program:g,attributeLocations:h,uniformLocations:C}},getAttributeLocations:function(b,f){return{aPosition:b.getAttribLocation(f,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(b,f,v){var m=f.aPosition,d=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,d),b.enableVertexAttribArray(m),b.vertexAttribPointer(m,2,b.FLOAT,!1,0,0),b.bufferData(b.ARRAY_BUFFER,v,b.STATIC_DRAW)},_setupFrameBuffer:function(b){var f=b.context,v,m;b.passes>1?(v=b.destinationWidth,m=b.destinationHeight,(b.sourceWidth!==v||b.sourceHeight!==m)&&(f.deleteTexture(b.targetTexture),b.targetTexture=b.filterBackend.createTexture(f,v,m)),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,b.targetTexture,0)):(f.bindFramebuffer(f.FRAMEBUFFER,null),f.finish())},_swapTextures:function(b){b.passes--,b.pass++;var f=b.targetTexture;b.targetTexture=b.sourceTexture,b.sourceTexture=f},isNeutralState:function(){var b=this.mainParameter,f=l.Image.filters[this.type].prototype;if(b)if(Array.isArray(f[b])){for(var v=f[b].length;v--;)if(this[b][v]!==f[b][v])return!1;return!0}else return f[b]===this[b];else return!1},applyTo:function(b){b.webgl?(this._setupFrameBuffer(b),this.applyToWebGL(b),this._swapTextures(b)):this.applyTo2d(b)},retrieveShader:function(b){return b.programCache.hasOwnProperty(this.type)||(b.programCache[this.type]=this.createProgram(b.context)),b.programCache[this.type]},applyToWebGL:function(b){var f=b.context,v=this.retrieveShader(b);b.pass===0&&b.originalTexture?f.bindTexture(f.TEXTURE_2D,b.originalTexture):f.bindTexture(f.TEXTURE_2D,b.sourceTexture),f.useProgram(v.program),this.sendAttributeData(f,v.attributeLocations,b.aPosition),f.uniform1f(v.uniformLocations.uStepW,1/b.sourceWidth),f.uniform1f(v.uniformLocations.uStepH,1/b.sourceHeight),this.sendUniformData(f,v.uniformLocations),f.viewport(0,0,b.destinationWidth,b.destinationHeight),f.drawArrays(f.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(b,f,v){b.activeTexture(v),b.bindTexture(b.TEXTURE_2D,f),b.activeTexture(b.TEXTURE0)},unbindAdditionalTexture:function(b,f){b.activeTexture(f),b.bindTexture(b.TEXTURE_2D,null),b.activeTexture(b.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(b){this[this.mainParameter]=b},sendUniformData:function(){},createHelpLayer:function(b){if(!b.helpLayer){var f=document.createElement("canvas");f.width=b.sourceWidth,f.height=b.sourceHeight,b.helpLayer=f}},toObject:function(){var b={type:this.type},f=this.mainParameter;return f&&(b[f]=this[f]),b},toJSON:function(){return this.toObject()}}),l.Image.filters.BaseFilter.fromObject=function(b,f){var v=new l.Image.filters[b.type](b);return f&&f(v),v},function(b){var f=b.fabric||(b.fabric={}),v=f.Image.filters,m=f.util.createClass;v.ColorMatrix=m(v.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(d){this.callSuper("initialize",d),this.matrix=this.matrix.slice(0)},applyTo2d:function(d){var g=d.imageData,h=g.data,C=h.length,D=this.matrix,S,k,L,B,z,X=this.colorsOnly;for(z=0;z<C;z+=4)S=h[z],k=h[z+1],L=h[z+2],X?(h[z]=S*D[0]+k*D[1]+L*D[2]+D[4]*255,h[z+1]=S*D[5]+k*D[6]+L*D[7]+D[9]*255,h[z+2]=S*D[10]+k*D[11]+L*D[12]+D[14]*255):(B=h[z+3],h[z]=S*D[0]+k*D[1]+L*D[2]+B*D[3]+D[4]*255,h[z+1]=S*D[5]+k*D[6]+L*D[7]+B*D[8]+D[9]*255,h[z+2]=S*D[10]+k*D[11]+L*D[12]+B*D[13]+D[14]*255,h[z+3]=S*D[15]+k*D[16]+L*D[17]+B*D[18]+D[19]*255)},getUniformLocations:function(d,g){return{uColorMatrix:d.getUniformLocation(g,"uColorMatrix"),uConstants:d.getUniformLocation(g,"uConstants")}},sendUniformData:function(d,g){var h=this.matrix,C=[h[0],h[1],h[2],h[3],h[5],h[6],h[7],h[8],h[10],h[11],h[12],h[13],h[15],h[16],h[17],h[18]],D=[h[4],h[9],h[14],h[19]];d.uniformMatrix4fv(g.uColorMatrix,!1,C),d.uniform4fv(g.uConstants,D)}}),f.Image.filters.ColorMatrix.fromObject=f.Image.filters.BaseFilter.fromObject}(u),function(b){var f=b.fabric||(b.fabric={}),v=f.Image.filters,m=f.util.createClass;v.Brightness=m(v.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(d){if(this.brightness!==0){var g=d.imageData,h=g.data,C,D=h.length,S=Math.round(this.brightness*255);for(C=0;C<D;C+=4)h[C]=h[C]+S,h[C+1]=h[C+1]+S,h[C+2]=h[C+2]+S}},getUniformLocations:function(d,g){return{uBrightness:d.getUniformLocation(g,"uBrightness")}},sendUniformData:function(d,g){d.uniform1f(g.uBrightness,this.brightness)}}),f.Image.filters.Brightness.fromObject=f.Image.filters.BaseFilter.fromObject}(u),function(b){var f=b.fabric||(b.fabric={}),v=f.util.object.extend,m=f.Image.filters,d=f.util.createClass;m.Convolute=d(m.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(g){var h=Math.sqrt(this.matrix.length),C=this.type+"_"+h+"_"+(this.opaque?1:0),D=this.fragmentSource[C];return g.programCache.hasOwnProperty(C)||(g.programCache[C]=this.createProgram(g.context,D)),g.programCache[C]},applyTo2d:function(g){var h=g.imageData,C=h.data,D=this.matrix,S=Math.round(Math.sqrt(D.length)),k=Math.floor(S/2),L=h.width,B=h.height,z=g.ctx.createImageData(L,B),X=z.data,ee=this.opaque?1:0,ce,le,me,je,Pe,it,Te,lt,he,Dt,Ke,Mt,Me;for(Ke=0;Ke<B;Ke++)for(Dt=0;Dt<L;Dt++){for(Pe=(Ke*L+Dt)*4,ce=0,le=0,me=0,je=0,Me=0;Me<S;Me++)for(Mt=0;Mt<S;Mt++)Te=Ke+Me-k,it=Dt+Mt-k,!(Te<0||Te>=B||it<0||it>=L)&&(lt=(Te*L+it)*4,he=D[Me*S+Mt],ce+=C[lt]*he,le+=C[lt+1]*he,me+=C[lt+2]*he,ee||(je+=C[lt+3]*he));X[Pe]=ce,X[Pe+1]=le,X[Pe+2]=me,ee?X[Pe+3]=C[Pe+3]:X[Pe+3]=je}g.imageData=z},getUniformLocations:function(g,h){return{uMatrix:g.getUniformLocation(h,"uMatrix"),uOpaque:g.getUniformLocation(h,"uOpaque"),uHalfSize:g.getUniformLocation(h,"uHalfSize"),uSize:g.getUniformLocation(h,"uSize")}},sendUniformData:function(g,h){g.uniform1fv(h.uMatrix,this.matrix)},toObject:function(){return v(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),f.Image.filters.Convolute.fromObject=f.Image.filters.BaseFilter.fromObject}(u),function(b){var f=b.fabric||(b.fabric={}),v=f.Image.filters,m=f.util.createClass;v.Grayscale=m(v.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(d){var g=d.imageData,h=g.data,C,D=h.length,S,k=this.mode;for(C=0;C<D;C+=4)k==="average"?S=(h[C]+h[C+1]+h[C+2])/3:k==="lightness"?S=(Math.min(h[C],h[C+1],h[C+2])+Math.max(h[C],h[C+1],h[C+2]))/2:k==="luminosity"&&(S=.21*h[C]+.72*h[C+1]+.07*h[C+2]),h[C]=S,h[C+1]=S,h[C+2]=S},retrieveShader:function(d){var g=this.type+"_"+this.mode;if(!d.programCache.hasOwnProperty(g)){var h=this.fragmentSource[this.mode];d.programCache[g]=this.createProgram(d.context,h)}return d.programCache[g]},getUniformLocations:function(d,g){return{uMode:d.getUniformLocation(g,"uMode")}},sendUniformData:function(d,g){var h=1;d.uniform1i(g.uMode,h)},isNeutralState:function(){return!1}}),f.Image.filters.Grayscale.fromObject=f.Image.filters.BaseFilter.fromObject}(u),function(b){var f=b.fabric||(b.fabric={}),v=f.Image.filters,m=f.util.createClass;v.Invert=m(v.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(d){var g=d.imageData,h=g.data,C,D=h.length;for(C=0;C<D;C+=4)h[C]=255-h[C],h[C+1]=255-h[C+1],h[C+2]=255-h[C+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(d,g){return{uInvert:d.getUniformLocation(g,"uInvert")}},sendUniformData:function(d,g){d.uniform1i(g.uInvert,this.invert)}}),f.Image.filters.Invert.fromObject=f.Image.filters.BaseFilter.fromObject}(u),function(b){var f=b.fabric||(b.fabric={}),v=f.util.object.extend,m=f.Image.filters,d=f.util.createClass;m.Noise=d(m.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(g){if(this.noise!==0){var h=g.imageData,C=h.data,D,S=C.length,k=this.noise,L;for(D=0,S=C.length;D<S;D+=4)L=(.5-Math.random())*k,C[D]+=L,C[D+1]+=L,C[D+2]+=L}},getUniformLocations:function(g,h){return{uNoise:g.getUniformLocation(h,"uNoise"),uSeed:g.getUniformLocation(h,"uSeed")}},sendUniformData:function(g,h){g.uniform1f(h.uNoise,this.noise/255),g.uniform1f(h.uSeed,Math.random())},toObject:function(){return v(this.callSuper("toObject"),{noise:this.noise})}}),f.Image.filters.Noise.fromObject=f.Image.filters.BaseFilter.fromObject}(u),function(b){var f=b.fabric||(b.fabric={}),v=f.Image.filters,m=f.util.createClass;v.Pixelate=m(v.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(d){var g=d.imageData,h=g.data,C=g.height,D=g.width,S,k,L,B,z,X,ee,ce,le,me,je;for(k=0;k<C;k+=this.blocksize)for(L=0;L<D;L+=this.blocksize)for(S=k*4*D+L*4,B=h[S],z=h[S+1],X=h[S+2],ee=h[S+3],me=Math.min(k+this.blocksize,C),je=Math.min(L+this.blocksize,D),ce=k;ce<me;ce++)for(le=L;le<je;le++)S=ce*4*D+le*4,h[S]=B,h[S+1]=z,h[S+2]=X,h[S+3]=ee},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(d,g){return{uBlocksize:d.getUniformLocation(g,"uBlocksize"),uStepW:d.getUniformLocation(g,"uStepW"),uStepH:d.getUniformLocation(g,"uStepH")}},sendUniformData:function(d,g){d.uniform1f(g.uBlocksize,this.blocksize)}}),f.Image.filters.Pixelate.fromObject=f.Image.filters.BaseFilter.fromObject}(u),function(b){var f=b.fabric||(b.fabric={}),v=f.util.object.extend,m=f.Image.filters,d=f.util.createClass;m.RemoveColor=d(m.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(g){var h=g.imageData,C=h.data,D,S=this.distance*255,k,L,B,z=new f.Color(this.color).getSource(),X=[z[0]-S,z[1]-S,z[2]-S],ee=[z[0]+S,z[1]+S,z[2]+S];for(D=0;D<C.length;D+=4)k=C[D],L=C[D+1],B=C[D+2],k>X[0]&&L>X[1]&&B>X[2]&&k<ee[0]&&L<ee[1]&&B<ee[2]&&(C[D+3]=0)},getUniformLocations:function(g,h){return{uLow:g.getUniformLocation(h,"uLow"),uHigh:g.getUniformLocation(h,"uHigh")}},sendUniformData:function(g,h){var C=new f.Color(this.color).getSource(),D=parseFloat(this.distance),S=[0+C[0]/255-D,0+C[1]/255-D,0+C[2]/255-D,1],k=[C[0]/255+D,C[1]/255+D,C[2]/255+D,1];g.uniform4fv(h.uLow,S),g.uniform4fv(h.uHigh,k)},toObject:function(){return v(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),f.Image.filters.RemoveColor.fromObject=f.Image.filters.BaseFilter.fromObject}(u),function(b){var f=b.fabric||(b.fabric={}),v=f.Image.filters,m=f.util.createClass,d={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var g in d)v[g]=m(v.ColorMatrix,{type:g,matrix:d[g],mainParameter:!1,colorsOnly:!0}),f.Image.filters[g].fromObject=f.Image.filters.BaseFilter.fromObject}(u),function(b){var f=b.fabric,v=f.Image.filters,m=f.util.createClass;v.BlendColor=m(v.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(d){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[d]+`}
}`},retrieveShader:function(d){var g=this.type+"_"+this.mode,h;return d.programCache.hasOwnProperty(g)||(h=this.buildSource(this.mode),d.programCache[g]=this.createProgram(d.context,h)),d.programCache[g]},applyTo2d:function(d){var g=d.imageData,h=g.data,C=h.length,D,S,k,L,B,z,X,ee=1-this.alpha;X=new f.Color(this.color).getSource(),D=X[0]*this.alpha,S=X[1]*this.alpha,k=X[2]*this.alpha;for(var ce=0;ce<C;ce+=4)switch(L=h[ce],B=h[ce+1],z=h[ce+2],this.mode){case"multiply":h[ce]=L*D/255,h[ce+1]=B*S/255,h[ce+2]=z*k/255;break;case"screen":h[ce]=255-(255-L)*(255-D)/255,h[ce+1]=255-(255-B)*(255-S)/255,h[ce+2]=255-(255-z)*(255-k)/255;break;case"add":h[ce]=L+D,h[ce+1]=B+S,h[ce+2]=z+k;break;case"diff":case"difference":h[ce]=Math.abs(L-D),h[ce+1]=Math.abs(B-S),h[ce+2]=Math.abs(z-k);break;case"subtract":h[ce]=L-D,h[ce+1]=B-S,h[ce+2]=z-k;break;case"darken":h[ce]=Math.min(L,D),h[ce+1]=Math.min(B,S),h[ce+2]=Math.min(z,k);break;case"lighten":h[ce]=Math.max(L,D),h[ce+1]=Math.max(B,S),h[ce+2]=Math.max(z,k);break;case"overlay":h[ce]=D<128?2*L*D/255:255-2*(255-L)*(255-D)/255,h[ce+1]=S<128?2*B*S/255:255-2*(255-B)*(255-S)/255,h[ce+2]=k<128?2*z*k/255:255-2*(255-z)*(255-k)/255;break;case"exclusion":h[ce]=D+L-2*D*L/255,h[ce+1]=S+B-2*S*B/255,h[ce+2]=k+z-2*k*z/255;break;case"tint":h[ce]=D+L*ee,h[ce+1]=S+B*ee,h[ce+2]=k+z*ee}},getUniformLocations:function(d,g){return{uColor:d.getUniformLocation(g,"uColor")}},sendUniformData:function(d,g){var h=new f.Color(this.color).getSource();h[0]=this.alpha*h[0]/255,h[1]=this.alpha*h[1]/255,h[2]=this.alpha*h[2]/255,h[3]=this.alpha,d.uniform4fv(g.uColor,h)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),f.Image.filters.BlendColor.fromObject=f.Image.filters.BaseFilter.fromObject}(u),function(b){var f=b.fabric,v=f.Image.filters,m=f.util.createClass;v.BlendImage=m(v.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(d){var g=this.type+"_"+this.mode,h=this.fragmentSource[this.mode];return d.programCache.hasOwnProperty(g)||(d.programCache[g]=this.createProgram(d.context,h)),d.programCache[g]},applyToWebGL:function(d){var g=d.context,h=this.createTexture(d.filterBackend,this.image);this.bindAdditionalTexture(g,h,g.TEXTURE1),this.callSuper("applyToWebGL",d),this.unbindAdditionalTexture(g,g.TEXTURE1)},createTexture:function(d,g){return d.getCachedTexture(g.cacheKey,g._element)},calculateMatrix:function(){var d=this.image,g=d._element.width,h=d._element.height;return[1/d.scaleX,0,0,0,1/d.scaleY,0,-d.left/g,-d.top/h,1]},applyTo2d:function(d){var g=d.imageData,h=d.filterBackend.resources,C=g.data,D=C.length,S=g.width,k=g.height,L,B,z,X,ee,ce,le,me,je,Pe,it=this.image,Te;h.blendImage||(h.blendImage=f.util.createCanvasElement()),je=h.blendImage,Pe=je.getContext("2d"),je.width!==S||je.height!==k?(je.width=S,je.height=k):Pe.clearRect(0,0,S,k),Pe.setTransform(it.scaleX,0,0,it.scaleY,it.left,it.top),Pe.drawImage(it._element,0,0,S,k),Te=Pe.getImageData(0,0,S,k).data;for(var lt=0;lt<D;lt+=4)switch(ee=C[lt],ce=C[lt+1],le=C[lt+2],me=C[lt+3],L=Te[lt],B=Te[lt+1],z=Te[lt+2],X=Te[lt+3],this.mode){case"multiply":C[lt]=ee*L/255,C[lt+1]=ce*B/255,C[lt+2]=le*z/255,C[lt+3]=me*X/255;break;case"mask":C[lt+3]=X;break}},getUniformLocations:function(d,g){return{uTransformMatrix:d.getUniformLocation(g,"uTransformMatrix"),uImage:d.getUniformLocation(g,"uImage")}},sendUniformData:function(d,g){var h=this.calculateMatrix();d.uniform1i(g.uImage,1),d.uniformMatrix3fv(g.uTransformMatrix,!1,h)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),f.Image.filters.BlendImage.fromObject=function(d,g){f.Image.fromObject(d.image,function(h){var C=f.util.object.clone(d);C.image=h,g(new f.Image.filters.BlendImage(C))})}}(u),function(b){var f=b.fabric||(b.fabric={}),v=Math.pow,m=Math.floor,d=Math.sqrt,g=Math.abs,h=Math.round,C=Math.sin,D=Math.ceil,S=f.Image.filters,k=f.util.createClass;S.Resize=k(S.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(L,B){return{uDelta:L.getUniformLocation(B,"uDelta"),uTaps:L.getUniformLocation(B,"uTaps")}},sendUniformData:function(L,B){L.uniform2fv(B.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),L.uniform1fv(B.uTaps,this.taps)},retrieveShader:function(L){var B=this.getFilterWindow(),z=this.type+"_"+B;if(!L.programCache.hasOwnProperty(z)){var X=this.generateShader(B);L.programCache[z]=this.createProgram(L.context,X)}return L.programCache[z]},getFilterWindow:function(){var L=this.tempScale;return Math.ceil(this.lanczosLobes/L)},getTaps:function(){for(var L=this.lanczosCreate(this.lanczosLobes),B=this.tempScale,z=this.getFilterWindow(),X=new Array(z),ee=1;ee<=z;ee++)X[ee-1]=L(ee*B);return X},generateShader:function(X){for(var B=new Array(X),z=this.fragmentSourceTOP,X,ee=1;ee<=X;ee++)B[ee-1]=ee+".0 * uDelta";return z+="uniform float uTaps["+X+`];
`,z+=`void main() {
`,z+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,z+=`  float sum = 1.0;
`,B.forEach(function(ce,le){z+="  color += texture2D(uTexture, vTexCoord + "+ce+") * uTaps["+le+`];
`,z+="  color += texture2D(uTexture, vTexCoord - "+ce+") * uTaps["+le+`];
`,z+="  sum += 2.0 * uTaps["+le+`];
`}),z+=`  gl_FragColor = color / sum;
`,z+="}",z},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(L){L.webgl?(L.passes++,this.width=L.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=L.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),L.destinationWidth=this.dW,this._setupFrameBuffer(L),this.applyToWebGL(L),this._swapTextures(L),L.sourceWidth=L.destinationWidth,this.height=L.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),L.destinationHeight=this.dH,this._setupFrameBuffer(L),this.applyToWebGL(L),this._swapTextures(L),L.sourceHeight=L.destinationHeight):this.applyTo2d(L)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(L){return function(B){if(B>=L||B<=-L)return 0;if(B<11920929e-14&&B>-11920929e-14)return 1;B*=Math.PI;var z=B/L;return C(B)/B*C(z)/z}},applyTo2d:function(L){var B=L.imageData,z=this.scaleX,X=this.scaleY;this.rcpScaleX=1/z,this.rcpScaleY=1/X;var ee=B.width,ce=B.height,le=h(ee*z),me=h(ce*X),je;this.resizeType==="sliceHack"?je=this.sliceByTwo(L,ee,ce,le,me):this.resizeType==="hermite"?je=this.hermiteFastResize(L,ee,ce,le,me):this.resizeType==="bilinear"?je=this.bilinearFiltering(L,ee,ce,le,me):this.resizeType==="lanczos"&&(je=this.lanczosResize(L,ee,ce,le,me)),L.imageData=je},sliceByTwo:function(L,B,z,X,ee){var ce=L.imageData,le=.5,me=!1,je=!1,Pe=B*le,it=z*le,Te=f.filterBackend.resources,lt,he,Dt=0,Ke=0,Mt=B,Me=0;for(Te.sliceByTwo||(Te.sliceByTwo=document.createElement("canvas")),lt=Te.sliceByTwo,(lt.width<B*1.5||lt.height<z)&&(lt.width=B*1.5,lt.height=z),he=lt.getContext("2d"),he.clearRect(0,0,B*1.5,z),he.putImageData(ce,0,0),X=m(X),ee=m(ee);!me||!je;)B=Pe,z=it,X<m(Pe*le)?Pe=m(Pe*le):(Pe=X,me=!0),ee<m(it*le)?it=m(it*le):(it=ee,je=!0),he.drawImage(lt,Dt,Ke,B,z,Mt,Me,Pe,it),Dt=Mt,Ke=Me,Me+=it;return he.getImageData(Dt,Ke,X,ee)},lanczosResize:function(L,B,z,X,ee){function ce(Oe){var Se,Ye,ve,Ce,_e,pe,Ve,Ze,ht,ot,st;for(Me.x=(Oe+.5)*it,Be.x=m(Me.x),Se=0;Se<ee;Se++){for(Me.y=(Se+.5)*Te,Be.y=m(Me.y),_e=0,pe=0,Ve=0,Ze=0,ht=0,Ye=Be.x-Dt;Ye<=Be.x+Dt;Ye++)if(!(Ye<0||Ye>=B)){ot=m(1e3*g(Ye-Me.x)),Mt[ot]||(Mt[ot]={});for(var re=Be.y-Ke;re<=Be.y+Ke;re++)re<0||re>=z||(st=m(1e3*g(re-Me.y)),Mt[ot][st]||(Mt[ot][st]=Pe(d(v(ot*lt,2)+v(st*he,2))/1e3)),ve=Mt[ot][st],ve>0&&(Ce=(re*B+Ye)*4,_e+=ve,pe+=ve*le[Ce],Ve+=ve*le[Ce+1],Ze+=ve*le[Ce+2],ht+=ve*le[Ce+3]))}Ce=(Se*X+Oe)*4,je[Ce]=pe/_e,je[Ce+1]=Ve/_e,je[Ce+2]=Ze/_e,je[Ce+3]=ht/_e}return++Oe<X?ce(Oe):me}var le=L.imageData.data,me=L.ctx.createImageData(X,ee),je=me.data,Pe=this.lanczosCreate(this.lanczosLobes),it=this.rcpScaleX,Te=this.rcpScaleY,lt=2/this.rcpScaleX,he=2/this.rcpScaleY,Dt=D(it*this.lanczosLobes/2),Ke=D(Te*this.lanczosLobes/2),Mt={},Me={},Be={};return ce(0)},bilinearFiltering:function(L,B,z,X,ee){var ce,le,me,je,Pe,it,Te,lt,he,Dt,Ke,Mt,Me=0,Be,Oe=this.rcpScaleX,Se=this.rcpScaleY,Ye=4*(B-1),ve=L.imageData,Ce=ve.data,_e=L.ctx.createImageData(X,ee),pe=_e.data;for(Te=0;Te<ee;Te++)for(lt=0;lt<X;lt++)for(Pe=m(Oe*lt),it=m(Se*Te),he=Oe*lt-Pe,Dt=Se*Te-it,Be=4*(it*B+Pe),Ke=0;Ke<4;Ke++)ce=Ce[Be+Ke],le=Ce[Be+4+Ke],me=Ce[Be+Ye+Ke],je=Ce[Be+Ye+4+Ke],Mt=ce*(1-he)*(1-Dt)+le*he*(1-Dt)+me*Dt*(1-he)+je*he*Dt,pe[Me++]=Mt;return _e},hermiteFastResize:function(L,B,z,X,ee){for(var ce=this.rcpScaleX,le=this.rcpScaleY,me=D(ce/2),je=D(le/2),Pe=L.imageData,it=Pe.data,Te=L.ctx.createImageData(X,ee),lt=Te.data,he=0;he<ee;he++)for(var Dt=0;Dt<X;Dt++){for(var Ke=(Dt+he*X)*4,Mt=0,Me=0,Be=0,Oe=0,Se=0,Ye=0,ve=0,Ce=(he+.5)*le,_e=m(he*le);_e<(he+1)*le;_e++)for(var pe=g(Ce-(_e+.5))/je,Ve=(Dt+.5)*ce,Ze=pe*pe,ht=m(Dt*ce);ht<(Dt+1)*ce;ht++){var ot=g(Ve-(ht+.5))/me,st=d(Ze+ot*ot);st>1&&st<-1||(Mt=2*st*st*st-3*st*st+1,Mt>0&&(ot=4*(ht+_e*B),ve+=Mt*it[ot+3],Be+=Mt,it[ot+3]<255&&(Mt=Mt*it[ot+3]/250),Oe+=Mt*it[ot],Se+=Mt*it[ot+1],Ye+=Mt*it[ot+2],Me+=Mt))}lt[Ke]=Oe/Me,lt[Ke+1]=Se/Me,lt[Ke+2]=Ye/Me,lt[Ke+3]=ve/Be}return Te},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),f.Image.filters.Resize.fromObject=f.Image.filters.BaseFilter.fromObject}(u),function(b){var f=b.fabric||(b.fabric={}),v=f.Image.filters,m=f.util.createClass;v.Contrast=m(v.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(d){if(this.contrast!==0){var g=d.imageData,h,D,C=g.data,D=C.length,S=Math.floor(this.contrast*255),k=259*(S+255)/(255*(259-S));for(h=0;h<D;h+=4)C[h]=k*(C[h]-128)+128,C[h+1]=k*(C[h+1]-128)+128,C[h+2]=k*(C[h+2]-128)+128}},getUniformLocations:function(d,g){return{uContrast:d.getUniformLocation(g,"uContrast")}},sendUniformData:function(d,g){d.uniform1f(g.uContrast,this.contrast)}}),f.Image.filters.Contrast.fromObject=f.Image.filters.BaseFilter.fromObject}(u),function(b){var f=b.fabric||(b.fabric={}),v=f.Image.filters,m=f.util.createClass;v.Saturation=m(v.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(d){if(this.saturation!==0){var g=d.imageData,h=g.data,C=h.length,D=-this.saturation,S,k;for(S=0;S<C;S+=4)k=Math.max(h[S],h[S+1],h[S+2]),h[S]+=k!==h[S]?(k-h[S])*D:0,h[S+1]+=k!==h[S+1]?(k-h[S+1])*D:0,h[S+2]+=k!==h[S+2]?(k-h[S+2])*D:0}},getUniformLocations:function(d,g){return{uSaturation:d.getUniformLocation(g,"uSaturation")}},sendUniformData:function(d,g){d.uniform1f(g.uSaturation,-this.saturation)}}),f.Image.filters.Saturation.fromObject=f.Image.filters.BaseFilter.fromObject}(u),function(b){var f=b.fabric||(b.fabric={}),v=f.Image.filters,m=f.util.createClass;v.Vibrance=m(v.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(d){if(this.vibrance!==0){var g=d.imageData,h=g.data,C=h.length,D=-this.vibrance,S,k,L,B;for(S=0;S<C;S+=4)k=Math.max(h[S],h[S+1],h[S+2]),L=(h[S]+h[S+1]+h[S+2])/3,B=Math.abs(k-L)*2/255*D,h[S]+=k!==h[S]?(k-h[S])*B:0,h[S+1]+=k!==h[S+1]?(k-h[S+1])*B:0,h[S+2]+=k!==h[S+2]?(k-h[S+2])*B:0}},getUniformLocations:function(d,g){return{uVibrance:d.getUniformLocation(g,"uVibrance")}},sendUniformData:function(d,g){d.uniform1f(g.uVibrance,-this.vibrance)}}),f.Image.filters.Vibrance.fromObject=f.Image.filters.BaseFilter.fromObject}(u),function(b){var f=b.fabric||(b.fabric={}),v=f.Image.filters,m=f.util.createClass;v.Blur=m(v.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(d){d.webgl?(this.aspectRatio=d.sourceWidth/d.sourceHeight,d.passes++,this._setupFrameBuffer(d),this.horizontal=!0,this.applyToWebGL(d),this._swapTextures(d),this._setupFrameBuffer(d),this.horizontal=!1,this.applyToWebGL(d),this._swapTextures(d)):this.applyTo2d(d)},applyTo2d:function(d){d.imageData=this.simpleBlur(d)},simpleBlur:function(d){var g=d.filterBackend.resources,h,C,D=d.imageData.width,S=d.imageData.height;g.blurLayer1||(g.blurLayer1=f.util.createCanvasElement(),g.blurLayer2=f.util.createCanvasElement()),h=g.blurLayer1,C=g.blurLayer2,(h.width!==D||h.height!==S)&&(C.width=h.width=D,C.height=h.height=S);var k=h.getContext("2d"),L=C.getContext("2d"),B=15,z,X,ee,ce,le=this.blur*.06*.5;for(k.putImageData(d.imageData,0,0),L.clearRect(0,0,D,S),ce=-B;ce<=B;ce++)z=(Math.random()-.5)/4,X=ce/B,ee=le*X*D+z,L.globalAlpha=1-Math.abs(X),L.drawImage(h,ee,z),k.drawImage(C,0,0),L.globalAlpha=1,L.clearRect(0,0,C.width,C.height);for(ce=-B;ce<=B;ce++)z=(Math.random()-.5)/4,X=ce/B,ee=le*X*S+z,L.globalAlpha=1-Math.abs(X),L.drawImage(h,z,ee),k.drawImage(C,0,0),L.globalAlpha=1,L.clearRect(0,0,C.width,C.height);d.ctx.drawImage(h,0,0);var me=d.ctx.getImageData(0,0,h.width,h.height);return k.globalAlpha=1,k.clearRect(0,0,h.width,h.height),me},getUniformLocations:function(d,g){return{delta:d.getUniformLocation(g,"uDelta")}},sendUniformData:function(d,g){var h=this.chooseRightDelta();d.uniform2fv(g.delta,h)},chooseRightDelta:function(){var d=1,g=[0,0],h;return this.horizontal?this.aspectRatio>1&&(d=1/this.aspectRatio):this.aspectRatio<1&&(d=this.aspectRatio),h=d*this.blur*.12,this.horizontal?g[0]=h:g[1]=h,g}}),v.Blur.fromObject=f.Image.filters.BaseFilter.fromObject}(u),function(b){var f=b.fabric||(b.fabric={}),v=f.Image.filters,m=f.util.createClass;v.Gamma=m(v.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(d){this.gamma=[1,1,1],v.BaseFilter.prototype.initialize.call(this,d)},applyTo2d:function(d){var g=d.imageData,h=g.data,C=this.gamma,D=h.length,S=1/C[0],k=1/C[1],L=1/C[2],B;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),B=0,D=256;B<D;B++)this.rVals[B]=Math.pow(B/255,S)*255,this.gVals[B]=Math.pow(B/255,k)*255,this.bVals[B]=Math.pow(B/255,L)*255;for(B=0,D=h.length;B<D;B+=4)h[B]=this.rVals[h[B]],h[B+1]=this.gVals[h[B+1]],h[B+2]=this.bVals[h[B+2]]},getUniformLocations:function(d,g){return{uGamma:d.getUniformLocation(g,"uGamma")}},sendUniformData:function(d,g){d.uniform3fv(g.uGamma,this.gamma)}}),f.Image.filters.Gamma.fromObject=f.Image.filters.BaseFilter.fromObject}(u),function(b){var f=b.fabric||(b.fabric={}),v=f.Image.filters,m=f.util.createClass;v.Composed=m(v.BaseFilter,{type:"Composed",subFilters:[],initialize:function(d){this.callSuper("initialize",d),this.subFilters=this.subFilters.slice(0)},applyTo:function(d){d.passes+=this.subFilters.length-1,this.subFilters.forEach(function(g){g.applyTo(d)})},toObject:function(){return f.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(d){return d.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(d){return!d.isNeutralState()})}}),f.Image.filters.Composed.fromObject=function(d,g){var h=d.subFilters||[],C=h.map(function(S){return new f.Image.filters[S.type](S)}),D=new f.Image.filters.Composed({subFilters:C});return g&&g(D),D}}(u),function(b){var f=b.fabric||(b.fabric={}),v=f.Image.filters,m=f.util.createClass;v.HueRotation=m(v.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var d=this.rotation*Math.PI,g=f.util.cos(d),h=f.util.sin(d),C=1/3,D=Math.sqrt(C)*h,S=1-g;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=g+S/3,this.matrix[1]=C*S-D,this.matrix[2]=C*S+D,this.matrix[5]=C*S+D,this.matrix[6]=g+C*S,this.matrix[7]=C*S-D,this.matrix[10]=C*S-D,this.matrix[11]=C*S+D,this.matrix[12]=g+C*S},isNeutralState:function(d){return this.calculateMatrix(),v.BaseFilter.prototype.isNeutralState.call(this,d)},applyTo:function(d){this.calculateMatrix(),v.BaseFilter.prototype.applyTo.call(this,d)}}),f.Image.filters.HueRotation.fromObject=f.Image.filters.BaseFilter.fromObject}(u),function(b){var f=b.fabric||(b.fabric={}),v=f.util.object.clone;if(f.Text){f.warn("fabric.Text is already defined");return}var m="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide".split(" ");f.Text=f.util.createClass(f.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:f.Object.prototype.stateProperties.concat(m),cacheProperties:f.Object.prototype.cacheProperties.concat(m),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(d,g){this.styles=g?g.styles||{}:{},this.text=d,this.__skipDimension=!0,this.callSuper("initialize",g),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var d=this.path;d&&(d.segmentsInfo=f.util.getPathSegmentsInfo(d.path))},getMeasuringContext:function(){return f._measuringContext||(f._measuringContext=this.canvas&&this.canvas.contextCache||f.util.createCanvasElement().getContext("2d")),f._measuringContext},_splitText:function(){var d=this._splitTextIntoLines(this.text);return this.textLines=d.lines,this._textLines=d.graphemeLines,this._unwrappedTextLines=d._unwrappedLines,this._text=d.graphemeText,d},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var d,g,h,C,D,S,k,L=0,B=this._textLines.length;L<B;L++)if(!(this.textAlign!=="justify"&&(L===B-1||this.isEndOfWrapping(L)))&&(C=0,D=this._textLines[L],g=this.getLineWidth(L),g<this.width&&(k=this.textLines[L].match(this._reSpacesAndTabs)))){h=k.length,d=(this.width-g)/h;for(var z=0,X=D.length;z<=X;z++)S=this.__charBounds[L][z],this._reSpaceAndTab.test(D[z])?(S.width+=d,S.kernedWidth+=d,S.left+=C,C+=d):S.left+=C}},isEndOfWrapping:function(d){return d===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var d=this.callSuper("_getCacheCanvasDimensions"),g=this.fontSize;return d.width+=g*d.zoomX,d.height+=g*d.zoomY,d},_render:function(d){var g=this.path;g&&!g.isNotVisible()&&g._render(d),this._setTextStyles(d),this._renderTextLinesBackground(d),this._renderTextDecoration(d,"underline"),this._renderText(d),this._renderTextDecoration(d,"overline"),this._renderTextDecoration(d,"linethrough")},_renderText:function(d){this.paintFirst==="stroke"?(this._renderTextStroke(d),this._renderTextFill(d)):(this._renderTextFill(d),this._renderTextStroke(d))},_setTextStyles:function(d,g,h){d.textBaseline="alphabetic",d.font=this._getFontDeclaration(g,h)},calcTextWidth:function(){for(var d=this.getLineWidth(0),g=1,h=this._textLines.length;g<h;g++){var C=this.getLineWidth(g);C>d&&(d=C)}return d},_renderTextLine:function(d,g,h,C,D,S){this._renderChars(d,g,h,C,D,S)},_renderTextLinesBackground:function(d){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var g,h,C=d.fillStyle,D,S,k=this._getLeftOffset(),L=this._getTopOffset(),B=0,z=0,X,ee,ce=this.path,le,me=0,je=this._textLines.length;me<je;me++){if(g=this.getHeightOfLine(me),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",me)){L+=g;continue}D=this._textLines[me],h=this._getLineLeftOffset(me),z=0,B=0,S=this.getValueOfPropertyAt(me,0,"textBackgroundColor");for(var Pe=0,it=D.length;Pe<it;Pe++)X=this.__charBounds[me][Pe],ee=this.getValueOfPropertyAt(me,Pe,"textBackgroundColor"),ce?(d.save(),d.translate(X.renderLeft,X.renderTop),d.rotate(X.angle),d.fillStyle=ee,ee&&d.fillRect(-X.width/2,-g/this.lineHeight*(1-this._fontSizeFraction),X.width,g/this.lineHeight),d.restore()):ee!==S?(le=k+h+B,this.direction==="rtl"&&(le=this.width-le-z),d.fillStyle=S,S&&d.fillRect(le,L,z,g/this.lineHeight),B=X.left,z=X.width,S=ee):z+=X.kernedWidth;ee&&!ce&&(le=k+h+B,this.direction==="rtl"&&(le=this.width-le-z),d.fillStyle=ee,d.fillRect(le,L,z,g/this.lineHeight)),L+=g}d.fillStyle=C,this._removeShadow(d)}},getFontCache:function(d){var g=d.fontFamily.toLowerCase();f.charWidthsCache[g]||(f.charWidthsCache[g]={});var h=f.charWidthsCache[g],C=d.fontStyle.toLowerCase()+"_"+(d.fontWeight+"").toLowerCase();return h[C]||(h[C]={}),h[C]},_measureChar:function(d,g,h,C){var D=this.getFontCache(g),S=this._getFontDeclaration(g),k=this._getFontDeclaration(C),L=h+d,B=S===k,z,X,ee,ce=g.fontSize/this.CACHE_FONT_SIZE,le;if(h&&D[h]!==void 0&&(ee=D[h]),D[d]!==void 0&&(le=z=D[d]),B&&D[L]!==void 0&&(X=D[L],le=X-ee),z===void 0||ee===void 0||X===void 0){var me=this.getMeasuringContext();this._setTextStyles(me,g,!0)}return z===void 0&&(le=z=me.measureText(d).width,D[d]=z),ee===void 0&&B&&h&&(ee=me.measureText(h).width,D[h]=ee),B&&X===void 0&&(X=me.measureText(L).width,D[L]=X,le=X-ee),{width:z*ce,kernedWidth:le*ce}},getHeightOfChar:function(d,g){return this.getValueOfPropertyAt(d,g,"fontSize")},measureLine:function(d){var g=this._measureLine(d);return this.charSpacing!==0&&(g.width-=this._getWidthOfCharSpacing()),g.width<0&&(g.width=0),g},_measureLine:function(d){var g=0,h,C,D=this._textLines[d],S,k,L=0,B=new Array(D.length),z=0,X,ee,ce=this.path,le=this.pathSide==="right";for(this.__charBounds[d]=B,h=0;h<D.length;h++)C=D[h],k=this._getGraphemeBox(C,d,h,S),B[h]=k,g+=k.kernedWidth,S=C;if(B[h]={left:k?k.left+k.width:0,width:0,kernedWidth:0,height:this.fontSize},ce){switch(ee=ce.segmentsInfo[ce.segmentsInfo.length-1].length,X=f.util.getPointOnPath(ce.path,0,ce.segmentsInfo),X.x+=ce.pathOffset.x,X.y+=ce.pathOffset.y,this.textAlign){case"left":z=le?ee-g:0;break;case"center":z=(ee-g)/2;break;case"right":z=le?0:ee-g;break}for(z+=this.pathStartOffset*(le?-1:1),h=le?D.length-1:0;le?h>=0:h<D.length;le?h--:h++)k=B[h],z>ee?z%=ee:z<0&&(z+=ee),this._setGraphemeOnPath(z,k,X),z+=k.kernedWidth}return{width:g,numOfSpaces:L}},_setGraphemeOnPath:function(d,g,h){var C=d+g.kernedWidth/2,D=this.path,S=f.util.getPointOnPath(D.path,C,D.segmentsInfo);g.renderLeft=S.x-h.x,g.renderTop=S.y-h.y,g.angle=S.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(d,g,h,C,D){var S=this.getCompleteStyleDeclaration(g,h),k=C?this.getCompleteStyleDeclaration(g,h-1):{},L=this._measureChar(d,S,C,k),B=L.kernedWidth,z=L.width,X;this.charSpacing!==0&&(X=this._getWidthOfCharSpacing(),z+=X,B+=X);var ee={width:z,left:0,height:S.fontSize,kernedWidth:B,deltaY:S.deltaY};if(h>0&&!D){var ce=this.__charBounds[g][h-1];ee.left=ce.left+ce.width+L.kernedWidth-L.width}return ee},getHeightOfLine:function(d){if(this.__lineHeights[d])return this.__lineHeights[d];for(var g=this._textLines[d],h=this.getHeightOfChar(d,0),C=1,D=g.length;C<D;C++)h=Math.max(this.getHeightOfChar(d,C),h);return this.__lineHeights[d]=h*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var d,g=0,h=0,C=this._textLines.length;h<C;h++)d=this.getHeightOfLine(h),g+=h===C-1?d/this.lineHeight:d;return g},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(d,g){d.save();for(var h=0,C=this._getLeftOffset(),D=this._getTopOffset(),S=0,k=this._textLines.length;S<k;S++){var L=this.getHeightOfLine(S),B=L/this.lineHeight,z=this._getLineLeftOffset(S);this._renderTextLine(g,d,this._textLines[S],C+z,D+h+B,S),h+=L}d.restore()},_renderTextFill:function(d){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(d,"fillText")},_renderTextStroke:function(d){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(d),d.save(),this._setLineDash(d,this.strokeDashArray),d.beginPath(),this._renderTextCommon(d,"strokeText"),d.closePath(),d.restore())},_renderChars:function(d,g,h,C,D,S){var k=this.getHeightOfLine(S),L=this.textAlign.indexOf("justify")!==-1,B,z,X="",ee,ce=0,le,me=this.path,je=!L&&this.charSpacing===0&&this.isEmptyStyles(S)&&!me,Pe=this.direction==="ltr",it=this.direction==="ltr"?1:-1,Te;if(g.save(),D-=k*this._fontSizeFraction/this.lineHeight,je){g.canvas.setAttribute("dir",Pe?"ltr":"rtl"),g.direction=Pe?"ltr":"rtl",g.textAlign=Pe?"left":"right",this._renderChar(d,g,S,0,h.join(""),C,D,k),g.restore();return}for(var lt=0,he=h.length-1;lt<=he;lt++)le=lt===he||this.charSpacing||me,X+=h[lt],ee=this.__charBounds[S][lt],ce===0?(C+=it*(ee.kernedWidth-ee.width),ce+=ee.width):ce+=ee.kernedWidth,L&&!le&&this._reSpaceAndTab.test(h[lt])&&(le=!0),le||(B=B||this.getCompleteStyleDeclaration(S,lt),z=this.getCompleteStyleDeclaration(S,lt+1),le=this._hasStyleChanged(B,z)),le&&(me?(g.save(),g.translate(ee.renderLeft,ee.renderTop),g.rotate(ee.angle),this._renderChar(d,g,S,lt,X,-ce/2,0,k),g.restore()):(Te=C,g.canvas.setAttribute("dir",Pe?"ltr":"rtl"),g.direction=Pe?"ltr":"rtl",g.textAlign=Pe?"left":"right",this._renderChar(d,g,S,lt,X,Te,D,k)),X="",B=z,C+=it*ce,ce=0);g.restore()},_applyPatternGradientTransformText:function(d){var g=f.util.createCanvasElement(),h,C=this.width+this.strokeWidth,D=this.height+this.strokeWidth;return g.width=C,g.height=D,h=g.getContext("2d"),h.beginPath(),h.moveTo(0,0),h.lineTo(C,0),h.lineTo(C,D),h.lineTo(0,D),h.closePath(),h.translate(C/2,D/2),h.fillStyle=d.toLive(h),this._applyPatternGradientTransform(h,d),h.fill(),h.createPattern(g,"no-repeat")},handleFiller:function(d,g,h){var C,D;return h.toLive?h.gradientUnits==="percentage"||h.gradientTransform||h.patternTransform?(C=-this.width/2,D=-this.height/2,d.translate(C,D),d[g]=this._applyPatternGradientTransformText(h),{offsetX:C,offsetY:D}):(d[g]=h.toLive(d,this),this._applyPatternGradientTransform(d,h)):(d[g]=h,{offsetX:0,offsetY:0})},_setStrokeStyles:function(d,g){return d.lineWidth=g.strokeWidth,d.lineCap=this.strokeLineCap,d.lineDashOffset=this.strokeDashOffset,d.lineJoin=this.strokeLineJoin,d.miterLimit=this.strokeMiterLimit,this.handleFiller(d,"strokeStyle",g.stroke)},_setFillStyles:function(d,g){return this.handleFiller(d,"fillStyle",g.fill)},_renderChar:function(d,g,h,C,D,S,k){var L=this._getStyleDeclaration(h,C),B=this.getCompleteStyleDeclaration(h,C),z=d==="fillText"&&B.fill,X=d==="strokeText"&&B.stroke&&B.strokeWidth,ee,ce;!X&&!z||(g.save(),z&&(ee=this._setFillStyles(g,B)),X&&(ce=this._setStrokeStyles(g,B)),g.font=this._getFontDeclaration(B),L&&L.textBackgroundColor&&this._removeShadow(g),L&&L.deltaY&&(k+=L.deltaY),z&&g.fillText(D,S-ee.offsetX,k-ee.offsetY),X&&g.strokeText(D,S-ce.offsetX,k-ce.offsetY),g.restore())},setSuperscript:function(d,g){return this._setScript(d,g,this.superscript)},setSubscript:function(d,g){return this._setScript(d,g,this.subscript)},_setScript:function(d,g,h){var C=this.get2DCursorLocation(d,!0),D=this.getValueOfPropertyAt(C.lineIndex,C.charIndex,"fontSize"),S=this.getValueOfPropertyAt(C.lineIndex,C.charIndex,"deltaY"),k={fontSize:D*h.size,deltaY:S+D*h.baseline};return this.setSelectionStyles(k,d,g),this},_hasStyleChanged:function(d,g){return d.fill!==g.fill||d.stroke!==g.stroke||d.strokeWidth!==g.strokeWidth||d.fontSize!==g.fontSize||d.fontFamily!==g.fontFamily||d.fontWeight!==g.fontWeight||d.fontStyle!==g.fontStyle||d.deltaY!==g.deltaY},_hasStyleChangedForSvg:function(d,g){return this._hasStyleChanged(d,g)||d.overline!==g.overline||d.underline!==g.underline||d.linethrough!==g.linethrough},_getLineLeftOffset:function(d){var g=this.getLineWidth(d),h=this.width-g,C=this.textAlign,D=this.direction,k,S=0,k=this.isEndOfWrapping(d);return C==="justify"||C==="justify-center"&&!k||C==="justify-right"&&!k||C==="justify-left"&&!k?0:(C==="center"&&(S=h/2),C==="right"&&(S=h),C==="justify-center"&&(S=h/2),C==="justify-right"&&(S=h),D==="rtl"&&(S-=h),S)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var d=this._forceClearCache;return d||(d=this.hasStateChanged("_dimensionAffectingProps")),d&&(this.dirty=!0,this._forceClearCache=!1),d},getLineWidth:function(d){if(this.__lineWidths[d])return this.__lineWidths[d];var g,h=this._textLines[d],C;return h===""?g=0:(C=this.measureLine(d),g=C.width),this.__lineWidths[d]=g,g},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(d,g,h){var C=this._getStyleDeclaration(d,g);return C&&typeof C[h]<"u"?C[h]:this[h]},_renderTextDecoration:function(d,g){if(!(!this[g]&&!this.styleHas(g))){for(var h,C,D,S,k,L,B,z,X=this._getLeftOffset(),ee=this._getTopOffset(),ce,le,me,je,Pe,it,Te,lt,he=this.path,Dt=this._getWidthOfCharSpacing(),Ke=this.offsets[g],Mt=0,Me=this._textLines.length;Mt<Me;Mt++){if(h=this.getHeightOfLine(Mt),!this[g]&&!this.styleHas(g,Mt)){ee+=h;continue}B=this._textLines[Mt],it=h/this.lineHeight,S=this._getLineLeftOffset(Mt),le=0,me=0,z=this.getValueOfPropertyAt(Mt,0,g),lt=this.getValueOfPropertyAt(Mt,0,"fill"),ce=ee+it*(1-this._fontSizeFraction),C=this.getHeightOfChar(Mt,0),k=this.getValueOfPropertyAt(Mt,0,"deltaY");for(var Be=0,Oe=B.length;Be<Oe;Be++)if(je=this.__charBounds[Mt][Be],Pe=this.getValueOfPropertyAt(Mt,Be,g),Te=this.getValueOfPropertyAt(Mt,Be,"fill"),D=this.getHeightOfChar(Mt,Be),L=this.getValueOfPropertyAt(Mt,Be,"deltaY"),he&&Pe&&Te)d.save(),d.fillStyle=lt,d.translate(je.renderLeft,je.renderTop),d.rotate(je.angle),d.fillRect(-je.kernedWidth/2,Ke*D+L,je.kernedWidth,this.fontSize/15),d.restore();else if((Pe!==z||Te!==lt||D!==C||L!==k)&&me>0){var Se=X+S+le;this.direction==="rtl"&&(Se=this.width-Se-me),z&&lt&&(d.fillStyle=lt,d.fillRect(Se,ce+Ke*C+k,me,this.fontSize/15)),le=je.left,me=je.width,z=Pe,lt=Te,C=D,k=L}else me+=je.kernedWidth;var Se=X+S+le;this.direction==="rtl"&&(Se=this.width-Se-me),d.fillStyle=Te,Pe&&Te&&d.fillRect(Se,ce+Ke*C+k,me-Dt,this.fontSize/15),ee+=h}this._removeShadow(d)}},_getFontDeclaration:function(d,g){var h=d||this,C=this.fontFamily,D=f.Text.genericFonts.indexOf(C.toLowerCase())>-1,S=C===void 0||C.indexOf("'")>-1||C.indexOf(",")>-1||C.indexOf('"')>-1||D?h.fontFamily:'"'+h.fontFamily+'"';return[f.isLikelyNode?h.fontWeight:h.fontStyle,f.isLikelyNode?h.fontStyle:h.fontWeight,g?this.CACHE_FONT_SIZE+"px":h.fontSize+"px",S].join(" ")},render:function(d){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",d))},_splitTextIntoLines:function(d){for(var g=d.split(this._reNewline),h=new Array(g.length),C=[`
`],D=[],S=0;S<g.length;S++)h[S]=f.util.string.graphemeSplit(g[S]),D=D.concat(h[S],C);return D.pop(),{_unwrappedLines:h,lines:g,graphemeText:D,graphemeLines:h}},toObject:function(d){var g=m.concat(d),h=this.callSuper("toObject",g);return h.styles=v(this.styles,!0),h.path&&(h.path=this.path.toObject()),h},set:function(d,g){this.callSuper("set",d,g);var h=!1,C=!1;if(typeof d=="object")for(var D in d)D==="path"&&this.setPathInfo(),h=h||this._dimensionAffectingProps.indexOf(D)!==-1,C=C||D==="path";else h=this._dimensionAffectingProps.indexOf(d)!==-1,C=d==="path";return C&&this.setPathInfo(),h&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),f.Text.ATTRIBUTE_NAMES=f.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),f.Text.DEFAULT_SVG_FONT_SIZE=16,f.Text.fromElement=function(d,g,h){if(!d)return g(null);var C=f.parseAttributes(d,f.Text.ATTRIBUTE_NAMES),D=C.textAnchor||"left";if(h=f.util.object.extend(h?v(h):{},C),h.top=h.top||0,h.left=h.left||0,C.textDecoration){var S=C.textDecoration;S.indexOf("underline")!==-1&&(h.underline=!0),S.indexOf("overline")!==-1&&(h.overline=!0),S.indexOf("line-through")!==-1&&(h.linethrough=!0),delete h.textDecoration}"dx"in C&&(h.left+=C.dx),"dy"in C&&(h.top+=C.dy),"fontSize"in h||(h.fontSize=f.Text.DEFAULT_SVG_FONT_SIZE);var k="";"textContent"in d?k=d.textContent:"firstChild"in d&&d.firstChild!==null&&"data"in d.firstChild&&d.firstChild.data!==null&&(k=d.firstChild.data),k=k.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var L=h.strokeWidth;h.strokeWidth=0;var B=new f.Text(k,h),z=B.getScaledHeight()/B.height,X=(B.height+B.strokeWidth)*B.lineHeight-B.height,ee=X*z,ce=B.getScaledHeight()+ee,le=0;D==="center"&&(le=B.getScaledWidth()/2),D==="right"&&(le=B.getScaledWidth()),B.set({left:B.left-le,top:B.top-(ce-B.fontSize*(.07+B._fontSizeFraction))/B.lineHeight,strokeWidth:typeof L<"u"?L:1}),g(B)},f.Text.fromObject=function(d,g){var h=v(d),C=d.path;return delete h.path,f.Object._fromObject("Text",h,function(D){C?f.Object._fromObject("Path",C,function(S){D.set("path",S),g(D)},"path"):g(D)},"text")},f.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],f.util.createAccessors&&f.util.createAccessors(f.Text)}(u),function(){l.util.object.extend(l.Text.prototype,{isEmptyStyles:function(b){if(!this.styles||typeof b<"u"&&!this.styles[b])return!0;var f=typeof b>"u"?this.styles:{line:this.styles[b]};for(var v in f)for(var m in f[v])for(var d in f[v][m])return!1;return!0},styleHas:function(b,f){if(!this.styles||!b||b===""||typeof f<"u"&&!this.styles[f])return!1;var v=typeof f>"u"?this.styles:{0:this.styles[f]};for(var m in v)for(var d in v[m])if(typeof v[m][d][b]<"u")return!0;return!1},cleanStyle:function(b){if(!this.styles||!b||b==="")return!1;var f=this.styles,v=0,m,d,g=!0,h=0,C;for(var D in f){m=0;for(var S in f[D]){var C=f[D][S],k=C.hasOwnProperty(b);v++,k?(d?C[b]!==d&&(g=!1):d=C[b],C[b]===this[b]&&delete C[b]):g=!1,Object.keys(C).length!==0?m++:delete f[D][S]}m===0&&delete f[D]}for(var L=0;L<this._textLines.length;L++)h+=this._textLines[L].length;g&&v===h&&(this[b]=d,this.removeStyle(b))},removeStyle:function(b){if(!(!this.styles||!b||b==="")){var f=this.styles,v,m,d;for(m in f){v=f[m];for(d in v)delete v[d][b],Object.keys(v[d]).length===0&&delete v[d];Object.keys(v).length===0&&delete f[m]}}},_extendStyles:function(b,f){var v=this.get2DCursorLocation(b);this._getLineStyle(v.lineIndex)||this._setLineStyle(v.lineIndex),this._getStyleDeclaration(v.lineIndex,v.charIndex)||this._setStyleDeclaration(v.lineIndex,v.charIndex,{}),l.util.object.extend(this._getStyleDeclaration(v.lineIndex,v.charIndex),f)},get2DCursorLocation:function(b,f){typeof b>"u"&&(b=this.selectionStart);for(var v=f?this._unwrappedTextLines:this._textLines,m=v.length,d=0;d<m;d++){if(b<=v[d].length)return{lineIndex:d,charIndex:b};b-=v[d].length+this.missingNewlineOffset(d)}return{lineIndex:d-1,charIndex:v[d-1].length<b?v[d-1].length:b}},getSelectionStyles:function(b,f,v){typeof b>"u"&&(b=this.selectionStart||0),typeof f>"u"&&(f=this.selectionEnd||b);for(var m=[],d=b;d<f;d++)m.push(this.getStyleAtPosition(d,v));return m},getStyleAtPosition:function(b,f){var v=this.get2DCursorLocation(b),m=f?this.getCompleteStyleDeclaration(v.lineIndex,v.charIndex):this._getStyleDeclaration(v.lineIndex,v.charIndex);return m||{}},setSelectionStyles:function(b,f,v){typeof f>"u"&&(f=this.selectionStart||0),typeof v>"u"&&(v=this.selectionEnd||f);for(var m=f;m<v;m++)this._extendStyles(m,b);return this._forceClearCache=!0,this},_getStyleDeclaration:function(b,f){var v=this.styles&&this.styles[b];return v?v[f]:null},getCompleteStyleDeclaration:function(b,f){for(var v=this._getStyleDeclaration(b,f)||{},m={},d,g=0;g<this._styleProperties.length;g++)d=this._styleProperties[g],m[d]=typeof v[d]>"u"?this[d]:v[d];return m},_setStyleDeclaration:function(b,f,v){this.styles[b][f]=v},_deleteStyleDeclaration:function(b,f){delete this.styles[b][f]},_getLineStyle:function(b){return!!this.styles[b]},_setLineStyle:function(b){this.styles[b]={}},_deleteLineStyle:function(b){delete this.styles[b]}})}(),function(){function b(f){f.textDecoration&&(f.textDecoration.indexOf("underline")>-1&&(f.underline=!0),f.textDecoration.indexOf("line-through")>-1&&(f.linethrough=!0),f.textDecoration.indexOf("overline")>-1&&(f.overline=!0),delete f.textDecoration)}l.IText=l.util.createClass(l.Text,l.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(f,v){this.callSuper("initialize",f,v),this.initBehavior()},setSelectionStart:function(f){f=Math.max(f,0),this._updateAndFire("selectionStart",f)},setSelectionEnd:function(f){f=Math.min(f,this.text.length),this._updateAndFire("selectionEnd",f)},_updateAndFire:function(f,v){this[f]!==v&&(this._fireSelectionChanged(),this[f]=v),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(f){this.clearContextTop(),this.callSuper("render",f),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(f){this.callSuper("_render",f)},clearContextTop:function(f){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var v=this.canvas.contextTop,m=this.canvas.viewportTransform;v.save(),v.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this.transform(v),this._clearTextArea(v),f||v.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var f=this._getCursorBoundaries(),v=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(f,v):this.renderSelection(f,v),v.restore()}},_clearTextArea:function(f){var v=this.width+4,m=this.height+4;f.clearRect(-v/2,-m/2,v,m)},_getCursorBoundaries:function(f){typeof f>"u"&&(f=this.selectionStart);var v=this._getLeftOffset(),m=this._getTopOffset(),d=this._getCursorBoundariesOffsets(f);return{left:v,top:m,leftOffset:d.left,topOffset:d.top}},_getCursorBoundariesOffsets:function(f){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var v,m,d,g=0,h=0,C,D=this.get2DCursorLocation(f);d=D.charIndex,m=D.lineIndex;for(var S=0;S<m;S++)g+=this.getHeightOfLine(S);v=this._getLineLeftOffset(m);var k=this.__charBounds[m][d];return k&&(h=k.left),this.charSpacing!==0&&d===this._textLines[m].length&&(h-=this._getWidthOfCharSpacing()),C={top:g,left:v+(h>0?h:0)},this.direction==="rtl"&&(C.left*=-1),this.cursorOffsetCache=C,this.cursorOffsetCache},renderCursor:function(f,v){var m=this.get2DCursorLocation(),d=m.lineIndex,g=m.charIndex>0?m.charIndex-1:0,h=this.getValueOfPropertyAt(d,g,"fontSize"),C=this.scaleX*this.canvas.getZoom(),D=this.cursorWidth/C,S=f.topOffset,k=this.getValueOfPropertyAt(d,g,"deltaY");S+=(1-this._fontSizeFraction)*this.getHeightOfLine(d)/this.lineHeight-h*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(f,v),v.fillStyle=this.cursorColor||this.getValueOfPropertyAt(d,g,"fill"),v.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,v.fillRect(f.left+f.leftOffset-D/2,S+f.top+k,D,h)},renderSelection:function(f,v){for(var m=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,d=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,g=this.textAlign.indexOf("justify")!==-1,h=this.get2DCursorLocation(m),C=this.get2DCursorLocation(d),D=h.lineIndex,S=C.lineIndex,k=h.charIndex<0?0:h.charIndex,L=C.charIndex<0?0:C.charIndex,B=D;B<=S;B++){var z=this._getLineLeftOffset(B)||0,X=this.getHeightOfLine(B),ee=0,ce=0,le=0;if(B===D&&(ce=this.__charBounds[D][k].left),B>=D&&B<S)le=g&&!this.isEndOfWrapping(B)?this.width:this.getLineWidth(B)||5;else if(B===S)if(L===0)le=this.__charBounds[S][L].left;else{var me=this._getWidthOfCharSpacing();le=this.__charBounds[S][L-1].left+this.__charBounds[S][L-1].width-me}ee=X,(this.lineHeight<1||B===S&&this.lineHeight>1)&&(X/=this.lineHeight);var je=f.left+z+ce,Pe=le-ce,it=X,Te=0;this.inCompositionMode?(v.fillStyle=this.compositionColor||"black",it=1,Te=X):v.fillStyle=this.selectionColor,this.direction==="rtl"&&(je=this.width-je-Pe),v.fillRect(je,f.top+f.topOffset+Te,Pe,it),f.topOffset+=ee}},getCurrentCharFontSize:function(){var f=this._getCurrentCharIndex();return this.getValueOfPropertyAt(f.l,f.c,"fontSize")},getCurrentCharColor:function(){var f=this._getCurrentCharIndex();return this.getValueOfPropertyAt(f.l,f.c,"fill")},_getCurrentCharIndex:function(){var f=this.get2DCursorLocation(this.selectionStart,!0),v=f.charIndex>0?f.charIndex-1:0;return{l:f.lineIndex,c:v}}}),l.IText.fromObject=function(f,v){if(b(f),f.styles)for(var m in f.styles)for(var d in f.styles[m])b(f.styles[m][d]);l.Object._fromObject("IText",f,v,"text")}}(),function(){var b=l.util.object.clone;l.util.object.extend(l.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var f=this;this.on("added",function(){var v=f.canvas;v&&(v._hasITextHandlers||(v._hasITextHandlers=!0,f._initCanvasHandlers(v)),v._iTextInstances=v._iTextInstances||[],v._iTextInstances.push(f))})},initRemovedHandler:function(){var f=this;this.on("removed",function(){var v=f.canvas;v&&(v._iTextInstances=v._iTextInstances||[],l.util.removeFromArray(v._iTextInstances,f),v._iTextInstances.length===0&&(v._hasITextHandlers=!1,f._removeCanvasHandlers(v)))})},_initCanvasHandlers:function(f){f._mouseUpITextHandler=function(){f._iTextInstances&&f._iTextInstances.forEach(function(v){v.__isMousedown=!1})},f.on("mouse:up",f._mouseUpITextHandler)},_removeCanvasHandlers:function(f){f.off("mouse:up",f._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(f,v,m,d){var g;return g={isAborted:!1,abort:function(){this.isAborted=!0}},f.animate("_currentCursorOpacity",v,{duration:m,onComplete:function(){g.isAborted||f[d]()},onChange:function(){f.canvas&&f.selectionStart===f.selectionEnd&&f.renderCursorOrSelection()},abort:function(){return g.isAborted}}),g},_onTickComplete:function(){var f=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){f._currentTickCompleteState=f._animateCursor(f,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(f){var v=this,m=f?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){v._tick()},m)},abortCursorAnimation:function(){var f=this._currentTickState||this._currentTickCompleteState,v=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,f&&v&&v.clearContext(v.contextTop||v.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(f){var v=0,m=f-1;if(this._reSpace.test(this._text[m]))for(;this._reSpace.test(this._text[m]);)v++,m--;for(;/\S/.test(this._text[m])&&m>-1;)v++,m--;return f-v},findWordBoundaryRight:function(f){var v=0,m=f;if(this._reSpace.test(this._text[m]))for(;this._reSpace.test(this._text[m]);)v++,m++;for(;/\S/.test(this._text[m])&&m<this._text.length;)v++,m++;return f+v},findLineBoundaryLeft:function(f){for(var v=0,m=f-1;!/\n/.test(this._text[m])&&m>-1;)v++,m--;return f-v},findLineBoundaryRight:function(f){for(var v=0,m=f;!/\n/.test(this._text[m])&&m<this._text.length;)v++,m++;return f+v},searchWordBoundary:function(f,v){for(var m=this._text,d=this._reSpace.test(m[f])?f-1:f,g=m[d],h=l.reNonWord;!h.test(g)&&d>0&&d<m.length;)d+=v,g=m[d];return h.test(g)&&(d+=v===1?0:1),d},selectWord:function(f){f=f||this.selectionStart;var v=this.searchWordBoundary(f,-1),m=this.searchWordBoundary(f,1);this.selectionStart=v,this.selectionEnd=m,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(f){f=f||this.selectionStart;var v=this.findLineBoundaryLeft(f),m=this.findLineBoundaryRight(f);return this.selectionStart=v,this.selectionEnd=m,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(f){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(f),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(f){f._iTextInstances&&f._iTextInstances.forEach(function(v){v.selected=!1,v.isEditing&&v.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(f){if(!(!this.__isMousedown||!this.isEditing)){var v=this.getSelectionStartFromPointer(f.e),m=this.selectionStart,d=this.selectionEnd;(v!==this.__selectionStartOnMouseDown||m===d)&&(m===v||d===v)||(v>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=v):(this.selectionStart=v,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==m||this.selectionEnd!==d)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(f,v,m){var d=m.slice(0,f),g=l.util.string.graphemeSplit(d).length;if(f===v)return{selectionStart:g,selectionEnd:g};var h=m.slice(f,v),C=l.util.string.graphemeSplit(h).length;return{selectionStart:g,selectionEnd:g+C}},fromGraphemeToStringSelection:function(f,v,m){var d=m.slice(0,f),g=d.join("").length;if(f===v)return{selectionStart:g,selectionEnd:g};var h=m.slice(f,v),C=h.join("").length;return{selectionStart:g,selectionEnd:g+C}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var f=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=f.selectionStart,this.hiddenTextarea.selectionEnd=f.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(!!this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var f=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=f.selectionEnd,this.inCompositionMode||(this.selectionStart=f.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var f=this._calcTextareaPosition();this.hiddenTextarea.style.left=f.left,this.hiddenTextarea.style.top=f.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var f=this.inCompositionMode?this.compositionStart:this.selectionStart,v=this._getCursorBoundaries(f),m=this.get2DCursorLocation(f),d=m.lineIndex,g=m.charIndex,h=this.getValueOfPropertyAt(d,g,"fontSize")*this.lineHeight,C=v.leftOffset,D=this.calcTransformMatrix(),S={x:v.left+C,y:v.top+v.topOffset+h},k=this.canvas.getRetinaScaling(),L=this.canvas.upperCanvasEl,B=L.width/k,z=L.height/k,X=B-h,ee=z-h,ce=L.clientWidth/B,le=L.clientHeight/z;return S=l.util.transformPoint(S,D),S=l.util.transformPoint(S,this.canvas.viewportTransform),S.x*=ce,S.y*=le,S.x<0&&(S.x=0),S.x>X&&(S.x=X),S.y<0&&(S.y=0),S.y>ee&&(S.y=ee),S.x+=this.canvas._offset.left,S.y+=this.canvas._offset.top,{left:S.x+"px",top:S.y+"px",fontSize:h+"px",charHeight:h}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var f=this._textBeforeEdit!==this.text,v=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,v&&(v.blur&&v.blur(),v.parentNode&&v.parentNode.removeChild(v)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),f&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),f&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var f in this.styles)this._textLines[f]||delete this.styles[f]},removeStyleFromTo:function(f,v){var m=this.get2DCursorLocation(f,!0),d=this.get2DCursorLocation(v,!0),g=m.lineIndex,h=m.charIndex,C=d.lineIndex,D=d.charIndex,S,k;if(g!==C){if(this.styles[g])for(S=h;S<this._unwrappedTextLines[g].length;S++)delete this.styles[g][S];if(this.styles[C])for(S=D;S<this._unwrappedTextLines[C].length;S++)k=this.styles[C][S],k&&(this.styles[g]||(this.styles[g]={}),this.styles[g][h+S-D]=k);for(S=g+1;S<=C;S++)delete this.styles[S];this.shiftLineStyles(C,g-C)}else if(this.styles[g]){k=this.styles[g];var L=D-h,B,z;for(S=h;S<D;S++)delete k[S];for(z in this.styles[g])B=parseInt(z,10),B>=D&&(k[B-L]=k[z],delete k[z])}},shiftLineStyles:function(f,v){var m=b(this.styles);for(var d in this.styles){var g=parseInt(d,10);g>f&&(this.styles[g+v]=m[g],m[g-v]||delete this.styles[g])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(f,v,m,d){var g,h={},C=!1,D=this._unwrappedTextLines[f].length===v;m||(m=1),this.shiftLineStyles(f,m),this.styles[f]&&(g=this.styles[f][v===0?v:v-1]);for(var S in this.styles[f]){var k=parseInt(S,10);k>=v&&(C=!0,h[k-v]=this.styles[f][S],D&&v===0||delete this.styles[f][S])}var L=!1;for(C&&!D&&(this.styles[f+m]=h,L=!0),L&&m--;m>0;)d&&d[m-1]?this.styles[f+m]={0:b(d[m-1])}:g?this.styles[f+m]={0:b(g)}:delete this.styles[f+m],m--;this._forceClearCache=!0},insertCharStyleObject:function(f,v,m,d){this.styles||(this.styles={});var g=this.styles[f],h=g?b(g):{};m||(m=1);for(var C in h){var D=parseInt(C,10);D>=v&&(g[D+m]=h[D],h[D-m]||delete g[D])}if(this._forceClearCache=!0,d){for(;m--;)!Object.keys(d[m]).length||(this.styles[f]||(this.styles[f]={}),this.styles[f][v+m]=b(d[m]));return}if(!!g)for(var S=g[v?v-1:1];S&&m--;)this.styles[f][v+m]=b(S)},insertNewStyleBlock:function(f,v,m){for(var d=this.get2DCursorLocation(v,!0),g=[0],h=0,C=0;C<f.length;C++)f[C]===`
`?(h++,g[h]=0):g[h]++;g[0]>0&&(this.insertCharStyleObject(d.lineIndex,d.charIndex,g[0],m),m=m&&m.slice(g[0]+1)),h&&this.insertNewlineStyleObject(d.lineIndex,d.charIndex+g[0],h);for(var C=1;C<h;C++)g[C]>0?this.insertCharStyleObject(d.lineIndex+C,0,g[C],m):m&&(this.styles[d.lineIndex+C][0]=m[0]),m=m&&m.slice(g[C]+1);g[C]>0&&this.insertCharStyleObject(d.lineIndex+C,0,g[C],m)},setSelectionStartEndWithShift:function(f,v,m){m<=f?(v===f?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=f),this.selectionStart=m):m>f&&m<v?this._selectionDirection==="right"?this.selectionEnd=m:this.selectionStart=m:(v===f?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=v),this.selectionEnd=m)},setSelectionInBoundaries:function(){var f=this.text.length;this.selectionStart>f?this.selectionStart=f:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>f?this.selectionEnd=f:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),l.util.object.extend(l.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(b){if(!!this.canvas){this.__newClickTime=+new Date;var f=b.pointer;this.isTripleClick(f)&&(this.fire("tripleclick",b),this._stopEvent(b.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=f,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(b){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===b.x&&this.__lastPointer.y===b.y},_stopEvent:function(b){b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(b){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(b.e))},tripleClickHandler:function(b){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(b.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(b){!this.canvas||!this.editable||b.e.button&&b.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(b.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(b){!this.canvas||!this.editable||b.e.button&&b.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(b){if(this.__isMousedown=!1,!(!this.editable||this.group||b.transform&&b.transform.actionPerformed||b.e.button&&b.e.button!==1)){if(this.canvas){var f=this.canvas._activeObject;if(f&&f!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(b.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(b){var f=this.getSelectionStartFromPointer(b),v=this.selectionStart,m=this.selectionEnd;b.shiftKey?this.setSelectionStartEndWithShift(v,m,f):(this.selectionStart=f,this.selectionEnd=f),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(b){for(var f=this.getLocalPointer(b),v=0,m=0,d=0,g=0,h=0,C,D,S=0,k=this._textLines.length;S<k&&d<=f.y;S++)d+=this.getHeightOfLine(S)*this.scaleY,h=S,S>0&&(g+=this._textLines[S-1].length+this.missingNewlineOffset(S-1));C=this._getLineLeftOffset(h),m=C*this.scaleX,D=this._textLines[h],this.direction==="rtl"&&(f.x=this.width*this.scaleX-f.x+m);for(var L=0,B=D.length;L<B&&(v=m,m+=this.__charBounds[h][L].kernedWidth*this.scaleX,m<=f.x);L++)g++;return this._getNewSelectionStartFromOffset(f,v,m,g,B)},_getNewSelectionStartFromOffset:function(b,f,v,m,d){var g=b.x-f,h=v-b.x,C=h>g||h<0?0:1,D=m+C;return this.flipX&&(D=d-D),D>this._text.length&&(D=this._text.length),D}}),l.util.object.extend(l.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=l.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var b=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+b.top+"; left: "+b.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uFF70top: "+b.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):l.document.body.appendChild(this.hiddenTextarea),l.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),l.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),l.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),l.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),l.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),l.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),l.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),l.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),l.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(l.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(b){if(!!this.isEditing){var f=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(b.keyCode in f)this[f[b.keyCode]](b);else if(b.keyCode in this.ctrlKeysMapDown&&(b.ctrlKey||b.metaKey))this[this.ctrlKeysMapDown[b.keyCode]](b);else return;b.stopImmediatePropagation(),b.preventDefault(),b.keyCode>=33&&b.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(b){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(b.keyCode in this.ctrlKeysMapUp&&(b.ctrlKey||b.metaKey))this[this.ctrlKeysMapUp[b.keyCode]](b);else return;b.stopImmediatePropagation(),b.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(b){var f=this.fromPaste;if(this.fromPaste=!1,b&&b.stopPropagation(),!!this.isEditing){var v=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,m=this._text.length,d=v.length,g,h,C=d-m,D=this.selectionStart,S=this.selectionEnd,k=D!==S,L,B,z;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var X=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),ee=D>X.selectionStart;k?(g=this._text.slice(D,S),C+=S-D):d<m&&(ee?g=this._text.slice(S+C,S):g=this._text.slice(D,D-C)),h=v.slice(X.selectionEnd-C,X.selectionEnd),g&&g.length&&(h.length&&(L=this.getSelectionStyles(D,D+1,!1),L=h.map(function(){return L[0]})),k?(B=D,z=S):ee?(B=S-g.length,z=S):(B=S,z=S+g.length),this.removeStyleFromTo(B,z)),h.length&&(f&&h.join("")===l.copiedText&&!l.disableStyleCopyPaste&&(L=l.copiedTextStyle),this.insertNewStyleBlock(h,D,L)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(b){this.compositionStart=b.target.selectionStart,this.compositionEnd=b.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(l.copiedText=this.getSelectedText(),l.disableStyleCopyPaste?l.copiedTextStyle=null:l.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(b){return b&&b.clipboardData||l.window.clipboardData},_getWidthBeforeCursor:function(b,f){var v=this._getLineLeftOffset(b),m;return f>0&&(m=this.__charBounds[b][f-1],v+=m.left+m.width),v},getDownCursorOffset:function(b,f){var v=this._getSelectionForOffset(b,f),m=this.get2DCursorLocation(v),d=m.lineIndex;if(d===this._textLines.length-1||b.metaKey||b.keyCode===34)return this._text.length-v;var g=m.charIndex,h=this._getWidthBeforeCursor(d,g),C=this._getIndexOnLine(d+1,h),D=this._textLines[d].slice(g);return D.length+C+1+this.missingNewlineOffset(d)},_getSelectionForOffset:function(b,f){return b.shiftKey&&this.selectionStart!==this.selectionEnd&&f?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(b,f){var v=this._getSelectionForOffset(b,f),m=this.get2DCursorLocation(v),d=m.lineIndex;if(d===0||b.metaKey||b.keyCode===33)return-v;var g=m.charIndex,h=this._getWidthBeforeCursor(d,g),C=this._getIndexOnLine(d-1,h),D=this._textLines[d].slice(0,g),S=this.missingNewlineOffset(d-1);return-this._textLines[d-1].length+C-D.length+(1-S)},_getIndexOnLine:function(b,f){for(var v=this._textLines[b],m=this._getLineLeftOffset(b),d=m,g=0,h,C,D=0,S=v.length;D<S;D++)if(h=this.__charBounds[b][D].width,d+=h,d>f){C=!0;var k=d-h,L=d,B=Math.abs(k-f),z=Math.abs(L-f);g=z<B?D:D-1;break}return C||(g=v.length-1),g},moveCursorDown:function(b){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",b)},moveCursorUp:function(b){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",b)},_moveCursorUpOrDown:function(b,f){var v="get"+b+"CursorOffset",m=this[v](f,this._selectionDirection==="right");f.shiftKey?this.moveCursorWithShift(m):this.moveCursorWithoutShift(m),m!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(b){var f=this._selectionDirection==="left"?this.selectionStart+b:this.selectionEnd+b;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,f),b!==0},moveCursorWithoutShift:function(b){return b<0?(this.selectionStart+=b,this.selectionEnd=this.selectionStart):(this.selectionEnd+=b,this.selectionStart=this.selectionEnd),b!==0},moveCursorLeft:function(b){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",b)},_move:function(b,f,v){var m;if(b.altKey)m=this["findWordBoundary"+v](this[f]);else if(b.metaKey||b.keyCode===35||b.keyCode===36)m=this["findLineBoundary"+v](this[f]);else return this[f]+=v==="Left"?-1:1,!0;if(typeof m!==void 0&&this[f]!==m)return this[f]=m,!0},_moveLeft:function(b,f){return this._move(b,f,"Left")},_moveRight:function(b,f){return this._move(b,f,"Right")},moveCursorLeftWithoutShift:function(b){var f=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(f=this._moveLeft(b,"selectionStart")),this.selectionEnd=this.selectionStart,f},moveCursorLeftWithShift:function(b){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(b,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(b,"selectionStart")},moveCursorRight:function(b){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",b)},_moveCursorLeftOrRight:function(b,f){var v="moveCursor"+b+"With";this._currentCursorOpacity=1,f.shiftKey?v+="Shift":v+="outShift",this[v](f)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(b){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(b,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(b,"selectionEnd")},moveCursorRightWithoutShift:function(b){var f=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(f=this._moveRight(b,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,f},removeChars:function(b,f){typeof f>"u"&&(f=b+1),this.removeStyleFromTo(b,f),this._text.splice(b,f-b),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(b,f,v,m){typeof m>"u"&&(m=v),m>v&&this.removeStyleFromTo(v,m);var d=l.util.string.graphemeSplit(b);this.insertNewStyleBlock(d,v,f),this._text=[].concat(this._text.slice(0,v),d,this._text.slice(m)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var b=l.util.toFixed,f=/  +/g;l.util.object.extend(l.Text.prototype,{_toSVG:function(){var v=this._getSVGLeftTopOffsets(),m=this._getSVGTextAndBg(v.textTop,v.textLeft);return this._wrapSVGTextAndBg(m)},toSVG:function(v){return this._createBaseSVGMarkup(this._toSVG(),{reviver:v,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(v){var m=!0,d=this.getSvgTextDecoration(this);return[v.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",d?'text-decoration="'+d+'" ':"",'style="',this.getSvgStyles(m),'"',this.addPaintOrder()," >",v.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(v,m){var d=[],g=[],h=v,C;this._setSVGBg(g);for(var D=0,S=this._textLines.length;D<S;D++)C=this._getLineLeftOffset(D),(this.textBackgroundColor||this.styleHas("textBackgroundColor",D))&&this._setSVGTextLineBg(g,D,m+C,h),this._setSVGTextLineText(d,D,m+C,h),h+=this.getHeightOfLine(D);return{textSpans:d,textBgRects:g}},_createTextCharSpan:function(v,m,d,g){var h=v!==v.trim()||v.match(f),C=this.getSvgSpanStyles(m,h),D=C?'style="'+C+'"':"",S=m.deltaY,k="",L=l.Object.NUM_FRACTION_DIGITS;return S&&(k=' dy="'+b(S,L)+'" '),['<tspan x="',b(d,L),'" y="',b(g,L),'" ',k,D,">",l.util.string.escapeXml(v),"</tspan>"].join("")},_setSVGTextLineText:function(v,m,d,g){var h=this.getHeightOfLine(m),C=this.textAlign.indexOf("justify")!==-1,D,S,k="",L,B,z=0,X=this._textLines[m],ee;g+=h*(1-this._fontSizeFraction)/this.lineHeight;for(var ce=0,le=X.length-1;ce<=le;ce++)ee=ce===le||this.charSpacing,k+=X[ce],L=this.__charBounds[m][ce],z===0?(d+=L.kernedWidth-L.width,z+=L.width):z+=L.kernedWidth,C&&!ee&&this._reSpaceAndTab.test(X[ce])&&(ee=!0),ee||(D=D||this.getCompleteStyleDeclaration(m,ce),S=this.getCompleteStyleDeclaration(m,ce+1),ee=this._hasStyleChangedForSvg(D,S)),ee&&(B=this._getStyleDeclaration(m,ce)||{},v.push(this._createTextCharSpan(k,B,d,g)),k="",D=S,d+=z,z=0)},_pushTextBgRect:function(v,m,d,g,h,C){var D=l.Object.NUM_FRACTION_DIGITS;v.push("		<rect ",this._getFillAttributes(m),' x="',b(d,D),'" y="',b(g,D),'" width="',b(h,D),'" height="',b(C,D),`"></rect>
`)},_setSVGTextLineBg:function(v,m,d,g){for(var h=this._textLines[m],C=this.getHeightOfLine(m)/this.lineHeight,D=0,S=0,k,L,B=this.getValueOfPropertyAt(m,0,"textBackgroundColor"),z=0,X=h.length;z<X;z++)k=this.__charBounds[m][z],L=this.getValueOfPropertyAt(m,z,"textBackgroundColor"),L!==B?(B&&this._pushTextBgRect(v,B,d+S,g,D,C),S=k.left,D=k.width,B=L):D+=k.kernedWidth;L&&this._pushTextBgRect(v,L,d+S,g,D,C)},_getFillAttributes:function(v){var m=v&&typeof v=="string"?new l.Color(v):"";return!m||!m.getSource()||m.getAlpha()===1?'fill="'+v+'"':'opacity="'+m.getAlpha()+'" fill="'+m.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(v){for(var m=0,d=0,g=0;g<v;g++)m+=this.getHeightOfLine(g);return d=this.getHeightOfLine(g),{lineTop:m,offset:(this._fontSizeMult-this._fontSizeFraction)*d/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(v){var m=l.Object.prototype.getSvgStyles.call(this,v);return m+" white-space: pre;"}})}(),function(b){var f=b.fabric||(b.fabric={});f.Textbox=f.util.createClass(f.IText,f.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:f.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(v){for(var m=0,d=0,g=0,h={},C=0;C<v.graphemeLines.length;C++)v.graphemeText[g]===`
`&&C>0?(d=0,g++,m++):!this.splitByGrapheme&&this._reSpaceAndTab.test(v.graphemeText[g])&&C>0&&(d++,g++),h[C]={line:m,offset:d},g+=v.graphemeLines[C].length,d+=v.graphemeLines[C].length;return h},styleHas:function(v,m){if(this._styleMap&&!this.isWrapping){var d=this._styleMap[m];d&&(m=d.line)}return f.Text.prototype.styleHas.call(this,v,m)},isEmptyStyles:function(v){if(!this.styles)return!0;var m=0,d=v+1,g,h,C=!1,D=this._styleMap[v],S=this._styleMap[v+1];D&&(v=D.line,m=D.offset),S&&(d=S.line,C=d===v,g=S.offset),h=typeof v>"u"?this.styles:{line:this.styles[v]};for(var k in h)for(var L in h[k])if(L>=m&&(!C||L<g))for(var B in h[k][L])return!1;return!0},_getStyleDeclaration:function(v,m){if(this._styleMap&&!this.isWrapping){var d=this._styleMap[v];if(!d)return null;v=d.line,m=d.offset+m}return this.callSuper("_getStyleDeclaration",v,m)},_setStyleDeclaration:function(v,m,d){var g=this._styleMap[v];v=g.line,m=g.offset+m,this.styles[v][m]=d},_deleteStyleDeclaration:function(v,m){var d=this._styleMap[v];v=d.line,m=d.offset+m,delete this.styles[v][m]},_getLineStyle:function(v){var m=this._styleMap[v];return!!this.styles[m.line]},_setLineStyle:function(v){var m=this._styleMap[v];this.styles[m.line]={}},_wrapText:function(v,m){var d=[],g;for(this.isWrapping=!0,g=0;g<v.length;g++)d=d.concat(this._wrapLine(v[g],g,m));return this.isWrapping=!1,d},_measureWord:function(v,m,d){var g=0,h,C=!0;d=d||0;for(var D=0,S=v.length;D<S;D++){var k=this._getGraphemeBox(v[D],m,D+d,h,C);g+=k.kernedWidth,h=v[D]}return g},_wrapLine:function(v,m,d,je){var h=0,C=this.splitByGrapheme,D=[],S=[],k=C?f.util.string.graphemeSplit(v):v.split(this._wordJoiners),L="",B=0,z=C?"":" ",X=0,ee=0,ce=0,le=!0,me=this._getWidthOfCharSpacing(),je=je||0;k.length===0&&k.push([]),d-=je;for(var Pe=0;Pe<k.length;Pe++)L=C?k[Pe]:f.util.string.graphemeSplit(k[Pe]),X=this._measureWord(L,m,B),B+=L.length,h+=ee+X-me,h>d&&!le?(D.push(S),S=[],h=X,le=!0):h+=me,!le&&!C&&S.push(z),S=S.concat(L),ee=C?0:this._measureWord([z],m,B),B++,le=!1,X>ce&&(ce=X);return Pe&&D.push(S),ce+je>this.dynamicMinWidth&&(this.dynamicMinWidth=ce-me+je),D},isEndOfWrapping:function(v){return!this._styleMap[v+1]||this._styleMap[v+1].line!==this._styleMap[v].line},missingNewlineOffset:function(v){return this.splitByGrapheme?this.isEndOfWrapping(v)?1:0:1},_splitTextIntoLines:function(v){for(var m=f.Text.prototype._splitTextIntoLines.call(this,v),d=this._wrapText(m.lines,this.width),g=new Array(d.length),h=0;h<d.length;h++)g[h]=d[h].join("");return m.lines=g,m.graphemeLines=d,m},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var v={};for(var m in this._styleMap)this._textLines[m]&&(v[this._styleMap[m].line]=1);for(var m in this.styles)v[m]||delete this.styles[m]},toObject:function(v){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(v))}}),f.Textbox.fromObject=function(v,m){return f.Object._fromObject("Textbox",v,m,"text")}}(u),function(){var b=l.controlsUtils,f=b.scaleSkewCursorStyleHandler,v=b.scaleCursorStyleHandler,m=b.scalingEqually,d=b.scalingYOrSkewingX,g=b.scalingXOrSkewingY,h=b.scaleOrSkewActionName,C=l.Object.prototype.controls;if(C.ml=new l.Control({x:-.5,y:0,cursorStyleHandler:f,actionHandler:g,getActionName:h}),C.mr=new l.Control({x:.5,y:0,cursorStyleHandler:f,actionHandler:g,getActionName:h}),C.mb=new l.Control({x:0,y:.5,cursorStyleHandler:f,actionHandler:d,getActionName:h}),C.mt=new l.Control({x:0,y:-.5,cursorStyleHandler:f,actionHandler:d,getActionName:h}),C.tl=new l.Control({x:-.5,y:-.5,cursorStyleHandler:v,actionHandler:m}),C.tr=new l.Control({x:.5,y:-.5,cursorStyleHandler:v,actionHandler:m}),C.bl=new l.Control({x:-.5,y:.5,cursorStyleHandler:v,actionHandler:m}),C.br=new l.Control({x:.5,y:.5,cursorStyleHandler:v,actionHandler:m}),C.mtr=new l.Control({x:0,y:-.5,actionHandler:b.rotationWithSnapping,cursorStyleHandler:b.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),l.Textbox){var D=l.Textbox.prototype.controls={};D.mtr=C.mtr,D.tr=C.tr,D.br=C.br,D.tl=C.tl,D.bl=C.bl,D.mt=C.mt,D.mb=C.mb,D.mr=new l.Control({x:.5,y:0,actionHandler:b.changeWidth,cursorStyleHandler:f,actionName:"resizing"}),D.ml=new l.Control({x:-.5,y:0,actionHandler:b.changeWidth,cursorStyleHandler:f,actionName:"resizing"})}}()},3053:function(s,u,c){var l=c(602);function _(I,M,P){var N,b;if(P=P||0,!l(M))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(M,I,P);for(b=M.length,N=P;P>=0&&N<b;N+=1)if(M[N]===I)return N;return-1}s.exports=_},8592:function(s,u,c){var l=c(602),_=c(6092),I=c(5573);function M(P,N,b){l(P)?_(P,N,b):I(P,N,b)}s.exports=M},6092:function(s){function u(c,l,_){var I=0,M=c.length;for(_=_||null;I<M&&l.call(_,c[I],I,c)!==!1;I+=1);}s.exports=u},5573:function(s){function u(c,l,_){var I;_=_||null;for(I in c)if(c.hasOwnProperty(I)&&l.call(_,c[I],I,c)===!1)break}s.exports=u},9052:function(s,u,c){var l=c(961),_=c(9886),I=c(2560),M=c(5393),P=c(602),N=c(5183),b=c(8592),f=/\s+/g;function v(){this.events=null,this.contexts=null}v.mixin=function(m){l(m.prototype,v.prototype)},v.prototype._getHandlerItem=function(m,d){var g={handler:m};return d&&(g.context=d),g},v.prototype._safeEvent=function(m){var d=this.events,g;return d||(d=this.events={}),m&&(g=d[m],g||(g=[],d[m]=g),d=g),d},v.prototype._safeContext=function(){var m=this.contexts;return m||(m=this.contexts=[]),m},v.prototype._indexOfContext=function(m){for(var d=this._safeContext(),g=0;d[g];){if(m===d[g][0])return g;g+=1}return-1},v.prototype._memorizeContext=function(m){var d,g;!_(m)||(d=this._safeContext(),g=this._indexOfContext(m),g>-1?d[g][1]+=1:d.push([m,1]))},v.prototype._forgetContext=function(m){var d,g;!_(m)||(d=this._safeContext(),g=this._indexOfContext(m),g>-1&&(d[g][1]-=1,d[g][1]<=0&&d.splice(g,1)))},v.prototype._bindEvent=function(m,d,g){var h=this._safeEvent(m);this._memorizeContext(g),h.push(this._getHandlerItem(d,g))},v.prototype.on=function(m,d,g){var h=this;I(m)?(m=m.split(f),b(m,function(C){h._bindEvent(C,d,g)})):M(m)&&(g=d,b(m,function(C,D){h.on(D,C,g)}))},v.prototype.once=function(m,d,g){var h=this;if(M(m)){g=d,b(m,function(D,S){h.once(S,D,g)});return}function C(){d.apply(g,arguments),h.off(m,C,g)}this.on(m,C,g)},v.prototype._spliceMatches=function(m,d){var g=0,h;if(!!P(m))for(h=m.length;g<h;g+=1)d(m[g])===!0&&(m.splice(g,1),h-=1,g-=1)},v.prototype._matchHandler=function(m){var d=this;return function(g){var h=m===g.handler;return h&&d._forgetContext(g.context),h}},v.prototype._matchContext=function(m){var d=this;return function(g){var h=m===g.context;return h&&d._forgetContext(g.context),h}},v.prototype._matchHandlerAndContext=function(m,d){var g=this;return function(h){var C=m===h.handler,D=d===h.context,S=C&&D;return S&&g._forgetContext(h.context),S}},v.prototype._offByEventName=function(m,d){var g=this,h=N(d),C=g._matchHandler(d);m=m.split(f),b(m,function(D){var S=g._safeEvent(D);h?g._spliceMatches(S,C):(b(S,function(k){g._forgetContext(k.context)}),g.events[D]=[])})},v.prototype._offByHandler=function(m){var d=this,g=this._matchHandler(m);b(this._safeEvent(),function(h){d._spliceMatches(h,g)})},v.prototype._offByObject=function(m,d){var g=this,h;this._indexOfContext(m)<0?b(m,function(C,D){g.off(D,C)}):I(d)?(h=this._matchContext(m),g._spliceMatches(this._safeEvent(d),h)):N(d)?(h=this._matchHandlerAndContext(d,m),b(this._safeEvent(),function(C){g._spliceMatches(C,h)})):(h=this._matchContext(m),b(this._safeEvent(),function(C){g._spliceMatches(C,h)}))},v.prototype.off=function(m,d){I(m)?this._offByEventName(m,d):arguments.length?N(m)?this._offByHandler(m):M(m)&&this._offByObject(m,d):(this.events={},this.contexts=[])},v.prototype.fire=function(m){this.invoke.apply(this,arguments)},v.prototype.invoke=function(m){var d,g,h,C;if(!this.hasListener(m))return!0;for(d=this._safeEvent(m),g=Array.prototype.slice.call(arguments,1),h=0;d[h];){if(C=d[h],C.handler.apply(C.context,g)===!1)return!1;h+=1}return!0},v.prototype.hasListener=function(m){return this.getListenerLength(m)>0},v.prototype.getListenerLength=function(m){var d=this._safeEvent(m);return d.length},s.exports=v},961:function(s){function u(c,l){var _=Object.prototype.hasOwnProperty,I,M,P,N;for(P=1,N=arguments.length;P<N;P+=1){I=arguments[P];for(M in I)_.call(I,M)&&(c[M]=I[M])}return c}s.exports=u},1610:function(s,u,c){var l=c(5695),_=c(3778);function I(M,P){for(var N=arguments,b=N[0],f=1,v=N.length;f<v;f+=1){if(l(b)||_(b))return;b=b[N[f]]}return b}s.exports=I},4564:function(s,u,c){var l=c(5573);function _(I,M){var P=document.createElement("img"),N="";return l(M,function(b,f){N+="&"+f+"="+b}),N=N.substring(1),P.src=I+"?"+N,P.style.display="none",document.body.appendChild(P),document.body.removeChild(P),P}s.exports=_},4729:function(s,u,c){var l=c(5695),_=c(4564),I=7*24*60*60*1e3;function M(N){var b=new Date().getTime();return b-N>I}function P(N,b){var f="https://www.google-analytics.com/collect",v=location.hostname,m="event",d="use",g="TOAST UI "+N+" for "+v+": Statistics",h=window.localStorage.getItem(g);!l(window.tui)&&window.tui.usageStatistics===!1||h&&!M(h)||(window.localStorage.setItem(g,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&_(f,{v:1,t:m,tid:b,cid:v,dp:v,dh:N,el:N,ec:d})},1e3))}s.exports=P},602:function(s){function u(c){return c instanceof Array}s.exports=u},9886:function(s,u,c){var l=c(5695),_=c(3778);function I(M){return!l(M)&&!_(M)}s.exports=I},5183:function(s){function u(c){return c instanceof Function}s.exports=u},3778:function(s){function u(c){return c===null}s.exports=u},5393:function(s){function u(c){return c===Object(c)}s.exports=u},2560:function(s){function u(c){return typeof c=="string"||c instanceof String}s.exports=u},5695:function(s){function u(c){return c===void 0}s.exports=u},4426:function(s,u,c){s.exports=c(4486)},9406:function(s,u,c){s.exports=c(4877)},789:function(s,u,c){s.exports=c(7178)},381:function(s,u,c){s.exports=c(5603)},7636:function(s,u,c){s.exports=c(1206)},1899:function(s,u,c){s.exports=c(6174)},899:function(s,u,c){s.exports=c(57)},8005:function(s,u,c){s.exports=c(4741)},6562:function(s,u,c){s.exports=c(8368)},9131:function(s,u,c){s.exports=c(3739)},4383:function(s,u,c){s.exports=c(172)},6065:function(s,u,c){s.exports=c(4963)},1734:function(s,u,c){s.exports=c(7820)},2461:function(s,u,c){s.exports=c(5636)},5214:function(s,u,c){s.exports=c(5059)},6397:function(s,u,c){s.exports=c(3969)},8189:function(s,u,c){s.exports=c(6618)},9146:function(s,u,c){s.exports=c(5279)},4496:function(s,u,c){s.exports=c(9562)},3972:function(s,u,c){s.exports=c(652)},7172:function(s,u,c){s.exports=c(2813)},1845:function(s,u,c){s.exports=c(8664)},662:function(s,u,c){s.exports=c(1457)},711:function(s,u,c){s.exports=c(2937)},6623:function(s,u,c){s.exports=c(9297)},7077:function(s,u,c){s.exports=c(8026)},9856:function(s,u,c){s.exports=c(2044)},4230:function(s,u,c){s.exports=c(2214)},184:function(s,u,c){s.exports=c(9256)},3742:function(s,u,c){s.exports=c(5659)},1801:function(s){var u={rect:1,circle:2,triangle:1},c={rect:{w:"width",h:"height"},circle:{w:"rx",h:"ry"},triangle:{w:"width",h:"height"}};function l(f){var v=f.originX,m=f.originY,d=v.substring(0,1)+m.substring(0,1);f.startPoint=f.origins[d]}function _(f,v,m){var d=f.x,g=f.y,h=v.x,C=v.y,D=m*Math.PI/180,S=(h-d)*Math.cos(D)-(C-g)*Math.sin(D)+d,k=(h-d)*Math.sin(D)+(C-g)*Math.cos(D)+g;return{originX:d>S?"right":"left",originY:g>k?"bottom":"top"}}function I(f){return f.originX==="center"&&f.originY==="center"}function M(f,v){var m=v.getPointByOrigin("center","center"),d=-v.angle,g=_(m,f,d),h=g.originX,C=g.originY,D=v.getPointByOrigin(h,C),S=v.left-(m.x-D.x),k=v.top-(m.y-D.y);v.set({originX:h,originY:C,left:S,top:k}),v.setCoords()}function P(f,v){var m=v.startPoint,d=-v.angle,g=_(m,f,d),h=g.originX,C=g.originY;v.setPositionByOrigin(m,h,C),v.setCoords()}function N(f){var v=f.type,m=f.scaleX,d=f.scaleY,g=c[v],h=f[g.w]*m,C=f[g.h]*d;if(f.isRegular){var D=Math.max(m,d);h=f[g.w]*D,C=f[g.h]*D}var S={hasControls:!1,hasBorders:!1,scaleX:1,scaleY:1};S[g.w]=h,S[g.h]=C,f.set(S)}function b(f,v){var m=v.type,d=v.strokeWidth,g=v.startPoint,h=u[m],C=c[m],D=v.type==="triangle",S={},k=Math.abs(g.x-f.x)/h,L=Math.abs(g.y-f.y)/h;k>d&&(k-=d/h),L>d&&(L-=d/h),v.isRegular&&(k=L=Math.max(k,L),D&&(L=Math.sqrt(3)/2*k)),S[C.w]=k,S[C.h]=L,v.set(S)}s.exports={setOrigins:function(v){var m=v.getPointByOrigin("left","top"),d=v.getPointByOrigin("right","top"),g=v.getPointByOrigin("right","bottom"),h=v.getPointByOrigin("left","bottom");v.origins={lt:m,rt:d,rb:g,lb:h}},resize:function(v,m,d){I(v)&&(M(m,v),l(v)),d?N(v):b(m,v),P(m,v)},adjustOriginToCenter:function(v){var m=v.getPointByOrigin("center","center"),d=v.originX,g=v.originY,h=v.getPointByOrigin(d,g),C=v.left+(m.x-h.x),D=v.top+(m.y-h.y);v.set({hasControls:!0,hasBorders:!0,originX:"center",originY:"center",left:C,top:D}),v.setCoords()}}},2221:function(s,u,c){c(5454),c(9173);var l=c(7545);s.exports=l.Array.from},5078:function(s,u,c){c(8118);var l=c(7545);s.exports=l.Array.isArray},6135:function(s,u,c){c(9106);var l=c(5607);s.exports=l("Array").concat},9510:function(s,u,c){c(1710);var l=c(5607);s.exports=l("Array").fill},3971:function(s,u,c){c(3436);var l=c(5607);s.exports=l("Array").filter},98:function(s,u,c){c(9823);var l=c(5607);s.exports=l("Array").forEach},2089:function(s,u,c){c(2276);var l=c(5607);s.exports=l("Array").indexOf},6209:function(s,u,c){c(3838);var l=c(5607);s.exports=l("Array").map},2671:function(s,u,c){c(5818);var l=c(5607);s.exports=l("Array").slice},1375:function(s,u,c){c(2178);var l=c(5607);s.exports=l("Array").splice},3528:function(s,u,c){c(665);var l=c(5607);s.exports=l("Function").bind},5739:function(s,u,c){c(8939),c(5454);var l=c(8703);s.exports=l},278:function(s,u,c){var l=c(3528),_=Function.prototype;s.exports=function(I){var M=I.bind;return I===_||I instanceof Function&&M===_.bind?l:M}},1484:function(s,u,c){var l=c(6135),_=Array.prototype;s.exports=function(I){var M=I.concat;return I===_||I instanceof Array&&M===_.concat?l:M}},7731:function(s,u,c){var l=c(9510),_=Array.prototype;s.exports=function(I){var M=I.fill;return I===_||I instanceof Array&&M===_.fill?l:M}},3669:function(s,u,c){var l=c(3971),_=Array.prototype;s.exports=function(I){var M=I.filter;return I===_||I instanceof Array&&M===_.filter?l:M}},2604:function(s,u,c){var l=c(2089),_=Array.prototype;s.exports=function(I){var M=I.indexOf;return I===_||I instanceof Array&&M===_.indexOf?l:M}},263:function(s,u,c){var l=c(6209),_=Array.prototype;s.exports=function(I){var M=I.map;return I===_||I instanceof Array&&M===_.map?l:M}},7663:function(s,u,c){var l=c(2671),_=Array.prototype;s.exports=function(I){var M=I.slice;return I===_||I instanceof Array&&M===_.slice?l:M}},5063:function(s,u,c){var l=c(1375),_=Array.prototype;s.exports=function(I){var M=I.splice;return I===_||I instanceof Array&&M===_.splice?l:M}},6813:function(s,u,c){var l=c(3842),_=String.prototype;s.exports=function(I){var M=I.trim;return typeof I=="string"||I===_||I instanceof String&&M===_.trim?l:M}},6285:function(s,u,c){c(2666);var l=c(7545);s.exports=l.Number.parseInt},3213:function(s,u,c){c(3113);var l=c(7545),_=l.Object;s.exports=function(M,P){return _.create(M,P)}},3512:function(s,u,c){c(297);var l=c(7545),_=l.Object,I=s.exports=function(P,N,b){return _.defineProperty(P,N,b)};_.defineProperty.sham&&(I.sham=!0)},8168:function(s,u,c){c(9234);var l=c(7545);s.exports=l.Object.getPrototypeOf},8651:function(s,u,c){c(2647);var l=c(7545);s.exports=l.Object.keys},3083:function(s,u,c){c(3222);var l=c(7545);s.exports=l.Object.setPrototypeOf},2987:function(s,u,c){c(4859);var l=c(7545);s.exports=l.parseFloat},2239:function(s,u,c){c(5706);var l=c(7545);s.exports=l.parseInt},3154:function(s,u,c){c(4242),c(8939),c(6663),c(9021),c(7884),c(8885),c(1868),c(5454);var l=c(7545);s.exports=l.Promise},6577:function(s,u,c){c(5397);var l=c(7545);s.exports=l.Reflect.construct},3842:function(s,u,c){c(957);var l=c(5607);s.exports=l("String").trim},5008:function(s,u,c){c(9106),c(6663),c(6187),c(9781),c(492),c(6681),c(9594),c(3665),c(9017),c(1250),c(9786),c(503),c(6565),c(9322),c(3610),c(6886),c(3514),c(8671),c(8556),c(1367);var l=c(7545);s.exports=l.Symbol},994:function(s,u,c){c(8939),c(6663),c(5454),c(3665);var l=c(9207);s.exports=l.f("iterator")},2813:function(s,u,c){var l=c(3822);s.exports=l},8664:function(s,u,c){var l=c(1434);s.exports=l},1457:function(s,u,c){var l=c(7710);s.exports=l},2937:function(s,u,c){var l=c(4741);s.exports=l},9297:function(s,u,c){var l=c(4963);s.exports=l},8026:function(s,u,c){var l=c(7820);s.exports=l},2044:function(s,u,c){var l=c(8980);s.exports=l},2214:function(s,u,c){var l=c(6672);s.exports=l},9256:function(s,u,c){var l=c(2285);c(177),c(9031),c(6658),c(1875),c(8658),c(4592),c(6680),s.exports=l},5659:function(s,u,c){var l=c(8535);s.exports=l},6235:function(s,u,c){var l=c(6447),_=c(9288);s.exports=function(I){if(l(I))return I;throw TypeError(_(I)+" is not a function")}},1404:function(s,u,c){var l=c(2091),_=c(9288);s.exports=function(I){if(l(I))return I;throw TypeError(_(I)+" is not a constructor")}},7757:function(s,u,c){var l=c(6447);s.exports=function(_){if(typeof _=="object"||l(_))return _;throw TypeError("Can't set "+String(_)+" as a prototype")}},7423:function(s){s.exports=function(){}},6961:function(s){s.exports=function(u,c,l){if(u instanceof c)return u;throw TypeError("Incorrect "+(l?l+" ":"")+"invocation")}},1138:function(s,u,c){var l=c(5744);s.exports=function(_){if(l(_))return _;throw TypeError(String(_)+" is not an object")}},2724:function(s,u,c){var l=c(1795),_=c(7739),I=c(4104);s.exports=function(P){for(var N=l(this),b=I(N),f=arguments.length,v=_(f>1?arguments[1]:void 0,b),m=f>2?arguments[2]:void 0,d=m===void 0?b:_(m,b);d>v;)N[v++]=P;return N}},7397:function(s,u,c){var l=c(454).forEach,_=c(424),I=_("forEach");s.exports=I?[].forEach:function(P){return l(this,P,arguments.length>1?arguments[1]:void 0)}},841:function(s,u,c){var l=c(8043),_=c(1795),I=c(1635),M=c(6109),P=c(2091),N=c(4104),b=c(9361),f=c(1669),v=c(8703);s.exports=function(d){var g=_(d),h=P(this),C=arguments.length,D=C>1?arguments[1]:void 0,S=D!==void 0;S&&(D=l(D,C>2?arguments[2]:void 0,2));var k=v(g),L=0,B,z,X,ee,ce,le;if(k&&!(this==Array&&M(k)))for(ee=f(g,k),ce=ee.next,z=h?new this:[];!(X=ce.call(ee)).done;L++)le=S?I(ee,D,[X.value,L],!0):X.value,b(z,L,le);else for(B=N(g),z=h?new this(B):Array(B);B>L;L++)le=S?D(g[L],L):g[L],b(z,L,le);return z.length=L,z}},8180:function(s,u,c){var l=c(101),_=c(7739),I=c(4104),M=function(P){return function(N,b,f){var v=l(N),m=I(v),d=_(f,m),g;if(P&&b!=b){for(;m>d;)if(g=v[d++],g!=g)return!0}else for(;m>d;d++)if((P||d in v)&&v[d]===b)return P||d||0;return!P&&-1}};s.exports={includes:M(!0),indexOf:M(!1)}},454:function(s,u,c){var l=c(8043),_=c(2202),I=c(1795),M=c(4104),P=c(1321),N=[].push,b=function(f){var v=f==1,m=f==2,d=f==3,g=f==4,h=f==6,C=f==7,D=f==5||h;return function(S,k,L,B){for(var z=I(S),X=_(z),ee=l(k,L,3),ce=M(X),le=0,me=B||P,je=v?me(S,ce):m||C?me(S,0):void 0,Pe,it;ce>le;le++)if((D||le in X)&&(Pe=X[le],it=ee(Pe,le,z),f))if(v)je[le]=it;else if(it)switch(f){case 3:return!0;case 5:return Pe;case 6:return le;case 2:N.call(je,Pe)}else switch(f){case 4:return!1;case 7:N.call(je,Pe)}return h?-1:d||g?g:je}};s.exports={forEach:b(0),map:b(1),filter:b(2),some:b(3),every:b(4),find:b(5),findIndex:b(6),filterReject:b(7)}},242:function(s,u,c){var l=c(6192),_=c(8182),I=c(4218),M=_("species");s.exports=function(P){return I>=51||!l(function(){var N=[],b=N.constructor={};return b[M]=function(){return{foo:1}},N[P](Boolean).foo!==1})}},424:function(s,u,c){var l=c(6192);s.exports=function(_,I){var M=[][_];return!!M&&l(function(){M.call(null,I||function(){throw 1},1)})}},3712:function(s,u,c){var l=c(4770),_=c(2091),I=c(5744),M=c(8182),P=M("species");s.exports=function(N){var b;return l(N)&&(b=N.constructor,_(b)&&(b===Array||l(b.prototype))?b=void 0:I(b)&&(b=b[P],b===null&&(b=void 0))),b===void 0?Array:b}},1321:function(s,u,c){var l=c(3712);s.exports=function(_,I){return new(l(_))(I===0?0:I)}},1635:function(s,u,c){var l=c(1138),_=c(6639);s.exports=function(I,M,P,N){try{return N?M(l(P)[0],P[1]):M(P)}catch(b){_(I,"throw",b)}}},9770:function(s,u,c){var l=c(8182),_=l("iterator"),I=!1;try{var M=0,P={next:function(){return{done:!!M++}},return:function(){I=!0}};P[_]=function(){return this},Array.from(P,function(){throw 2})}catch{}s.exports=function(N,b){if(!b&&!I)return!1;var f=!1;try{var v={};v[_]=function(){return{next:function(){return{done:f=!0}}}},N(v)}catch{}return f}},9272:function(s){var u={}.toString;s.exports=function(c){return u.call(c).slice(8,-1)}},4696:function(s,u,c){var l=c(3471),_=c(6447),I=c(9272),M=c(8182),P=M("toStringTag"),N=I(function(){return arguments}())=="Arguments",b=function(f,v){try{return f[v]}catch{}};s.exports=l?I:function(f){var v,m,d;return f===void 0?"Undefined":f===null?"Null":typeof(m=b(v=Object(f),P))=="string"?m:N?I(v):(d=I(v))=="Object"&&_(v.callee)?"Arguments":d}},4635:function(s,u,c){var l=c(6192);s.exports=!l(function(){function _(){}return _.prototype.constructor=null,Object.getPrototypeOf(new _)!==_.prototype})},5148:function(s,u,c){var l=c(4413).IteratorPrototype,_=c(2853),I=c(774),M=c(1284),P=c(7771),N=function(){return this};s.exports=function(b,f,v){var m=f+" Iterator";return b.prototype=_(l,{next:I(1,v)}),M(b,m,!1,!0),P[m]=N,b}},8711:function(s,u,c){var l=c(69),_=c(2760),I=c(774);s.exports=l?function(M,P,N){return _.f(M,P,I(1,N))}:function(M,P,N){return M[P]=N,M}},774:function(s){s.exports=function(u,c){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:c}}},9361:function(s,u,c){var l=c(77),_=c(2760),I=c(774);s.exports=function(M,P,N){var b=l(P);b in M?_.f(M,b,I(0,N)):M[b]=N}},7218:function(s,u,c){var l=c(3085),_=c(5546),I=c(2282),M=c(6447),P=c(5148),N=c(9341),b=c(4469),f=c(1284),v=c(8711),m=c(9482),d=c(8182),g=c(7771),h=c(4413),C=I.PROPER,D=I.CONFIGURABLE,S=h.IteratorPrototype,k=h.BUGGY_SAFARI_ITERATORS,L=d("iterator"),B="keys",z="values",X="entries",ee=function(){return this};s.exports=function(ce,le,me,je,Pe,it,Te){P(me,le,je);var lt=function(ve){if(ve===Pe&&Me)return Me;if(!k&&ve in Ke)return Ke[ve];switch(ve){case B:return function(){return new me(this,ve)};case z:return function(){return new me(this,ve)};case X:return function(){return new me(this,ve)}}return function(){return new me(this)}},he=le+" Iterator",Dt=!1,Ke=ce.prototype,Mt=Ke[L]||Ke["@@iterator"]||Pe&&Ke[Pe],Me=!k&&Mt||lt(Pe),Be=le=="Array"&&Ke.entries||Mt,Oe,Se,Ye;if(Be&&(Oe=N(Be.call(new ce)),Oe!==Object.prototype&&Oe.next&&(!_&&N(Oe)!==S&&(b?b(Oe,S):M(Oe[L])||m(Oe,L,ee)),f(Oe,he,!0,!0),_&&(g[he]=ee))),C&&Pe==z&&Mt&&Mt.name!==z&&(!_&&D?v(Ke,"name",z):(Dt=!0,Me=function(){return Mt.call(this)})),Pe)if(Se={values:lt(z),keys:it?Me:lt(B),entries:lt(X)},Te)for(Ye in Se)(k||Dt||!(Ye in Ke))&&m(Ke,Ye,Se[Ye]);else l({target:le,proto:!0,forced:k||Dt},Se);return(!_||Te)&&Ke[L]!==Me&&m(Ke,L,Me,{name:Pe}),g[le]=Me,Se}},1488:function(s,u,c){var l=c(7545),_=c(4500),I=c(9207),M=c(2760).f;s.exports=function(P){var N=l.Symbol||(l.Symbol={});_(N,P)||M(N,P,{value:I.f(P)})}},69:function(s,u,c){var l=c(6192);s.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},7449:function(s,u,c){var l=c(8576),_=c(5744),I=l.document,M=_(I)&&_(I.createElement);s.exports=function(P){return M?I.createElement(P):{}}},7365:function(s){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},2957:function(s){s.exports=typeof window=="object"},9347:function(s,u,c){var l=c(8989),_=c(8576);s.exports=/ipad|iphone|ipod/i.test(l)&&_.Pebble!==void 0},9536:function(s,u,c){var l=c(8989);s.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(l)},224:function(s,u,c){var l=c(9272),_=c(8576);s.exports=l(_.process)=="process"},5914:function(s,u,c){var l=c(8989);s.exports=/web0s(?!.*chrome)/i.test(l)},8989:function(s,u,c){var l=c(150);s.exports=l("navigator","userAgent")||""},4218:function(s,u,c){var l=c(8576),_=c(8989),I=l.process,M=l.Deno,P=I&&I.versions||M&&M.version,N=P&&P.v8,b,f;N?(b=N.split("."),f=b[0]<4?1:b[0]+b[1]):_&&(b=_.match(/Edge\/(\d+)/),(!b||b[1]>=74)&&(b=_.match(/Chrome\/(\d+)/),b&&(f=b[1]))),s.exports=f&&+f},5607:function(s,u,c){var l=c(7545);s.exports=function(_){return l[_+"Prototype"]}},2952:function(s){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3085:function(s,u,c){var l=c(8576),_=c(6447),I=c(5141).f,M=c(9245),P=c(7545),N=c(8043),b=c(8711),f=c(4500),v=function(m){var d=function(g,h,C){if(this instanceof m){switch(arguments.length){case 0:return new m;case 1:return new m(g);case 2:return new m(g,h)}return new m(g,h,C)}return m.apply(this,arguments)};return d.prototype=m.prototype,d};s.exports=function(m,d){var g=m.target,h=m.global,C=m.stat,D=m.proto,S=h?l:C?l[g]:(l[g]||{}).prototype,k=h?P:P[g]||b(P,g,{})[g],L=k.prototype,B,z,X,ee,ce,le,me,je,Pe;for(ee in d)B=M(h?ee:g+(C?".":"#")+ee,m.forced),z=!B&&S&&f(S,ee),le=k[ee],z&&(m.noTargetGet?(Pe=I(S,ee),me=Pe&&Pe.value):me=S[ee]),ce=z&&me?me:d[ee],!(z&&typeof le==typeof ce)&&(m.bind&&z?je=N(ce,l):m.wrap&&z?je=v(ce):D&&_(ce)?je=N(Function.call,ce):je=ce,(m.sham||ce&&ce.sham||le&&le.sham)&&b(je,"sham",!0),b(k,ee,je),D&&(X=g+"Prototype",f(P,X)||b(P,X,{}),b(P[X],ee,ce),m.real&&L&&!L[ee]&&b(L,ee,ce)))}},6192:function(s){s.exports=function(u){try{return!!u()}catch{return!0}}},8043:function(s,u,c){var l=c(6235);s.exports=function(_,I,M){if(l(_),I===void 0)return _;switch(M){case 0:return function(){return _.call(I)};case 1:return function(P){return _.call(I,P)};case 2:return function(P,N){return _.call(I,P,N)};case 3:return function(P,N,b){return _.call(I,P,N,b)}}return function(){return _.apply(I,arguments)}}},6782:function(s,u,c){var l=c(6235),_=c(5744),I=[].slice,M={},P=function(N,b,f){if(!(b in M)){for(var v=[],m=0;m<b;m++)v[m]="a["+m+"]";M[b]=Function("C,a","return new C("+v.join(",")+")")}return M[b](N,f)};s.exports=Function.bind||function(b){var f=l(this),v=I.call(arguments,1),m=function(){var g=v.concat(I.call(arguments));return this instanceof m?P(f,g.length,g):f.apply(b,g)};return _(f.prototype)&&(m.prototype=f.prototype),m}},2282:function(s,u,c){var l=c(69),_=c(4500),I=Function.prototype,M=l&&Object.getOwnPropertyDescriptor,P=_(I,"name"),N=P&&function(){}.name==="something",b=P&&(!l||l&&M(I,"name").configurable);s.exports={EXISTS:P,PROPER:N,CONFIGURABLE:b}},150:function(s,u,c){var l=c(7545),_=c(8576),I=c(6447),M=function(P){return I(P)?P:void 0};s.exports=function(P,N){return arguments.length<2?M(l[P])||M(_[P]):l[P]&&l[P][N]||_[P]&&_[P][N]}},8703:function(s,u,c){var l=c(4696),_=c(5037),I=c(7771),M=c(8182),P=M("iterator");s.exports=function(N){if(N!=null)return _(N,P)||_(N,"@@iterator")||I[l(N)]}},1669:function(s,u,c){var l=c(6235),_=c(1138),I=c(8703);s.exports=function(M,P){var N=arguments.length<2?I(M):P;if(l(N))return _(N.call(M));throw TypeError(String(M)+" is not iterable")}},5037:function(s,u,c){var l=c(6235);s.exports=function(_,I){var M=_[I];return M==null?void 0:l(M)}},8576:function(s,u,c){var l=function(_){return _&&_.Math==Math&&_};s.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof c.g=="object"&&c.g)||function(){return this}()||Function("return this")()},4500:function(s,u,c){var l=c(1795),_={}.hasOwnProperty;s.exports=Object.hasOwn||function(M,P){return _.call(l(M),P)}},4535:function(s){s.exports={}},3681:function(s,u,c){var l=c(8576);s.exports=function(_,I){var M=l.console;M&&M.error&&(arguments.length===1?M.error(_):M.error(_,I))}},7403:function(s,u,c){var l=c(150);s.exports=l("document","documentElement")},188:function(s,u,c){var l=c(69),_=c(6192),I=c(7449);s.exports=!l&&!_(function(){return Object.defineProperty(I("div"),"a",{get:function(){return 7}}).a!=7})},2202:function(s,u,c){var l=c(6192),_=c(9272),I="".split;s.exports=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(M){return _(M)=="String"?I.call(M,""):Object(M)}:Object},9516:function(s,u,c){var l=c(6447),_=c(6434),I=Function.toString;l(_.inspectSource)||(_.inspectSource=function(M){return I.call(M)}),s.exports=_.inspectSource},273:function(s,u,c){var l=c(5744),_=c(8711);s.exports=function(I,M){l(M)&&"cause"in M&&_(I,"cause",I.cause)}},3326:function(s,u,c){var l=c(8921),_=c(8576),I=c(5744),M=c(8711),P=c(4500),N=c(6434),b=c(9766),f=c(4535),v="Object already initialized",m=_.WeakMap,d,g,h,C=function(X){return h(X)?g(X):d(X,{})},D=function(X){return function(ee){var ce;if(!I(ee)||(ce=g(ee)).type!==X)throw TypeError("Incompatible receiver, "+X+" required");return ce}};if(l||N.state){var S=N.state||(N.state=new m),k=S.get,L=S.has,B=S.set;d=function(X,ee){if(L.call(S,X))throw new TypeError(v);return ee.facade=X,B.call(S,X,ee),ee},g=function(X){return k.call(S,X)||{}},h=function(X){return L.call(S,X)}}else{var z=b("state");f[z]=!0,d=function(X,ee){if(P(X,z))throw new TypeError(v);return ee.facade=X,M(X,z,ee),ee},g=function(X){return P(X,z)?X[z]:{}},h=function(X){return P(X,z)}}s.exports={set:d,get:g,has:h,enforce:C,getterFor:D}},6109:function(s,u,c){var l=c(8182),_=c(7771),I=l("iterator"),M=Array.prototype;s.exports=function(P){return P!==void 0&&(_.Array===P||M[I]===P)}},4770:function(s,u,c){var l=c(9272);s.exports=Array.isArray||function(I){return l(I)=="Array"}},6447:function(s){s.exports=function(u){return typeof u=="function"}},2091:function(s,u,c){var l=c(6192),_=c(6447),I=c(4696),M=c(150),P=c(9516),N=[],b=M("Reflect","construct"),f=/^\s*(?:class|function)\b/,v=f.exec,m=!f.exec(function(){}),d=function(h){if(!_(h))return!1;try{return b(Object,N,h),!0}catch{return!1}},g=function(h){if(!_(h))return!1;switch(I(h)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return m||!!v.call(f,P(h))};s.exports=!b||l(function(){var h;return d(d.call)||!d(Object)||!d(function(){h=!0})||h})?g:d},9245:function(s,u,c){var l=c(6192),_=c(6447),I=/#|\.prototype\./,M=function(v,m){var d=N[P(v)];return d==f?!0:d==b?!1:_(m)?l(m):!!m},P=M.normalize=function(v){return String(v).replace(I,".").toLowerCase()},N=M.data={},b=M.NATIVE="N",f=M.POLYFILL="P";s.exports=M},5744:function(s,u,c){var l=c(6447);s.exports=function(_){return typeof _=="object"?_!==null:l(_)}},5546:function(s){s.exports=!0},3236:function(s,u,c){var l=c(6447),_=c(150),I=c(615);s.exports=I?function(M){return typeof M=="symbol"}:function(M){var P=_("Symbol");return l(P)&&Object(M)instanceof P}},3442:function(s,u,c){var l=c(1138),_=c(6109),I=c(4104),M=c(8043),P=c(1669),N=c(8703),b=c(6639),f=function(v,m){this.stopped=v,this.result=m};s.exports=function(v,m,d){var g=d&&d.that,h=!!(d&&d.AS_ENTRIES),C=!!(d&&d.IS_ITERATOR),D=!!(d&&d.INTERRUPTED),S=M(m,g,1+h+D),k,L,B,z,X,ee,ce,le=function(je){return k&&b(k,"normal",je),new f(!0,je)},me=function(je){return h?(l(je),D?S(je[0],je[1],le):S(je[0],je[1])):D?S(je,le):S(je)};if(C)k=v;else{if(L=N(v),!L)throw TypeError(String(v)+" is not iterable");if(_(L)){for(B=0,z=I(v);z>B;B++)if(X=me(v[B]),X&&X instanceof f)return X;return new f(!1)}k=P(v,L)}for(ee=k.next;!(ce=ee.call(k)).done;){try{X=me(ce.value)}catch(je){b(k,"throw",je)}if(typeof X=="object"&&X&&X instanceof f)return X}return new f(!1)}},6639:function(s,u,c){var l=c(1138),_=c(5037);s.exports=function(I,M,P){var N,b;l(I);try{if(N=_(I,"return"),!N){if(M==="throw")throw P;return P}N=N.call(I)}catch(f){b=!0,N=f}if(M==="throw")throw P;if(b)throw N;return l(N),P}},4413:function(s,u,c){var l=c(6192),_=c(6447),I=c(2853),M=c(9341),P=c(9482),N=c(8182),b=c(5546),f=N("iterator"),v=!1,m,d,g;[].keys&&(g=[].keys(),"next"in g?(d=M(M(g)),d!==Object.prototype&&(m=d)):v=!0);var h=m==null||l(function(){var C={};return m[f].call(C)!==C});h?m={}:b&&(m=I(m)),_(m[f])||P(m,f,function(){return this}),s.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:v}},7771:function(s){s.exports={}},4104:function(s,u,c){var l=c(8445);s.exports=function(_){return l(_.length)}},2950:function(s,u,c){var l=c(8576),_=c(5141).f,I=c(7160).set,M=c(9536),P=c(9347),N=c(5914),b=c(224),f=l.MutationObserver||l.WebKitMutationObserver,v=l.document,m=l.process,d=l.Promise,g=_(l,"queueMicrotask"),h=g&&g.value,C,D,S,k,L,B,z,X;h||(C=function(){var ee,ce;for(b&&(ee=m.domain)&&ee.exit();D;){ce=D.fn,D=D.next;try{ce()}catch(le){throw D?k():S=void 0,le}}S=void 0,ee&&ee.enter()},!M&&!b&&!N&&f&&v?(L=!0,B=v.createTextNode(""),new f(C).observe(B,{characterData:!0}),k=function(){B.data=L=!L}):!P&&d&&d.resolve?(z=d.resolve(void 0),z.constructor=d,X=z.then,k=function(){X.call(z,C)}):b?k=function(){m.nextTick(C)}:k=function(){I.call(l,C)}),s.exports=h||function(ee){var ce={fn:ee,next:void 0};S&&(S.next=ce),D||(D=ce,k()),S=ce}},4471:function(s,u,c){var l=c(8576);s.exports=l.Promise},3045:function(s,u,c){var l=c(4218),_=c(6192);s.exports=!!Object.getOwnPropertySymbols&&!_(function(){var I=Symbol();return!String(I)||!(Object(I)instanceof Symbol)||!Symbol.sham&&l&&l<41})},4551:function(s,u,c){var l=c(6192),_=c(8182),I=c(5546),M=_("iterator");s.exports=!l(function(){var P=new URL("b?a=1&b=2&c=3","http://a"),N=P.searchParams,b="";return P.pathname="c%20d",N.forEach(function(f,v){N.delete("b"),b+=v+f}),I&&!P.toJSON||!N.sort||P.href!=="http://a/c%20d?a=1&c=3"||N.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!N[M]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||b!=="a1c3"||new URL("http://x",void 0).host!=="x"})},8921:function(s,u,c){var l=c(8576),_=c(6447),I=c(9516),M=l.WeakMap;s.exports=_(M)&&/native code/.test(I(M))},9438:function(s,u,c){var l=c(6235),_=function(I){var M,P;this.promise=new I(function(N,b){if(M!==void 0||P!==void 0)throw TypeError("Bad Promise constructor");M=N,P=b}),this.resolve=l(M),this.reject=l(P)};s.exports.f=function(I){return new _(I)}},15:function(s,u,c){var l=c(8576),_=c(6192),I=c(4845),M=c(4277).trim,P=c(1450),N=l.parseFloat,b=l.Symbol,f=b&&b.iterator,v=1/N(P+"-0")!==-1/0||f&&!_(function(){N(Object(f))});s.exports=v?function(d){var g=M(I(d)),h=N(g);return h===0&&g.charAt(0)=="-"?-0:h}:N},2558:function(s,u,c){var l=c(8576),_=c(6192),I=c(4845),M=c(4277).trim,P=c(1450),N=l.parseInt,b=l.Symbol,f=b&&b.iterator,v=/^[+-]?0[Xx]/,m=N(P+"08")!==8||N(P+"0x16")!==22||f&&!_(function(){N(Object(f))});s.exports=m?function(g,h){var C=M(I(g));return N(C,h>>>0||(v.test(C)?16:10))}:N},2503:function(s,u,c){var l=c(69),_=c(6192),I=c(7653),M=c(4750),P=c(6007),N=c(1795),b=c(2202),f=Object.assign,v=Object.defineProperty;s.exports=!f||_(function(){if(l&&f({b:1},f(v({},"a",{enumerable:!0,get:function(){v(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var m={},d={},g=Symbol(),h="abcdefghijklmnopqrst";return m[g]=7,h.split("").forEach(function(C){d[C]=C}),f({},m)[g]!=7||I(f({},d)).join("")!=h})?function(d,g){for(var h=N(d),C=arguments.length,D=1,S=M.f,k=P.f;C>D;)for(var L=b(arguments[D++]),B=S?I(L).concat(S(L)):I(L),z=B.length,X=0,ee;z>X;)ee=B[X++],(!l||k.call(L,ee))&&(h[ee]=L[ee]);return h}:f},2853:function(s,u,c){var l=c(1138),_=c(1187),I=c(2952),M=c(4535),P=c(7403),N=c(7449),b=c(9766),f=">",v="<",m="prototype",d="script",g=b("IE_PROTO"),h=function(){},C=function(B){return v+d+f+B+v+"/"+d+f},D=function(B){B.write(C("")),B.close();var z=B.parentWindow.Object;return B=null,z},S=function(){var B=N("iframe"),z="java"+d+":",X;return B.style.display="none",P.appendChild(B),B.src=String(z),X=B.contentWindow.document,X.open(),X.write(C("document.F=Object")),X.close(),X.F},k,L=function(){try{k=new ActiveXObject("htmlfile")}catch{}L=typeof document<"u"?document.domain&&k?D(k):S():D(k);for(var B=I.length;B--;)delete L[m][I[B]];return L()};M[g]=!0,s.exports=Object.create||function(z,X){var ee;return z!==null?(h[m]=l(z),ee=new h,h[m]=null,ee[g]=z):ee=L(),X===void 0?ee:_(ee,X)}},1187:function(s,u,c){var l=c(69),_=c(2760),I=c(1138),M=c(7653);s.exports=l?Object.defineProperties:function(N,b){I(N);for(var f=M(b),v=f.length,m=0,d;v>m;)_.f(N,d=f[m++],b[d]);return N}},2760:function(s,u,c){var l=c(69),_=c(188),I=c(1138),M=c(77),P=Object.defineProperty;u.f=l?P:function(b,f,v){if(I(b),f=M(f),I(v),_)try{return P(b,f,v)}catch{}if("get"in v||"set"in v)throw TypeError("Accessors not supported");return"value"in v&&(b[f]=v.value),b}},5141:function(s,u,c){var l=c(69),_=c(6007),I=c(774),M=c(101),P=c(77),N=c(4500),b=c(188),f=Object.getOwnPropertyDescriptor;u.f=l?f:function(m,d){if(m=M(m),d=P(d),b)try{return f(m,d)}catch{}if(N(m,d))return I(!_.f.call(m,d),m[d])}},4052:function(s,u,c){var l=c(101),_=c(2092).f,I={}.toString,M=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],P=function(N){try{return _(N)}catch{return M.slice()}};s.exports.f=function(b){return M&&I.call(b)=="[object Window]"?P(b):_(l(b))}},2092:function(s,u,c){var l=c(7934),_=c(2952),I=_.concat("length","prototype");u.f=Object.getOwnPropertyNames||function(P){return l(P,I)}},4750:function(s,u){u.f=Object.getOwnPropertySymbols},9341:function(s,u,c){var l=c(4500),_=c(6447),I=c(1795),M=c(9766),P=c(4635),N=M("IE_PROTO"),b=Object.prototype;s.exports=P?Object.getPrototypeOf:function(f){var v=I(f);if(l(v,N))return v[N];var m=v.constructor;return _(m)&&v instanceof m?m.prototype:v instanceof Object?b:null}},7934:function(s,u,c){var l=c(4500),_=c(101),I=c(8180).indexOf,M=c(4535);s.exports=function(P,N){var b=_(P),f=0,v=[],m;for(m in b)!l(M,m)&&l(b,m)&&v.push(m);for(;N.length>f;)l(b,m=N[f++])&&(~I(v,m)||v.push(m));return v}},7653:function(s,u,c){var l=c(7934),_=c(2952);s.exports=Object.keys||function(M){return l(M,_)}},6007:function(s,u){var c={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,_=l&&!c.call({1:2},1);u.f=_?function(M){var P=l(this,M);return!!P&&P.enumerable}:c},4469:function(s,u,c){var l=c(1138),_=c(7757);s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var I=!1,M={},P;try{P=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,P.call(M,[]),I=M instanceof Array}catch{}return function(b,f){return l(b),_(f),I?P.call(b,f):b.__proto__=f,b}}():void 0)},158:function(s,u,c){var l=c(3471),_=c(4696);s.exports=l?{}.toString:function(){return"[object "+_(this)+"]"}},380:function(s,u,c){var l=c(6447),_=c(5744);s.exports=function(I,M){var P,N;if(M==="string"&&l(P=I.toString)&&!_(N=P.call(I))||l(P=I.valueOf)&&!_(N=P.call(I))||M!=="string"&&l(P=I.toString)&&!_(N=P.call(I)))return N;throw TypeError("Can't convert object to primitive value")}},7545:function(s){s.exports={}},892:function(s){s.exports=function(u){try{return{error:!1,value:u()}}catch(c){return{error:!0,value:c}}}},9126:function(s,u,c){var l=c(1138),_=c(5744),I=c(9438);s.exports=function(M,P){if(l(M),_(P)&&P.constructor===M)return P;var N=I.f(M),b=N.resolve;return b(P),N.promise}},533:function(s,u,c){var l=c(9482);s.exports=function(_,I,M){for(var P in I)M&&M.unsafe&&_[P]?_[P]=I[P]:l(_,P,I[P],M);return _}},9482:function(s,u,c){var l=c(8711);s.exports=function(_,I,M,P){P&&P.enumerable?_[I]=M:l(_,I,M)}},3209:function(s){s.exports=function(u){if(u==null)throw TypeError("Can't call method on "+u);return u}},7613:function(s,u,c){var l=c(8576);s.exports=function(_,I){try{Object.defineProperty(l,_,{value:I,configurable:!0,writable:!0})}catch{l[_]=I}return I}},3656:function(s,u,c){var l=c(150),_=c(2760),I=c(8182),M=c(69),P=I("species");s.exports=function(N){var b=l(N),f=_.f;M&&b&&!b[P]&&f(b,P,{configurable:!0,get:function(){return this}})}},1284:function(s,u,c){var l=c(3471),_=c(2760).f,I=c(8711),M=c(4500),P=c(158),N=c(8182),b=N("toStringTag");s.exports=function(f,v,m,d){if(f){var g=m?f:f.prototype;M(g,b)||_(g,b,{configurable:!0,value:v}),d&&!l&&I(g,"toString",P)}}},9766:function(s,u,c){var l=c(8717),_=c(2759),I=l("keys");s.exports=function(M){return I[M]||(I[M]=_(M))}},6434:function(s,u,c){var l=c(8576),_=c(7613),I="__core-js_shared__",M=l[I]||_(I,{});s.exports=M},8717:function(s,u,c){var l=c(5546),_=c(6434);(s.exports=function(I,M){return _[I]||(_[I]=M!==void 0?M:{})})("versions",[]).push({version:"3.18.2",mode:l?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},4743:function(s,u,c){var l=c(1138),_=c(1404),I=c(8182),M=I("species");s.exports=function(P,N){var b=l(P).constructor,f;return b===void 0||(f=l(b)[M])==null?N:_(f)}},863:function(s,u,c){var l=c(1941),_=c(4845),I=c(3209),M=function(P){return function(N,b){var f=_(I(N)),v=l(b),m=f.length,d,g;return v<0||v>=m?P?"":void 0:(d=f.charCodeAt(v),d<55296||d>56319||v+1===m||(g=f.charCodeAt(v+1))<56320||g>57343?P?f.charAt(v):d:P?f.slice(v,v+2):(d-55296<<10)+(g-56320)+65536)}};s.exports={codeAt:M(!1),charAt:M(!0)}},7977:function(s){var u=2147483647,c=36,l=1,_=26,I=38,M=700,P=72,N=128,b="-",f=/[^\0-\u007E]/,v=/[.\u3002\uFF0E\uFF61]/g,m="Overflow: input needs wider integers to process",d=c-l,g=Math.floor,h=String.fromCharCode,C=function(L){for(var B=[],z=0,X=L.length;z<X;){var ee=L.charCodeAt(z++);if(ee>=55296&&ee<=56319&&z<X){var ce=L.charCodeAt(z++);(ce&64512)==56320?B.push(((ee&1023)<<10)+(ce&1023)+65536):(B.push(ee),z--)}else B.push(ee)}return B},D=function(L){return L+22+75*(L<26)},S=function(L,B,z){var X=0;for(L=z?g(L/M):L>>1,L+=g(L/B);L>d*_>>1;X+=c)L=g(L/d);return g(X+(d+1)*L/(L+I))},k=function(L){var B=[];L=C(L);var z=L.length,X=N,ee=0,ce=P,le,me;for(le=0;le<L.length;le++)me=L[le],me<128&&B.push(h(me));var je=B.length,Pe=je;for(je&&B.push(b);Pe<z;){var it=u;for(le=0;le<L.length;le++)me=L[le],me>=X&&me<it&&(it=me);var Te=Pe+1;if(it-X>g((u-ee)/Te))throw RangeError(m);for(ee+=(it-X)*Te,X=it,le=0;le<L.length;le++){if(me=L[le],me<X&&++ee>u)throw RangeError(m);if(me==X){for(var lt=ee,he=c;;he+=c){var Dt=he<=ce?l:he>=ce+_?_:he-ce;if(lt<Dt)break;var Ke=lt-Dt,Mt=c-Dt;B.push(h(D(Dt+Ke%Mt))),lt=g(Ke/Mt)}B.push(h(D(lt))),ce=S(ee,Te,Pe==je),ee=0,++Pe}}++ee,++X}return B.join("")};s.exports=function(L){var B=[],z=L.toLowerCase().replace(v,".").split("."),X,ee;for(X=0;X<z.length;X++)ee=z[X],B.push(f.test(ee)?"xn--"+k(ee):ee);return B.join(".")}},6815:function(s,u,c){var l=c(2282).PROPER,_=c(6192),I=c(1450),M="\u200B\x85\u180E";s.exports=function(P){return _(function(){return!!I[P]()||M[P]()!==M||l&&I[P].name!==P})}},4277:function(s,u,c){var l=c(3209),_=c(4845),I=c(1450),M="["+I+"]",P=RegExp("^"+M+M+"*"),N=RegExp(M+M+"*$"),b=function(f){return function(v){var m=_(l(v));return f&1&&(m=m.replace(P,"")),f&2&&(m=m.replace(N,"")),m}};s.exports={start:b(1),end:b(2),trim:b(3)}},7160:function(s,u,c){var l=c(8576),_=c(6447),I=c(6192),M=c(8043),P=c(7403),N=c(7449),b=c(9536),f=c(224),v=l.setImmediate,m=l.clearImmediate,d=l.process,g=l.MessageChannel,h=l.Dispatch,C=0,D={},S="onreadystatechange",k,L,B,z;try{k=l.location}catch{}var X=function(me){if(D.hasOwnProperty(me)){var je=D[me];delete D[me],je()}},ee=function(me){return function(){X(me)}},ce=function(me){X(me.data)},le=function(me){l.postMessage(String(me),k.protocol+"//"+k.host)};(!v||!m)&&(v=function(je){for(var Pe=[],it=arguments.length,Te=1;it>Te;)Pe.push(arguments[Te++]);return D[++C]=function(){(_(je)?je:Function(je)).apply(void 0,Pe)},L(C),C},m=function(je){delete D[je]},f?L=function(me){d.nextTick(ee(me))}:h&&h.now?L=function(me){h.now(ee(me))}:g&&!b?(B=new g,z=B.port2,B.port1.onmessage=ce,L=M(z.postMessage,z,1)):l.addEventListener&&_(l.postMessage)&&!l.importScripts&&k&&k.protocol!=="file:"&&!I(le)?(L=le,l.addEventListener("message",ce,!1)):S in N("script")?L=function(me){P.appendChild(N("script"))[S]=function(){P.removeChild(this),X(me)}}:L=function(me){setTimeout(ee(me),0)}),s.exports={set:v,clear:m}},7739:function(s,u,c){var l=c(1941),_=Math.max,I=Math.min;s.exports=function(M,P){var N=l(M);return N<0?_(N+P,0):I(N,P)}},101:function(s,u,c){var l=c(2202),_=c(3209);s.exports=function(I){return l(_(I))}},1941:function(s){var u=Math.ceil,c=Math.floor;s.exports=function(l){var _=+l;return _!==_||_===0?0:(_>0?c:u)(_)}},8445:function(s,u,c){var l=c(1941),_=Math.min;s.exports=function(I){return I>0?_(l(I),9007199254740991):0}},1795:function(s,u,c){var l=c(3209);s.exports=function(_){return Object(l(_))}},7888:function(s,u,c){var l=c(5744),_=c(3236),I=c(5037),M=c(380),P=c(8182),N=P("toPrimitive");s.exports=function(b,f){if(!l(b)||_(b))return b;var v=I(b,N),m;if(v){if(f===void 0&&(f="default"),m=v.call(b,f),!l(m)||_(m))return m;throw TypeError("Can't convert object to primitive value")}return f===void 0&&(f="number"),M(b,f)}},77:function(s,u,c){var l=c(7888),_=c(3236);s.exports=function(I){var M=l(I,"string");return _(M)?M:String(M)}},3471:function(s,u,c){var l=c(8182),_=l("toStringTag"),I={};I[_]="z",s.exports=String(I)==="[object z]"},4845:function(s,u,c){var l=c(4696);s.exports=function(_){if(l(_)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String(_)}},9288:function(s){s.exports=function(u){try{return String(u)}catch{return"Object"}}},2759:function(s){var u=0,c=Math.random();s.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++u+c).toString(36)}},615:function(s,u,c){var l=c(3045);s.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},9207:function(s,u,c){var l=c(8182);u.f=l},8182:function(s,u,c){var l=c(8576),_=c(8717),I=c(4500),M=c(2759),P=c(3045),N=c(615),b=_("wks"),f=l.Symbol,v=N?f:f&&f.withoutSetter||M;s.exports=function(m){return(!I(b,m)||!(P||typeof b[m]=="string"))&&(P&&I(f,m)?b[m]=f[m]:b[m]=v("Symbol."+m)),b[m]}},1450:function(s){s.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},4242:function(s,u,c){var l=c(3085),_=c(9341),I=c(4469),M=c(2853),P=c(8711),N=c(774),b=c(273),f=c(3442),v=c(4845),m=function(g,h){var C=this,D=arguments.length>2?arguments[2]:void 0;if(!(C instanceof m))return new m(g,h,D);I&&(C=I(new Error(void 0),_(C))),h!==void 0&&P(C,"message",v(h)),b(C,D);var S=[];return f(g,S.push,{that:S}),P(C,"errors",S),C};m.prototype=M(Error.prototype,{constructor:N(5,m),message:N(5,""),name:N(5,"AggregateError")}),l({global:!0},{AggregateError:m})},9106:function(s,u,c){var l=c(3085),_=c(6192),I=c(4770),M=c(5744),P=c(1795),N=c(4104),b=c(9361),f=c(1321),v=c(242),m=c(8182),d=c(4218),g=m("isConcatSpreadable"),h=9007199254740991,C="Maximum allowed index exceeded",D=d>=51||!_(function(){var B=[];return B[g]=!1,B.concat()[0]!==B}),S=v("concat"),k=function(B){if(!M(B))return!1;var z=B[g];return z!==void 0?!!z:I(B)},L=!D||!S;l({target:"Array",proto:!0,forced:L},{concat:function(z){var X=P(this),ee=f(X,0),ce=0,le,me,je,Pe,it;for(le=-1,je=arguments.length;le<je;le++)if(it=le===-1?X:arguments[le],k(it)){if(Pe=N(it),ce+Pe>h)throw TypeError(C);for(me=0;me<Pe;me++,ce++)me in it&&b(ee,ce,it[me])}else{if(ce>=h)throw TypeError(C);b(ee,ce++,it)}return ee.length=ce,ee}})},1710:function(s,u,c){var l=c(3085),_=c(2724),I=c(7423);l({target:"Array",proto:!0},{fill:_}),I("fill")},3436:function(s,u,c){var l=c(3085),_=c(454).filter,I=c(242),M=I("filter");l({target:"Array",proto:!0,forced:!M},{filter:function(N){return _(this,N,arguments.length>1?arguments[1]:void 0)}})},9823:function(s,u,c){var l=c(3085),_=c(7397);l({target:"Array",proto:!0,forced:[].forEach!=_},{forEach:_})},9173:function(s,u,c){var l=c(3085),_=c(841),I=c(9770),M=!I(function(P){Array.from(P)});l({target:"Array",stat:!0,forced:M},{from:_})},2276:function(s,u,c){var l=c(3085),_=c(8180).indexOf,I=c(424),M=[].indexOf,P=!!M&&1/[1].indexOf(1,-0)<0,N=I("indexOf");l({target:"Array",proto:!0,forced:P||!N},{indexOf:function(f){return P?M.apply(this,arguments)||0:_(this,f,arguments.length>1?arguments[1]:void 0)}})},8118:function(s,u,c){var l=c(3085),_=c(4770);l({target:"Array",stat:!0},{isArray:_})},8939:function(s,u,c){var l=c(101),_=c(7423),I=c(7771),M=c(3326),P=c(7218),N="Array Iterator",b=M.set,f=M.getterFor(N);s.exports=P(Array,"Array",function(v,m){b(this,{type:N,target:l(v),index:0,kind:m})},function(){var v=f(this),m=v.target,d=v.kind,g=v.index++;return!m||g>=m.length?(v.target=void 0,{value:void 0,done:!0}):d=="keys"?{value:g,done:!1}:d=="values"?{value:m[g],done:!1}:{value:[g,m[g]],done:!1}},"values"),I.Arguments=I.Array,_("keys"),_("values"),_("entries")},3838:function(s,u,c){var l=c(3085),_=c(454).map,I=c(242),M=I("map");l({target:"Array",proto:!0,forced:!M},{map:function(N){return _(this,N,arguments.length>1?arguments[1]:void 0)}})},5818:function(s,u,c){var l=c(3085),_=c(4770),I=c(2091),M=c(5744),P=c(7739),N=c(4104),b=c(101),f=c(9361),v=c(8182),m=c(242),d=m("slice"),g=v("species"),h=[].slice,C=Math.max;l({target:"Array",proto:!0,forced:!d},{slice:function(S,k){var L=b(this),B=N(L),z=P(S,B),X=P(k===void 0?B:k,B),ee,ce,le;if(_(L)&&(ee=L.constructor,I(ee)&&(ee===Array||_(ee.prototype))?ee=void 0:M(ee)&&(ee=ee[g],ee===null&&(ee=void 0)),ee===Array||ee===void 0))return h.call(L,z,X);for(ce=new(ee===void 0?Array:ee)(C(X-z,0)),le=0;z<X;z++,le++)z in L&&f(ce,le,L[z]);return ce.length=le,ce}})},2178:function(s,u,c){var l=c(3085),_=c(7739),I=c(1941),M=c(4104),P=c(1795),N=c(1321),b=c(9361),f=c(242),v=f("splice"),m=Math.max,d=Math.min,g=9007199254740991,h="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!v},{splice:function(D,S){var k=P(this),L=M(k),B=_(D,L),z=arguments.length,X,ee,ce,le,me,je;if(z===0?X=ee=0:z===1?(X=0,ee=L-B):(X=z-2,ee=d(m(I(S),0),L-B)),L+X-ee>g)throw TypeError(h);for(ce=N(k,ee),le=0;le<ee;le++)me=B+le,me in k&&b(ce,le,k[me]);if(ce.length=ee,X<ee){for(le=B;le<L-ee;le++)me=le+ee,je=le+X,me in k?k[je]=k[me]:delete k[je];for(le=L;le>L-ee+X;le--)delete k[le-1]}else if(X>ee)for(le=L-ee;le>B;le--)me=le+ee-1,je=le+X-1,me in k?k[je]=k[me]:delete k[je];for(le=0;le<X;le++)k[le+B]=arguments[le+2];return k.length=L-ee+X,ce}})},665:function(s,u,c){var l=c(3085),_=c(6782);l({target:"Function",proto:!0},{bind:_})},8671:function(s,u,c){var l=c(8576),_=c(1284);_(l.JSON,"JSON",!0)},8556:function(){},2666:function(s,u,c){var l=c(3085),_=c(2558);l({target:"Number",stat:!0,forced:Number.parseInt!=_},{parseInt:_})},3113:function(s,u,c){var l=c(3085),_=c(69),I=c(2853);l({target:"Object",stat:!0,sham:!_},{create:I})},297:function(s,u,c){var l=c(3085),_=c(69),I=c(2760);l({target:"Object",stat:!0,forced:!_,sham:!_},{defineProperty:I.f})},9234:function(s,u,c){var l=c(3085),_=c(6192),I=c(1795),M=c(9341),P=c(4635),N=_(function(){M(1)});l({target:"Object",stat:!0,forced:N,sham:!P},{getPrototypeOf:function(f){return M(I(f))}})},2647:function(s,u,c){var l=c(3085),_=c(1795),I=c(7653),M=c(6192),P=M(function(){I(1)});l({target:"Object",stat:!0,forced:P},{keys:function(b){return I(_(b))}})},3222:function(s,u,c){var l=c(3085),_=c(4469);l({target:"Object",stat:!0},{setPrototypeOf:_})},6663:function(){},4859:function(s,u,c){var l=c(3085),_=c(15);l({global:!0,forced:parseFloat!=_},{parseFloat:_})},5706:function(s,u,c){var l=c(3085),_=c(2558);l({global:!0,forced:parseInt!=_},{parseInt:_})},7884:function(s,u,c){var l=c(3085),_=c(6235),I=c(9438),M=c(892),P=c(3442);l({target:"Promise",stat:!0},{allSettled:function(b){var f=this,v=I.f(f),m=v.resolve,d=v.reject,g=M(function(){var h=_(f.resolve),C=[],D=0,S=1;P(b,function(k){var L=D++,B=!1;C.push(void 0),S++,h.call(f,k).then(function(z){B||(B=!0,C[L]={status:"fulfilled",value:z},--S||m(C))},function(z){B||(B=!0,C[L]={status:"rejected",reason:z},--S||m(C))})}),--S||m(C)});return g.error&&d(g.value),v.promise}})},8885:function(s,u,c){var l=c(3085),_=c(6235),I=c(150),M=c(9438),P=c(892),N=c(3442),b="No one promise resolved";l({target:"Promise",stat:!0},{any:function(v){var m=this,d=M.f(m),g=d.resolve,h=d.reject,C=P(function(){var D=_(m.resolve),S=[],k=0,L=1,B=!1;N(v,function(z){var X=k++,ee=!1;S.push(void 0),L++,D.call(m,z).then(function(ce){ee||B||(B=!0,g(ce))},function(ce){ee||B||(ee=!0,S[X]=ce,--L||h(new(I("AggregateError"))(S,b)))})}),--L||h(new(I("AggregateError"))(S,b))});return C.error&&h(C.value),d.promise}})},1868:function(s,u,c){var l=c(3085),_=c(5546),I=c(4471),M=c(6192),P=c(150),N=c(6447),b=c(4743),f=c(9126),v=c(9482),m=!!I&&M(function(){I.prototype.finally.call({then:function(){}},function(){})});if(l({target:"Promise",proto:!0,real:!0,forced:m},{finally:function(g){var h=b(this,P("Promise")),C=N(g);return this.then(C?function(D){return f(h,g()).then(function(){return D})}:g,C?function(D){return f(h,g()).then(function(){throw D})}:g)}}),!_&&N(I)){var d=P("Promise").prototype.finally;I.prototype.finally!==d&&v(I.prototype,"finally",d,{unsafe:!0})}},9021:function(s,u,c){var l=c(3085),_=c(5546),I=c(8576),M=c(150),P=c(4471),N=c(9482),b=c(533),f=c(4469),v=c(1284),m=c(3656),d=c(6235),g=c(6447),h=c(5744),C=c(6961),D=c(9516),S=c(3442),k=c(9770),L=c(4743),B=c(7160).set,z=c(2950),X=c(9126),ee=c(3681),ce=c(9438),le=c(892),me=c(3326),je=c(9245),Pe=c(8182),it=c(2957),Te=c(224),lt=c(4218),he=Pe("species"),Dt="Promise",Ke=me.get,Mt=me.set,Me=me.getterFor(Dt),Be=P&&P.prototype,Oe=P,Se=Be,Ye=I.TypeError,ve=I.document,Ce=I.process,_e=ce.f,pe=_e,Ve=!!(ve&&ve.createEvent&&I.dispatchEvent),Ze=g(I.PromiseRejectionEvent),ht="unhandledrejection",ot="rejectionhandled",st=0,re=1,H=2,q=1,ie=2,ue=!1,be,ke,Xe,qe,Le=je(Dt,function(){var wt=D(Oe),St=wt!==String(Oe);if(!St&&lt===66||_&&!Se.finally)return!0;if(lt>=51&&/native code/.test(wt))return!1;var Lt=new Oe(function(At){At(1)}),Wt=function(At){At(function(){},function(){})},$t=Lt.constructor={};return $t[he]=Wt,ue=Lt.then(function(){})instanceof Wt,ue?!St&&it&&!Ze:!0}),ut=Le||!k(function(wt){Oe.all(wt).catch(function(){})}),bt=function(wt){var St;return h(wt)&&g(St=wt.then)?St:!1},zt=function(wt,St){if(!wt.notified){wt.notified=!0;var Lt=wt.reactions;z(function(){for(var Wt=wt.value,$t=wt.state==re,At=0;Lt.length>At;){var ii=Lt[At++],li=$t?ii.ok:ii.fail,Kt=ii.resolve,gt=ii.reject,Jn=ii.domain,an,bn,vi;try{li?($t||(wt.rejection===ie&&Jt(wt),wt.rejection=q),li===!0?an=Wt:(Jn&&Jn.enter(),an=li(Wt),Jn&&(Jn.exit(),vi=!0)),an===ii.promise?gt(Ye("Promise-chain cycle")):(bn=bt(an))?bn.call(an,Kt,gt):Kt(an)):gt(Wt)}catch(_i){Jn&&!vi&&Jn.exit(),gt(_i)}}wt.reactions=[],wt.notified=!1,St&&!wt.rejection&&Zt(wt)})}},qt=function(wt,St,Lt){var Wt,$t;Ve?(Wt=ve.createEvent("Event"),Wt.promise=St,Wt.reason=Lt,Wt.initEvent(wt,!1,!0),I.dispatchEvent(Wt)):Wt={promise:St,reason:Lt},!Ze&&($t=I["on"+wt])?$t(Wt):wt===ht&&ee("Unhandled promise rejection",Lt)},Zt=function(wt){B.call(I,function(){var St=wt.facade,Lt=wt.value,Wt=Xt(wt),$t;if(Wt&&($t=le(function(){Te?Ce.emit("unhandledRejection",Lt,St):qt(ht,St,Lt)}),wt.rejection=Te||Xt(wt)?ie:q,$t.error))throw $t.value})},Xt=function(wt){return wt.rejection!==q&&!wt.parent},Jt=function(wt){B.call(I,function(){var St=wt.facade;Te?Ce.emit("rejectionHandled",St):qt(ot,St,wt.value)})},Mn=function(wt,St,Lt){return function(Wt){wt(St,Wt,Lt)}},kn=function(wt,St,Lt){wt.done||(wt.done=!0,Lt&&(wt=Lt),wt.value=St,wt.state=H,zt(wt,!0))},qn=function(wt,St,Lt){if(!wt.done){wt.done=!0,Lt&&(wt=Lt);try{if(wt.facade===St)throw Ye("Promise can't be resolved itself");var Wt=bt(St);Wt?z(function(){var $t={done:!1};try{Wt.call(St,Mn(qn,$t,wt),Mn(kn,$t,wt))}catch(At){kn($t,At,wt)}}):(wt.value=St,wt.state=re,zt(wt,!1))}catch($t){kn({done:!1},$t,wt)}}};if(Le&&(Oe=function(St){C(this,Oe,Dt),d(St),be.call(this);var Lt=Ke(this);try{St(Mn(qn,Lt),Mn(kn,Lt))}catch(Wt){kn(Lt,Wt)}},Se=Oe.prototype,be=function(St){Mt(this,{type:Dt,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:st,value:void 0})},be.prototype=b(Se,{then:function(St,Lt){var Wt=Me(this),$t=_e(L(this,Oe));return $t.ok=g(St)?St:!0,$t.fail=g(Lt)&&Lt,$t.domain=Te?Ce.domain:void 0,Wt.parent=!0,Wt.reactions.push($t),Wt.state!=st&&zt(Wt,!1),$t.promise},catch:function(wt){return this.then(void 0,wt)}}),ke=function(){var wt=new be,St=Ke(wt);this.promise=wt,this.resolve=Mn(qn,St),this.reject=Mn(kn,St)},ce.f=_e=function(wt){return wt===Oe||wt===Xe?new ke(wt):pe(wt)},!_&&g(P)&&Be!==Object.prototype)){qe=Be.then,ue||(N(Be,"then",function(St,Lt){var Wt=this;return new Oe(function($t,At){qe.call(Wt,$t,At)}).then(St,Lt)},{unsafe:!0}),N(Be,"catch",Se.catch,{unsafe:!0}));try{delete Be.constructor}catch{}f&&f(Be,Se)}l({global:!0,wrap:!0,forced:Le},{Promise:Oe}),v(Oe,Dt,!1,!0),m(Dt),Xe=M(Dt),l({target:Dt,stat:!0,forced:Le},{reject:function(St){var Lt=_e(this);return Lt.reject.call(void 0,St),Lt.promise}}),l({target:Dt,stat:!0,forced:_||Le},{resolve:function(St){return X(_&&this===Xe?Oe:this,St)}}),l({target:Dt,stat:!0,forced:ut},{all:function(St){var Lt=this,Wt=_e(Lt),$t=Wt.resolve,At=Wt.reject,ii=le(function(){var li=d(Lt.resolve),Kt=[],gt=0,Jn=1;S(St,function(an){var bn=gt++,vi=!1;Kt.push(void 0),Jn++,li.call(Lt,an).then(function(_i){vi||(vi=!0,Kt[bn]=_i,--Jn||$t(Kt))},At)}),--Jn||$t(Kt)});return ii.error&&At(ii.value),Wt.promise},race:function(St){var Lt=this,Wt=_e(Lt),$t=Wt.reject,At=le(function(){var ii=d(Lt.resolve);S(St,function(li){ii.call(Lt,li).then(Wt.resolve,$t)})});return At.error&&$t(At.value),Wt.promise}})},5397:function(s,u,c){var l=c(3085),_=c(150),I=c(1404),M=c(1138),P=c(5744),N=c(2853),b=c(6782),f=c(6192),v=_("Reflect","construct"),m=f(function(){function h(){}return!(v(function(){},[],h)instanceof h)}),d=!f(function(){v(function(){})}),g=m||d;l({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(C,D){I(C),M(D);var S=arguments.length<3?C:I(arguments[2]);if(d&&!m)return v(C,D,S);if(C==S){switch(D.length){case 0:return new C;case 1:return new C(D[0]);case 2:return new C(D[0],D[1]);case 3:return new C(D[0],D[1],D[2]);case 4:return new C(D[0],D[1],D[2],D[3])}var k=[null];return k.push.apply(k,D),new(b.apply(C,k))}var L=S.prototype,B=N(P(L)?L:Object.prototype),z=Function.apply.call(C,B,D);return P(z)?z:B}})},1367:function(){},5454:function(s,u,c){var l=c(863).charAt,_=c(4845),I=c(3326),M=c(7218),P="String Iterator",N=I.set,b=I.getterFor(P);M(String,"String",function(f){N(this,{type:P,string:_(f),index:0})},function(){var v=b(this),m=v.string,d=v.index,g;return d>=m.length?{value:void 0,done:!0}:(g=l(m,d),v.index+=g.length,{value:g,done:!1})})},957:function(s,u,c){var l=c(3085),_=c(4277).trim,I=c(6815);l({target:"String",proto:!0,forced:I("trim")},{trim:function(){return _(this)}})},9781:function(s,u,c){var l=c(1488);l("asyncIterator")},492:function(){},6681:function(s,u,c){var l=c(1488);l("hasInstance")},9594:function(s,u,c){var l=c(1488);l("isConcatSpreadable")},3665:function(s,u,c){var l=c(1488);l("iterator")},6187:function(s,u,c){var l=c(3085),_=c(8576),I=c(150),M=c(5546),P=c(69),N=c(3045),b=c(6192),f=c(4500),v=c(4770),m=c(6447),d=c(5744),g=c(3236),h=c(1138),C=c(1795),D=c(101),S=c(77),k=c(4845),L=c(774),B=c(2853),z=c(7653),X=c(2092),ee=c(4052),ce=c(4750),le=c(5141),me=c(2760),je=c(6007),Pe=c(9482),it=c(8717),Te=c(9766),lt=c(4535),he=c(2759),Dt=c(8182),Ke=c(9207),Mt=c(1488),Me=c(1284),Be=c(3326),Oe=c(454).forEach,Se=Te("hidden"),Ye="Symbol",ve="prototype",Ce=Dt("toPrimitive"),_e=Be.set,pe=Be.getterFor(Ye),Ve=Object[ve],Ze=_.Symbol,ht=I("JSON","stringify"),ot=le.f,st=me.f,re=ee.f,H=je.f,q=it("symbols"),ie=it("op-symbols"),ue=it("string-to-symbol-registry"),be=it("symbol-to-string-registry"),ke=it("wks"),Xe=_.QObject,qe=!Xe||!Xe[ve]||!Xe[ve].findChild,Le=P&&b(function(){return B(st({},"a",{get:function(){return st(this,"a",{value:7}).a}})).a!=7})?function(wt,St,Lt){var Wt=ot(Ve,St);Wt&&delete Ve[St],st(wt,St,Lt),Wt&&wt!==Ve&&st(Ve,St,Wt)}:st,ut=function(wt,St){var Lt=q[wt]=B(Ze[ve]);return _e(Lt,{type:Ye,tag:wt,description:St}),P||(Lt.description=St),Lt},bt=function(St,Lt,Wt){St===Ve&&bt(ie,Lt,Wt),h(St);var $t=S(Lt);return h(Wt),f(q,$t)?(Wt.enumerable?(f(St,Se)&&St[Se][$t]&&(St[Se][$t]=!1),Wt=B(Wt,{enumerable:L(0,!1)})):(f(St,Se)||st(St,Se,L(1,{})),St[Se][$t]=!0),Le(St,$t,Wt)):st(St,$t,Wt)},zt=function(St,Lt){h(St);var Wt=D(Lt),$t=z(Wt).concat(Mn(Wt));return Oe($t,function(At){(!P||Zt.call(Wt,At))&&bt(St,At,Wt[At])}),St},qt=function(St,Lt){return Lt===void 0?B(St):zt(B(St),Lt)},Zt=function(St){var Lt=S(St),Wt=H.call(this,Lt);return this===Ve&&f(q,Lt)&&!f(ie,Lt)?!1:Wt||!f(this,Lt)||!f(q,Lt)||f(this,Se)&&this[Se][Lt]?Wt:!0},Xt=function(St,Lt){var Wt=D(St),$t=S(Lt);if(!(Wt===Ve&&f(q,$t)&&!f(ie,$t))){var At=ot(Wt,$t);return At&&f(q,$t)&&!(f(Wt,Se)&&Wt[Se][$t])&&(At.enumerable=!0),At}},Jt=function(St){var Lt=re(D(St)),Wt=[];return Oe(Lt,function($t){!f(q,$t)&&!f(lt,$t)&&Wt.push($t)}),Wt},Mn=function(St){var Lt=St===Ve,Wt=re(Lt?ie:D(St)),$t=[];return Oe(Wt,function(At){f(q,At)&&(!Lt||f(Ve,At))&&$t.push(q[At])}),$t};if(N||(Ze=function(){if(this instanceof Ze)throw TypeError("Symbol is not a constructor");var St=!arguments.length||arguments[0]===void 0?void 0:k(arguments[0]),Lt=he(St),Wt=function($t){this===Ve&&Wt.call(ie,$t),f(this,Se)&&f(this[Se],Lt)&&(this[Se][Lt]=!1),Le(this,Lt,L(1,$t))};return P&&qe&&Le(Ve,Lt,{configurable:!0,set:Wt}),ut(Lt,St)},Pe(Ze[ve],"toString",function(){return pe(this).tag}),Pe(Ze,"withoutSetter",function(wt){return ut(he(wt),wt)}),je.f=Zt,me.f=bt,le.f=Xt,X.f=ee.f=Jt,ce.f=Mn,Ke.f=function(wt){return ut(Dt(wt),wt)},P&&(st(Ze[ve],"description",{configurable:!0,get:function(){return pe(this).description}}),M||Pe(Ve,"propertyIsEnumerable",Zt,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!N,sham:!N},{Symbol:Ze}),Oe(z(ke),function(wt){Mt(wt)}),l({target:Ye,stat:!0,forced:!N},{for:function(wt){var St=k(wt);if(f(ue,St))return ue[St];var Lt=Ze(St);return ue[St]=Lt,be[Lt]=St,Lt},keyFor:function(St){if(!g(St))throw TypeError(St+" is not a symbol");if(f(be,St))return be[St]},useSetter:function(){qe=!0},useSimple:function(){qe=!1}}),l({target:"Object",stat:!0,forced:!N,sham:!P},{create:qt,defineProperty:bt,defineProperties:zt,getOwnPropertyDescriptor:Xt}),l({target:"Object",stat:!0,forced:!N},{getOwnPropertyNames:Jt,getOwnPropertySymbols:Mn}),l({target:"Object",stat:!0,forced:b(function(){ce.f(1)})},{getOwnPropertySymbols:function(St){return ce.f(C(St))}}),ht){var kn=!N||b(function(){var wt=Ze();return ht([wt])!="[null]"||ht({a:wt})!="{}"||ht(Object(wt))!="{}"});l({target:"JSON",stat:!0,forced:kn},{stringify:function(St,Lt,Wt){for(var $t=[St],At=1,ii;arguments.length>At;)$t.push(arguments[At++]);if(ii=Lt,!(!d(Lt)&&St===void 0||g(St)))return v(Lt)||(Lt=function(li,Kt){if(m(ii)&&(Kt=ii.call(this,li,Kt)),!g(Kt))return Kt}),$t[1]=Lt,ht.apply(null,$t)}})}if(!Ze[ve][Ce]){var qn=Ze[ve].valueOf;Pe(Ze[ve],Ce,function(){return qn.apply(this,arguments)})}Me(Ze,Ye),lt[Se]=!0},1250:function(s,u,c){var l=c(1488);l("matchAll")},9017:function(s,u,c){var l=c(1488);l("match")},9786:function(s,u,c){var l=c(1488);l("replace")},503:function(s,u,c){var l=c(1488);l("search")},6565:function(s,u,c){var l=c(1488);l("species")},9322:function(s,u,c){var l=c(1488);l("split")},3610:function(s,u,c){var l=c(1488);l("toPrimitive")},6886:function(s,u,c){var l=c(1488);l("toStringTag")},3514:function(s,u,c){var l=c(1488);l("unscopables")},177:function(s,u,c){var l=c(1488);l("asyncDispose")},9031:function(s,u,c){var l=c(1488);l("dispose")},6658:function(s,u,c){var l=c(1488);l("matcher")},1875:function(s,u,c){var l=c(1488);l("metadata")},8658:function(s,u,c){var l=c(1488);l("observable")},4592:function(s,u,c){var l=c(1488);l("patternMatch")},6680:function(s,u,c){var l=c(1488);l("replaceAll")},162:function(s,u,c){c(8939);var l=c(7365),_=c(8576),I=c(4696),M=c(8711),P=c(7771),N=c(8182),b=N("toStringTag");for(var f in l){var v=_[f],m=v&&v.prototype;m&&I(m)!==b&&M(m,b,f),P[f]=P.Array}},2906:function(s,u,c){var l=c(3085),_=c(8576),I=c(6447),M=c(8989),P=[].slice,N=/MSIE .\./.test(M),b=function(f){return function(v,m){var d=arguments.length>2,g=d?P.call(arguments,2):void 0;return f(d?function(){(I(v)?v:Function(v)).apply(this,g)}:v,m)}};l({global:!0,bind:!0,forced:N},{setTimeout:b(_.setTimeout),setInterval:b(_.setInterval)})},9336:function(s,u,c){c(8939);var l=c(3085),_=c(150),I=c(4551),M=c(9482),P=c(533),N=c(1284),b=c(5148),f=c(3326),v=c(6961),m=c(6447),d=c(4500),g=c(8043),h=c(4696),C=c(1138),D=c(5744),S=c(4845),k=c(2853),L=c(774),B=c(1669),z=c(8703),X=c(8182),ee=_("fetch"),ce=_("Request"),le=ce&&ce.prototype,me=_("Headers"),je=X("iterator"),Pe="URLSearchParams",it=Pe+"Iterator",Te=f.set,lt=f.getterFor(Pe),he=f.getterFor(it),Dt=/\+/g,Ke=Array(4),Mt=function(re){return Ke[re-1]||(Ke[re-1]=RegExp("((?:%[\\da-f]{2}){"+re+"})","gi"))},Me=function(re){try{return decodeURIComponent(re)}catch{return re}},Be=function(re){var H=re.replace(Dt," "),q=4;try{return decodeURIComponent(H)}catch{for(;q;)H=H.replace(Mt(q--),Me);return H}},Oe=/[!'()~]|%20/g,Se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Ye=function(re){return Se[re]},ve=function(re){return encodeURIComponent(re).replace(Oe,Ye)},Ce=function(re,H){if(H)for(var q=H.split("&"),ie=0,ue,be;ie<q.length;)ue=q[ie++],ue.length&&(be=ue.split("="),re.push({key:Be(be.shift()),value:Be(be.join("="))}))},_e=function(re){this.entries.length=0,Ce(this.entries,re)},pe=function(re,H){if(re<H)throw TypeError("Not enough arguments")},Ve=b(function(H,q){Te(this,{type:it,iterator:B(lt(H).entries),kind:q})},"Iterator",function(){var H=he(this),q=H.kind,ie=H.iterator.next(),ue=ie.value;return ie.done||(ie.value=q==="keys"?ue.key:q==="values"?ue.value:[ue.key,ue.value]),ie}),Ze=function(){v(this,Ze,Pe);var H=arguments.length>0?arguments[0]:void 0,q=this,ie=[],ue,be,ke,Xe,qe,Le,ut,bt,zt;if(Te(q,{type:Pe,entries:ie,updateURL:function(){},updateSearchParams:_e}),H!==void 0)if(D(H))if(ue=z(H),ue)for(be=B(H,ue),ke=be.next;!(Xe=ke.call(be)).done;){if(qe=B(C(Xe.value)),Le=qe.next,(ut=Le.call(qe)).done||(bt=Le.call(qe)).done||!Le.call(qe).done)throw TypeError("Expected sequence with length 2");ie.push({key:S(ut.value),value:S(bt.value)})}else for(zt in H)d(H,zt)&&ie.push({key:zt,value:S(H[zt])});else Ce(ie,typeof H=="string"?H.charAt(0)==="?"?H.slice(1):H:S(H))},ht=Ze.prototype;if(P(ht,{append:function(H,q){pe(arguments.length,2);var ie=lt(this);ie.entries.push({key:S(H),value:S(q)}),ie.updateURL()},delete:function(re){pe(arguments.length,1);for(var H=lt(this),q=H.entries,ie=S(re),ue=0;ue<q.length;)q[ue].key===ie?q.splice(ue,1):ue++;H.updateURL()},get:function(H){pe(arguments.length,1);for(var q=lt(this).entries,ie=S(H),ue=0;ue<q.length;ue++)if(q[ue].key===ie)return q[ue].value;return null},getAll:function(H){pe(arguments.length,1);for(var q=lt(this).entries,ie=S(H),ue=[],be=0;be<q.length;be++)q[be].key===ie&&ue.push(q[be].value);return ue},has:function(H){pe(arguments.length,1);for(var q=lt(this).entries,ie=S(H),ue=0;ue<q.length;)if(q[ue++].key===ie)return!0;return!1},set:function(H,q){pe(arguments.length,1);for(var ie=lt(this),ue=ie.entries,be=!1,ke=S(H),Xe=S(q),qe=0,Le;qe<ue.length;qe++)Le=ue[qe],Le.key===ke&&(be?ue.splice(qe--,1):(be=!0,Le.value=Xe));be||ue.push({key:ke,value:Xe}),ie.updateURL()},sort:function(){var H=lt(this),q=H.entries,ie=q.slice(),ue,be,ke;for(q.length=0,ke=0;ke<ie.length;ke++){for(ue=ie[ke],be=0;be<ke;be++)if(q[be].key>ue.key){q.splice(be,0,ue);break}be===ke&&q.push(ue)}H.updateURL()},forEach:function(H){for(var q=lt(this).entries,ie=g(H,arguments.length>1?arguments[1]:void 0,3),ue=0,be;ue<q.length;)be=q[ue++],ie(be.value,be.key,this)},keys:function(){return new Ve(this,"keys")},values:function(){return new Ve(this,"values")},entries:function(){return new Ve(this,"entries")}},{enumerable:!0}),M(ht,je,ht.entries,{name:"entries"}),M(ht,"toString",function(){for(var H=lt(this).entries,q=[],ie=0,ue;ie<H.length;)ue=H[ie++],q.push(ve(ue.key)+"="+ve(ue.value));return q.join("&")},{enumerable:!0}),N(Ze,Pe),l({global:!0,forced:!I},{URLSearchParams:Ze}),!I&&m(me)){var ot=function(re){if(D(re)){var H=re.body,q;if(h(H)===Pe)return q=re.headers?new me(re.headers):new me,q.has("content-type")||q.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),k(re,{body:L(0,String(H)),headers:L(0,q)})}return re};if(m(ee)&&l({global:!0,enumerable:!0,forced:!0},{fetch:function(H){return ee(H,arguments.length>1?ot(arguments[1]):{})}}),m(ce)){var st=function(H){return v(this,st,"Request"),new ce(H,arguments.length>1?ot(arguments[1]):{})};le.constructor=st,st.prototype=le,l({global:!0,forced:!0},{Request:st})}}s.exports={URLSearchParams:Ze,getState:lt}},4948:function(s,u,c){c(5454);var l=c(3085),_=c(69),I=c(4551),M=c(8576),P=c(1187),N=c(9482),b=c(6961),f=c(4500),v=c(2503),m=c(841),d=c(863).codeAt,g=c(7977),h=c(4845),C=c(1284),D=c(9336),S=c(3326),k=M.URL,L=D.URLSearchParams,B=D.getState,z=S.set,X=S.getterFor("URL"),ee=Math.floor,ce=Math.pow,le="Invalid authority",me="Invalid scheme",je="Invalid host",Pe="Invalid port",it=/[A-Za-z]/,Te=/[\d+-.A-Za-z]/,lt=/\d/,he=/^0x/i,Dt=/^[0-7]+$/,Ke=/^\d+$/,Mt=/^[\dA-Fa-f]+$/,Me=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Be=/[\0\t\n\r #/:<>?@[\\\]^|]/,Oe=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,Se=/[\t\n\r]/g,Ye,ve=function(xe,Tt){var Et,kt,Nt;if(Tt.charAt(0)=="["){if(Tt.charAt(Tt.length-1)!="]"||(Et=_e(Tt.slice(1,-1)),!Et))return je;xe.host=Et}else if(q(xe)){if(Tt=g(Tt),Me.test(Tt)||(Et=Ce(Tt),Et===null))return je;xe.host=Et}else{if(Be.test(Tt))return je;for(Et="",kt=m(Tt),Nt=0;Nt<kt.length;Nt++)Et+=re(kt[Nt],Ze);xe.host=Et}},Ce=function(xe){var Tt=xe.split("."),Et,kt,Nt,on,nn,In,Pn;if(Tt.length&&Tt[Tt.length-1]==""&&Tt.pop(),Et=Tt.length,Et>4)return xe;for(kt=[],Nt=0;Nt<Et;Nt++){if(on=Tt[Nt],on=="")return xe;if(nn=10,on.length>1&&on.charAt(0)=="0"&&(nn=he.test(on)?16:8,on=on.slice(nn==8?1:2)),on==="")In=0;else{if(!(nn==10?Ke:nn==8?Dt:Mt).test(on))return xe;In=parseInt(on,nn)}kt.push(In)}for(Nt=0;Nt<Et;Nt++)if(In=kt[Nt],Nt==Et-1){if(In>=ce(256,5-Et))return null}else if(In>255)return null;for(Pn=kt.pop(),Nt=0;Nt<kt.length;Nt++)Pn+=kt[Nt]*ce(256,3-Nt);return Pn},_e=function(xe){var Tt=[0,0,0,0,0,0,0,0],Et=0,kt=null,Nt=0,on,nn,In,Pn,hi,Li,Ft,bi=function(){return xe.charAt(Nt)};if(bi()==":"){if(xe.charAt(1)!=":")return;Nt+=2,Et++,kt=Et}for(;bi();){if(Et==8)return;if(bi()==":"){if(kt!==null)return;Nt++,Et++,kt=Et;continue}for(on=nn=0;nn<4&&Mt.test(bi());)on=on*16+parseInt(bi(),16),Nt++,nn++;if(bi()=="."){if(nn==0||(Nt-=nn,Et>6))return;for(In=0;bi();){if(Pn=null,In>0)if(bi()=="."&&In<4)Nt++;else return;if(!lt.test(bi()))return;for(;lt.test(bi());){if(hi=parseInt(bi(),10),Pn===null)Pn=hi;else{if(Pn==0)return;Pn=Pn*10+hi}if(Pn>255)return;Nt++}Tt[Et]=Tt[Et]*256+Pn,In++,(In==2||In==4)&&Et++}if(In!=4)return;break}else if(bi()==":"){if(Nt++,!bi())return}else if(bi())return;Tt[Et++]=on}if(kt!==null)for(Li=Et-kt,Et=7;Et!=0&&Li>0;)Ft=Tt[Et],Tt[Et--]=Tt[kt+Li-1],Tt[kt+--Li]=Ft;else if(Et!=8)return;return Tt},pe=function(xe){for(var Tt=null,Et=1,kt=null,Nt=0,on=0;on<8;on++)xe[on]!==0?(Nt>Et&&(Tt=kt,Et=Nt),kt=null,Nt=0):(kt===null&&(kt=on),++Nt);return Nt>Et&&(Tt=kt,Et=Nt),Tt},Ve=function(xe){var Tt,Et,kt,Nt;if(typeof xe=="number"){for(Tt=[],Et=0;Et<4;Et++)Tt.unshift(xe%256),xe=ee(xe/256);return Tt.join(".")}else if(typeof xe=="object"){for(Tt="",kt=pe(xe),Et=0;Et<8;Et++)Nt&&xe[Et]===0||(Nt&&(Nt=!1),kt===Et?(Tt+=Et?":":"::",Nt=!0):(Tt+=xe[Et].toString(16),Et<7&&(Tt+=":")));return"["+Tt+"]"}return xe},Ze={},ht=v({},Ze,{" ":1,'"':1,"<":1,">":1,"`":1}),ot=v({},ht,{"#":1,"?":1,"{":1,"}":1}),st=v({},ot,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),re=function(xe,Tt){var Et=d(xe,0);return Et>32&&Et<127&&!f(Tt,xe)?xe:encodeURIComponent(xe)},H={ftp:21,file:null,http:80,https:443,ws:80,wss:443},q=function(xe){return f(H,xe.scheme)},ie=function(xe){return xe.username!=""||xe.password!=""},ue=function(xe){return!xe.host||xe.cannotBeABaseURL||xe.scheme=="file"},be=function(xe,Tt){var Et;return xe.length==2&&it.test(xe.charAt(0))&&((Et=xe.charAt(1))==":"||!Tt&&Et=="|")},ke=function(xe){var Tt;return xe.length>1&&be(xe.slice(0,2))&&(xe.length==2||(Tt=xe.charAt(2))==="/"||Tt==="\\"||Tt==="?"||Tt==="#")},Xe=function(xe){var Tt=xe.path,Et=Tt.length;Et&&(xe.scheme!="file"||Et!=1||!be(Tt[0],!0))&&Tt.pop()},qe=function(xe){return xe==="."||xe.toLowerCase()==="%2e"},Le=function(xe){return xe=xe.toLowerCase(),xe===".."||xe==="%2e."||xe===".%2e"||xe==="%2e%2e"},ut={},bt={},zt={},qt={},Zt={},Xt={},Jt={},Mn={},kn={},qn={},wt={},St={},Lt={},Wt={},$t={},At={},ii={},li={},Kt={},gt={},Jn={},an=function(xe,Tt,Et,kt){var Nt=Et||ut,on=0,nn="",In=!1,Pn=!1,hi=!1,Li,Ft,bi,cr;for(Et||(xe.scheme="",xe.username="",xe.password="",xe.host=null,xe.port=null,xe.path=[],xe.query=null,xe.fragment=null,xe.cannotBeABaseURL=!1,Tt=Tt.replace(Oe,"")),Tt=Tt.replace(Se,""),Li=m(Tt);on<=Li.length;){switch(Ft=Li[on],Nt){case ut:if(Ft&&it.test(Ft))nn+=Ft.toLowerCase(),Nt=bt;else{if(Et)return me;Nt=zt;continue}break;case bt:if(Ft&&(Te.test(Ft)||Ft=="+"||Ft=="-"||Ft=="."))nn+=Ft.toLowerCase();else if(Ft==":"){if(Et&&(q(xe)!=f(H,nn)||nn=="file"&&(ie(xe)||xe.port!==null)||xe.scheme=="file"&&!xe.host))return;if(xe.scheme=nn,Et){q(xe)&&H[xe.scheme]==xe.port&&(xe.port=null);return}nn="",xe.scheme=="file"?Nt=Wt:q(xe)&&kt&&kt.scheme==xe.scheme?Nt=qt:q(xe)?Nt=Mn:Li[on+1]=="/"?(Nt=Zt,on++):(xe.cannotBeABaseURL=!0,xe.path.push(""),Nt=Kt)}else{if(Et)return me;nn="",Nt=zt,on=0;continue}break;case zt:if(!kt||kt.cannotBeABaseURL&&Ft!="#")return me;if(kt.cannotBeABaseURL&&Ft=="#"){xe.scheme=kt.scheme,xe.path=kt.path.slice(),xe.query=kt.query,xe.fragment="",xe.cannotBeABaseURL=!0,Nt=Jn;break}Nt=kt.scheme=="file"?Wt:Xt;continue;case qt:if(Ft=="/"&&Li[on+1]=="/")Nt=kn,on++;else{Nt=Xt;continue}break;case Zt:if(Ft=="/"){Nt=qn;break}else{Nt=li;continue}case Xt:if(xe.scheme=kt.scheme,Ft==Ye)xe.username=kt.username,xe.password=kt.password,xe.host=kt.host,xe.port=kt.port,xe.path=kt.path.slice(),xe.query=kt.query;else if(Ft=="/"||Ft=="\\"&&q(xe))Nt=Jt;else if(Ft=="?")xe.username=kt.username,xe.password=kt.password,xe.host=kt.host,xe.port=kt.port,xe.path=kt.path.slice(),xe.query="",Nt=gt;else if(Ft=="#")xe.username=kt.username,xe.password=kt.password,xe.host=kt.host,xe.port=kt.port,xe.path=kt.path.slice(),xe.query=kt.query,xe.fragment="",Nt=Jn;else{xe.username=kt.username,xe.password=kt.password,xe.host=kt.host,xe.port=kt.port,xe.path=kt.path.slice(),xe.path.pop(),Nt=li;continue}break;case Jt:if(q(xe)&&(Ft=="/"||Ft=="\\"))Nt=kn;else if(Ft=="/")Nt=qn;else{xe.username=kt.username,xe.password=kt.password,xe.host=kt.host,xe.port=kt.port,Nt=li;continue}break;case Mn:if(Nt=kn,Ft!="/"||nn.charAt(on+1)!="/")continue;on++;break;case kn:if(Ft!="/"&&Ft!="\\"){Nt=qn;continue}break;case qn:if(Ft=="@"){In&&(nn="%40"+nn),In=!0,bi=m(nn);for(var Dr=0;Dr<bi.length;Dr++){var $a=bi[Dr];if($a==":"&&!hi){hi=!0;continue}var fs=re($a,st);hi?xe.password+=fs:xe.username+=fs}nn=""}else if(Ft==Ye||Ft=="/"||Ft=="?"||Ft=="#"||Ft=="\\"&&q(xe)){if(In&&nn=="")return le;on-=m(nn).length+1,nn="",Nt=wt}else nn+=Ft;break;case wt:case St:if(Et&&xe.scheme=="file"){Nt=At;continue}else if(Ft==":"&&!Pn){if(nn=="")return je;if(cr=ve(xe,nn),cr)return cr;if(nn="",Nt=Lt,Et==St)return}else if(Ft==Ye||Ft=="/"||Ft=="?"||Ft=="#"||Ft=="\\"&&q(xe)){if(q(xe)&&nn=="")return je;if(Et&&nn==""&&(ie(xe)||xe.port!==null))return;if(cr=ve(xe,nn),cr)return cr;if(nn="",Nt=ii,Et)return;continue}else Ft=="["?Pn=!0:Ft=="]"&&(Pn=!1),nn+=Ft;break;case Lt:if(lt.test(Ft))nn+=Ft;else if(Ft==Ye||Ft=="/"||Ft=="?"||Ft=="#"||Ft=="\\"&&q(xe)||Et){if(nn!=""){var Ti=parseInt(nn,10);if(Ti>65535)return Pe;xe.port=q(xe)&&Ti===H[xe.scheme]?null:Ti,nn=""}if(Et)return;Nt=ii;continue}else return Pe;break;case Wt:if(xe.scheme="file",Ft=="/"||Ft=="\\")Nt=$t;else if(kt&&kt.scheme=="file")if(Ft==Ye)xe.host=kt.host,xe.path=kt.path.slice(),xe.query=kt.query;else if(Ft=="?")xe.host=kt.host,xe.path=kt.path.slice(),xe.query="",Nt=gt;else if(Ft=="#")xe.host=kt.host,xe.path=kt.path.slice(),xe.query=kt.query,xe.fragment="",Nt=Jn;else{ke(Li.slice(on).join(""))||(xe.host=kt.host,xe.path=kt.path.slice(),Xe(xe)),Nt=li;continue}else{Nt=li;continue}break;case $t:if(Ft=="/"||Ft=="\\"){Nt=At;break}kt&&kt.scheme=="file"&&!ke(Li.slice(on).join(""))&&(be(kt.path[0],!0)?xe.path.push(kt.path[0]):xe.host=kt.host),Nt=li;continue;case At:if(Ft==Ye||Ft=="/"||Ft=="\\"||Ft=="?"||Ft=="#"){if(!Et&&be(nn))Nt=li;else if(nn==""){if(xe.host="",Et)return;Nt=ii}else{if(cr=ve(xe,nn),cr)return cr;if(xe.host=="localhost"&&(xe.host=""),Et)return;nn="",Nt=ii}continue}else nn+=Ft;break;case ii:if(q(xe)){if(Nt=li,Ft!="/"&&Ft!="\\")continue}else if(!Et&&Ft=="?")xe.query="",Nt=gt;else if(!Et&&Ft=="#")xe.fragment="",Nt=Jn;else if(Ft!=Ye&&(Nt=li,Ft!="/"))continue;break;case li:if(Ft==Ye||Ft=="/"||Ft=="\\"&&q(xe)||!Et&&(Ft=="?"||Ft=="#")){if(Le(nn)?(Xe(xe),Ft!="/"&&!(Ft=="\\"&&q(xe))&&xe.path.push("")):qe(nn)?Ft!="/"&&!(Ft=="\\"&&q(xe))&&xe.path.push(""):(xe.scheme=="file"&&!xe.path.length&&be(nn)&&(xe.host&&(xe.host=""),nn=nn.charAt(0)+":"),xe.path.push(nn)),nn="",xe.scheme=="file"&&(Ft==Ye||Ft=="?"||Ft=="#"))for(;xe.path.length>1&&xe.path[0]==="";)xe.path.shift();Ft=="?"?(xe.query="",Nt=gt):Ft=="#"&&(xe.fragment="",Nt=Jn)}else nn+=re(Ft,ot);break;case Kt:Ft=="?"?(xe.query="",Nt=gt):Ft=="#"?(xe.fragment="",Nt=Jn):Ft!=Ye&&(xe.path[0]+=re(Ft,Ze));break;case gt:!Et&&Ft=="#"?(xe.fragment="",Nt=Jn):Ft!=Ye&&(Ft=="'"&&q(xe)?xe.query+="%27":Ft=="#"?xe.query+="%23":xe.query+=re(Ft,Ze));break;case Jn:Ft!=Ye&&(xe.fragment+=re(Ft,ht));break}on++}},bn=function(Tt){var Et=b(this,bn,"URL"),kt=arguments.length>1?arguments[1]:void 0,Nt=h(Tt),on=z(Et,{type:"URL"}),nn,In;if(kt!==void 0){if(kt instanceof bn)nn=X(kt);else if(In=an(nn={},h(kt)),In)throw TypeError(In)}if(In=an(on,Nt,null,nn),In)throw TypeError(In);var Pn=on.searchParams=new L,hi=B(Pn);hi.updateSearchParams(on.query),hi.updateURL=function(){on.query=String(Pn)||null},_||(Et.href=_i.call(Et),Et.origin=ui.call(Et),Et.protocol=Mi.call(Et),Et.username=Wn.call(Et),Et.password=Ua.call(Et),Et.host=Ca.call(Et),Et.hostname=Ya.call(Et),Et.port=Sa.call(Et),Et.pathname=vr.call(Et),Et.search=mr.call(Et),Et.searchParams=Ir.call(Et),Et.hash=yi.call(Et))},vi=bn.prototype,_i=function(){var xe=X(this),Tt=xe.scheme,Et=xe.username,kt=xe.password,Nt=xe.host,on=xe.port,nn=xe.path,In=xe.query,Pn=xe.fragment,hi=Tt+":";return Nt!==null?(hi+="//",ie(xe)&&(hi+=Et+(kt?":"+kt:"")+"@"),hi+=Ve(Nt),on!==null&&(hi+=":"+on)):Tt=="file"&&(hi+="//"),hi+=xe.cannotBeABaseURL?nn[0]:nn.length?"/"+nn.join("/"):"",In!==null&&(hi+="?"+In),Pn!==null&&(hi+="#"+Pn),hi},ui=function(){var xe=X(this),Tt=xe.scheme,Et=xe.port;if(Tt=="blob")try{return new bn(Tt.path[0]).origin}catch{return"null"}return Tt=="file"||!q(xe)?"null":Tt+"://"+Ve(xe.host)+(Et!==null?":"+Et:"")},Mi=function(){return X(this).scheme+":"},Wn=function(){return X(this).username},Ua=function(){return X(this).password},Ca=function(){var xe=X(this),Tt=xe.host,Et=xe.port;return Tt===null?"":Et===null?Ve(Tt):Ve(Tt)+":"+Et},Ya=function(){var xe=X(this).host;return xe===null?"":Ve(xe)},Sa=function(){var xe=X(this).port;return xe===null?"":String(xe)},vr=function(){var xe=X(this),Tt=xe.path;return xe.cannotBeABaseURL?Tt[0]:Tt.length?"/"+Tt.join("/"):""},mr=function(){var xe=X(this).query;return xe?"?"+xe:""},Ir=function(){return X(this).searchParams},yi=function(){var xe=X(this).fragment;return xe?"#"+xe:""},$i=function(xe,Tt){return{get:xe,set:Tt,configurable:!0,enumerable:!0}};if(_&&P(vi,{href:$i(_i,function(xe){var Tt=X(this),Et=h(xe),kt=an(Tt,Et);if(kt)throw TypeError(kt);B(Tt.searchParams).updateSearchParams(Tt.query)}),origin:$i(ui),protocol:$i(Mi,function(xe){var Tt=X(this);an(Tt,h(xe)+":",ut)}),username:$i(Wn,function(xe){var Tt=X(this),Et=m(h(xe));if(!ue(Tt)){Tt.username="";for(var kt=0;kt<Et.length;kt++)Tt.username+=re(Et[kt],st)}}),password:$i(Ua,function(xe){var Tt=X(this),Et=m(h(xe));if(!ue(Tt)){Tt.password="";for(var kt=0;kt<Et.length;kt++)Tt.password+=re(Et[kt],st)}}),host:$i(Ca,function(xe){var Tt=X(this);Tt.cannotBeABaseURL||an(Tt,h(xe),wt)}),hostname:$i(Ya,function(xe){var Tt=X(this);Tt.cannotBeABaseURL||an(Tt,h(xe),St)}),port:$i(Sa,function(xe){var Tt=X(this);ue(Tt)||(xe=h(xe),xe==""?Tt.port=null:an(Tt,xe,Lt))}),pathname:$i(vr,function(xe){var Tt=X(this);Tt.cannotBeABaseURL||(Tt.path=[],an(Tt,h(xe),ii))}),search:$i(mr,function(xe){var Tt=X(this);xe=h(xe),xe==""?Tt.query=null:(xe.charAt(0)=="?"&&(xe=xe.slice(1)),Tt.query="",an(Tt,xe,gt)),B(Tt.searchParams).updateSearchParams(Tt.query)}),searchParams:$i(Ir),hash:$i(yi,function(xe){var Tt=X(this);if(xe=h(xe),xe==""){Tt.fragment=null;return}xe.charAt(0)=="#"&&(xe=xe.slice(1)),Tt.fragment="",an(Tt,xe,Jn)})}),N(vi,"toJSON",function(){return _i.call(this)},{enumerable:!0}),N(vi,"toString",function(){return _i.call(this)},{enumerable:!0}),k){var ea=k.createObjectURL,Ga=k.revokeObjectURL;ea&&N(bn,"createObjectURL",function(Tt){return ea.apply(k,arguments)}),Ga&&N(bn,"revokeObjectURL",function(Tt){return Ga.apply(k,arguments)})}C(bn,"URL"),l({global:!0,forced:!I,sham:!_},{URL:bn})},9801:function(){},3822:function(s,u,c){var l=c(2221);s.exports=l},1434:function(s,u,c){var l=c(5078);s.exports=l},6899:function(s,u,c){var l=c(98);s.exports=l},7710:function(s,u,c){var l=c(5739);c(162),s.exports=l},4486:function(s,u,c){var l=c(278);s.exports=l},4877:function(s,u,c){var l=c(1484);s.exports=l},7178:function(s,u,c){var l=c(7731);s.exports=l},5603:function(s,u,c){var l=c(3669);s.exports=l},1206:function(s,u,c){c(162);var l=c(6899),_=c(4696),I=Array.prototype,M={DOMTokenList:!0,NodeList:!0};s.exports=function(P){var N=P.forEach;return P===I||P instanceof Array&&N===I.forEach||M.hasOwnProperty(_(P))?l:N}},6174:function(s,u,c){var l=c(2604);s.exports=l},57:function(s,u,c){var l=c(263);s.exports=l},4741:function(s,u,c){var l=c(7663);s.exports=l},8368:function(s,u,c){var l=c(5063);s.exports=l},3739:function(s,u,c){var l=c(6813);s.exports=l},172:function(s,u,c){var l=c(6285);s.exports=l},4963:function(s,u,c){var l=c(3213);s.exports=l},7820:function(s,u,c){var l=c(3512);s.exports=l},8980:function(s,u,c){var l=c(8168);s.exports=l},5636:function(s,u,c){var l=c(8651);s.exports=l},6672:function(s,u,c){var l=c(3083);s.exports=l},5059:function(s,u,c){var l=c(2987);s.exports=l},3969:function(s,u,c){var l=c(2239);s.exports=l},6618:function(s,u,c){var l=c(3154);c(162),s.exports=l},5279:function(s,u,c){var l=c(6577);s.exports=l},9562:function(s,u,c){c(2906);var l=c(7545);s.exports=l.setTimeout},2285:function(s,u,c){var l=c(5008);c(162),s.exports=l},8535:function(s,u,c){var l=c(994);c(162),s.exports=l},652:function(s,u,c){var l=c(5668);s.exports=l},5668:function(s,u,c){c(4948),c(9801),c(9336);var l=c(7545);s.exports=l.URL},2534:function(s){s.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyBkaXNwbGF5PSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGRlZnMgaWQ9InR1aS1pbWFnZS1lZGl0b3Itc3ZnLWRlZmF1bHQtaWNvbnMiPgo8c3ltYm9sIGlkPSJpYy1hcHBseSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNNCAxMi4wMTFsNSA1TDIwLjAxMSA2Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1jYW5jZWwiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTYgNmwxMiAxMk0xOCA2TDYgMTgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIC8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik00IDBoMXYyMGExIDEgMCAwIDEtMS0xVjB6TTIwIDE3aC0xVjVoMXYxMnptMCAydjVoLTF2LTVoMXoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTUgMTloMTl2MUg1ek00Ljc2MiA0djFIMFY0aDQuNzYyek03IDRoMTJhMSAxIDAgMCAxIDEgMUg3VjR6Ii8+Cjwvc3ltYm9sPgo8IS0tIFRoaXMgaWNvbiBtYWRlIGJ5IFBpeGVsIHBlcmZlY3QgZnJvbSB3d3cuZmxhdGljb24uY29tIC0tPgo8c3ltYm9sIGlkPSJpYy1yZXNpemUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIi8+CiAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNIDE4Ljk4ODI4MSAzLjAxMTcxOSBDIDE4LjgwMDc4MSAyLjgyNDIxOSAxOC41IDIuODI0MjE5IDE4LjMxMjUgMy4wMTE3MTkgTCAxMS42MjEwOTQgOS43MDcwMzEgQyAxMS40Mjk2ODggOS44OTQ1MzEgMTEuNDI5Njg4IDEwLjE5NTMxMiAxMS42MjEwOTQgMTAuMzc4OTA2IEMgMTEuNzEwOTM4IDEwLjQ3MjY1NiAxMS44MzU5MzggMTAuNTE5NTMxIDExLjk1NzAzMSAxMC41MTk1MzEgQyAxMi4wNzgxMjUgMTAuNTE5NTMxIDEyLjIwMzEyNSAxMC40NzI2NTYgMTIuMjkyOTY5IDEwLjM3ODkwNiBMIDE4Ljk4ODI4MSAzLjY4NzUgQyAxOS4xNzU3ODEgMy41IDE5LjE3NTc4MSAzLjE5OTIxOSAxOC45ODgyODEgMy4wMTE3MTkgWiBNIDE4Ljk4ODI4MSAzLjAxMTcxOSAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguNjUyMzQ0IDIuODY3MTg4IEMgMTguMzg2NzE5IDIuODY3MTg4IDE4LjE3MTg3NSAzLjA4MjAzMSAxOC4xNzE4NzUgMy4zNDc2NTYgTCAxOC4xNzE4NzUgOS4wODU5MzggQyAxOC4xNzE4NzUgOS4zNDc2NTYgMTguMzg2NzE5IDkuNTYyNSAxOC42NTIzNDQgOS41NjI1IEMgMTguOTE3OTY5IDkuNTYyNSAxOS4xMzI4MTIgOS4zNDc2NTYgMTkuMTMyODEyIDkuMDg1OTM4IEwgMTkuMTMyODEyIDMuMzQ3NjU2IEMgMTkuMTMyODEyIDMuMDgyMDMxIDE4LjkxNzk2OSAyLjg2NzE4OCAxOC42NTIzNDQgMi44NjcxODggWiBNIDE4LjY1MjM0NCAyLjg2NzE4OCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguNjUyMzQ0IDIuODY3MTg4IEwgMTIuOTE0MDYyIDIuODY3MTg4IEMgMTIuNjUyMzQ0IDIuODY3MTg4IDEyLjQzNzUgMy4wODIwMzEgMTIuNDM3NSAzLjM0NzY1NiBDIDEyLjQzNzUgMy42MTMyODEgMTIuNjUyMzQ0IDMuODI4MTI1IDEyLjkxNDA2MiAzLjgyODEyNSBMIDE4LjY1MjM0NCAzLjgyODEyNSBDIDE4LjkxNzk2OSAzLjgyODEyNSAxOS4xMzI4MTIgMy42MTMyODEgMTkuMTMyODEyIDMuMzQ3NjU2IEMgMTkuMTMyODEyIDMuMDgyMDMxIDE4LjkxNzk2OSAyLjg2NzE4OCAxOC42NTIzNDQgMi44NjcxODggWiBNIDE4LjY1MjM0NCAyLjg2NzE4OCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTAuMzc4OTA2IDExLjYyMTA5NCBDIDEwLjE5NTMxMiAxMS40MzM1OTQgOS44OTA2MjUgMTEuNDMzNTk0IDkuNzAzMTI1IDExLjYyMTA5NCBMIDMuMDA3ODEyIDE4LjMxNjQwNiBDIDIuODIwMzEyIDE4LjUgMi44MjAzMTIgMTguODA0Njg4IDMuMDA3ODEyIDE4Ljk5MjE4OCBDIDMuMTA1NDY5IDE5LjA4NTkzOCAzLjIyNjU2MiAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEMgMy40Njg3NSAxOS4xMzI4MTIgMy41ODk4NDQgMTkuMDg1OTM4IDMuNjgzNTk0IDE4Ljk5MjE4OCBMIDEwLjM3ODkwNiAxMi4yOTY4NzUgQyAxMC41NjY0MDYgMTIuMTA5Mzc1IDEwLjU2NjQwNiAxMS44MDQ2ODggMTAuMzc4OTA2IDExLjYyMTA5NCBaIE0gMTAuMzc4OTA2IDExLjYyMTA5NCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMy4zNDc2NTYgMTIuNDM3NSBDIDMuMDgyMDMxIDEyLjQzNzUgMi44NjcxODggMTIuNjUyMzQ0IDIuODY3MTg4IDEyLjkxNDA2MiBMIDIuODY3MTg4IDE4LjY1MjM0NCBDIDIuODY3MTg4IDE4LjkxNzk2OSAzLjA4MjAzMSAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEMgMy42MTMyODEgMTkuMTMyODEyIDMuODI4MTI1IDE4LjkxNzk2OSAzLjgyODEyNSAxOC42NTIzNDQgTCAzLjgyODEyNSAxMi45MTQwNjIgQyAzLjgyODEyNSAxMi42NTIzNDQgMy42MTMyODEgMTIuNDM3NSAzLjM0NzY1NiAxMi40Mzc1IFogTSAzLjM0NzY1NiAxMi40Mzc1ICIvPgogIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTSA5LjA4NTkzOCAxOC4xNzE4NzUgTCAzLjM0NzY1NiAxOC4xNzE4NzUgQyAzLjA4MjAzMSAxOC4xNzE4NzUgMi44NjcxODggMTguMzg2NzE5IDIuODY3MTg4IDE4LjY1MjM0NCBDIDIuODY3MTg4IDE4LjkxNzk2OSAzLjA4MjAzMSAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEwgOS4wODU5MzggMTkuMTMyODEyIEMgOS4zNDc2NTYgMTkuMTMyODEyIDkuNTYyNSAxOC45MTc5NjkgOS41NjI1IDE4LjY1MjM0NCBDIDkuNTYyNSAxOC4zODY3MTkgOS4zNDc2NTYgMTguMTcxODc1IDkuMDg1OTM4IDE4LjE3MTg3NSBaIE0gOS4wODU5MzggMTguMTcxODc1ICIvPgogIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTSAyMC41NjI1IDAgTCAxLjQzNzUgMCBDIDAuNjQ0NTMxIDAgMCAwLjY0NDUzMSAwIDEuNDM3NSBMIDAgMjAuNTYyNSBDIDAgMjEuMzU1NDY5IDAuNjQ0NTMxIDIyIDEuNDM3NSAyMiBMIDIwLjU2MjUgMjIgQyAyMS4zNTU0NjkgMjIgMjIgMjEuMzU1NDY5IDIyIDIwLjU2MjUgTCAyMiAxLjQzNzUgQyAyMiAwLjY0NDUzMSAyMS4zNTU0NjkgMCAyMC41NjI1IDAgWiBNIDIxLjA0Mjk2OSAyMC41NjI1IEMgMjEuMDQyOTY5IDIwLjgyODEyNSAyMC44MjgxMjUgMjEuMDQyOTY5IDIwLjU2MjUgMjEuMDQyOTY5IEwgMS40Mzc1IDIxLjA0Mjk2OSBDIDEuMTcxODc1IDIxLjA0Mjk2OSAwLjk1NzAzMSAyMC44MjgxMjUgMC45NTcwMzEgMjAuNTYyNSBMIDAuOTU3MDMxIDEuNDM3NSBDIDAuOTU3MDMxIDEuMTcxODc1IDEuMTcxODc1IDAuOTU3MDMxIDEuNDM3NSAwLjk1NzAzMSBMIDIwLjU2MjUgMC45NTcwMzEgQyAyMC44MjgxMjUgMC45NTcwMzEgMjEuMDQyOTY5IDEuMTcxODc1IDIxLjA0Mjk2OSAxLjQzNzUgWiBNIDIxLjA0Mjk2OSAyMC41NjI1ICIvPgo8L3N5bWJvbD4KPCEtLSAgLS0+CjxzeW1ib2wgaWQ9ImljLWRlbGV0ZS1hbGwiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik01IDIzSDNhMSAxIDAgMCAxLTEtMVY2aDF2MTZoMnYxem0xNi0xMGgtMVY2aDF2N3pNOSAxM0g4di0zaDF2M3ptMyAwaC0xdi0zaDF2M3ptMyAwaC0xdi0zaDF2M3pNMTQuNzk0IDMuNzk0TDEzIDJoLTNMOC4yMDYgMy43OTRBLjk2My45NjMgMCAwIDEgOCAyLjVsLjcwMy0xLjA1NUExIDEgMCAwIDEgOS41MzUgMWgzLjkzYTEgMSAwIDAgMSAuODMyLjQ0NUwxNSAyLjVhLjk2NS45NjUgMCAwIDEtLjIwNiAxLjI5NHpNMTQuMTk3IDRIOC44MDNoNS4zOTR6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0wIDNoMjN2MUgwek0xMS4yODYgMjFIOC43MTRMOCAyM0g3bDEtMi44VjIwaC4wNzFMOS41IDE2aDFsMS40MjkgNEgxMnYuMmwxIDIuOGgtMWwtLjcxNC0yem0tLjM1Ny0xTDEwIDE3LjQgOS4wNzEgMjBoMS44NTh6TTIwIDIyaDN2MWgtNHYtN2gxdjZ6bS01IDBoM3YxaC00di03aDF2NnoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWRlbGV0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTMgNnYxNmgxN1Y2aDF2MTZhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTFWNmgxek0xNC43OTQgMy43OTRMMTMgMmgtM0w4LjIwNiAzLjc5NEEuOTYzLjk2MyAwIDAgMSA4IDIuNWwuNzAzLTEuMDU1QTEgMSAwIDAgMSA5LjUzNSAxaDMuOTNhMSAxIDAgMCAxIC44MzIuNDQ1TDE1IDIuNWEuOTY1Ljk2NSAwIDAgMS0uMjA2IDEuMjk0ek0xNC4xOTcgNEg4LjgwM2g1LjM5NHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTAgM2gyM3YxSDB6TTggMTBoMXY2SDh2LTZ6bTMgMGgxdjZoLTF2LTZ6bTMgMGgxdjZoLTF2LTZ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1kcmF3LWZyZWUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yLjUgMjAuOTI5QzIuNTk0IDEwLjk3NiA0LjMyMyA2IDcuNjg2IDZjNS44NzIgMCAyLjUyNCAxOSA3LjY5NyAxOXMxLjg5LTE0LjkyOSA2LjQxNC0xNC45MjkgMS4zNTcgMTAuODU4IDUuMTMgMTAuODU4YzEuODAyIDAgMi42NTctMi4yNjIgMi41NjYtNi43ODYiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWRyYXctbGluZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIgMTUuNWgyOCIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtZHJhdyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIuNSAyMS41SDVjLjI0NSAwIC40OC0uMDU4LjY5MS0uMTY4bC4xMjQtLjA2NS4xNC4wMWMuNDI5LjAyOC44NS0uMTI3IDEuMTYtLjQzN0wyMi41NSA1LjQwNWEuNS41IDAgMCAwIDAtLjcwN2wtMy4yNDYtMy4yNDVhLjUuNSAwIDAgMC0uNzA3IDBMMy4xNjIgMTYuODg4YTEuNDk1IDEuNDk1IDAgMCAwLS40MzcgMS4xNTVsLjAxLjE0LS4wNjUuMTIzYy0uMTExLjIxMi0uMTcuNDQ4LS4xNy42OTR2Mi41eiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTYuNDE0IDMuNzA3bDMuODkgMy44OS0uNzA4LjcwNi0zLjg4OS0zLjg4OXoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWZpbHRlciIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTEyIDd2MUgyVjdoMTB6bTYgMGg0djFoLTRWN3pNMTIgMTZ2MWgxMHYtMUgxMnptLTYgMEgydjFoNHYtMXoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTguNSAyMGEzLjUgMy41IDAgMSAxIDAtNyAzLjUgMy41IDAgMCAxIDAgN3ptMC0xYTIuNSAyLjUgMCAxIDAgMC01IDIuNSAyLjUgMCAwIDAgMCA1ek0xNS41IDExYTMuNSAzLjUgMCAxIDEgMC03IDMuNSAzLjUgMCAwIDEgMCA3em0wLTFhMi41IDIuNSAwIDEgMCAwLTUgMi41IDIuNSAwIDAgMCAwIDV6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwLXJlc2V0IiB2aWV3Qm94PSIwIDAgMzEgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMzEgMEgwdjMyaDMxeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjggMTZhOCA4IDAgMCAxLTggOEgzdi0xaDF2LTdIM2E4IDggMCAwIDEgOC04aDE3djFoLTF2N2gxek0xMSA5YTcgNyAwIDAgMC03IDd2N2gxNmE3IDcgMCAwIDAgNy03VjlIMTF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0yNCA1bDMuNSAzLjVMMjQgMTJNNyAyMGwtMy41IDMuNUw3IDI3Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwLXgiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGQ9Ik0zMiAzMkgwVjBoMzJ6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xNyAzMmgtMVYwaDF6TTI3LjE2NyAxMWwuNSAzaC0xLjAzbC0uNTQ2LTNoMS4wNzZ6bS0uNS0zaC0xLjEyMkwyNSA1aC01VjRoNS4xNTNhMSAxIDAgMCAxIC45ODYuODM2TDI2LjY2NyA4em0xLjUgOWwuNSAzaC0uOTRsLS41NDUtM2guOTg1em0xIDZsLjYzOSAzLjgzNkExIDEgMCAwIDEgMjguODE5IDI4SDI2di0xaDNsLS43MjYtNGguODk0ek0yMyAyOGgtM3YtMWgzdjF6TTEzIDR2MUg3TDMgMjdoMTB2MUgzLjE4YTEgMSAwIDAgMS0uOTg2LTEuMTY0bDMuNjY2LTIyQTEgMSAwIDAgMSA2Ljg0NyA0SDEzeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtZmxpcC15IiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMCAwdjMyaDMyVjB6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0wIDE2djFoMzJ2LTF6TTExIDI3LjE2N2wzIC41di0xLjAzbC0zLS41NDZ2MS4wNzZ6bS0zLS41di0xLjEyMkw1IDI1di01SDR2NS4xNTNhMSAxIDAgMCAwIC44MzYuOTg2TDggMjYuNjY3em05IDEuNWwzIC41di0uOTRsLTMtLjU0NXYuOTg1em02IDFsMy44MzYuNjM5QTEgMSAwIDAgMCAyOCAyOC44MlYyNmgtMXYzbC00LS43Mjd2Ljg5NHpNMjggMjN2LTNoLTF2M2gxek00IDEzaDFWN2wyMi00djEwaDFWMy4xOGExIDEgMCAwIDAtMS4xNjQtLjk4NmwtMjIgMy42NjdBMSAxIDAgMCAwIDQgNi44NDdWMTN6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiAvPgogICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgc3Ryb2tlPSJub25lIiBkPSJNMTEgMGgxdjI0aC0xek0xOSAyMXYtMWgydi0yaDF2MmExIDEgMCAwIDEtMSAxaC0yem0tMiAwaC0zdi0xaDN2MXptNS01aC0xdi0zaDF2M3ptMC01aC0xVjhoMXYzem0wLTVoLTFWNGgtMlYzaDJhMSAxIDAgMCAxIDEgMXYyem0tNS0zdjFoLTNWM2gzek05IDN2MUgydjE2aDd2MUgyYTEgMSAwIDAgMS0xLTFWNGExIDEgMCAwIDEgMS0xaDd6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMCAwSDI0VjI0SDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNzQwIC0xNikgdHJhbnNsYXRlKDU0NyA4KSB0cmFuc2xhdGUoMTkzIDgpIi8+CiAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBzdHJva2U9Im5vbmUiIGQ9Ik0xMi41IDFDMTguMjk5IDEgMjMgNS43MDEgMjMgMTEuNVMxOC4yOTkgMjIgMTIuNSAyMmMtNS4yOSAwLTkuNjY1LTMuOTExLTEwLjM5NC04Ljk5OWgxLjAxMkMzLjgzOCAxNy41MzQgNy43NjQgMjEgMTIuNSAyMWM1LjI0NyAwIDkuNS00LjI1MyA5LjUtOS41UzE3Ljc0NyAyIDEyLjUgMkM4LjQ5IDIgNS4wNiA0LjQ4NSAzLjY2NiA4SDNoNHYxSDJWNGgxdjMuMDIyQzQuNjggMy40NjIgOC4zMDMgMSAxMi41IDF6bS41IDVsLS4wMDEgNS4yOTEgMi41MzcgMi41MzctLjcwOC43MDhMMTIuMjkyIDEySDEyVjZoMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03NDAgLTE2KSB0cmFuc2xhdGUoNTQ3IDgpIHRyYW5zbGF0ZSgxOTMgOCkiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktY2hlY2siIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBzdHJva2U9IiM1NTU1NTUiIGQ9Ik00LjUgLTFMMS41IDIgNi41IDciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MCAtODA0KSB0cmFuc2xhdGUoNjAgODA0KSB0cmFuc2xhdGUoMiAzKSByb3RhdGUoLTkwIDQgMykiIC8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDBoMXYxMGMtLjU1MiAwLTEtLjQ0OC0xLTFWMHpNMTAgOXYzSDlWOWgxek05IDJoMXY2SDlWMnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDlIMTJWMTBIMnpNOSAyYy41MTMgMCAuOTM2LjM4Ni45OTMuODgzTDEwIDNIM1YyaDZ6TTIgM0gwVjJoMnYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTg0IC04MDQpIHRyYW5zbGF0ZSg4NCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8IS0tIFRoaXMgaWNvbiBtYWRlIGJ5IFBpeGVsIHBlcmZlY3QgZnJvbSB3d3cuZmxhdGljb24uY29tIC0tPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LXJlc2l6ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjQ5MjE4OCAxLjUwNzgxMiBDIDkuMzk4NDM4IDEuNDE0MDYyIDkuMjUgMS40MTQwNjIgOS4xNTYyNSAxLjUwNzgxMiBMIDUuODEyNSA0Ljg1MTU2MiBDIDUuNzE0ODQ0IDQuOTQ1MzEyIDUuNzE0ODQ0IDUuMDk3NjU2IDUuODEyNSA1LjE4NzUgQyA1Ljg1NTQ2OSA1LjIzNDM3NSA1LjkxNzk2OSA1LjI1NzgxMiA1Ljk3NjU2MiA1LjI1NzgxMiBDIDYuMDM5MDYyIDUuMjU3ODEyIDYuMTAxNTYyIDUuMjM0Mzc1IDYuMTQ4NDM4IDUuMTg3NSBMIDkuNDkyMTg4IDEuODQzNzUgQyA5LjU4NTkzOCAxLjc1IDkuNTg1OTM4IDEuNjAxNTYyIDkuNDkyMTg4IDEuNTA3ODEyIFogTSA5LjQ5MjE4OCAxLjUwNzgxMiAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gOS4zMjgxMjUgMS40MzM1OTQgQyA5LjE5NTMxMiAxLjQzMzU5NCA5LjA4NTkzOCAxLjUzOTA2MiA5LjA4NTkzOCAxLjY3MTg3NSBMIDkuMDg1OTM4IDQuNTQyOTY5IEMgOS4wODU5MzggNC42NzE4NzUgOS4xOTUzMTIgNC43ODEyNSA5LjMyODEyNSA0Ljc4MTI1IEMgOS40NjA5MzggNC43ODEyNSA5LjU2NjQwNiA0LjY3MTg3NSA5LjU2NjQwNiA0LjU0Mjk2OSBMIDkuNTY2NDA2IDEuNjcxODc1IEMgOS41NjY0MDYgMS41MzkwNjIgOS40NjA5MzggMS40MzM1OTQgOS4zMjgxMjUgMS40MzM1OTQgWiBNIDkuMzI4MTI1IDEuNDMzNTk0ICIvPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjMyODEyNSAxLjQzMzU5NCBMIDYuNDU3MDMxIDEuNDMzNTk0IEMgNi4zMjgxMjUgMS40MzM1OTQgNi4yMTg3NSAxLjUzOTA2MiA2LjIxODc1IDEuNjcxODc1IEMgNi4yMTg3NSAxLjgwNDY4OCA2LjMyODEyNSAxLjkxNDA2MiA2LjQ1NzAzMSAxLjkxNDA2MiBMIDkuMzI4MTI1IDEuOTE0MDYyIEMgOS40NjA5MzggMS45MTQwNjIgOS41NjY0MDYgMS44MDQ2ODggOS41NjY0MDYgMS42NzE4NzUgQyA5LjU2NjQwNiAxLjUzOTA2MiA5LjQ2MDkzOCAxLjQzMzU5NCA5LjMyODEyNSAxLjQzMzU5NCBaIE0gOS4zMjgxMjUgMS40MzM1OTQgIi8+CiAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNIDUuMTg3NSA1LjgxMjUgQyA1LjA5NzY1NiA1LjcxODc1IDQuOTQ1MzEyIDUuNzE4NzUgNC44NTE1NjIgNS44MTI1IEwgMS41MDM5MDYgOS4xNTYyNSBDIDEuNDEwMTU2IDkuMjUgMS40MTAxNTYgOS40MDIzNDQgMS41MDM5MDYgOS40OTYwOTQgQyAxLjU1NDY4OCA5LjU0Mjk2OSAxLjYxMzI4MSA5LjU2NjQwNiAxLjY3MTg3NSA5LjU2NjQwNiBDIDEuNzM0Mzc1IDkuNTY2NDA2IDEuNzk2ODc1IDkuNTQyOTY5IDEuODQzNzUgOS40OTYwOTQgTCA1LjE4NzUgNi4xNDg0MzggQyA1LjI4MTI1IDYuMDU0Njg4IDUuMjgxMjUgNS45MDIzNDQgNS4xODc1IDUuODEyNSBaIE0gNS4xODc1IDUuODEyNSAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gMS42NzE4NzUgNi4yMTg3NSBDIDEuNTM5MDYyIDYuMjE4NzUgMS40MzM1OTQgNi4zMjgxMjUgMS40MzM1OTQgNi40NTcwMzEgTCAxLjQzMzU5NCA5LjMyODEyNSBDIDEuNDMzNTk0IDkuNDYwOTM4IDEuNTM5MDYyIDkuNTY2NDA2IDEuNjcxODc1IDkuNTY2NDA2IEMgMS44MDQ2ODggOS41NjY0MDYgMS45MTQwNjIgOS40NjA5MzggMS45MTQwNjIgOS4zMjgxMjUgTCAxLjkxNDA2MiA2LjQ1NzAzMSBDIDEuOTE0MDYyIDYuMzI4MTI1IDEuODA0Njg4IDYuMjE4NzUgMS42NzE4NzUgNi4yMTg3NSBaIE0gMS42NzE4NzUgNi4yMTg3NSAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gNC41NDI5NjkgOS4wODU5MzggTCAxLjY3MTg3NSA5LjA4NTkzOCBDIDEuNTM5MDYyIDkuMDg1OTM4IDEuNDMzNTk0IDkuMTk1MzEyIDEuNDMzNTk0IDkuMzI4MTI1IEMgMS40MzM1OTQgOS40NjA5MzggMS41MzkwNjIgOS41NjY0MDYgMS42NzE4NzUgOS41NjY0MDYgTCA0LjU0Mjk2OSA5LjU2NjQwNiBDIDQuNjcxODc1IDkuNTY2NDA2IDQuNzgxMjUgOS40NjA5MzggNC43ODEyNSA5LjMyODEyNSBDIDQuNzgxMjUgOS4xOTUzMTIgNC42NzE4NzUgOS4wODU5MzggNC41NDI5NjkgOS4wODU5MzggWiBNIDQuNTQyOTY5IDkuMDg1OTM4ICIvPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSAxMC4yODEyNSAwIEwgMC43MTg3NSAwIEMgMC4zMjAzMTIgMCAwIDAuMzIwMzEyIDAgMC43MTg3NSBMIDAgMTAuMjgxMjUgQyAwIDEwLjY3OTY4OCAwLjMyMDMxMiAxMSAwLjcxODc1IDExIEwgMTAuMjgxMjUgMTEgQyAxMC42Nzk2ODggMTEgMTEgMTAuNjc5Njg4IDExIDEwLjI4MTI1IEwgMTEgMC43MTg3NSBDIDExIDAuMzIwMzEyIDEwLjY3OTY4OCAwIDEwLjI4MTI1IDAgWiBNIDEwLjUyMzQzOCAxMC4yODEyNSBDIDEwLjUyMzQzOCAxMC40MTQwNjIgMTAuNDE0MDYyIDEwLjUyMzQzOCAxMC4yODEyNSAxMC41MjM0MzggTCAwLjcxODc1IDEwLjUyMzQzOCBDIDAuNTg1OTM4IDEwLjUyMzQzOCAwLjQ3NjU2MiAxMC40MTQwNjIgMC40NzY1NjIgMTAuMjgxMjUgTCAwLjQ3NjU2MiAwLjcxODc1IEMgMC40NzY1NjIgMC41ODU5MzggMC41ODU5MzggMC40NzY1NjIgMC43MTg3NSAwLjQ3NjU2MiBMIDEwLjI4MTI1IDAuNDc2NTYyIEMgMTAuNDE0MDYyIDAuNDc2NTYyIDEwLjUyMzQzOCAwLjU4NTkzOCAxMC41MjM0MzggMC43MTg3NSBaIE0gMTAuNTIzNDM4IDEwLjI4MTI1ICIvPgogIDwvZz4KPC9zeW1ib2w+CjwhLS0gIC0tPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWRyYXciIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDFIMTJWMTNIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYgLTgwNCkgdHJhbnNsYXRlKDE1NiA4MDMpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBkPSJNOS42MjIgMS41ODRsMS44MzUgMS42NTgtOC4zMSA4LjQwN0wuNSAxMi41VjExbDkuMTIyLTkuNDE2eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1NiAtODA0KSB0cmFuc2xhdGUoMTU2IDgwMykiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNNy42MjggMy43NTNMMTAuMzc4IDMuNzUzIDEwLjM3OCA0LjI1MyA3LjYyOCA0LjI1M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYgLTgwNCkgdHJhbnNsYXRlKDE1NiA4MDMpIHJvdGF0ZSg0NSA5LjAwMyA0LjAwMykiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZmlsdGVyIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjc2IC04MDQpIHRyYW5zbGF0ZSgyNzYgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xMiAzdjFIOVYzaDN6TTcgNEgwVjNoN3YxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI3NiAtODA0KSB0cmFuc2xhdGUoMjc2IDgwNCkiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMTIgOHYxSDlWOGgzek03IDlIMFY4aDd2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNzYgLTgwNCkgdHJhbnNsYXRlKDI3NiA4MDQpIG1hdHJpeCgtMSAwIDAgMSAxMiAwKSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik04IDFjMS4xMDUgMCAyIC44OTUgMiAycy0uODk1IDItMiAyLTItLjg5NS0yLTIgLjg5NS0yIDItMnptMCAxYy0uNTUyIDAtMSAuNDQ4LTEgMXMuNDQ4IDEgMSAxIDEtLjQ0OCAxLTEtLjQ0OC0xLTEtMXpNNCA3YzEuMTA1IDAgMiAuODk1IDIgMnMtLjg5NSAyLTIgMi0yLS44OTUtMi0yIC44OTUtMiAyLTJ6bTAgMWMtLjU1MiAwLTEgLjQ0OC0xIDFzLjQ0OCAxIDEgMSAxLS40NDggMS0xLS40NDgtMS0xLTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjc2IC04MDQpIHRyYW5zbGF0ZSgyNzYgODA0KSIvPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS1mbGlwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTA4IC04MDQpIHRyYW5zbGF0ZSgxMDggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik02IDBMNyAwIDcgMTIgNiAxMnpNMTEgMTBWOWgxdjEuNWMwIC4yNzYtLjIyNC41LS41LjVIMTB2LTFoMXpNNSAxdjFIMXY4aDR2MUguNWMtLjI3NiAwLS41LS4yMjQtLjUtLjV2LTljMC0uMjc2LjIyNC0uNS41LS41SDV6bTcgNXYyaC0xVjZoMXptMC0zdjJoLTFWM2gxek05IDF2MUg3VjFoMnptMi41IDBjLjI3NiAwIC41LjIyNC41LjVWMmgtMlYxaDEuNXpNOSAxMUg3di0xaDJ2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMDggLTgwNCkgdHJhbnNsYXRlKDEwOCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWljb24iIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDQgLTgwNCkgdHJhbnNsYXRlKDIwNCA4MDQpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS4xIiBkPSJNNiA5LjU2OEwyLjYwMSAxMSAyLjk3NSA3LjQ2NyAwLjUgNC44MiA0LjEzIDQuMDY4IDYgMSA3Ljg3IDQuMDY4IDExLjUgNC44MiA5LjAyNSA3LjQ2NyA5LjM5OSAxMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDQgLTgwNCkgdHJhbnNsYXRlKDIwNCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LW1hc2siIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNTIgLTgwNCkgdHJhbnNsYXRlKDI1MiA4MDQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTAgMEgxMlYxMkgweiIvPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI2IiBjeT0iNiIgcj0iMi41IiBzdHJva2U9IiM0NDQiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTExLjUgMGMuMjc2IDAgLjUuMjI0LjUuNXYxMWMwIC4yNzYtLjIyNC41LS41LjVILjVjLS4yNzYgMC0uNS0uMjI0LS41LS41Vi41QzAgLjIyNC4yMjQgMCAuNSAwaDExek0xMSAxSDF2MTBoMTBWMXoiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LXJvdGF0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGlkPSJyZm40cnlsZmZhIiBkPSJNNyAxMmMtLjMzNSAwLS42NjMtLjAyNS0uOTgzLS4wNzRDMy4xNzEgMTEuNDkyIDEgOS4yMDUgMSA2LjQ0NGMwLTEuMzYzLjUzNC0yLjYxMyAxLjQxNS0zLjU4Ii8+CiAgICAgICAgPG1hc2sgaWQ9IjZmOWduMmR5c2IiIHdpZHRoPSI2IiBoZWlnaHQ9IjkuMTM2IiB4PSIwIiB5PSIwIiBtYXNrVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij4KICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjcmZuNHJ5bGZmYSIgc3Ryb2tlPSI0MzQzNDMiLz4KICAgICAgICA8L21hc2s+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzIgLTgwNCkgdHJhbnNsYXRlKDEzMiA4MDQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTAgMC41SDEyVjEyLjVIMHoiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTYuNSAxQzkuNTM4IDEgMTIgMy40NjIgMTIgNi41YzAgMi4zNy0xLjUgNC4zOS0zLjYgNS4xNjNsLS40MDctLjkxNkM5Ljc0NCAxMC4xMyAxMSA4LjQ2MiAxMSA2LjUgMTEgNC4wMTUgOC45ODUgMiA2LjUgMmMtLjc3NyAwLTEuNTA5LjE5Ny0yLjE0Ny41NDRMNCAxLjc1bC0uMjA1LS4wNEM0LjU5NCAxLjI1OCA1LjUxNyAxIDYuNSAxeiIvPgogICAgICAgICAgICA8dXNlIHN0cm9rZT0iIzQzNDM0MyIgc3Ryb2tlLWRhc2hhcnJheT0iMiAxLjI1IiBzdHJva2Utd2lkdGg9IjEiIG1hc2s9InVybCgjNmY5Z24yZHlzYikiIHhsaW5rOmhyZWY9IiNyZm40cnlsZmZhIi8+CiAgICAgICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik00LjI3OSAwTDYgMS43NSA0LjI1IDMuNTcxIDMuNTQzIDIuODY0IDQuNTg2IDEuNzUgMy41NzIgMC43MDd6IiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgMSA5LjU0MyAwKSIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3Rvcnktc2hhcGUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODAgLTgwNCkgdHJhbnNsYXRlKDE4MCA4MDQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTExLjUgNGMuMjc2IDAgLjUuMjI0LjUuNXY3YzAgLjI3Ni0uMjI0LjUtLjUuNWgtN2MtLjI3NiAwLS41LS4yMjQtLjUtLjVWOC44aDFWMTFoNlY1SDguMzQxbC0uNTY4LTFIMTEuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODAgLTgwNCkgdHJhbnNsYXRlKDE4MCA4MDQpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik00LjUgMC41TDguNSA3LjYxMSAwLjUgNy42MTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTgwIC04MDQpIHRyYW5zbGF0ZSgxODAgODA0KSIvPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS10ZXh0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI4IC04MDQpIHRyYW5zbGF0ZSgyMjggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDFoOGMuNTUyIDAgMSAuNDQ4IDEgMUgxYzAtLjU1Mi40NDgtMSAxLTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI4IC04MDQpIHRyYW5zbGF0ZSgyMjggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xIDFIMlYzSDF6TTEwIDFIMTFWM0gxMHpNNS41IDFMNi41IDEgNi41IDExIDUuNSAxMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMjggLTgwNCkgdHJhbnNsYXRlKDIyOCA4MDQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTQgMTBIOFYxMUg0eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyOCAtODA0KSB0cmFuc2xhdGUoMjI4IDgwNCkiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktbG9hZCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzI0IC04MDUpIHRyYW5zbGF0ZSgzMjQgODA1KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik01IDBjLjU1MiAwIDEgLjQ0OCAxIDF2MWg1LjVjLjI3NiAwIC41LjIyNC41LjV2OGMwIC4yNzYtLjIyNC41LS41LjVILjVjLS4yNzYgMC0uNS0uMjI0LS41LS41VjFjMC0uNTUyLjQ0OC0xIDEtMWg0em0wIDFIMXY5aDEwVjNINVYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNCAtODA1KSB0cmFuc2xhdGUoMzI0IDgwNSkiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMSAyTDUgMiA1IDMgMSAzeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNCAtODA1KSB0cmFuc2xhdGUoMzI0IDgwNSkiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZGVsZXRlIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGZpbGw9IiM0MzQzNDMiPgogICAgICAgICAgICA8cGF0aCBkPSJNMiA5aDhWMWgxdjguNWMwIC4yNzYtLjIyNC41LS41LjVoLTljLS4yNzYgMC0uNS0uMjI0LS41LS41VjFoMXY4ek0wIDBIMTJWMUgweiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwMCAtODA0KSB0cmFuc2xhdGUoMzAwIDgwNCkgdHJhbnNsYXRlKDAgMikiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTQgM0g1VjdINHpNNyAzSDhWN0g3eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwMCAtODA0KSB0cmFuc2xhdGUoMzAwIDgwNCkgdHJhbnNsYXRlKDAgMikiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTQgMWg0VjBoMXYxLjVjMCAuMjc2LS4yMjQuNS0uNS41aC01Yy0uMjc2IDAtLjUtLjIyNC0uNS0uNVYwaDF2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMDAgLTgwNCkgdHJhbnNsYXRlKDMwMCA4MDQpIG1hdHJpeCgxIDAgMCAtMSAwIDIpIi8+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS1ncm91cCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzQ4IC04MDQpIHRyYW5zbGF0ZSgzNDggODA0KSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTEgOXYyaDF2MUguNWMtLjI3NiAwLS41LS4yMjQtLjUtLjVWOWgxem0xMSAxdjEuNWMwIC4yNzYtLjIyNC41LS41LjVIOXYtMWgydi0xaDF6bS00IDF2MUg2di0xaDJ6bS0zIDB2MUgzdi0xaDJ6bTctNHYyaC0xVjdoMXpNMSA2djJIMFY2aDF6bTExLTJ2MmgtMVY0aDF6TTEgM3YySDBWM2gxem0xMC41LTNjLjI3NiAwIC41LjIyNC41LjVWM2gtMVYxaC0xVjBoMS41ek02IDB2MUg0VjBoMnptMyAwdjFIN1YwaDJ6TTAgLjVDMCAuMjI0LjIyNCAwIC41IDBIM3YxSDF2MUgwVi41ek05LjUgNGMuMjc2IDAgLjUuMjI0LjUuNXY1YzAgLjI3Ni0uMjI0LjUtLjUuNWgtNWMtLjI3NiAwLS41LS4yMjQtLjUtLjVWOC4zNTVjLjMxNy4wOTQuNjUyLjE0NSAxIC4xNDVWOWg0VjVoLS41YzAtLjM0OC0uMDUtLjY4My0uMTQ1LTFIOS41eiIvPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI1IiBjeT0iNSIgcj0iMi41IiBzdHJva2U9IiM0MzQzNDMiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1pY29uLWFycm93LTIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTIxLjc5MyAxOC41SDIuNXYtNWgxOC45MzVsLTcuNi04aDUuODcybDEwLjUgMTAuNS0xMC41IDEwLjVoLTUuOTE0bDgtOHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tYXJyb3ctMyIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMjUuMjg4IDE2LjQyTDE0LjIwOCAyNy41SDYuNzkybDExLjI5MS0xMS4yOTFMNi44MjYgNC41aDcuMzgxbDExLjY2MSAxMS42NjEtLjU4LjI1OHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tYXJyb3ciIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yLjUgMTEuNXY5aDE4djUuMjkzTDMwLjI5MyAxNiAyMC41IDYuMjA3VjExLjVoLTE4eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1idWJibGUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTIyLjIwNyAyNC41TDE2LjUgMzAuMjA3VjI0LjVIOEE2LjUgNi41IDAgMCAxIDEuNSAxOFY5QTYuNSA2LjUgMCAwIDEgOCAyLjVoMTZBNi41IDYuNSAwIDAgMSAzMC41IDl2OWE2LjUgNi41IDAgMCAxLTYuNSA2LjVoLTEuNzkzeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1oZWFydCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMTUuOTk2IDMwLjY3NWwxLjk4MS0xLjc5YzcuODk4LTcuMTc3IDEwLjM2NS05LjcxOCAxMi4xMzUtMTMuMDEyLjkyMi0xLjcxNiAxLjM3Ny0zLjM3IDEuMzc3LTUuMDc2IDAtNC42NS0zLjY0Ny04LjI5Ny04LjI5Ny04LjI5Ny0yLjMzIDAtNC44NiAxLjUyNy02LjgxNyAzLjgyNGwtLjM4LjQ0Ny0uMzgxLS40NDdDMTMuNjU4IDQuMDI3IDExLjEyNiAyLjUgOC43OTcgMi41IDQuMTQ3IDIuNS41IDYuMTQ3LjUgMTAuNzk3YzAgMS43MTQuNDYgMy4zNzUgMS4zODkgNS4wOTggMS43NzUgMy4yODggNC4yNiA1Ljg0MyAxMi4xMjMgMTIuOTc0bDEuOTg0IDEuODA2eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1sb2FkIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik0xNy4zMTQgMTguODY3bDEuOTUxLTIuNTMgNCA1LjE4NGgtMTdsNi41LTguODQgNC41NDkgNi4xODZ6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xOC4wMSA0YTExLjc5OCAxMS43OTggMCAwIDAgMCAxSDN2MjRoMjRWMTQuOTg2YTguNzM4IDguNzM4IDAgMCAwIDEgMFYyOWExIDEgMCAwIDEtMSAxSDNhMSAxIDAgMCAxLTEtMVY1YTEgMSAwIDAgMSAxLTFoMTUuMDF6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yNSAzaDF2OWgtMXoiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIyIDZsMy41LTMuNUwyOSA2Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1pY29uLWxvY2F0aW9uIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMTYgMzEuMjhDMjMuNjc1IDIzLjMwMiAyNy41IDE3LjE4MSAyNy41IDEzYzAtNi4zNTEtNS4xNDktMTEuNS0xMS41LTExLjVTNC41IDYuNjQ5IDQuNSAxM2MwIDQuMTgxIDMuODI1IDEwLjMwMiAxMS41IDE4LjI4eiIvPgogICAgPGNpcmNsZSBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGN4PSIxNiIgY3k9IjEzIiByPSI0LjUiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tcG9seWdvbiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTS41NzYgMTZMOC4yOSAyOS41aDE1LjQyTDMxLjQyNCAxNiAyMy43MSAyLjVIOC4yOUwuNTc2IDE2eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1zdGFyLTIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0xOS40NDYgMzEuNTkybDIuMjY1LTMuMjcyIDMuOTQ2LjI1LjYzNi0zLjk0IDMuNjY1LTEuNTA1LTEuMTItMy44MzIgMi42NTUtMi45NjItMi42NTYtMi45NjIgMS4xMi0zLjgzMi0zLjY2NC0xLjUwNS0uNjM2LTMuOTQxLTMuOTQ2LjI1LTIuMjY1LTMuMjcxTDE2IDMuMDI0IDEyLjU1NCAxLjA3IDEwLjI4OSA0LjM0bC0zLjk0Ni0uMjUtLjYzNiAzLjk0MS0zLjY2NSAxLjUwNSAxLjEyIDMuODMyTC41MDggMTYuMzNsMi42NTYgMi45NjItMS4xMiAzLjgzMiAzLjY2NCAxLjUwNC42MzYgMy45NDIgMy45NDYtLjI1IDIuMjY1IDMuMjdMMTYgMjkuNjM4bDMuNDQ2IDEuOTU1eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1zdGFyIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMjUuMjkyIDI5Ljg3OGwtMS43NzUtMTAuMzQ2IDcuNTE3LTcuMzI3LTEwLjM4OC0xLjUxTDE2IDEuMjgybC00LjY0NiA5LjQxMy0xMC4zODggMS41MSA3LjUxNyA3LjMyNy0xLjc3NSAxMC4zNDZMMTYgMjQuOTkzbDkuMjkyIDQuODg1eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMTEuOTIzIDE5LjEzNkw1LjQyNCAyMmwuNzE1LTcuMDY1LTQuNzMxLTUuMjk2IDYuOTQtMS41MDNMMTEuOTIzIDJsMy41NzQgNi4xMzYgNi45NCAxLjUwMy00LjczMSA1LjI5NkwxOC40MiAyMnoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLW1hc2stbG9hZCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTguMDEgNGExMS43OTggMTEuNzk4IDAgMCAwIDAgMUgzdjI0aDI0VjE0Ljk4NmE4LjczOCA4LjczOCAwIDAgMCAxIDBWMjlhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTFWNWExIDEgMCAwIDEgMS0xaDE1LjAxek0xNSAyM2E2IDYgMCAxIDEgMC0xMiA2IDYgMCAwIDEgMCAxMnptMC0xYTUgNSAwIDEgMCAwLTEwIDUgNSAwIDAgMCAwIDEweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjUgM2gxdjloLTF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yMiA2bDMuNS0zLjVMMjkgNiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtbWFzayIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjQuNSIgc3Ryb2tlPSJpbmhlcml0IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDFoMjBhMSAxIDAgMCAxIDEgMXYyMGExIDEgMCAwIDEtMSAxSDJhMSAxIDAgMCAxLTEtMVYyYTEgMSAwIDAgMSAxLTF6bTAgMXYyMGgyMFYySDJ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1yZWRvIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgb3BhY2l0eT0iLjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIxIDZIOWE2IDYgMCAxIDAgMCAxMmgxMnYxSDlBNyA3IDAgMCAxIDkgNWgxMnYxeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBkPSJNMTkgM2wyLjUgMi41TDE5IDgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJlc2V0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgb3BhY2l0eT0iLjUiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMiAxM3YtMWE3IDcgMCAwIDEgNy03aDEzdjFoLTF2NWgxdjFhNyA3IDAgMCAxLTcgN0gydi0xaDF2LTVIMnptNy03YTYgNiAwIDAgMC02IDZ2NmgxMmE2IDYgMCAwIDAgNi02VjZIOXoiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgZD0iTTE5IDNsMi41IDIuNUwxOSA4TTUgMTZsLTIuNSAyLjVMNSAyMSIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtcm90YXRlLWNsb2Nrd2lzZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTI5IDE3aC0uOTI0YzAgNi42MjctNS4zNzMgMTItMTIgMTItNi42MjggMC0xMi01LjM3My0xMi0xMkM0LjA3NiAxMC4zOTggOS40MDcgNS4wNDEgMTYgNVY0QzguODIgNCAzIDkuODIgMyAxN3M1LjgyIDEzIDEzIDEzIDEzLTUuODIgMTMtMTN6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsNCAzLTQgMyIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xNiA0aDR2MWgtNHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJvdGF0ZS1jb3VudGVyY2xvY2t3aXNlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBkPSJNMyAxN2guOTI0YzAgNi42MjcgNS4zNzMgMTIgMTIgMTIgNi42MjggMCAxMi01LjM3MyAxMi0xMiAwLTYuNjAyLTUuMzMxLTExLjk2LTExLjkyNC0xMlY0YzcuMTggMCAxMyA1LjgyIDEzIDEzcy01LjgyIDEzLTEzIDEzUzMgMjQuMTggMyAxN3oiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTIgNGg0djFoLTR6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsLTQgMyA0IDMiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJvdGF0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIHN0cm9rZT0ibm9uZSIgZD0iTTguMzQ5IDIyLjI1NGExMC4wMDIgMTAuMDAyIDAgMCAxLTIuNzc4LTEuNzE5bC42NS0uNzZhOS4wMDIgOS4wMDIgMCAwIDAgMi40OTUgMS41NDhsLS4zNjcuOTMxem0yLjg3My43MDRsLjA3OC0uOTk3YTkgOSAwIDEgMC0uNTU3LTE3Ljg1MmwtLjE0LS45OUExMC4wNzYgMTAuMDc2IDAgMCAxIDEyLjE0NSAzYzUuNTIzIDAgMTAgNC40NzcgMTAgMTBzLTQuNDc3IDEwLTEwIDEwYy0uMzEyIDAtLjYyLS4wMTQtLjkyNC0uMDQyem0tNy41NTYtNC42NTVhOS45NDIgOS45NDIgMCAwIDEtMS4yNTMtMi45OTZsLjk3My0uMjM0YTguOTQ4IDguOTQ4IDAgMCAwIDEuMTI0IDIuNjkzbC0uODQ0LjUzN3ptLTEuNTAyLTUuOTFBOS45NDkgOS45NDkgMCAwIDEgMi44OCA5LjIzbC45MjUuMzgyYTguOTU0IDguOTU0IDAgMCAwLS42NDQgMi44NDRsLS45OTgtLjA2MnptMi4yMS01LjY4NmMuNjg3LS44NDggMS41MS0xLjU4IDIuNDM2LTIuMTY2bC41MjMuODUyYTkuMDQ4IDkuMDQ4IDAgMCAwLTIuMTg4IDEuOTVsLS43NzEtLjYzNnoiLz4KICAgIDxwYXRoIHN0cm9rZT0iaW5oZXJpdCIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgZD0iTTEzIDFsLTIuNSAyLjVMMTMgNiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtc2hhcGUtY2lyY2xlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTQuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1zaGFwZS1yZWN0YW5nbGUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cmVjdCB3aWR0aD0iMjciIGhlaWdodD0iMjciIHg9IjIuNSIgeT0iMi41IiBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHJ4PSIxIi8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1zaGFwZS10cmlhbmdsZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTE2IDIuNWwxNS41IDI3SC41eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtc2hhcGUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xNC43MDYgOEgyMWExIDEgMCAwIDEgMSAxdjEyYTEgMSAwIDAgMS0xIDFIOWExIDEgMCAwIDEtMS0xdi00aDF2NGgxMlY5aC01LjcwNmwtLjU4OC0xeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik04LjUgMS41bDcuNSAxM0gxeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdGV4dC1hbGlnbi1jZW50ZXIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIgNWgyOHYxSDJ6TTggMTJoMTZ2MUg4ek0yIDE5aDI4djFIMnpNOCAyNmgxNnYxSDh6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLWxlZnQiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIgNWgyOHYxSDJ6TTIgMTJoMTZ2MUgyek0yIDE5aDI4djFIMnpNMiAyNmgxNnYxSDJ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLXJpZ2h0IiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIiBkPSJNMCAwaDMydjMySDB6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDVoMjh2MUgyek0xNCAxMmgxNnYxSDE0ek0yIDE5aDI4djFIMnpNMTQgMjZoMTZ2MUgxNHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXRleHQtYm9sZCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNNyAyaDJ2Mkg3ek03IDI4aDJ2Mkg3eiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik05IDN2MTJoOWE2IDYgMCAxIDAgMC0xMkg5ek05IDE1djE0aDEwYTcgNyAwIDAgMCAwLTE0SDl6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWl0YWxpYyIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTUgMmg1djFoLTV6TTExIDI5aDV2MWgtNXpNMTcgM2gxbC00IDI2aC0xeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdGV4dC11bmRlcmxpbmUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTggMnYxNGE4IDggMCAxIDAgMTYgMFYyaDF2MTRhOSA5IDAgMCAxLTE4IDBWMmgxek0zIDI5aDI2djFIM3oiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTUgMmg1djFINXpNMjIgMmg1djFoLTV6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNNCAzaDE1YTEgMSAwIDAgMSAxIDFIM2ExIDEgMCAwIDEgMS0xek0zIDRoMXYxSDN6TTE5IDRoMXYxaC0xeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTEgM2gxdjE4aC0xeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTAgMjBoM3YxaC0zeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdW5kbyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0yNCAwSDB2MjRoMjR6IiBvcGFjaXR5PSIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiAvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMyA2aDEyYTYgNiAwIDEgMSAwIDEySDN2MWgxMmE3IDcgMCAwIDAgMC0xNEgzdjF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik01IDNMMi41IDUuNSA1IDgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXpvb20taW4iIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI5IC0yOTApIHRyYW5zbGF0ZSgyMjkgMjkwKSI+CiAgICAgICAgPGNpcmNsZSBjeD0iMTAuNSIgY3k9IjEwLjUiIHI9IjkiIHN0cm9rZT0iaW5oZXJpdCIgZmlsbD0ibm9uZSIvPgogICAgICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIGQ9Ik0xOC44MjggMTUuODI4SDE5LjgyOFYyMi44MjhIMTguODI4eiIgdHJhbnNmb3JtPSJyb3RhdGUoLTQ1IDE5LjMyOCAxOS4zMjgpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZD0iTTcgMTBIMTRWMTFIN3oiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBkPSJNMTAgN0gxMVYxNEgxMHoiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXpvb20tb3V0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2MyAtMjkwKSB0cmFuc2xhdGUoMjYzIDI5MCkiPgogICAgICAgIDxjaXJjbGUgY3g9IjEwLjUiIGN5PSIxMC41IiByPSI5IiBzdHJva2U9ImluaGVyaXQiIGZpbGw9Im5vbmUiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBkPSJNMTguODI4IDE1LjgyOEgxOS44MjhWMjIuODI4SDE4LjgyOHoiIHRyYW5zZm9ybT0icm90YXRlKC00NSAxOS4zMjggMTkuMzI4KSIvPgogICAgICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIGQ9Ik03IDEwSDE0VjExSDd6Ii8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oYW5kIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik04LjY3MiAzLjM2YzEuMzI4IDAgMi4xMTQuNzggMi4yOSAxLjg2OWwuMDE0LjEwMS4wMjMuMDA2djEuMDQybC0uNjM4LS4xODVjLS4xODctLjA1NS0uMzIzLS4yMTEtLjM1NC0uMzk5TDEwIDUuNzEzYzAtLjgyNS0uNDItMS4zNTMtMS4zMjgtMS4zNTNDNy42OTUgNC4zNiA3IDUuMDQxIDcgNS43MTN2Ny45NDFjMCAuNDM5LS41MjQuNjY1LS44NDMuMzY0bC0xLjg2OC0xLjc2MWMtLjU5NS0uNTI4LTEuMzE2LS42MTctMS45MTgtLjIxNi0uNTIyLjM0OC0uNTYyIDEuMjAzLS4xOCAxLjhMNy43MzggMjJoMTEuMDEzbC4yODUtLjUxOGMxLjI0Ny0yLjMyNiAxLjg5Ny00LjI1OSAxLjk2LTUuNzg1bC4wMDQtLjIzOVY4LjAzNWMwLS42NTYtLjUtMS4xNy0xLTEuMTctLjUwMyAwLTEgLjQ1Ni0xIDEuMTcgMCAuMzMzLS4zMi41NzMtLjY0LjQ4TDE4IDguNDFWNy4zNjhsLjA4Ni4wMjYuMDQyLS4xMzZjLjI3OS0uODA1Ljk3OC0xLjMzMiAxLjczOC0xLjM4OEwyMCA1Ljg2NWMxLjA1NyAwIDIgLjk2NyAyIDIuMTd2Ny40MjNjMCAxLjkyOS0uODQ1IDQuMzUyLTIuNTIxIDcuMjktLjA5LjE1Ni0uMjU1LjI1Mi0uNDM1LjI1Mkg3LjQ3NGMtLjE2NiAwLS4zMjEtLjA4Mi0uNDE0LS4yMTlsLTUuNzA0LTguMzljLS42NTMtMS4wMTktLjU4NC0yLjQ4Ni40Ni0zLjE4MiAxLS42NjYgMi4yMTYtLjUxNiAzLjE0OC4zMUw2IDEyLjQ5NVY1LjcxM2MwLTEuMTggMS4wNTgtMi4yNjMgMi40OS0yLjM0OHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOTcgLTI5MCkgdHJhbnNsYXRlKDI5NyAyOTApIi8+CiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTIuNSAxLjVjMS4zMjUgMCAyLjQxIDEuMDMyIDIuNDk1IDIuMzM2TDE1IDR2Ny4yMmgtMVY0YzAtLjgyOC0uNjcyLTEuNS0xLjUtMS41LS43OCAwLTEuNDIuNTk1LTEuNDkzIDEuMzU2TDExIDR2Ny4yMmgtMVY0YzAtMS4zOCAxLjEyLTIuNSAyLjUtMi41eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI5NyAtMjkwKSB0cmFuc2xhdGUoMjk3IDI5MCkiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xNi41IDMuNWMxLjMyNSAwIDIuNDEgMS4wMzIgMi40OTUgMi4zMzZMMTkgNnY2LjNoLTFWNmMwLS44MjgtLjY3Mi0xLjUtMS41LTEuNS0uNzggMC0xLjQyLjU5NS0xLjQ5MyAxLjM1NkwxNSA2djIuNDRoLTFWNmMwLTEuMzggMS4xMi0yLjUgMi41LTIuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOTcgLTI5MCkgdHJhbnNsYXRlKDI5NyAyOTApIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8L2RlZnM+Cjwvc3ZnPgo="},4858:function(s){s.exports=t},4960:function(){},6759:function(){},6272:function(){}},r={};function a(s){var u=r[s];if(u!==void 0)return u.exports;var c=r[s]={exports:{}};return i[s](c,c.exports,a),c.exports}(function(){a.n=function(s){var u=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(u,{a:u}),u}})(),function(){a.d=function(s,u){for(var c in u)a.o(u,c)&&!a.o(s,c)&&Object.defineProperty(s,c,{enumerable:!0,get:u[c]})}}(),function(){a.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){a.o=function(s,u){return Object.prototype.hasOwnProperty.call(s,u)}}();var o={};return function(){a.d(o,{default:function(){return wf}});var s=a(9131),u=a.n(s),c=a(1899),l=a.n(c),_=a(6562),I=a.n(_),M=a(1734),P=a.n(M),N=a(8005),b=a.n(N),f=a(6065),v=a.n(f),m=a(4496),d=a.n(m);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(G){var A=this;do{if(Element.prototype.matches.call(A,G))return A;A=A.parentElement||A.parentNode}while(A!==null&&A.nodeType===1);return null});/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(G){if("Element"in G){var A="classList",w="prototype",x=G.Element[w],y=Object,E=u()(String[w])||function(){return this.replace(/^\s+|\s+$/g,"")},j=l()(Array[w])||function(Ue){for(var nt=0,Qe=this.length;nt<Qe;nt++)if(nt in this&&this[nt]===Ue)return nt;return-1},U=function(nt,Qe){this.name=nt,this.code=DOMException[nt],this.message=Qe},Q=function(nt,Qe){if(Qe==="")throw new U("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(Qe))throw new U("INVALID_CHARACTER_ERR","The token must not contain space characters.");return j.call(nt,Qe)},K=function(nt){for(var Qe=E.call(nt.getAttribute("class")||""),rt=Qe?Qe.split(/\s+/):[],It=0,cn=rt.length;It<cn;It++)this.push(rt[It]);this._updateClassName=function(){nt.setAttribute("class",this.toString())}},se=K[w]=[],de=function(){return new K(this)};if(U[w]=Error[w],se.item=function(Ue){return this[Ue]||null},se.contains=function(Ue){return~Q(this,Ue+"")},se.add=function(){var Ue=arguments,nt=0,Qe=Ue.length,rt,It=!1;do rt=Ue[nt]+"",~Q(this,rt)||(this.push(rt),It=!0);while(++nt<Qe);It&&this._updateClassName()},se.remove=function(){var Ue=arguments,nt=0,Qe=Ue.length,rt,It=!1,cn;do for(rt=Ue[nt]+"",cn=Q(this,rt);~cn;){var hn;I()(hn=this).call(hn,cn,1),It=!0,cn=Q(this,rt)}while(++nt<Qe);It&&this._updateClassName()},se.toggle=function(Ue,nt){var Qe=this.contains(Ue),rt=Qe?nt!==!0&&"remove":nt!==!1&&"add";return rt&&this[rt](Ue),nt===!0||nt===!1?nt:!Qe},se.replace=function(Ue,nt){var Qe=Q(Ue+"");if(~Qe){var rt;I()(rt=this).call(rt,Qe,1,nt),this._updateClassName()}},se.toString=function(){return this.join(" ")},P()){var He={get:de,enumerable:!0,configurable:!0};try{P()(x,A,He)}catch(Ue){(Ue.number===void 0||Ue.number===-2146823252)&&(He.enumerable=!1,P()(x,A,He))}}else y[w].__defineGetter__&&x.__defineGetter__(A,de)}}(self),function(){var G=document.createElement("_");if(G.classList.add("c1","c2"),!G.classList.contains("c2")){var A=function(y){var E=DOMTokenList.prototype[y];DOMTokenList.prototype[y]=function(j){var U,Q=arguments.length;for(U=0;U<Q;U++)j=arguments[U],E.call(this,j)}};A("add"),A("remove")}if(G.classList.toggle("c3",!1),G.classList.contains("c3")){var w=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(x,y){return 1 in arguments&&!this.contains(x)==!y?y:w.call(this,x)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(x,y){var E=this.toString().split(" "),j=l()(E).call(E,x+"");~j&&(E=b()(E).call(E,j),this.remove.apply(this,E),this.add(y),this.add.apply(this,b()(E).call(E,1)))}),G=null}());/*!
 * @copyright Copyright (c) 2017 IcoMoon.io
 * @license   Licensed under MIT license
 *            See https://github.com/Keyamoon/svgxuse
 * @version   1.2.6
 */(function(){if(typeof window<"u"&&window.addEventListener){var G=v()(null),A,w,x=function(){clearTimeout(w),w=d()(A,100)},y=function(){},E=function(){var se;window.addEventListener("resize",x,!1),window.addEventListener("orientationchange",x,!1),window.MutationObserver?(se=new MutationObserver(x),se.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),y=function(){try{se.disconnect(),window.removeEventListener("resize",x,!1),window.removeEventListener("orientationchange",x,!1)}catch{}}):(document.documentElement.addEventListener("DOMSubtreeModified",x,!1),y=function(){document.documentElement.removeEventListener("DOMSubtreeModified",x,!1),window.removeEventListener("resize",x,!1),window.removeEventListener("orientationchange",x,!1)})},j=function(se){function de(Qe){var rt;return Qe.protocol!==void 0?rt=Qe:(rt=document.createElement("a"),rt.href=Qe),rt.protocol.replace(/:/g,"")+rt.host}var He,Ue,nt;return window.XMLHttpRequest&&(He=new XMLHttpRequest,Ue=de(location),nt=de(se),He.withCredentials===void 0&&nt!==""&&nt!==Ue?He=XDomainRequest||void 0:He=XMLHttpRequest),He},U="http://www.w3.org/1999/xlink";A=function(){var se,de,He,Ue,nt,Qe=0,rt,It,cn,hn,yn;function Gt(){Qe-=1,Qe===0&&(y(),E())}function ai(ki){return function(){G[ki.base]!==!0&&(ki.useEl.setAttributeNS(U,"xlink:href","#"+ki.hash),ki.useEl.hasAttribute("href")&&ki.useEl.setAttribute("href","#"+ki.hash))}}function ir(ki){return function(){var Aa=document.body,qs=document.createElement("x"),Lr;ki.onload=null,qs.innerHTML=ki.responseText,Lr=qs.getElementsByTagName("svg")[0],Lr&&(Lr.setAttribute("aria-hidden","true"),Lr.style.position="absolute",Lr.style.width=0,Lr.style.height=0,Lr.style.overflow="hidden",Aa.insertBefore(Lr,Aa.firstChild)),Gt()}}function Pr(ki){return function(){ki.onerror=null,ki.ontimeout=null,Gt()}}for(y(),hn=document.getElementsByTagName("use"),nt=0;nt<hn.length;nt+=1){try{de=hn[nt].getBoundingClientRect()}catch{de=!1}Ue=hn[nt].getAttribute("href")||hn[nt].getAttributeNS(U,"href")||hn[nt].getAttribute("xlink:href"),Ue&&Ue.split?cn=Ue.split("#"):cn=["",""],se=cn[0],He=cn[1],rt=de&&de.left===0&&de.right===0&&de.top===0&&de.bottom===0,de&&de.width===0&&de.height===0&&!rt?(hn[nt].hasAttribute("href")&&hn[nt].setAttributeNS(U,"xlink:href",Ue),se.length&&(yn=G[se],yn!==!0&&d()(ai({useEl:hn[nt],base:se,hash:He}),0),yn===void 0&&(It=j(se),It!==void 0&&(yn=new It,G[se]=yn,yn.onload=ir(yn),yn.onerror=Pr(yn),yn.ontimeout=Pr(yn),yn.open("GET",se),yn.send(),Qe+=1)))):rt?se.length&&G[se]&&d()(ai({useEl:hn[nt],base:se,hash:He}),0):G[se]===void 0?G[se]=!0:G[se].onload&&(G[se].abort(),delete G[se].onload,G[se]=!0)}hn="",Qe+=1,Gt()};var Q;Q=function(){window.removeEventListener("load",Q,!1),w=d()(A,0)},document.readyState!=="complete"?window.addEventListener("load",Q,!1):Q()}})();var g=a(1845);function h(G,A){(A==null||A>G.length)&&(A=G.length);for(var w=0,x=new Array(A);w<A;w++)x[w]=G[w];return x}function C(G){if(g(G))return h(G)}var D=a(184),S=a(662),k=a(7172);function L(G){if(typeof D<"u"&&S(G)!=null||G["@@iterator"]!=null)return k(G)}var B=a(711);function z(G,A){var w;if(!!G){if(typeof G=="string")return h(G,A);var x=B(w=Object.prototype.toString.call(G)).call(w,8,-1);if(x==="Object"&&G.constructor&&(x=G.constructor.name),x==="Map"||x==="Set")return k(G);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return h(G,A)}}function X(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ee(G){return C(G)||L(G)||z(G)||X()}var ce=a(7077);function le(G,A,w){return A in G?ce(G,A,{value:w,enumerable:!0,configurable:!0,writable:!0}):G[A]=w,G}function me(G,A){if(!(G instanceof A))throw new TypeError("Cannot call a class as a function")}function je(G,A){for(var w=0;w<A.length;w++){var x=A[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),ce(G,x.key,x)}}function Pe(G,A,w){return A&&je(G.prototype,A),w&&je(G,w),G}var it=a(4426),Te=a.n(it),lt=a(9406),he=a.n(lt),Dt=a(8189),Ke=a.n(Dt),Mt=a(3972),Me=a.n(Mt),Be=a(2777),Oe=a(961),Se=a.n(Oe),Ye=a(5695),ve=a.n(Ye),Ce=a(8592),_e=a.n(Ce),pe=a(9052),Ve=a.n(pe),Ze=a(2560),ht=a.n(Ze),ot=a(2461),st=a.n(ot);function re(G){if(g(G))return G}function H(G,A){var w=G==null?null:typeof D<"u"&&S(G)||G["@@iterator"];if(w!=null){var x=[],y=!0,E=!1,j,U;try{for(w=w.call(G);!(y=(j=w.next()).done)&&(x.push(j.value),!(A&&x.length===A));y=!0);}catch(Q){E=!0,U=Q}finally{try{!y&&w.return!=null&&w.return()}finally{if(E)throw U}}return x}}function q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ie(G,A){return re(G)||H(G,A)||z(G,A)||q()}var ue=a(6397),be=a.n(ue),ke=a(7636),Xe=a.n(ke),qe=a(789),Le=a.n(qe),ut=a(4729),bt=a.n(ut),zt=a(1610),qt=a.n(zt),Zt=a(3053),Xt=a.n(Zt),Jt,Mn=["zoomIn","zoomOut","hand"],kn=["history","undo","redo","reset"],qn=["delete","deleteAll"],wt=he()(Jt=[]).call(Jt,Mn,kn,qn),St={FILTER:"filter",COLOR:"color"},Lt=["rect","circle","triangle"],Wt={CROPZONE:"cropzone"},$t={VINTAGE:"vintage",SEPIA2:"sepia2",REMOVE_COLOR:"removeColor",COLOR_FILTER:"colorFilter",REMOVE_WHITE:"removeWhite",BLEND_COLOR:"blendColor",BLEND:"blend"},At=nn("IMAGE_LOADER","CROPPER","FLIP","ROTATION","FREE_DRAWING","LINE","TEXT","ICON","FILTER","SHAPE","ZOOM","RESIZE"),ii={lockSkewingX:!0,lockSkewingY:!0,bringForward:!0,isRegular:!1},li={hasRotatingPoint:!1,hasBorders:!1,lockScalingFlip:!0,lockRotation:!0,lockSkewingX:!0,lockSkewingY:!0},Kt={CLEAR_OBJECTS:"clearObjects",LOAD_IMAGE:"loadImage",FLIP_IMAGE:"flip",ROTATE_IMAGE:"rotate",ADD_OBJECT:"addObject",REMOVE_OBJECT:"removeObject",APPLY_FILTER:"applyFilter",REMOVE_FILTER:"removeFilter",ADD_ICON:"addIcon",CHANGE_ICON_COLOR:"changeIconColor",ADD_SHAPE:"addShape",CHANGE_SHAPE:"changeShape",ADD_TEXT:"addText",CHANGE_TEXT:"changeText",CHANGE_TEXT_STYLE:"changeTextStyle",ADD_IMAGE_OBJECT:"addImageObject",RESIZE_CANVAS_DIMENSION:"resizeCanvasDimension",SET_OBJECT_PROPERTIES:"setObjectProperties",SET_OBJECT_POSITION:"setObjectPosition",CHANGE_SELECTION:"changeSelection",RESIZE_IMAGE:"resize"},gt={OBJECT_ACTIVATED:"objectActivated",OBJECT_MOVED:"objectMoved",OBJECT_SCALED:"objectScaled",OBJECT_CREATED:"objectCreated",OBJECT_ROTATED:"objectRotated",OBJECT_ADDED:"objectAdded",OBJECT_MODIFIED:"objectModified",TEXT_EDITING:"textEditing",TEXT_CHANGED:"textChanged",ICON_CREATE_RESIZE:"iconCreateResize",ICON_CREATE_END:"iconCreateEnd",ADD_TEXT:"addText",ADD_OBJECT:"addObject",ADD_OBJECT_AFTER:"addObjectAfter",MOUSE_DOWN:"mousedown",MOUSE_UP:"mouseup",MOUSE_MOVE:"mousemove",REDO_STACK_CHANGED:"redoStackChanged",UNDO_STACK_CHANGED:"undoStackChanged",SELECTION_CLEARED:"selectionCleared",SELECTION_CREATED:"selectionCreated",EXECUTE_COMMAND:"executeCommand",AFTER_UNDO:"afterUndo",AFTER_REDO:"afterRedo",ZOOM_CHANGED:"zoomChanged",HAND_STARTED:"handStarted",HAND_STOPPED:"handStopped",KEY_DOWN:"keydown",KEY_UP:"keyup",INPUT_BOX_EDITING_STARTED:"inputBoxEditingStarted",INPUT_BOX_EDITING_STOPPED:"inputBoxEditingStopped",FOCUS:"focus",BLUR:"blur",IMAGE_RESIZED:"imageResized"},Jn={COLOR_PICKER_INPUT_BOX:".tui-colorpicker-palette-hex"},an={LOAD_IMAGE:"Load",LOAD_MASK_IMAGE:"Mask",ADD_MASK_IMAGE:"Mask",ADD_IMAGE_OBJECT:"Mask",CROP:"Crop",RESIZE:"Resize",APPLY_FILTER:"Filter",REMOVE_FILTER:"Filter",CHANGE_SHAPE:"Shape",CHANGE_ICON_COLOR:"Icon",ADD_TEXT:"Text",CHANGE_TEXT_STYLE:"Text",REMOVE_OBJECT:"Delete",CLEAR_OBJECTS:"Delete"},bn=nn("NORMAL","CROPPER","FREE_DRAWING","LINE_DRAWING","TEXT","SHAPE","ICON","ZOOM","RESIZE"),vi={TEXT:"text",CROP:"crop",RESIZE:"resize",SHAPE:"shape",ZOOM:"zoom"},_i={DEFAULT:"normal",ZOOM:"zoom",HAND:"hand"},ui={Z:90,Y:89,C:67,V:86,SHIFT:16,BACKSPACE:8,DEL:46,ARROW_DOWN:40,ARROW_UP:38,SPACE:32,DIGIT_0:48,DIGIT_9:57},Mi={SELECTION_STYLE:{borderColor:"red",cornerColor:"green",cornerSize:10,originX:"center",originY:"center",transparentCorners:!1}},Wn={addedObject:"The object is already added.",flip:"The flipX and flipY setting values are not changed.",invalidDrawingMode:"This operation is not supported in the drawing mode.",invalidParameters:"Invalid parameters.",isLock:"The executing command state is locked.",loadImage:"The background image is empty.",loadingImageFailed:"Invalid image loaded.",noActiveObject:"There is no active object.",noObject:"The object is not in canvas.",redo:"The promise of redo command is reject.",rotation:"The current angle is same the old angle.",undo:"The promise of undo command is reject.",unsupportedOperation:"Unsupported operation.",unsupportedType:"Unsupported object type."},Ua={"icon-arrow":"M40 12V0l24 24-24 24V36H0V12h40z","icon-arrow-2":"M49,32 H3 V22 h46 l-18,-18 h12 l23,23 L43,50 h-12 l18,-18  z ","icon-arrow-3":"M43.349998,27 L17.354,53 H1.949999 l25.996,-26 L1.949999,1 h15.404 L43.349998,27  z ","icon-star":"M35,54.557999 l-19.912001,10.468 l3.804,-22.172001 l-16.108,-15.7 l22.26,-3.236 L35,3.746 l9.956,20.172001 l22.26,3.236 l-16.108,15.7 l3.804,22.172001  z ","icon-star-2":"M17,31.212 l-7.194,4.08 l-4.728,-6.83 l-8.234,0.524 l-1.328,-8.226 l-7.644,-3.14 l2.338,-7.992 l-5.54,-6.18 l5.54,-6.176 l-2.338,-7.994 l7.644,-3.138 l1.328,-8.226 l8.234,0.522 l4.728,-6.83 L17,-24.312 l7.194,-4.08 l4.728,6.83 l8.234,-0.522 l1.328,8.226 l7.644,3.14 l-2.338,7.992 l5.54,6.178 l-5.54,6.178 l2.338,7.992 l-7.644,3.14 l-1.328,8.226 l-8.234,-0.524 l-4.728,6.83  z ","icon-polygon":"M3,31 L19,3 h32 l16,28 l-16,28 H19  z ","icon-location":"M24 62C8 45.503 0 32.837 0 24 0 10.745 10.745 0 24 0s24 10.745 24 24c0 8.837-8 21.503-24 38zm0-28c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10z","icon-heart":"M49.994999,91.349998 l-6.96,-6.333 C18.324001,62.606995 2.01,47.829002 2.01,29.690998 C2.01,14.912998 13.619999,3.299999 28.401001,3.299999 c8.349,0 16.362,5.859 21.594,12 c5.229,-6.141 13.242001,-12 21.591,-12 c14.778,0 26.390999,11.61 26.390999,26.390999 c0,18.138 -16.314001,32.916 -41.025002,55.374001 l-6.96,6.285  z ","icon-bubble":"M44 48L34 58V48H12C5.373 48 0 42.627 0 36V12C0 5.373 5.373 0 12 0h40c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12h-8z"},Ca={realTimeEvent:!0,min:-360,max:360,value:0},Ya={min:5,max:30,value:12},Sa={realTimeEvent:!0,min:2,max:300,value:3},vr={realTimeEvent:!0,min:10,max:100,value:50},mr={tintOpacityRange:{realTimeEvent:!0,min:0,max:1,value:.7,useDecimal:!0},removewhiteDistanceRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},brightnessRange:{realTimeEvent:!0,min:-1,max:1,value:0,useDecimal:!0},noiseRange:{realTimeEvent:!0,min:0,max:1e3,value:100},pixelateRange:{realTimeEvent:!0,min:2,max:20,value:4},colorfilterThresholdRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},blurFilterRange:{value:.1}},Ir={LEFT:0,TOP:0,WIDTH:.5,HEIGHT:.5},yi={realTimeEvent:!0,min:32,max:4088,value:800},$i=2,ea="tui-image-editor-",Ga=Math.min,xe=Math.max,Tt=!1,Et=0;function kt(G){return G.__fe_id||(Et+=1,G.__fe_id=Et),G.__fe_id}function Nt(G){return typeof G=="function"}function on(G,A,w){if(A>w){var x=[w,A];A=x[0],w=x[1]}return xe(A,Ga(G,w))}function nn(){for(var G={},A=arguments.length,w=new Array(A),x=0;x<A;x++)w[x]=arguments[x];return _e()(w,function(y){G[y]=y}),G}function In(G,A){var w={},x=A.length,y=0,E;for(y=0;y<x;y+=1)E=A[y],w[E]=G[E];return w}function Pn(G){return be()(G,10)}function hi(G){return G.replace(/-([a-z])/g,function(A,w){return w.toUpperCase()})}function Li(){return!!(window.File&&window.FileList&&window.FileReader)}function Ft(G,A){var w,x,y;if(G.length===4){var E;G=he()(E="".concat(G)).call(E,b()(G).call(G,1,4))}var j=be()(b()(G).call(G,1,3),16),U=be()(b()(G).call(G,3,5),16),Q=be()(b()(G).call(G,5,7),16),K=A||1;return he()(w=he()(x=he()(y="rgba(".concat(j,", ")).call(y,U,", ")).call(x,Q,", ")).call(w,K,")")}function bi(){Tt||(Tt=!0,bt()("image-editor","UA-129999381-1"))}function cr(G,A){var w=document.getElementsByTagName("head"),x=ie(w,1),y=x[0],E=document.createElement("link"),j=encodeURIComponent(G);A&&(E.id=A),E.setAttribute("rel","stylesheet"),E.setAttribute("type","text/css"),E.setAttribute("href","data:text/css;charset=UTF-8,".concat(j)),y.appendChild(E)}function Dr(G){return function(A){return G.querySelector(A)}}function $a(G){var A=/data:(image\/.+);base64,/,w="",x,y,E;x=G.replace(A,function(U,Q){return w=Q,""}),x=atob(x);var j=x.length;for(y=new Uint8Array(j),E=0;E<j;E+=1)y[E]=x.charCodeAt(E);return new Blob([y],{type:w})}function fs(G){return Number(G.toFixed($i))}function Ti(G){_e()(G,function(A,w){G[w]=null})}function Vi(){var G,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(A.charAt(0)==="."){var x;return he()(x=".".concat(ea).concat(w)).call(x,b()(A).call(A,1))}return he()(G="".concat(ea).concat(w)).call(G,A)}function ho(G,A){var w=A.originX,x=A.originY,y=G.getPointByOrigin(w,x),E=y.x,j=y.y;G.set({left:E,top:j,originX:w,originY:x}),G.setCoords()}function Va(G){var A,w={};return Xe()(A=st()(G)).call(A,function(x){w[G[x]]=x}),w}function Ns(G,A){G.customProps=G.customProps||{},Se()(G.customProps,A)}function yr(G,A){var w={};return ht()(A)&&(A=[A]),_e()(A,function(x){w[x]=G.customProps[x]}),w}function ta(G){return G.charAt(0).toUpperCase()+b()(G).call(G,1)}function Ar(G,A){return l()(G).call(G,A)>=0}function na(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return qt()(G,"type")||St.COLOR}function Xa(G){var A=Le()(G),w=A===void 0?{}:A;return w.source?St.FILTER:St.COLOR}function ia(G){return Xt()(G.get("type"),Lt)>=0}function ds(G){if(Ar(Lt,G))return"Shape";switch(G){case"i-text":return"Text";case"path":case"line":return"Draw";case"activeSelection":return"Group";default:return ra(G)}}function Za(G){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=A.useAlpha,x=w===void 0?!0:w,y=A.mode,E=$t.VINTAGE,j=$t.REMOVE_COLOR,U=$t.BLEND_COLOR,Q=$t.SEPIA2,K=$t.COLOR_FILTER,se=$t.REMOVE_WHITE,de=$t.BLEND,He;switch(G){case E:He=Q;break;case j:He=x?K:se;break;case U:He=y==="add"?de:y;break;default:He=G}return ra(He)}function $o(G){var A=Kt.LOAD_IMAGE;return typeof G=="string"?A===G:A===G.name}function Fs(G){var A,w,x=Kt.FLIP_IMAGE,y=Kt.ROTATE_IMAGE,E=Kt.ADD_TEXT,j=Kt.APPLY_FILTER,U=Kt.REMOVE_FILTER,Q=Kt.CHANGE_SHAPE,K=Kt.CHANGE_ICON_COLOR,se=Kt.CHANGE_TEXT_STYLE,de=Kt.CLEAR_OBJECTS,He=Kt.ADD_IMAGE_OBJECT,Ue=Kt.REMOVE_OBJECT,nt=Kt.RESIZE_IMAGE,Qe=G.name,rt=G.args,It;switch(Qe){case x:It={name:Qe,detail:rt[1]==="reset"?rt[1]:b()(A=rt[1]).call(A,4)};break;case y:It={name:Qe,detail:rt[2]};break;case j:It={name:an.APPLY_FILTER,detail:Za(rt[1],rt[2])};break;case U:It={name:an.REMOVE_FILTER,detail:"Remove"};break;case Q:It={name:an.CHANGE_SHAPE,detail:"Change"};break;case K:It={name:an.CHANGE_ICON_COLOR,detail:"Change"};break;case se:It={name:an.CHANGE_TEXT_STYLE,detail:"Change"};break;case Ue:It={name:an.REMOVE_OBJECT,detail:rt[2]};break;case de:It={name:an.CLEAR_OBJECTS,detail:"All"};break;case He:It={name:an.ADD_IMAGE_OBJECT,detail:"Add"};break;case E:It={name:an.ADD_TEXT};break;case nt:It={name:an.RESIZE,detail:he()(w="".concat(~~rt[1].width,"x")).call(w,~~rt[1].height)};break;default:It={name:Qe};break}return rt[1]==="mask"&&(It={name:an.LOAD_MASK_IMAGE,detail:"Apply"}),It}function Vo(G){return G==="top"?"bottom":G==="left"?"right":G==="right"?"left":"top"}function ra(G){return G.replace(/[a-z]/,function(A){return A.toUpperCase()})}function Xo(G){var A=G.left,w=G.top,x=G.width,y=G.height,E=Ir.LEFT,j=Ir.TOP,U=Ir.WIDTH,Q=Ir.HEIGHT;return A===E&&w===j&&x===U&&y===Q}var Zo=nn("UN_IMPLEMENTATION","NO_COMPONENT_NAME"),js={UN_IMPLEMENTATION:"Should implement a method: ",NO_COMPONENT_NAME:"Should set a component name"},Yl={UN_IMPLEMENTATION:function(A){return js.UN_IMPLEMENTATION+A},NO_COMPONENT_NAME:function(){return js.NO_COMPONENT_NAME}},ps={types:Se()({},Zo),create:function(A){A=A.toLowerCase();for(var w=Yl[A],x=arguments.length,y=new Array(x>1?x-1:0),E=1;E<x;E++)y[E-1]=arguments[E];return w.apply(void 0,y)}},Jo=ps.create,Ko=ps.types,Gl=function(){function G(A,w){me(this,G),this.name=A.name,this.args=w,this.execute=A.execute,this.undo=A.undo,this.executeCallback=A.executeCallback||null,this.undoCallback=A.undoCallback||null,this.undoData={}}return Pe(G,[{key:"execute",value:function(){throw new Error(Jo(Ko.UN_IMPLEMENTATION,"execute"))}},{key:"undo",value:function(){throw new Error(Jo(Ko.UN_IMPLEMENTATION,"undo"))}},{key:"isRedo",get:function(){return st()(this.undoData).length>0}},{key:"setUndoData",value:function(w,x,y){return x&&(w=x),y?x||(x=w):(Se()(this.undoData,w),x=null),x}},{key:"setExecuteCallback",value:function(w){return this.executeCallback=w,this}},{key:"setUndoCallback",value:function(w){return this.undoCallback=w,this}}]),G}(),$l=Gl,Bs={};function Qo(G){var A=Bs[G];if(A){for(var w=arguments.length,x=new Array(w>1?w-1:0),y=1;y<w;y++)x[y-1]=arguments[y];return new $l(A,x)}return null}function Hs(G){Bs[G.name]=G}var fi={create:Qo,register:Hs},_a=function(){function G(){me(this,G),this._undoStack=[],this._redoStack=[],this._isLocked=!1,this._isSilent=!1}return Pe(G,[{key:"_invokeExecution",value:function(w){var x=this,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.lock();var E=w.args;return E||(E=[]),w.execute.apply(w,ee(E)).then(function(j){return x._isSilent||(x.pushUndoStack(w),x.fire(y?gt.AFTER_REDO:gt.EXECUTE_COMMAND,w)),x.unlock(),Nt(w.executeCallback)&&w.executeCallback(j),j}).catch(function(j){return x.unlock(),Ke().reject(j)})}},{key:"_invokeUndo",value:function(w){var x=this;this.lock();var y=w.args;return y||(y=[]),w.undo.apply(w,ee(y)).then(function(E){return x.pushRedoStack(w),x.fire(gt.AFTER_UNDO,w),x.unlock(),Nt(w.undoCallback)&&w.undoCallback(E),E}).catch(function(E){return x.unlock(),Ke().reject(E)})}},{key:"_fireRedoStackChanged",value:function(){this.fire(gt.REDO_STACK_CHANGED,this._redoStack.length)}},{key:"_fireUndoStackChanged",value:function(){this.fire(gt.UNDO_STACK_CHANGED,this._undoStack.length)}},{key:"lock",value:function(){this._isLocked=!0}},{key:"unlock",value:function(){this._isLocked=!1}},{key:"executeSilent",value:function(){var w=this;this._isSilent=!0;for(var x=arguments.length,y=new Array(x),E=0;E<x;E++)y[E]=arguments[E];return this.execute.apply(this,he()(y).call(y,[this._isSilent])).then(function(){w._isSilent=!1})}},{key:"execute",value:function(){var w=this;if(this._isLocked)return Ke().reject(Wn.isLock);for(var x=arguments.length,y=new Array(x),E=0;E<x;E++)y[E]=arguments[E];var j=y[0];return ht()(j)&&(j=fi.create.apply(fi,y)),this._invokeExecution(j).then(function(U){return w.clearRedoStack(),U})}},{key:"undo",value:function(){var w=this._undoStack.pop(),x,y="";if(w&&this._isLocked&&(this.pushUndoStack(w,!0),w=null),w)this.isEmptyUndoStack()&&this._fireUndoStackChanged(),x=this._invokeUndo(w);else{if(y=Wn.undo,this._isLocked){var E;y=he()(E="".concat(y," Because ")).call(E,Wn.isLock)}x=Ke().reject(y)}return x}},{key:"redo",value:function(){var w=this._redoStack.pop(),x,y="";if(w&&this._isLocked&&(this.pushRedoStack(w,!0),w=null),w)this.isEmptyRedoStack()&&this._fireRedoStackChanged(),x=this._invokeExecution(w,!0);else{if(y=Wn.redo,this._isLocked){var E;y=he()(E="".concat(y," Because ")).call(E,Wn.isLock)}x=Ke().reject(y)}return x}},{key:"pushUndoStack",value:function(w,x){this._undoStack.push(w),x||this._fireUndoStackChanged()}},{key:"pushRedoStack",value:function(w,x){this._redoStack.push(w),x||this._fireRedoStackChanged()}},{key:"isEmptyRedoStack",value:function(){return this._redoStack.length===0}},{key:"isEmptyUndoStack",value:function(){return this._undoStack.length===0}},{key:"clearUndoStack",value:function(){this.isEmptyUndoStack()||(this._undoStack=[],this._fireUndoStackChanged())}},{key:"clearRedoStack",value:function(){this.isEmptyRedoStack()||(this._redoStack=[],this._fireRedoStackChanged())}}]),G}();Ve().mixin(_a);var qo=_a,di=a(5214),jn=a.n(di),gs=function(G){var A,w,x,y,E,j,U,Q=G.locale,K=G.biImage,se=G.commonStyle,de=G.headerStyle,He=G.loadButtonStyle,Ue=G.downloadButtonStyle,nt=G.submenuStyle;return he()(A=he()(w=he()(x=he()(y=he()(E=he()(j=he()(U=`
    <div class="tui-image-editor-main-container" style="`.concat(se,`">
        <div class="tui-image-editor-header" style="`)).call(U,de,`">
            <div class="tui-image-editor-header-logo">
                <img src="`)).call(j,K,`" />
            </div>
            <div class="tui-image-editor-header-buttons">
                <div style="`)).call(E,He,`">
                    `)).call(y,Q.localize("Load"),`
                    <input type="file" class="tui-image-editor-load-btn" />
                </div>
                <button class="tui-image-editor-download-btn" style="`)).call(x,Ue,`">
                    `)).call(w,Q.localize("Download"),`
                </button>
            </div>
        </div>
        <div class="tui-image-editor-main">
            <div class="tui-image-editor-submenu">
                <div class="tui-image-editor-submenu-style" style="`)).call(A,nt,`"></div>
            </div>
            <div class="tui-image-editor-wrap">
                <div class="tui-image-editor-size-wrap">
                    <div class="tui-image-editor-align-wrap">
                        <div class="tui-image-editor"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
`)},Vl=function(G){var A,w,x,y,E,j=G.locale,U=G.biImage,Q=G.loadButtonStyle,K=G.downloadButtonStyle,se=G.menuBarPosition;return he()(A=he()(w=he()(x=he()(y=he()(E=`
    <ul class="tui-image-editor-help-menu `.concat(Vo(se),`"></ul>
    <div class="tui-image-editor-controls">
        <div class="tui-image-editor-controls-logo">
            <img src="`)).call(E,U,`" />
        </div>
        <ul class="tui-image-editor-menu"></ul>

        <div class="tui-image-editor-controls-buttons">
            <div style="`)).call(y,Q,`">
                `)).call(x,j.localize("Load"),`
                <input type="file" class="tui-image-editor-load-btn" />
            </div>
            <button class="tui-image-editor-download-btn" style="`)).call(w,K,`">
                `)).call(A,j.localize("Download"),`
            </button>
        </div>
    </div>
`)},Xl=a(899),Qi=a.n(Xl),fo=function(G){var A,w,x,y,E,j,U,Q,K,se,de,He,Ue,nt,Qe,rt,It,cn,hn,yn,Gt,ai,ir,Pr,ki,Aa,qs,Lr,gc,pu=G.subMenuLabelActive,gu=G.subMenuLabelNormal,vu=G.subMenuRangeTitle,mu=G.submenuPartitionVertical,yu=G.submenuPartitionHorizontal,Rr=G.submenuCheckbox,bu=G.submenuRangePointer,wu=G.submenuRangeValue,Cu=G.submenuColorpickerTitle,vc=G.submenuColorpickerButton,Su=G.submenuRangeBar,_u=G.submenuRangeSubbar,xu=G.submenuDisabledRangePointer,Eu=G.submenuDisabledRangeBar,dl=G.submenuDisabledRangeSubbar,Tu=G.submenuIconSize,Iu=G.menuIconSize,Du=G.biSize,Ma=G.menuIconStyle,xo=G.submenuIconStyle;return he()(A=he()(w=he()(x=he()(y=he()(E=he()(j=he()(U=he()(Q=he()(K=he()(se=he()(de=he()(He=he()(Ue=he()(nt=he()(Qe=he()(rt=he()(It=he()(cn=he()(hn=he()(yn=he()(Gt=he()(ai=he()(ir=he()(Pr=he()(ki=he()(Aa=he()(qs=he()(Lr=he()(gc=`
    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,
    .tie-icon-add-button.icon-heart .tui-image-editor-button[data-icontype="icon-heart"] label,
    .tie-icon-add-button.icon-location .tui-image-editor-button[data-icontype="icon-location"] label,
    .tie-icon-add-button.icon-polygon .tui-image-editor-button[data-icontype="icon-polygon"] label,
    .tie-icon-add-button.icon-star .tui-image-editor-button[data-icontype="icon-star"] label,
    .tie-icon-add-button.icon-star-2 .tui-image-editor-button[data-icontype="icon-star-2"] label,
    .tie-icon-add-button.icon-arrow-3 .tui-image-editor-button[data-icontype="icon-arrow-3"] label,
    .tie-icon-add-button.icon-arrow-2 .tui-image-editor-button[data-icontype="icon-arrow-2"] label,
    .tie-icon-add-button.icon-arrow .tui-image-editor-button[data-icontype="icon-arrow"] label,
    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,
    .tie-draw-line-select-button.line .tui-image-editor-button.line label,
    .tie-draw-line-select-button.free .tui-image-editor-button.free label,
    .tie-flip-button.flipX .tui-image-editor-button.flipX label,
    .tie-flip-button.flipY .tui-image-editor-button.flipY label,
    .tie-flip-button.resetFlip .tui-image-editor-button.resetFlip label,
    .tie-crop-button .tui-image-editor-button.apply.active label,
    .tie-crop-preset-button .tui-image-editor-button.preset.active label,
    .tie-resize-button .tui-image-editor-button.apply.active label,
    .tie-resize-preset-button .tui-image-editor-button.preset.active label,
    .tie-shape-button.rect .tui-image-editor-button.rect label,
    .tie-shape-button.circle .tui-image-editor-button.circle label,
    .tie-shape-button.triangle .tui-image-editor-button.triangle label,
    .tie-text-effect-button .tui-image-editor-button.active label,
    .tie-text-align-button.tie-text-align-left .tui-image-editor-button.left label,
    .tie-text-align-button.tie-text-align-center .tui-image-editor-button.center label,
    .tie-text-align-button.tie-text-align-right .tui-image-editor-button.right label,
    .tie-mask-apply.apply.active .tui-image-editor-button.apply label,
    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button:hover > label,
    .tui-image-editor-container .tui-image-editor-checkbox label > span {
        `.concat(pu,`
    }
    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button > label,
    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label,
    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label > span {
        `)).call(gc,gu,`
    }
    .tui-image-editor-container .tui-image-editor-range-wrap label > span {
        `)).call(Lr,vu,`
    }
    .tui-image-editor-container .tui-image-editor-partition > div {
        `)).call(qs,mu,`
    }
    .tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition > div,
    .tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition > div {
        `)).call(Aa,yu,`
    }
    .tui-image-editor-container .tui-image-editor-checkbox label > span:before {
        `)).call(ki,Rr,`
    }
    .tui-image-editor-container .tui-image-editor-checkbox label > input:checked + span:before {
        border: 0;
    }
    .tui-image-editor-container .tui-image-editor-virtual-range-pointer {
        `)).call(Pr,bu,`
    }
    .tui-image-editor-container .tui-image-editor-virtual-range-bar {
        `)).call(ir,Su,`
    }
    .tui-image-editor-container .tui-image-editor-virtual-range-subbar {
        `)).call(ai,_u,`
    }
    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-pointer {
        `)).call(Gt,xu,`
    }
    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-subbar {
        `)).call(yn,dl,`
    }
    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-bar {
        `)).call(hn,Eu,`
    }
    .tui-image-editor-container .tui-image-editor-range-value {
        `)).call(cn,wu,`
    }
    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value + label {
        `)).call(It,Cu,`
    }
    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value {
        `)).call(rt,vc,`
    }
    .tui-image-editor-container .svg_ic-menu {
        `)).call(Qe,Iu,`
    }
    .tui-image-editor-container .svg_ic-submenu {
        `)).call(nt,Tu,`
    }
    .tui-image-editor-container .tui-image-editor-controls-logo > img,
    .tui-image-editor-container .tui-image-editor-header-logo > img {
        `)).call(Ue,Du,`
    }
    .tui-image-editor-menu use.normal.use-default,
    .tui-image-editor-help-menu use.normal.use-default {
        fill-rule: evenodd;
        fill: `)).call(He,Ma.normal.color,`;
        stroke: `)).call(de,Ma.normal.color,`;
    }
    .tui-image-editor-menu use.active.use-default,
    .tui-image-editor-help-menu use.active.use-default {
        fill-rule: evenodd;
        fill: `)).call(se,Ma.active.color,`;
        stroke: `)).call(K,Ma.active.color,`;
    }
    .tui-image-editor-menu use.hover.use-default,
    .tui-image-editor-help-menu use.hover.use-default {
        fill-rule: evenodd;
        fill: `)).call(Q,Ma.hover.color,`;
        stroke: `)).call(U,Ma.hover.color,`;
    }
    .tui-image-editor-menu use.disabled.use-default,
    .tui-image-editor-help-menu use.disabled.use-default {
        fill-rule: evenodd;
        fill: `)).call(j,Ma.disabled.color,`;
        stroke: `)).call(E,Ma.disabled.color,`;
    }
    .tui-image-editor-submenu use.normal.use-default {
        fill-rule: evenodd;
        fill: `)).call(y,xo.normal.color,`;
        stroke: `)).call(x,xo.normal.color,`;
    }
    .tui-image-editor-submenu use.active.use-default {
        fill-rule: evenodd;
        fill: `)).call(w,xo.active.color,`;
        stroke: `)).call(A,xo.active.color,`;
    }
`)},zs={"common.bi.image":"https://uicdn.toast.com/toastui/img/tui-image-editor-bi.png","common.bisize.width":"251px","common.bisize.height":"21px","common.backgroundImage":"none","common.backgroundColor":"#1e1e1e","common.border":"0px","header.backgroundImage":"none","header.backgroundColor":"transparent","header.border":"0px","loadButton.backgroundColor":"#fff","loadButton.border":"1px solid #ddd","loadButton.color":"#222","loadButton.fontFamily":"'Noto Sans', sans-serif","loadButton.fontSize":"12px","downloadButton.backgroundColor":"#fdba3b","downloadButton.border":"1px solid #fdba3b","downloadButton.color":"#fff","downloadButton.fontFamily":"'Noto Sans', sans-serif","downloadButton.fontSize":"12px","menu.normalIcon.color":"#8a8a8a","menu.activeIcon.color":"#555555","menu.disabledIcon.color":"#434343","menu.hoverIcon.color":"#e9e9e9","submenu.normalIcon.color":"#8a8a8a","submenu.activeIcon.color":"#e9e9e9","menu.iconSize.width":"24px","menu.iconSize.height":"24px","submenu.iconSize.width":"32px","submenu.iconSize.height":"32px","submenu.backgroundColor":"#1e1e1e","submenu.partition.color":"#3c3c3c","submenu.normalLabel.color":"#8a8a8a","submenu.normalLabel.fontWeight":"lighter","submenu.activeLabel.color":"#fff","submenu.activeLabel.fontWeight":"lighter","checkbox.border":"0px","checkbox.backgroundColor":"#fff","range.pointer.color":"#fff","range.bar.color":"#666","range.subbar.color":"#d1d1d1","range.disabledPointer.color":"#414141","range.disabledBar.color":"#282828","range.disabledSubbar.color":"#414141","range.value.color":"#fff","range.value.fontWeight":"lighter","range.value.fontSize":"11px","range.value.border":"1px solid #353535","range.value.backgroundColor":"#151515","range.title.color":"#fff","range.title.fontWeight":"lighter","colorpicker.button.border":"1px solid #1e1e1e","colorpicker.title.color":"#fff"},po=a(2534),Zl=function(){function G(A){me(this,G),this.styles=this._changeToObject(Se()({},zs,A)),cr(this._styleMaker()),this._loadDefaultSvgIcon()}return Pe(G,[{key:"getStyle",value:function(w){var x=null,y=w.replace(/\..+$/,""),E=this.styles[w];switch(w){case"common.bi":x=this.styles[w].image;break;case"menu.icon":x={active:this.styles["".concat(y,".activeIcon")],normal:this.styles["".concat(y,".normalIcon")],hover:this.styles["".concat(y,".hoverIcon")],disabled:this.styles["".concat(y,".disabledIcon")]};break;case"submenu.icon":x={active:this.styles["".concat(y,".activeIcon")],normal:this.styles["".concat(y,".normalIcon")]};break;case"submenu.label":x={active:this._makeCssText(this.styles["".concat(y,".activeLabel")]),normal:this._makeCssText(this.styles["".concat(y,".normalLabel")])};break;case"submenu.partition":x={vertical:this._makeCssText(Se()({},E,{borderLeft:"1px solid ".concat(E.color)})),horizontal:this._makeCssText(Se()({},E,{borderBottom:"1px solid ".concat(E.color)}))};break;case"range.disabledPointer":case"range.disabledBar":case"range.disabledSubbar":case"range.pointer":case"range.bar":case"range.subbar":E.backgroundColor=E.color,x=this._makeCssText(E);break;default:x=this._makeCssText(E);break}return x}},{key:"_styleMaker",value:function(){var w=this.getStyle("submenu.label"),x=this.getStyle("submenu.partition");return fo({subMenuLabelActive:w.active,subMenuLabelNormal:w.normal,submenuPartitionVertical:x.vertical,submenuPartitionHorizontal:x.horizontal,biSize:this.getStyle("common.bisize"),subMenuRangeTitle:this.getStyle("range.title"),submenuRangePointer:this.getStyle("range.pointer"),submenuRangeBar:this.getStyle("range.bar"),submenuRangeSubbar:this.getStyle("range.subbar"),submenuDisabledRangePointer:this.getStyle("range.disabledPointer"),submenuDisabledRangeBar:this.getStyle("range.disabledBar"),submenuDisabledRangeSubbar:this.getStyle("range.disabledSubbar"),submenuRangeValue:this.getStyle("range.value"),submenuColorpickerTitle:this.getStyle("colorpicker.title"),submenuColorpickerButton:this.getStyle("colorpicker.button"),submenuCheckbox:this.getStyle("checkbox"),menuIconSize:this.getStyle("menu.iconSize"),submenuIconSize:this.getStyle("submenu.iconSize"),menuIconStyle:this.getStyle("menu.icon"),submenuIconStyle:this.getStyle("submenu.icon")})}},{key:"_changeToObject",value:function(w){var x={};return _e()(w,function(y,E){var j=E.match(/^(.+)\.([a-z]+)$/i),U=ie(j,3),Q=U[1],K=U[2];x[Q]||(x[Q]={}),x[Q][K]=y}),x}},{key:"_makeCssText",value:function(w){var x=this,y=[];return _e()(w,function(E,j){var U,Q;l()(U=["backgroundImage"]).call(U,j)>-1&&E!=="none"&&(E="url(".concat(E,")")),y.push(he()(Q="".concat(x._toUnderScore(j),": ")).call(Q,E))}),y.join(";")}},{key:"_toUnderScore",value:function(w){return w.replace(/([A-Z])/g,function(x,y){return"-".concat(y.toLowerCase())})}},{key:"_loadDefaultSvgIcon",value:function(){if(!document.getElementById("tui-image-editor-svg-default-icons")){var w=new DOMParser,x=po.replace(/data:image\/svg\+xml;base64,/,""),y=w.parseFromString(atob(x),"text/xml");document.body.appendChild(y.documentElement)}}},{key:"_makeIconClassName",value:function(w,x){var y=x?this.getStyle("submenu.icon"):this.getStyle("menu.icon"),E=y[w],j=E.path,U=E.name;return j&&U?w:"".concat(w," use-default")}},{key:"_makeSvgIconPrefix",value:function(w,x){var y,E=x?this.getStyle("submenu.icon"):this.getStyle("menu.icon"),j=E[w],U=j.path,Q=j.name;return U&&Q?he()(y="".concat(U,"#")).call(y,Q,"-"):"#"}},{key:"_makeSvgItem",value:function(w,x,y){var E=this;return Qi()(w).call(w,function(j){var U,Q,K=E._makeSvgIconPrefix(j,y),se=E._toUnderScore(x),de=E._makeIconClassName(j,y);return he()(U=he()(Q='<use xlink:href="'.concat(K,"ic-")).call(Q,se,'" class="')).call(U,de,'"/>')}).join("")}},{key:"makeMenSvgIconSet",value:function(w,x){var y,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return he()(y='<svg class="svg_ic-'.concat(E?"submenu":"menu",'">')).call(y,this._makeSvgItem(w,x,E),"</svg>")}}]),G}(),Ri=Zl,O=a(9146),R=a.n(O),Y=a(6623),Z=a(4230);function te(G,A){return te=Z||function(x,y){return x.__proto__=y,x},te(G,A)}function ne(G,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Y(A&&A.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),A&&te(G,A)}var fe=a(3742);function Re(G){return typeof D=="function"&&typeof fe=="symbol"?Re=function(w){return typeof w}:Re=function(w){return w&&typeof D=="function"&&w.constructor===D&&w!==D.prototype?"symbol":typeof w},Re(G)}function De(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function We(G,A){if(A&&(Re(A)==="object"||typeof A=="function"))return A;if(A!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return De(G)}var ft=a(9856);function et(G){return et=Z?ft:function(w){return w.__proto__||ft(w)},et(G)}var ct=a(6092),vt=a.n(ct),fn=a(4858),En=a.n(fn),ln=["#000000","#2a2a2a","#545454","#7e7e7e","#a8a8a8","#d2d2d2","#ffffff","","#ff4040","#ff6518","#ffbb3b","#03bd9e","#00a9ff","#515ce6","#9e5fff","#ff5583"],wi=function(){function G(A,w){var x=w.defaultColor,y=x===void 0?"#7e7e7e":x,E=w.toggleDirection,j=E===void 0?"up":E,U=w.usageStatistics;me(this,G),this.colorpickerElement=A,this.usageStatistics=U,this._show=!1,this._colorpickerElement=A,this._toggleDirection=j,this._makePickerButtonElement(y),this._makePickerLayerElement(A,A.getAttribute("title")),this._color=y,this.picker=En().create({container:this.pickerElement,preset:ln,color:y,usageStatistics:this.usageStatistics}),this._addEvent()}return Pe(G,[{key:"destroy",value:function(){var w=this;this._removeEvent(),this.picker.destroy(),this.colorpickerElement.innerHTML="",_e()(this,function(x,y){w[y]=null})}},{key:"color",get:function(){return this._color},set:function(w){this._color=w,this._changeColorElement(w)}},{key:"_changeColorElement",value:function(w){w?(this.colorElement.classList.remove("transparent"),this.colorElement.style.backgroundColor=w):(this.colorElement.style.backgroundColor="#fff",this.colorElement.classList.add("transparent"))}},{key:"_makePickerButtonElement",value:function(w){this.colorpickerElement.classList.add("tui-image-editor-button"),this.colorElement=document.createElement("div"),this.colorElement.className="color-picker-value",w?this.colorElement.style.backgroundColor=w:this.colorElement.classList.add("transparent")}},{key:"_makePickerLayerElement",value:function(w,x){var y=document.createElement("label"),E=document.createElement("div");this.pickerControl=document.createElement("div"),this.pickerControl.className="color-picker-control",this.pickerElement=document.createElement("div"),this.pickerElement.className="color-picker",y.innerHTML=x,E.className="triangle",this.pickerControl.appendChild(this.pickerElement),this.pickerControl.appendChild(E),w.appendChild(this.pickerControl),w.appendChild(this.colorElement),w.appendChild(y)}},{key:"_addEvent",value:function(){var w=this,x;this.picker.on("selectColor",function(y){w._changeColorElement(y.color),w._color=y.color,w.fire("change",y.color)}),this.eventHandler={pickerToggle:Te()(x=this._pickerToggleEventHandler).call(x,this),pickerHide:function(){return w.hide()}},this.colorpickerElement.addEventListener("click",this.eventHandler.pickerToggle),document.body.addEventListener("click",this.eventHandler.pickerHide)}},{key:"_removeEvent",value:function(){this.colorpickerElement.removeEventListener("click",this.eventHandler.pickerToggle),document.body.removeEventListener("click",this.eventHandler.pickerHide),this.picker.off()}},{key:"_pickerToggleEventHandler",value:function(w){var x=w.target,y=x&&this._isElementInColorPickerControl(x);(!y||y&&this._isPaletteButton(x))&&(this._show=!this._show,this.pickerControl.style.display=this._show?"block":"none",this._setPickerControlPosition(),this.fire("changeShow",this)),w.stopPropagation()}},{key:"_isPaletteButton",value:function(w){return w.className==="tui-colorpicker-palette-button"}},{key:"_isElementInColorPickerControl",value:function(w){for(var x=w;x!==document.body&&x;){if(x===this.pickerControl)return!0;x=x.parentNode}return!1}},{key:"hide",value:function(){this._show=!1,this.pickerControl.style.display="none"}},{key:"_setPickerControlPosition",value:function(){var w=this.pickerControl.style,x=this._colorpickerElement.clientWidth/2+2,y=this.pickerControl.offsetWidth/2-x,E=(this.pickerControl.offsetHeight+10)*-1;this._toggleDirection==="down"&&(E=30),w.top="".concat(E,"px"),w.left="-".concat(y,"px")}}]),G}();Ve().mixin(wi);var ri=wi,Nn=/(-?)([0-9]*)[^0-9]*([0-9]*)/g,Ln=function(){function G(A){var w,x,y,E,j,U,Q,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};me(this,G),this._value=K.value||0,this.rangeElement=A.slider,this.rangeInputElement=A.input,this._drawRangeElement(),this.rangeWidth=this._getRangeWidth(),this._min=K.min||0,this._max=K.max||100,this._useDecimal=K.useDecimal,this._absMax=this._min*-1+this._max,this.realTimeEvent=K.realTimeEvent||!1,this._userInputTimer=null,this.eventHandler={startChangingSlide:Te()(w=this._startChangingSlide).call(w,this),stopChangingSlide:Te()(x=this._stopChangingSlide).call(x,this),changeSlide:Te()(y=this._changeSlide).call(y,this),changeSlideFinally:Te()(E=this._changeSlideFinally).call(E,this),changeInput:Te()(j=this._changeInput).call(j,this),changeInputFinally:Te()(U=this._changeValueWithInput).call(U,this,!0),changeInputWithArrow:Te()(Q=this._changeValueWithInputKeyEvent).call(Q,this)},this._addClickEvent(),this._addDragEvent(),this._addInputEvent(),this.value=K.value,this.trigger("change")}return Pe(G,[{key:"destroy",value:function(){var w=this;this._removeClickEvent(),this._removeDragEvent(),this._removeInputEvent(),this.rangeElement.innerHTML="",_e()(this,function(x,y){w[y]=null})}},{key:"max",get:function(){return this._max},set:function(w){this._max=w,this._absMax=this._min*-1+this._max,this.value=this._value}},{key:"min",get:function(){return this._min},set:function(w){this._min=w,this.max=this._max}},{key:"value",get:function(){return this._value},set:function(w){w=this._useDecimal?w:Pn(w);var x=w-this._min,y=x*this.rangeWidth/this._absMax;this.rangeWidth<y&&(y=this.rangeWidth),this.pointer.style.left="".concat(y,"px"),this.subbar.style.right="".concat(this.rangeWidth-y,"px"),this._value=w,this.rangeInputElement&&(this.rangeInputElement.value=w)}},{key:"trigger",value:function(w){this.fire(w,this._value)}},{key:"_getRangeWidth",value:function(){var w=function(y){return Pn(window.getComputedStyle(y,null).width)};return w(this.rangeElement)-w(this.pointer)}},{key:"_drawRangeElement",value:function(){this.rangeElement.classList.add("tui-image-editor-range"),this.bar=document.createElement("div"),this.bar.className="tui-image-editor-virtual-range-bar",this.subbar=document.createElement("div"),this.subbar.className="tui-image-editor-virtual-range-subbar",this.pointer=document.createElement("div"),this.pointer.className="tui-image-editor-virtual-range-pointer",this.bar.appendChild(this.subbar),this.bar.appendChild(this.pointer),this.rangeElement.appendChild(this.bar)}},{key:"_addInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.addEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_removeInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.removeEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_changeValueWithInputKeyEvent",value:function(w){var x,y=w.keyCode,E=w.target;if(!(l()(x=[ui.ARROW_UP,ui.ARROW_DOWN]).call(x,y)<0)){var j=Number(E.value);j=this._valueUpDownForKeyEvent(j,y);var U=j<this._min||j>this._max;if(!U){var Q=on(j,this._min,this.max);this.value=Q,this.fire("change",Q,!1)}}}},{key:"_valueUpDownForKeyEvent",value:function(w,x){var y=this._useDecimal?.1:1;return x===ui.ARROW_UP?w+=y:x===ui.ARROW_DOWN&&(w-=y),w}},{key:"_changeInput",value:function(w){var x=this;clearTimeout(this._userInputTimer);var y=w.keyCode;if(y<ui.DIGIT_0||y>ui.DIGIT_9){w.preventDefault();return}this._userInputTimer=d()(function(){x._inputSetValue(w.target.value)},350)}},{key:"_inputSetValue",value:function(w){var x=this._useDecimal?Number(w):Pn(w);x=on(x,this._min,this.max),this.value=x,this.fire("change",x,!0)}},{key:"_changeValueWithInput",value:function(w,x){var y,E=x.keyCode,j=x.target;if(!(l()(y=[ui.ARROW_UP,ui.ARROW_DOWN]).call(y,E)>=0)){var U=this._filterForInputText(j.value),Q=!U||isNaN(U);j.value=U,Q||this._inputSetValue(U)}}},{key:"_addClickEvent",value:function(){this.rangeElement.addEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_removeClickEvent",value:function(){this.rangeElement.removeEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_addDragEvent",value:function(){this.pointer.addEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_removeDragEvent",value:function(){this.pointer.removeEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_changeSlide",value:function(w){var x=w.screenX,y=x-this.firstPosition,E=this.firstLeft+y;E=E>this.rangeWidth?this.rangeWidth:E,E=E<0?0:E,this.pointer.style.left="".concat(E,"px"),this.subbar.style.right="".concat(this.rangeWidth-E,"px");var j=E/this.rangeWidth,U=this._absMax*j+this._min,Q=this._useDecimal?U:Pn(U),K=this.value!==Q;K&&(this.value=Q,this.realTimeEvent&&this.fire("change",this._value,!1))}},{key:"_changeSlideFinally",value:function(w){if(w.stopPropagation(),w.target.className==="tui-image-editor-range"){var x=w.offsetX,y=x/this.rangeWidth,E=this._absMax*y+this._min;this.pointer.style.left="".concat(y*this.rangeWidth,"px"),this.subbar.style.right="".concat((1-y)*this.rangeWidth,"px"),this.value=E,this.fire("change",E,!0)}}},{key:"_startChangingSlide",value:function(w){this.firstPosition=w.screenX,this.firstLeft=Pn(this.pointer.style.left)||0,document.addEventListener("mousemove",this.eventHandler.changeSlide),document.addEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_stopChangingSlide",value:function(){this.fire("change",this._value,!0),document.removeEventListener("mousemove",this.eventHandler.changeSlide),document.removeEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_filterForInputText",value:function(w){return w.replace(Nn,"$1$2$3")}}]),G}();Ve().mixin(Ln);var un=Ln,Bi=function(){function G(A,w){var x=w.locale,y=w.name,E=w.makeSvgIcon,j=w.menuBarPosition,U=w.templateHtml,Q=w.usageStatistics;me(this,G),this.subMenuElement=A,this.menuBarPosition=j,this.toggleDirection=j==="top"?"down":"up",this.colorPickerControls=[],this.usageStatistics=Q,this.eventHandler={},this._makeSubMenuElement({locale:x,name:y,makeSvgIcon:E,templateHtml:U})}return Pe(G,[{key:"selector",value:function(w){return this.subMenuElement.querySelector(w)}},{key:"colorPickerChangeShow",value:function(w){var x;Xe()(x=this.colorPickerControls).call(x,function(y){w!==y&&y.hide()})}},{key:"getButtonType",value:function(w,x){return w.className.match(RegExp("(".concat(x.join("|"),")")))[0]}},{key:"changeClass",value:function(w,x,y){w.classList.remove(x),w.classList.add(y)}},{key:"changeStandbyMode",value:function(){}},{key:"changeStartMode",value:function(){}},{key:"_makeSubMenuElement",value:function(w){var x=w.locale,y=w.name,E=w.iconStyle,j=w.makeSvgIcon,U=w.templateHtml,Q=document.createElement("div");Q.className="tui-image-editor-menu-".concat(y),Q.innerHTML=U({locale:x,iconStyle:E,makeSvgIcon:j}),this.subMenuElement.appendChild(Q)}},{key:"_onStartEditingInputBox",value:function(){this.fire(gt.INPUT_BOX_EDITING_STARTED)}},{key:"_onStopEditingInputBox",value:function(){this.fire(gt.INPUT_BOX_EDITING_STOPPED)}}]),G}();Ve().mixin(Bi);var wn=Bi,Ci=function(G){var A,w,x,y,E,j,U,Q,K=G.locale,se=G.makeSvgIcon;return he()(A=he()(w=he()(x=he()(y=he()(E=he()(j=he()(U=he()(Q=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-shape-button">
            <div class="tui-image-editor-button rect">
                <div>
                    `.concat(se(["normal","active"],"shape-rectangle",!0),`
                </div>
                <label> `)).call(Q,K.localize("Rectangle"),` </label>
            </div>
            <div class="tui-image-editor-button circle">
                <div>
                    `)).call(U,se(["normal","active"],"shape-circle",!0),`
                </div>
                <label> `)).call(j,K.localize("Circle"),` </label>
            </div>
            <div class="tui-image-editor-button triangle">
                <div>
                    `)).call(E,se(["normal","active"],"shape-triangle",!0),`
                </div>
                <label> `)).call(y,K.localize("Triangle"),` </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li class="tie-shape-color-button">
            <div class="tie-color-fill" title="`)).call(x,K.localize("Fill"),`"></div>
            <div class="tie-color-stroke" title="`)).call(w,K.localize("Stroke"),`"></div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-newline tui-image-editor-range-wrap">
            <label class="range">`)).call(A,K.localize("Stroke"),`</label>
            <div class="tie-stroke-range"></div>
            <input class="tie-stroke-range-value tui-image-editor-range-value" value="0" />
        </li>
    </ul>
`)};function vs(G){var A=Ws();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function Ws(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var qi={stroke:"#ffbb3b",fill:"",strokeWidth:3},jr=function(G){ne(w,G);var A=vs(w);function w(x,y){var E,j=y.locale,U=y.makeSvgIcon,Q=y.menuBarPosition,K=y.usageStatistics;return me(this,w),E=A.call(this,x,{locale:j,name:"shape",makeSvgIcon:U,menuBarPosition:Q,templateHtml:Ci,usageStatistics:K}),E.type=null,E.options=qi,E._els={shapeSelectButton:E.selector(".tie-shape-button"),shapeColorButton:E.selector(".tie-shape-color-button"),strokeRange:new un({slider:E.selector(".tie-stroke-range"),input:E.selector(".tie-stroke-range-value")},Sa),fillColorpicker:new ri(E.selector(".tie-color-fill"),{defaultColor:"",toggleDirection:E.toggleDirection,usageStatistics:E.usageStatistics}),strokeColorpicker:new ri(E.selector(".tie-color-stroke"),{defaultColor:"#ffbb3b",toggleDirection:E.toggleDirection,usageStatistics:E.usageStatistics})},E.colorPickerControls.push(E._els.fillColorpicker),E.colorPickerControls.push(E._els.strokeColorpicker),E.colorPickerInputBoxes=[],E.colorPickerInputBoxes.push(E._els.fillColorpicker.colorpickerElement.querySelector(Jn.COLOR_PICKER_INPUT_BOX)),E.colorPickerInputBoxes.push(E._els.strokeColorpicker.colorpickerElement.querySelector(Jn.COLOR_PICKER_INPUT_BOX)),E}return Pe(w,[{key:"destroy",value:function(){this._removeEvent(),this._els.strokeRange.destroy(),this._els.fillColorpicker.destroy(),this._els.strokeColorpicker.destroy(),Ti(this)}},{key:"addEvent",value:function(y){var E,j,U,Q,K,se,de=this;this.eventHandler.shapeTypeSelected=Te()(E=this._changeShapeHandler).call(E,this),this.actions=y,this._els.shapeSelectButton.addEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.on("change",Te()(j=this._changeStrokeRangeHandler).call(j,this)),this._els.fillColorpicker.on("change",Te()(U=this._changeFillColorHandler).call(U,this)),this._els.strokeColorpicker.on("change",Te()(Q=this._changeStrokeColorHandler).call(Q,this)),this._els.fillColorpicker.on("changeShow",Te()(K=this.colorPickerChangeShow).call(K,this)),this._els.strokeColorpicker.on("changeShow",Te()(se=this.colorPickerChangeShow).call(se,this)),vt()(this.colorPickerInputBoxes,function(He){var Ue,nt;He.addEventListener(gt.FOCUS,Te()(Ue=de._onStartEditingInputBox).call(Ue,de)),He.addEventListener(gt.BLUR,Te()(nt=de._onStopEditingInputBox).call(nt,de))},this)}},{key:"_removeEvent",value:function(){var y=this;this._els.shapeSelectButton.removeEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.off(),this._els.fillColorpicker.off(),this._els.strokeColorpicker.off(),vt()(this.colorPickerInputBoxes,function(E){var j,U;E.removeEventListener(gt.FOCUS,Te()(j=y._onStartEditingInputBox).call(j,y)),E.removeEventListener(gt.BLUR,Te()(U=y._onStopEditingInputBox).call(U,y))},this)}},{key:"setShapeStatus",value:function(y){var E=y.strokeWidth,j=y.strokeColor,U=y.fillColor;this._els.strokeRange.value=E,this._els.strokeColorpicker.color=j,this._els.fillColorpicker.color=U,this.options.stroke=j,this.options.fill=U,this.options.strokeWidth=E,this.actions.setDrawingShape(this.type,{strokeWidth:E})}},{key:"changeStartMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.changeSelectableAll(!0),this._els.shapeSelectButton.classList.remove("circle"),this._els.shapeSelectButton.classList.remove("triangle"),this._els.shapeSelectButton.classList.remove("rect")}},{key:"setMaxStrokeValue",value:function(y){var E=y;E<=0&&(E=Sa.max),this._els.strokeRange.max=E}},{key:"setStrokeValue",value:function(y){this._els.strokeRange.value=y,this._els.strokeRange.trigger("change")}},{key:"getStrokeValue",value:function(){return this._els.strokeRange.value}},{key:"_changeShapeHandler",value:function(y){var E=y.target.closest(".tui-image-editor-button");if(E){this.actions.stopDrawingMode(),this.actions.discardSelection();var j=this.getButtonType(E,["circle","triangle","rect"]);if(this.type===j){this.changeStandbyMode();return}this.changeStandbyMode(),this.type=j,y.currentTarget.classList.add(j),this.actions.changeSelectableAll(!1),this.actions.modeChange("shape")}}},{key:"_changeStrokeRangeHandler",value:function(y,E){this.options.strokeWidth=Pn(y),this.actions.changeShape({strokeWidth:y},!E),this.actions.setDrawingShape(this.type,this.options)}},{key:"_changeFillColorHandler",value:function(y){y=y||"transparent",this.options.fill=y,this.actions.changeShape({fill:y})}},{key:"_changeStrokeColorHandler",value:function(y){y=y||"transparent",this.options.stroke=y,this.actions.changeShape({stroke:y})}}]),w}(wn),br=jr,er=function(G){var A,w,x,y,E,j,U,Q,K,se,de,He,Ue,nt,Qe,rt,It,cn=G.locale,hn=G.makeSvgIcon;return he()(A=he()(w=he()(x=he()(y=he()(E=he()(j=he()(U=he()(Q=he()(K=he()(se=he()(de=he()(He=he()(Ue=he()(nt=he()(Qe=he()(rt=he()(It=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-crop-preset-button">
            <div class="tui-image-editor-button preset preset-none active">
                <div>
                    `.concat(hn(["normal","active"],"shape-rectangle",!0),`
                </div>
                <label> `)).call(It,cn.localize("Custom"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-square">
                <div>
                    `)).call(rt,hn(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(Qe,cn.localize("Square"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-3-2">
                <div>
                    `)).call(nt,hn(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(Ue,cn.localize("3:2"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-4-3">
                <div>
                    `)).call(He,hn(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(de,cn.localize("4:3"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-5-4">
                <div>
                    `)).call(se,hn(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(K,cn.localize("5:4"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-7-5">
                <div>
                    `)).call(Q,hn(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(U,cn.localize("7:5"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-16-9">
                <div>
                    `)).call(j,hn(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(E,cn.localize("16:9"),` </label>
            </div>
        </li>
        <li class="tui-image-editor-partition tui-image-editor-newline">
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tie-crop-button action">
            <div class="tui-image-editor-button apply">
                `)).call(y,hn(["normal","active"],"apply"),`
                <label>
                    `)).call(x,cn.localize("Apply"),`
                </label>
            </div>
            <div class="tui-image-editor-button cancel">
                `)).call(w,hn(["normal","active"],"cancel"),`
                <label>
                    `)).call(A,cn.localize("Cancel"),`
                </label>
            </div>
        </li>
    </ul>
`)};function Gr(G){var A=ur();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function ur(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var wr=function(G){ne(w,G);var A=Gr(w);function w(x,y){var E,j=y.locale,U=y.makeSvgIcon,Q=y.menuBarPosition,K=y.usageStatistics;return me(this,w),E=A.call(this,x,{locale:j,name:"crop",makeSvgIcon:U,menuBarPosition:Q,templateHtml:er,usageStatistics:K}),E.status="active",E._els={apply:E.selector(".tie-crop-button .apply"),cancel:E.selector(".tie-crop-button .cancel"),preset:E.selector(".tie-crop-preset-button")},E.defaultPresetButton=E._els.preset.querySelector(".preset-none"),E}return Pe(w,[{key:"destroy",value:function(){this._removeEvent(),Ti(this)}},{key:"addEvent",value:function(y){var E,j,U,Q=Te()(E=this._applyEventHandler).call(E,this),K=Te()(j=this._cancelEventHandler).call(j,this),se=Te()(U=this._cropzonePresetEventHandler).call(U,this);this.eventHandler={apply:Q,cancel:K,cropzonePreset:se},this.actions=y,this._els.apply.addEventListener("click",Q),this._els.cancel.addEventListener("click",K),this._els.preset.addEventListener("click",se)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel),this._els.preset.removeEventListener("click",this.eventHandler.cropzonePreset)}},{key:"_applyEventHandler",value:function(){this.actions.crop(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.cancel(),this._els.apply.classList.remove("active")}},{key:"_cropzonePresetEventHandler",value:function(y){var E=y.target.closest(".tui-image-editor-button.preset");if(E){var j=E.className.match(/preset-[^\s]+/),U=ie(j,1),Q=U[0];this._setPresetButtonActive(E),this.actions.preset(Q)}}},{key:"changeStartMode",value:function(){this.actions.modeChange("crop")}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this._setPresetButtonActive()}},{key:"changeApplyButtonStatus",value:function(y){y?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}},{key:"_setPresetButtonActive",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.defaultPresetButton;_e()(this._els.preset.querySelectorAll(".preset"),function(E){E.classList.remove("active")}),y&&y.classList.add("active")}}]),w}(wn),ms=wr,aa=function(G){var A,w,x,y,E,j,U=G.locale,Q=G.makeSvgIcon;return he()(A=he()(w=he()(x=he()(y=he()(E=he()(j=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tui-image-editor-submenu-align">
            <div class="tui-image-editor-range-wrap tui-image-editor-newline">
                <label class="range">`.concat(U.localize("Width"),`&nbsp;</label>
                <div class="tie-width-range"></div>
                <input class="tie-width-range-value tui-image-editor-range-value" value="0" /> <label>px</label>
                <div class="tui-image-editor-partition tui-image-editor-newline"></div>
                <label class="range">`)).call(j,U.localize("Height"),`</label>
                <div class="tie-height-range"></div>
                <input class="tie-height-range-value tui-image-editor-range-value" value="0" /> <label>px</label>
            </div>
        </li>
        <li class="tui-image-editor-partition tui-image-editor-newline"></li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-submenu-align">
            <div class="tui-image-editor-checkbox-wrap">
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-lock-aspect-ratio">
                        <span>`)).call(E,U.localize("Lock Aspect Ratio"),`</span>
                    </label>
                </div>
            </div>
        </li>
        <li class="tui-image-editor-partition tui-image-editor-newline"></li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-partition tui-image-editor-newline"></li>
        <li class="tie-resize-button action">
            <div class="tui-image-editor-button apply">
                `)).call(y,Q(["normal","active"],"apply"),`
                <label>
                    `)).call(x,U.localize("Apply"),`
                </label>
            </div>
            <div class="tui-image-editor-button cancel">
                `)).call(w,Q(["normal","active"],"cancel"),`
                <label>
                    `)).call(A,U.localize("Cancel"),`
                </label>
            </div>
        </li>
    </ul>
`)};function go(G){var A=Vn();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function Vn(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var Br=function(G){ne(w,G);var A=go(w);function w(x,y){var E,j=y.locale,U=y.makeSvgIcon,Q=y.menuBarPosition,K=y.usageStatistics;return me(this,w),E=A.call(this,x,{locale:j,name:"resize",makeSvgIcon:U,menuBarPosition:Q,templateHtml:aa,usageStatistics:K}),E.status="active",E._lockState=!1,E._originalDimensions=null,E._els={widthRange:new un({slider:E.selector(".tie-width-range"),input:E.selector(".tie-width-range-value")},yi),heightRange:new un({slider:E.selector(".tie-height-range"),input:E.selector(".tie-height-range-value")},yi),lockAspectRatio:E.selector(".tie-lock-aspect-ratio"),apply:E.selector(".tie-resize-button .apply"),cancel:E.selector(".tie-resize-button .cancel")},E}return Pe(w,[{key:"changeStartMode",value:function(){this.actions.modeChange("resize");var y=this.actions.getCurrentDimensions();this._originalDimensions=y,this.setWidthValue(y.width),this.setHeightValue(y.height)}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this.actions.reset(!0)}},{key:"setLimit",value:function(y){this._els.widthRange.min=this.calcMinValue(y.minWidth),this._els.heightRange.min=this.calcMinValue(y.minHeight),this._els.widthRange.max=this.calcMaxValue(y.maxWidth),this._els.heightRange.max=this.calcMaxValue(y.maxHeight)}},{key:"calcMaxValue",value:function(y){return y<=0&&(y=yi.max),y}},{key:"calcMinValue",value:function(y){return y<=0&&(y=yi.min),y}},{key:"setWidthValue",value:function(y){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._els.widthRange.value=y,E&&this._els.widthRange.trigger("change")}},{key:"setHeightValue",value:function(y){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._els.heightRange.value=y,E&&this._els.heightRange.trigger("change")}},{key:"destroy",value:function(){this._removeEvent(),Ti(this)}},{key:"addEvent",value:function(y){var E,j,U,Q,K;this._els.widthRange.on("change",Te()(E=this._changeWidthRangeHandler).call(E,this)),this._els.heightRange.on("change",Te()(j=this._changeHeightRangeHandler).call(j,this)),this._els.lockAspectRatio.addEventListener("change",Te()(U=this._changeLockAspectRatio).call(U,this));var se=Te()(Q=this._applyEventHandler).call(Q,this),de=Te()(K=this._cancelEventHandler).call(K,this);this.eventHandler={apply:se,cancel:de},this.actions=y,this._els.apply.addEventListener("click",se),this._els.cancel.addEventListener("click",de)}},{key:"_changeWidthRangeHandler",value:function(y){this.actions.preview("width",Pn(y),this._lockState)}},{key:"_changeHeightRangeHandler",value:function(y){this.actions.preview("height",Pn(y),this._lockState)}},{key:"_changeLockAspectRatio",value:function(y){this._lockState=y.target.checked,this.actions.lockAspectRatio(this._lockState,yi.min,yi.max)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel)}},{key:"_applyEventHandler",value:function(){this.actions.resize(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.reset(),this._els.cancel.classList.remove("active")}},{key:"changeApplyButtonStatus",value:function(y){y?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}}]),w}(wn),el=Br,Ja=function(G){var A,w,x,y,E,j=G.locale,U=G.makeSvgIcon;return he()(A=he()(w=he()(x=he()(y=he()(E=`
    <ul class="tie-flip-button tui-image-editor-submenu-item">
        <li>
            <div class="tui-image-editor-button flipX">
                <div>
                    `.concat(U(["normal","active"],"flip-x",!0),`
                </div>
                <label>
                    `)).call(E,j.localize("Flip X"),`
                </label>
            </div>
            <div class="tui-image-editor-button flipY">
                <div>
                    `)).call(y,U(["normal","active"],"flip-y",!0),`
                </div>
                <label>
                    `)).call(x,j.localize("Flip Y"),`
                </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li>
            <div class="tui-image-editor-button resetFlip">
                <div>
                    `)).call(w,U(["normal","active"],"flip-reset",!0),`
                </div>
                <label>
                    `)).call(A,j.localize("Reset"),`
                </label>
            </div>
        </li>
    </ul>
`)};function tr(G){var A=xa();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function xa(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var Ea=function(G){ne(w,G);var A=tr(w);function w(x,y){var E,j=y.locale,U=y.makeSvgIcon,Q=y.menuBarPosition,K=y.usageStatistics;return me(this,w),E=A.call(this,x,{locale:j,name:"flip",makeSvgIcon:U,menuBarPosition:Q,templateHtml:Ja,usageStatistics:K}),E.flipStatus=!1,E._els={flipButton:E.selector(".tie-flip-button")},E}return Pe(w,[{key:"destroy",value:function(){this._removeEvent(),Ti(this)}},{key:"addEvent",value:function(y){var E;this.eventHandler.changeFlip=Te()(E=this._changeFlip).call(E,this),this._actions=y,this._els.flipButton.addEventListener("click",this.eventHandler.changeFlip)}},{key:"_removeEvent",value:function(){this._els.flipButton.removeEventListener("click",this.eventHandler.changeFlip)}},{key:"_changeFlip",value:function(y){var E=this,j=y.target.closest(".tui-image-editor-button");if(j){var U=this.getButtonType(j,["flipX","flipY","resetFlip"]);if(!this.flipStatus&&U==="resetFlip")return;this._actions.flip(U).then(function(Q){var K=E._els.flipButton.classList;E.flipStatus=!1,K.remove("resetFlip"),_e()(["flipX","flipY"],function(se){K.remove(se),Q[se]&&(K.add(se),K.add("resetFlip"),E.flipStatus=!0)})})}}}]),w}(wn),vo=Ea,tl=function(G){var A,w,x=G.locale,y=G.makeSvgIcon;return he()(A=he()(w=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-rotate-button">
            <div class="tui-image-editor-button clockwise">
                <div>
                    `.concat(y(["normal","active"],"rotate-clockwise",!0),`
                </div>
                <label> 30 </label>
            </div>
            <div class="tui-image-editor-button counterclockwise">
                <div>
                    `)).call(w,y(["normal","active"],"rotate-counterclockwise",!0),`
                </div>
                <label> -30 </label>
            </div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-newline tui-image-editor-range-wrap">
            <label class="range">`)).call(A,x.localize("Range"),`</label>
            <div class="tie-rotate-range"></div>
            <input class="tie-rotate-range-value tui-image-editor-range-value" value="0" />
        </li>
    </ul>
`)};function Jl(G){var A=Us();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function Us(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var Ys=30,Kl=-30,Ql=function(G){ne(w,G);var A=Jl(w);function w(x,y){var E,j=y.locale,U=y.makeSvgIcon,Q=y.menuBarPosition,K=y.usageStatistics;return me(this,w),E=A.call(this,x,{locale:j,name:"rotate",makeSvgIcon:U,menuBarPosition:Q,templateHtml:tl,usageStatistics:K}),E._value=0,E._els={rotateButton:E.selector(".tie-rotate-button"),rotateRange:new un({slider:E.selector(".tie-rotate-range"),input:E.selector(".tie-rotate-range-value")},Ca)},E}return Pe(w,[{key:"destroy",value:function(){this._removeEvent(),this._els.rotateRange.destroy(),Ti(this)}},{key:"setRangeBarAngle",value:function(y,E){var j=E;y==="rotate"&&(j=be()(this._els.rotateRange.value,10)+E),this._setRangeBarRatio(j)}},{key:"_setRangeBarRatio",value:function(y){this._els.rotateRange.value=y}},{key:"addEvent",value:function(y){var E,j;this.eventHandler.rotationAngleChanged=Te()(E=this._changeRotateForButton).call(E,this),this.actions=y,this._els.rotateButton.addEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.on("change",Te()(j=this._changeRotateForRange).call(j,this))}},{key:"_removeEvent",value:function(){this._els.rotateButton.removeEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.off()}},{key:"_changeRotateForRange",value:function(y,E){var j=Pn(y);this.actions.setAngle(j,!E),this._value=j}},{key:"_changeRotateForButton",value:function(y){var E=y.target.closest(".tui-image-editor-button"),j=this._els.rotateRange.value;if(E){var U=this.getButtonType(E,["counterclockwise","clockwise"]),Q={clockwise:Ys,counterclockwise:Kl}[U],K=be()(j,10)+Q,se=K>=-360&&K<=360;se&&this.actions.rotate(Q)}}}]),w}(wn),Ka=Ql,Qa=function(G){var A,w,x,y,E,j,U,Q,K,se,de,He,Ue,nt=G.locale,Qe=G.makeSvgIcon;return he()(A=he()(w=he()(x=he()(y=he()(E=he()(j=he()(U=he()(Q=he()(K=he()(se=he()(de=he()(He=he()(Ue=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-text-effect-button">
            <div class="tui-image-editor-button bold">
                <div>
                    `.concat(Qe(["normal","active"],"text-bold",!0),`
                </div>
                <label> `)).call(Ue,nt.localize("Bold"),` </label>
            </div>
            <div class="tui-image-editor-button italic">
                <div>
                    `)).call(He,Qe(["normal","active"],"text-italic",!0),`
                </div>
                <label> `)).call(de,nt.localize("Italic"),` </label>
            </div>
            <div class="tui-image-editor-button underline">
                <div>
                    `)).call(se,Qe(["normal","active"],"text-underline",!0),`
                </div>
                <label> `)).call(K,nt.localize("Underline"),` </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li class="tie-text-align-button">
            <div class="tui-image-editor-button left">
                <div>
                    `)).call(Q,Qe(["normal","active"],"text-align-left",!0),`
                </div>
                <label> `)).call(U,nt.localize("Left"),` </label>
            </div>
            <div class="tui-image-editor-button center">
                <div>
                    `)).call(j,Qe(["normal","active"],"text-align-center",!0),`
                </div>
                <label> `)).call(E,nt.localize("Center"),` </label>
            </div>
            <div class="tui-image-editor-button right">
                <div>
                    `)).call(y,Qe(["normal","active"],"text-align-right",!0),`
                </div>
                <label> `)).call(x,nt.localize("Right"),` </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li>
            <div class="tie-text-color" title="`)).call(w,nt.localize("Color"),`"></div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-newline tui-image-editor-range-wrap">
            <label class="range">`)).call(A,nt.localize("Text size"),`</label>
            <div class="tie-text-range"></div>
            <input class="tie-text-range-value tui-image-editor-range-value" value="0" />
        </li>
    </ul>
`)};function ql(G){var A=ys();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function ys(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var Hr=function(G){ne(w,G);var A=ql(w);function w(x,y){var E,j=y.locale,U=y.makeSvgIcon,Q=y.menuBarPosition,K=y.usageStatistics;return me(this,w),E=A.call(this,x,{locale:j,name:"text",makeSvgIcon:U,menuBarPosition:Q,templateHtml:Qa,usageStatistics:K}),E.effect={bold:!1,italic:!1,underline:!1},E.align="tie-text-align-left",E._els={textEffectButton:E.selector(".tie-text-effect-button"),textAlignButton:E.selector(".tie-text-align-button"),textColorpicker:new ri(E.selector(".tie-text-color"),{defaultColor:"#ffbb3b",toggleDirection:E.toggleDirection,usageStatistics:E.usageStatistics}),textRange:new un({slider:E.selector(".tie-text-range"),input:E.selector(".tie-text-range-value")},vr)},E.colorPickerInputBox=E._els.textColorpicker.colorpickerElement.querySelector(Jn.COLOR_PICKER_INPUT_BOX),E}return Pe(w,[{key:"destroy",value:function(){this._removeEvent(),this._els.textColorpicker.destroy(),this._els.textRange.destroy(),Ti(this)}},{key:"addEvent",value:function(y){var E,j,U,Q,K,se,de=Te()(E=this._setTextEffectHandler).call(E,this),He=Te()(j=this._setTextAlignHandler).call(j,this);this.eventHandler={setTextEffect:de,setTextAlign:He},this.actions=y,this._els.textEffectButton.addEventListener("click",de),this._els.textAlignButton.addEventListener("click",He),this._els.textRange.on("change",Te()(U=this._changeTextRnageHandler).call(U,this)),this._els.textColorpicker.on("change",Te()(Q=this._changeColorHandler).call(Q,this)),this.colorPickerInputBox.addEventListener(gt.FOCUS,Te()(K=this._onStartEditingInputBox).call(K,this)),this.colorPickerInputBox.addEventListener(gt.BLUR,Te()(se=this._onStopEditingInputBox).call(se,this))}},{key:"_removeEvent",value:function(){var y,E,j=this.eventHandler,U=j.setTextEffect,Q=j.setTextAlign;this._els.textEffectButton.removeEventListener("click",U),this._els.textAlignButton.removeEventListener("click",Q),this._els.textRange.off(),this._els.textColorpicker.off(),this.colorPickerInputBox.removeEventListener(gt.FOCUS,Te()(y=this._onStartEditingInputBox).call(y,this)),this.colorPickerInputBox.removeEventListener(gt.BLUR,Te()(E=this._onStopEditingInputBox).call(E,this))}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStartMode",value:function(){this.actions.modeChange("text")}},{key:"textColor",get:function(){return this._els.textColorpicker.color},set:function(y){this._els.textColorpicker.color=y}},{key:"fontSize",get:function(){return this._els.textRange.value},set:function(y){this._els.textRange.value=y}},{key:"fontStyle",get:function(){return this.effect.italic?"italic":"normal"}},{key:"fontWeight",get:function(){return this.effect.bold?"bold":"normal"}},{key:"underline",get:function(){return this.effect.underline}},{key:"setTextStyleStateOnAction",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=Le()(y),j=y.fontSize,U=y.fontStyle,Q=y.fontWeight,K=y.textDecoration,se=y.textAlign;this.textColor=E,this.fontSize=j,this.setEffectState("italic",U),this.setEffectState("bold",Q),this.setEffectState("underline",K),this.setAlignState("tie-text-align-".concat(se))}},{key:"setEffectState",value:function(y,E){var j=E==="italic"||E==="bold"||E==="underline",U=this._els.textEffectButton.querySelector(".tui-image-editor-button.".concat(y));this.effect[y]=j,U.classList[j?"add":"remove"]("active")}},{key:"setAlignState",value:function(y){var E=this._els.textAlignButton;E.classList.remove(this.align),E.classList.add(y),this.align=y}},{key:"_setTextEffectHandler",value:function(y){var E=y.target.closest(".tui-image-editor-button");if(E){var j=E.className.match(/(bold|italic|underline)/),U=ie(j,1),Q=U[0],K={bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},underline:{textDecoration:"underline"}}[Q];this.effect[Q]=!this.effect[Q],E.classList.toggle("active"),this.actions.changeTextStyle(K)}}},{key:"_setTextAlignHandler",value:function(y){var E=y.target.closest(".tui-image-editor-button");if(E){var j=this.getButtonType(E,["left","center","right"]),U="tie-text-align-".concat(j);y.currentTarget.classList.remove(this.align),this.align!==U&&y.currentTarget.classList.add(U),this.actions.changeTextStyle({textAlign:j}),this.align=U}}},{key:"_changeTextRnageHandler",value:function(y,E){this.actions.changeTextStyle({fontSize:y},!E)}},{key:"_changeColorHandler",value:function(y){y=y||"transparent",this.actions.changeTextStyle({fill:y})}}]),w}(wn),Hi=Hr,qa=function(G){var A,w,x,y=G.locale,E=G.makeSvgIcon;return he()(A=he()(w=he()(x=`
    <ul class="tui-image-editor-submenu-item">
        <li>
            <div class="tui-image-editor-button">
                <div>
                    <input type="file" accept="image/*" class="tie-mask-image-file">
                    `.concat(E(["normal","active"],"mask-load",!0),`
                </div>
                <label> `)).call(x,y.localize("Load Mask Image"),` </label>
            </div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tie-mask-apply tui-image-editor-newline apply" style="margin-top: 22px;margin-bottom: 5px">
            <div class="tui-image-editor-button apply">
                `)).call(w,E(["normal","active"],"apply"),`
                <label>
                    `)).call(A,y.localize("Apply"),`
                </label>
            </div>
        </li>
    </ul>
`)};function mo(G){var A=nl();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function nl(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var ec=function(G){ne(w,G);var A=mo(w);function w(x,y){var E,j=y.locale,U=y.makeSvgIcon,Q=y.menuBarPosition,K=y.usageStatistics;return me(this,w),E=A.call(this,x,{locale:j,name:"mask",makeSvgIcon:U,menuBarPosition:Q,templateHtml:qa,usageStatistics:K}),E._els={applyButton:E.selector(".tie-mask-apply"),maskImageButton:E.selector(".tie-mask-image-file")},E}return Pe(w,[{key:"destroy",value:function(){this._removeEvent(),Ti(this)}},{key:"addEvent",value:function(y){var E,j,U=Te()(E=this._loadMaskFile).call(E,this),Q=Te()(j=this._applyMask).call(j,this);this.eventHandler={loadMaskFile:U,applyMask:Q},this.actions=y,this._els.maskImageButton.addEventListener("change",U),this._els.applyButton.addEventListener("click",Q)}},{key:"_removeEvent",value:function(){this._els.maskImageButton.removeEventListener("change",this.eventHandler.loadMaskFile),this._els.applyButton.removeEventListener("click",this.eventHandler.applyMask)}},{key:"_applyMask",value:function(){this.actions.applyFilter(),this._els.applyButton.classList.remove("active")}},{key:"_loadMaskFile",value:function(y){var E;Li()||alert("This browser does not support file-api");var j=ie(y.target.files,1),U=j[0];U&&(E=Me().createObjectURL(U),this.actions.loadImageFromURL(E,U),this._els.applyButton.classList.add("active"))}}]),w}(wn),Xn=ec,Xi=function(G){var A,w,x,y,E,j,U,Q,K,se,de,He,Ue,nt,Qe,rt,It,cn,hn,yn,Gt=G.locale,ai=G.makeSvgIcon;return he()(A=he()(w=he()(x=he()(y=he()(E=he()(j=he()(U=he()(Q=he()(K=he()(se=he()(de=he()(He=he()(Ue=he()(nt=he()(Qe=he()(rt=he()(It=he()(cn=he()(hn=he()(yn=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-icon-add-button">
            <div class="tui-image-editor-button" data-icontype="icon-arrow">
                <div>
                    `.concat(ai(["normal","active"],"icon-arrow",!0),`
                </div>
                <label>
                    `)).call(yn,Gt.localize("Arrow"),`
                </label>
            </div>
            <div class="tui-image-editor-button" data-icontype="icon-arrow-2">
                <div>
                    `)).call(hn,ai(["normal","active"],"icon-arrow-2",!0),`
                </div>
                <label>
                    `)).call(cn,Gt.localize("Arrow-2"),`
                </label>
            </div>
            <div class="tui-image-editor-button" data-icontype="icon-arrow-3">
                <div>
                    `)).call(It,ai(["normal","active"],"icon-arrow-3",!0),`
                </div>
                <label>
                    `)).call(rt,Gt.localize("Arrow-3"),`
                </label>
            </div>
            <div class="tui-image-editor-button" data-icontype="icon-star">
                <div>
                    `)).call(Qe,ai(["normal","active"],"icon-star",!0),`
                </div>
                <label>
                    `)).call(nt,Gt.localize("Star-1"),`
                </label>
            </div>
            <div class="tui-image-editor-button" data-icontype="icon-star-2">
                <div>
                    `)).call(Ue,ai(["normal","active"],"icon-star-2",!0),`
                </div>
                <label>
                    `)).call(He,Gt.localize("Star-2"),`
                </label>
            </div>

            <div class="tui-image-editor-button" data-icontype="icon-polygon">
                <div>
                    `)).call(de,ai(["normal","active"],"icon-polygon",!0),`
                </div>
                <label>
                    `)).call(se,Gt.localize("Polygon"),`
                </label>
            </div>

            <div class="tui-image-editor-button" data-icontype="icon-location">
                <div>
                    `)).call(K,ai(["normal","active"],"icon-location",!0),`
                </div>
                <label>
                    `)).call(Q,Gt.localize("Location"),`
                </label>
            </div>

            <div class="tui-image-editor-button" data-icontype="icon-heart">
                <div>
                    `)).call(U,ai(["normal","active"],"icon-heart",!0),`
                </div>
                <label>
                    `)).call(j,Gt.localize("Heart"),`
                </label>
            </div>

            <div class="tui-image-editor-button" data-icontype="icon-bubble">
                <div>
                    `)).call(E,ai(["normal","active"],"icon-bubble",!0),`
                </div>
                <label>
                    `)).call(y,Gt.localize("Bubble"),`
                </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li class="tie-icon-add-button">
            <div class="tui-image-editor-button" style="margin:0">
                <div>
                    <input type="file" accept="image/*" class="tie-icon-image-file">
                    `)).call(x,ai(["normal","active"],"icon-load",!0),`
                </div>
                <label>
                    `)).call(w,Gt.localize("Custom icon"),`
                </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li>
            <div class="tie-icon-color" title="`)).call(A,Gt.localize("Color"),`"></div>
        </li>
    </ul>
`)};function nr(G){var A=Mr();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function Mr(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var yo=function(G){ne(w,G);var A=nr(w);function w(x,y){var E,j=y.locale,U=y.makeSvgIcon,Q=y.menuBarPosition,K=y.usageStatistics;return me(this,w),E=A.call(this,x,{locale:j,name:"icon",makeSvgIcon:U,menuBarPosition:Q,templateHtml:Xi,usageStatistics:K}),E.iconType=null,E._iconMap={},E._els={registerIconButton:E.selector(".tie-icon-image-file"),addIconButton:E.selector(".tie-icon-add-button"),iconColorpicker:new ri(E.selector(".tie-icon-color"),{defaultColor:"#ffbb3b",toggleDirection:E.toggleDirection,usageStatistics:E.usageStatistics})},E.colorPickerInputBox=E._els.iconColorpicker.colorpickerElement.querySelector(Jn.COLOR_PICKER_INPUT_BOX),E}return Pe(w,[{key:"destroy",value:function(){this._removeEvent(),this._els.iconColorpicker.destroy(),Ti(this)}},{key:"addEvent",value:function(y){var E,j,U,Q,K,se=Te()(E=this._registerIconHandler).call(E,this),de=Te()(j=this._addIconHandler).call(j,this);this.eventHandler={registerIcon:se,addIcon:de},this.actions=y,this._els.iconColorpicker.on("change",Te()(U=this._changeColorHandler).call(U,this)),this._els.registerIconButton.addEventListener("change",se),this._els.addIconButton.addEventListener("click",de),this.colorPickerInputBox.addEventListener(gt.FOCUS,Te()(Q=this._onStartEditingInputBox).call(Q,this)),this.colorPickerInputBox.addEventListener(gt.BLUR,Te()(K=this._onStopEditingInputBox).call(K,this))}},{key:"_removeEvent",value:function(){var y,E;this._els.iconColorpicker.off(),this._els.registerIconButton.removeEventListener("change",this.eventHandler.registerIcon),this._els.addIconButton.removeEventListener("click",this.eventHandler.addIcon),this.colorPickerInputBox.removeEventListener(gt.FOCUS,Te()(y=this._onStartEditingInputBox).call(y,this)),this.colorPickerInputBox.removeEventListener(gt.BLUR,Te()(E=this._onStopEditingInputBox).call(E,this))}},{key:"clearIconType",value:function(){this._els.addIconButton.classList.remove(this.iconType),this.iconType=null}},{key:"registerDefaultIcon",value:function(){var y=this;_e()(Ua,function(E,j){y.actions.registerDefaultIcons(j,E)})}},{key:"setIconPickerColor",value:function(y){this._els.iconColorpicker.color=y}},{key:"changeStandbyMode",value:function(){this.clearIconType(),this.actions.cancelAddIcon()}},{key:"_changeColorHandler",value:function(y){y=y||"transparent",this.actions.changeColor(y)}},{key:"_addIconHandler",value:function(y){var E=y.target.closest(".tui-image-editor-button");if(E){var j=E.getAttribute("data-icontype"),U=this._els.iconColorpicker.color;this.actions.discardSelection(),this.actions.changeSelectableAll(!1),this._els.addIconButton.classList.remove(this.iconType),this._els.addIconButton.classList.add(j),this.iconType===j?this.changeStandbyMode():(this.actions.addIcon(j,U),this.iconType=j)}}},{key:"_registerIconHandler",value:function(y){var E;Li||alert("This browser does not support file-api");var j=ie(y.target.files,1),U=j[0];U&&(E=Me().createObjectURL(U),this.actions.registerCustomIcon(E,U))}}]),w}(wn),il=yo,tc=function(G){var A,w,x,y,E,j=G.locale,U=G.makeSvgIcon;return he()(A=he()(w=he()(x=he()(y=he()(E=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-draw-line-select-button">
            <div class="tui-image-editor-button free">
                <div>
                    `.concat(U(["normal","active"],"draw-free",!0),`
                </div>
                <label>
                    `)).call(E,j.localize("Free"),`
                </label>
            </div>
            <div class="tui-image-editor-button line">
                <div>
                    `)).call(y,U(["normal","active"],"draw-line",!0),`
                </div>
                <label>
                    `)).call(x,j.localize("Straight"),`
                </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li>
            <div class="tie-draw-color" title="`)).call(w,j.localize("Color"),`"></div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-newline tui-image-editor-range-wrap">
            <label class="range">`)).call(A,j.localize("Range"),`</label>
            <div class="tie-draw-range"></div>
            <input class="tie-draw-range-value tui-image-editor-range-value" value="0" />
        </li>
    </ul>
`)};function rl(G){var A=Ta();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function Ta(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var Je=.7,_t=function(G){ne(w,G);var A=rl(w);function w(x,y){var E,j=y.locale,U=y.makeSvgIcon,Q=y.menuBarPosition,K=y.usageStatistics;return me(this,w),E=A.call(this,x,{locale:j,name:"draw",makeSvgIcon:U,menuBarPosition:Q,templateHtml:tc,usageStatistics:K}),E._els={lineSelectButton:E.selector(".tie-draw-line-select-button"),drawColorPicker:new ri(E.selector(".tie-draw-color"),{defaultColor:"#00a9ff",toggleDirection:E.toggleDirection,usageStatistics:E.usageStatistics}),drawRange:new un({slider:E.selector(".tie-draw-range"),input:E.selector(".tie-draw-range-value")},Ya)},E.type=null,E.color=E._els.drawColorPicker.color,E.width=E._els.drawRange.value,E.colorPickerInputBox=E._els.drawColorPicker.colorpickerElement.querySelector(Jn.COLOR_PICKER_INPUT_BOX),E}return Pe(w,[{key:"destroy",value:function(){this._removeEvent(),this._els.drawColorPicker.destroy(),this._els.drawRange.destroy(),Ti(this)}},{key:"addEvent",value:function(y){var E,j,U,Q,K;this.eventHandler.changeDrawType=Te()(E=this._changeDrawType).call(E,this),this.actions=y,this._els.lineSelectButton.addEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.on("change",Te()(j=this._changeDrawColor).call(j,this)),this._els.drawRange.on("change",Te()(U=this._changeDrawRange).call(U,this)),this.colorPickerInputBox.addEventListener(gt.FOCUS,Te()(Q=this._onStartEditingInputBox).call(Q,this)),this.colorPickerInputBox.addEventListener(gt.BLUR,Te()(K=this._onStopEditingInputBox).call(K,this))}},{key:"_removeEvent",value:function(){var y,E;this._els.lineSelectButton.removeEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.off(),this._els.drawRange.off(),this.colorPickerInputBox.removeEventListener(gt.FOCUS,Te()(y=this._onStartEditingInputBox).call(y,this)),this.colorPickerInputBox.removeEventListener(gt.BLUR,Te()(E=this._onStopEditingInputBox).call(E,this))}},{key:"setDrawMode",value:function(){this.actions.setDrawMode(this.type,{width:this.width,color:Ft(this.color,Je)})}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.stopDrawingMode(),this.actions.changeSelectableAll(!0),this._els.lineSelectButton.classList.remove("free"),this._els.lineSelectButton.classList.remove("line")}},{key:"changeStartMode",value:function(){this.type="free",this._els.lineSelectButton.classList.add("free"),this.setDrawMode()}},{key:"_changeDrawType",value:function(y){var E=y.target.closest(".tui-image-editor-button");if(E){var j=this.getButtonType(E,["free","line"]);if(this.actions.discardSelection(),this.type===j){this.changeStandbyMode();return}this.changeStandbyMode(),this.type=j,this._els.lineSelectButton.classList.add(j),this.setDrawMode()}}},{key:"_changeDrawColor",value:function(y){this.color=y||"transparent",this.type?this.setDrawMode():this.changeStartMode()}},{key:"_changeDrawRange",value:function(y){this.width=y,this.type?this.setDrawMode():this.changeStartMode()}}]),w}(wn),pt=_t,en=a(9886),Cn=a.n(en),$n=function(G){var A,w,x,y,E,j,U,Q,K,se,de,He,Ue,nt,Qe,rt,It=G.locale;return he()(A=he()(w=he()(x=he()(y=he()(E=he()(j=he()(U=he()(Q=he()(K=he()(se=he()(de=he()(He=he()(Ue=he()(nt=he()(Qe=he()(rt=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tui-image-editor-submenu-align">
            <div class="tui-image-editor-checkbox-wrap fixed-width">
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-grayscale">
                        <span>`.concat(It.localize("Grayscale"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-invert">
                        <span>`)).call(rt,It.localize("Invert"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-sepia">
                        <span>`)).call(Qe,It.localize("Sepia"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-vintage">
                        <span>`)).call(nt,It.localize("Sepia2"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-blur">
                        <span>`)).call(Ue,It.localize("Blur"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-sharpen">
                        <span>`)).call(He,It.localize("Sharpen"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-emboss">
                        <span>`)).call(de,It.localize("Emboss"),`</span>
                    </label>
                </div>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li class="tui-image-editor-submenu-align">
            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled" style="margin-bottom: 7px;">
                <div class="tui-image-editor-checkbox-wrap">
                    <div class="tui-image-editor-checkbox">
                        <label>
                            <input type="checkbox" class="tie-remove-white">
                            <span>`)).call(se,It.localize("Remove White"),`</span>
                        </label>
                    </div>
                </div>
                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">
                    <label>`)).call(K,It.localize("Distance"),`</label>
                    <div class="tie-removewhite-distance-range"></div>
                </div>
            </div>
            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-brightness">
                        <span>`)).call(Q,It.localize("Brightness"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-range-wrap short">
                    <div class="tie-brightness-range"></div>
                </div>
            </div>
            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-noise">
                        <span>`)).call(U,It.localize("Noise"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-range-wrap short">
                    <div class="tie-noise-range"></div>
                </div>
            </div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-submenu-align">
            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-pixelate">
                        <span>`)).call(j,It.localize("Pixelate"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-range-wrap short">
                    <div class="tie-pixelate-range"></div>
                </div>
            </div>
            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">
                <div class="tui-image-editor-newline tui-image-editor-checkbox-wrap">
                    <div class="tui-image-editor-checkbox">
                        <label>
                            <input type="checkbox" class="tie-color-filter">
                            <span>`)).call(E,It.localize("Color Filter"),`</span>
                        </label>
                    </div>
                </div>
                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">
                    <label>`)).call(y,It.localize("Threshold"),`</label>
                    <div class="tie-colorfilter-threshold-range"></div>
                </div>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li>
            <div class="filter-color-item">
                <div class="tie-filter-tint-color" title="`)).call(x,It.localize("Tint"),`"></div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-tint">
                        <span></span>
                    </label>
                </div>
            </div>
            <div class="filter-color-item">
                <div class="tie-filter-multiply-color" title="`)).call(w,It.localize("Multiply"),`"></div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-multiply">
                        <span></span>
                    </label>
                </div>
            </div>
            <div class="filter-color-item">
                <div class="tie-filter-blend-color" title="`)).call(A,It.localize("Blend"),`"></div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-blend">
                        <span></span>
                    </label>
                </div>
            </div>
        </li>
    </ul>
`)};function Ii(G){var A=ei();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function ei(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var Cr="130px",Gs=["add","diff","subtract","multiply","screen","lighten","darken"],hr=["grayscale","invert","sepia","vintage","blur","sharpen","emboss","remove-white","brightness","noise","pixelate","color-filter","tint","multiply","blend"],ye={grayscale:"grayscale",invert:"invert",sepia:"sepia",blur:"blur",sharpen:"sharpen",emboss:"emboss",removeWhite:"removeColor",brightness:"brightness",contrast:"contrast",saturation:"saturation",vintage:"vintage",polaroid:"polaroid",noise:"noise",pixelate:"pixelate",colorFilter:"removeColor",tint:"blendColor",multiply:"blendColor",blend:"blendColor",hue:"hue",gamma:"gamma"},Ne=["removewhiteDistanceRange","colorfilterThresholdRange","pixelateRange","noiseRange","brightnessRange","tintOpacity"],$e=["filterBlendColor","filterMultiplyColor","filterTintColor"],xt=function(G){ne(w,G);var A=Ii(w);function w(x,y){var E,j=y.locale,U=y.menuBarPosition,Q=y.usageStatistics;return me(this,w),E=A.call(this,x,{locale:j,name:"filter",menuBarPosition:U,templateHtml:$n,usageStatistics:Q}),E.selectBoxShow=!1,E.checkedMap={},E._makeControlElement(),E}return Pe(w,[{key:"destroy",value:function(){this._removeEvent(),this._destroyToolInstance(),Ti(this)}},{key:"_removeEvent",value:function(){var y=this,E;_e()(hr,function(j){var U=y.selector(".tie-".concat(j)),Q=hi(j);U.removeEventListener("change",y.eventHandler[Q])}),_e()(he()(E=[]).call(E,Ne,$e),function(j){y._els[j].off()}),this._els.blendType.removeEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.removeEventListener("click",this.eventHandler.changeBlendFilter),vt()(this.colorPickerInputBoxes,function(j){var U,Q;j.removeEventListener(gt.FOCUS,Te()(U=y._onStartEditingInputBox).call(U,y)),j.removeEventListener(gt.BLUR,Te()(Q=y._onStopEditingInputBox).call(Q,y))},this)}},{key:"_destroyToolInstance",value:function(){var y,E=this;_e()(he()(y=[]).call(y,Ne,$e),function(j){E._els[j].destroy()})}},{key:"addEvent",value:function(y){var E=this,j,U,Q,K=y.applyFilter,se=function(Ue){var nt;return Te()(nt=E._changeFilterState).call(nt,E,K,Ue)},de=function(Ue){return function(nt,Qe){return E._changeFilterState(K,Ue,Qe)}};this.eventHandler={changeBlendFilter:se("blend"),blandTypeClick:function(Ue){return Ue.stopPropagation()}},_e()(hr,function(He){var Ue=E.selector(".tie-".concat(He)),nt=hi(He);E.checkedMap[nt]=Ue,E.eventHandler[nt]=se(nt),Ue.addEventListener("change",E.eventHandler[nt])}),this._els.removewhiteDistanceRange.on("change",de("removeWhite")),this._els.colorfilterThresholdRange.on("change",de("colorFilter")),this._els.pixelateRange.on("change",de("pixelate")),this._els.noiseRange.on("change",de("noise")),this._els.brightnessRange.on("change",de("brightness")),this._els.filterBlendColor.on("change",this.eventHandler.changeBlendFilter),this._els.filterMultiplyColor.on("change",se("multiply")),this._els.filterTintColor.on("change",se("tint")),this._els.tintOpacity.on("change",de("tint")),this._els.filterMultiplyColor.on("changeShow",Te()(j=this.colorPickerChangeShow).call(j,this)),this._els.filterTintColor.on("changeShow",Te()(U=this.colorPickerChangeShow).call(U,this)),this._els.filterBlendColor.on("changeShow",Te()(Q=this.colorPickerChangeShow).call(Q,this)),this._els.blendType.addEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.addEventListener("click",this.eventHandler.blandTypeClick),vt()(this.colorPickerInputBoxes,function(He){var Ue,nt;He.addEventListener(gt.FOCUS,Te()(Ue=E._onStartEditingInputBox).call(Ue,E)),He.addEventListener(gt.BLUR,Te()(nt=E._onStopEditingInputBox).call(nt,E))},this)}},{key:"setFilterState",value:function(y){var E=y.type,j=y.options,U=y.action,Q=this._getFilterNameFromOptions(E,j),K=U==="remove";K||this._setFilterState(Q,j),this.checkedMap[Q].checked=!K}},{key:"initFilterCheckBoxState",value:function(){_e()(this.checkedMap,function(y){y.checked=!1},this)}},{key:"_setFilterState",value:function(y,E){y==="colorFilter"?this._els.colorfilterThresholdRange.value=E.distance:y==="removeWhite"?this._els.removewhiteDistanceRange.value=E.distance:y==="pixelate"?this._els.pixelateRange.value=E.blocksize:y==="brightness"?this._els.brightnessRange.value=E.brightness:y==="noise"?this._els.noiseRange.value=E.noise:y==="tint"?(this._els.tintOpacity.value=E.alpha,this._els.filterTintColor.color=E.color):y==="blend"?this._els.filterBlendColor.color=E.color:y==="multiply"&&(this._els.filterMultiplyColor.color=E.color)}},{key:"_getFilterNameFromOptions",value:function(y,E){var j=y;return y==="removeColor"?j=Cn()(E.useAlpha)?"removeWhite":"colorFilter":y==="blendColor"&&(j={add:"blend",multiply:"multiply",tint:"tint"}[E.mode]),j}},{key:"_changeFilterState",value:function(y,E){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,U=this.checkedMap[E].checked,Q=ye[E],K=this.checkedMap[E].closest(".tui-image-editor-checkbox-group");K&&(U?K.classList.remove("tui-image-editor-disabled"):K.classList.add("tui-image-editor-disabled")),y(U,Q,this._getFilterOption(E),!j)}},{key:"_getFilterOption",value:function(y){var E={};switch(y){case"removeWhite":E.color="#FFFFFF",E.useAlpha=!1,E.distance=jn()(this._els.removewhiteDistanceRange.value);break;case"colorFilter":E.color="#FFFFFF",E.distance=jn()(this._els.colorfilterThresholdRange.value);break;case"pixelate":E.blocksize=Pn(this._els.pixelateRange.value);break;case"noise":E.noise=Pn(this._els.noiseRange.value);break;case"brightness":E.brightness=jn()(this._els.brightnessRange.value);break;case"blend":E.mode="add",E.color=this._els.filterBlendColor.color,E.mode=this._els.blendType.value;break;case"multiply":E.mode="multiply",E.color=this._els.filterMultiplyColor.color;break;case"tint":E.mode="tint",E.color=this._els.filterTintColor.color,E.alpha=this._els.tintOpacity.value;break;case"blur":E.blur=this._els.blurRange.value;break}return E}},{key:"_makeControlElement",value:function(){this._els={removewhiteDistanceRange:new un({slider:this.selector(".tie-removewhite-distance-range")},mr.removewhiteDistanceRange),brightnessRange:new un({slider:this.selector(".tie-brightness-range")},mr.brightnessRange),noiseRange:new un({slider:this.selector(".tie-noise-range")},mr.noiseRange),pixelateRange:new un({slider:this.selector(".tie-pixelate-range")},mr.pixelateRange),colorfilterThresholdRange:new un({slider:this.selector(".tie-colorfilter-threshold-range")},mr.colorfilterThresholdRange),filterTintColor:new ri(this.selector(".tie-filter-tint-color"),{defaultColor:"#03bd9e",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterMultiplyColor:new ri(this.selector(".tie-filter-multiply-color"),{defaultColor:"#515ce6",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterBlendColor:new ri(this.selector(".tie-filter-blend-color"),{defaultColor:"#ffbb3b",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),blurRange:mr.blurFilterRange},this._els.tintOpacity=this._pickerWithRange(this._els.filterTintColor.pickerControl),this._els.blendType=this._pickerWithSelectbox(this._els.filterBlendColor.pickerControl),this.colorPickerControls.push(this._els.filterTintColor),this.colorPickerControls.push(this._els.filterMultiplyColor),this.colorPickerControls.push(this._els.filterBlendColor),this.colorPickerInputBoxes=[],this.colorPickerInputBoxes.push(this._els.filterTintColor.colorpickerElement.querySelector(Jn.COLOR_PICKER_INPUT_BOX)),this.colorPickerInputBoxes.push(this._els.filterMultiplyColor.colorpickerElement.querySelector(Jn.COLOR_PICKER_INPUT_BOX)),this.colorPickerInputBoxes.push(this._els.filterBlendColor.colorpickerElement.querySelector(Jn.COLOR_PICKER_INPUT_BOX))}},{key:"_pickerWithRange",value:function(y){var E=document.createElement("div"),j=document.createElement("label"),U=document.createElement("div");return U.id="tie-filter-tint-opacity",j.innerHTML="Opacity",E.appendChild(j),E.appendChild(U),y.appendChild(E),y.style.height=Cr,new un({slider:U},mr.tintOpacityRange)}},{key:"_pickerWithSelectbox",value:function(y){var E=document.createElement("div"),j=document.createElement("select"),U=document.createElement("ul");return E.className="tui-image-editor-selectlist-wrap",U.className="tui-image-editor-selectlist",E.appendChild(j),E.appendChild(U),this._makeSelectOptionList(j),y.appendChild(E),y.style.height=Cr,this._drawSelectOptionList(j,U),this._pickerWithSelectboxForAddEvent(j,U),j}},{key:"_drawSelectOptionList",value:function(y,E){var j=y.querySelectorAll("option");_e()(j,function(U){var Q=document.createElement("li");Q.innerHTML=U.innerHTML,Q.setAttribute("data-item",U.value),E.appendChild(Q)})}},{key:"_pickerWithSelectboxForAddEvent",value:function(y,E){var j=this;E.addEventListener("click",function(U){var Q=U.target.getAttribute("data-item"),K=document.createEvent("HTMLEvents");y.querySelector('[value="'.concat(Q,'"]')).selected=!0,K.initEvent("change",!0,!0),y.dispatchEvent(K),j.selectBoxShow=!1,E.style.display="none"}),y.addEventListener("mousedown",function(U){U.preventDefault(),j.selectBoxShow=!j.selectBoxShow,E.style.display=j.selectBoxShow?"block":"none",E.setAttribute("data-selectitem",y.value),E.querySelector("[data-item='".concat(y.value,"']")).classList.add("active")})}},{key:"_makeSelectOptionList",value:function(y){_e()(Gs,function(E){var j=document.createElement("option");j.setAttribute("value",E),j.innerHTML=E.replace(/^[a-z]/,function(U){return U.toUpperCase()}),y.appendChild(j)})}}]),w}(wn),tt=xt,dt=a(4383),Rt=a.n(dt),Vt=function(){function G(A,w){var x=w.name;me(this,G),this.name=x,this.items=[],this.panelElement=this._makePanelElement(),this.listElement=this._makeListElement(),this.panelElement.appendChild(this.listElement),A.appendChild(this.panelElement)}return Pe(G,[{key:"_makePanelElement",value:function(){var w=document.createElement("div");return w.className="tie-panel-".concat(this.name),w}},{key:"_makeListElement",value:function(){var w=document.createElement("ol");return w.className="".concat(this.name,"-list"),w}},{key:"makeListItemElement",value:function(w){var x=document.createElement("li");return x.innerHTML=w,x.className="".concat(this.name,"-item"),x.setAttribute("data-index",this.items.length),x}},{key:"pushListItemElement",value:function(w){this.listElement.appendChild(w),this.listElement.scrollTop+=w.offsetHeight,this.items.push(w)}},{key:"deleteListItemElement",value:function(w,x){for(var y=this.items,E=w;E<x;E+=1)this.listElement.removeChild(y[E]);I()(y).call(y,w,x-w+1)}},{key:"getListLength",value:function(){return this.items.length}},{key:"addClass",value:function(w,x){this.items[w]&&this.items[w].classList.add(x)}},{key:"removeClass",value:function(w,x){this.items[w]&&this.items[w].classList.remove(x)}},{key:"toggleClass",value:function(w,x){this.items[w]&&this.items[w].classList.toggle(x)}}]),G}(),Yt=Vt,dn=function(G){var A,w,x,y=G.locale,E=G.makeSvgIcon,j=G.name,U=G.detail;return he()(A=he()(w=he()(x=`
    <div class="tui-image-editor-history-item history">
        <div class="history-item-icon">
            `.concat(E(["normal","active"],"history-".concat(j.toLowerCase()),!0),`
        </div>
        <span>
            `)).call(x,y.localize(j),`
            `)).call(w,U?"(".concat(y.localize(U),")"):"",`
        </span>
        <div class="history-item-checkbox">
            `)).call(A,E(["normal"],"history-check",!0),`
        </div>
    </div>
`)};function vn(G){var A=mn();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function mn(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var On="history-item",Bn="selected-item",pn="disabled-item",Ei=function(G){ne(w,G);var A=vn(w);function w(x,y){var E,j=y.locale,U=y.makeSvgIcon;return me(this,w),E=A.call(this,x,{name:"history"}),x.classList.add("enabled"),E.locale=j,E.makeSvgIcon=U,E._eventHandler={},E._historyIndex=E.getListLength(),E}return Pe(w,[{key:"add",value:function(y){var E=y.name,j=y.detail;this._hasDisabledItem()&&this.deleteListItemElement(this._historyIndex+1,this.getListLength());var U=dn({locale:this.locale,makeSvgIcon:this.makeSvgIcon,name:E,detail:j}),Q=this.makeListItemElement(U);this.pushListItemElement(Q),this._historyIndex=this.getListLength()-1,this._selectItem(this._historyIndex)}},{key:"init",value:function(){this.deleteListItemElement(1,this.getListLength()),this._historyIndex=0,this._selectItem(this._historyIndex)}},{key:"clear",value:function(){this.deleteListItemElement(0,this.getListLength()),this._historyIndex=-1}},{key:"prev",value:function(){this._historyIndex-=1,this._selectItem(this._historyIndex)}},{key:"next",value:function(){this._historyIndex+=1,this._selectItem(this._historyIndex)}},{key:"_hasDisabledItem",value:function(){return this.getListLength()-1>this._historyIndex}},{key:"_addHistoryEventListener",value:function(){var y=this;this._eventHandler.history=function(E){return y._clickHistoryItem(E)},this.listElement.addEventListener("click",this._eventHandler.history)}},{key:"_removeHistoryEventListener",value:function(){this.listElement.removeEventListener("click",this._eventHandler.history)}},{key:"_clickHistoryItem",value:function(y){var E=y.target,j=E.closest(".".concat(On));if(!!j){var U=Rt()(j.getAttribute("data-index"),10);if(U!==this._historyIndex){var Q=Math.abs(U-this._historyIndex);U<this._historyIndex?this._actions.undo(Q):this._actions.redo(Q)}}}},{key:"_selectItem",value:function(y){for(var E=0;E<this.getListLength();E+=1)this.removeClass(E,Bn),this.removeClass(E,pn),E>y&&this.addClass(E,pn);this.addClass(y,Bn)}},{key:"destroy",value:function(){this.removeEvent(),Ti(this)}},{key:"addEvent",value:function(y){this._actions=y,this._addHistoryEventListener()}},{key:"removeEvent",value:function(){this._removeHistoryEventListener()}}]),w}(Yt),Di=Ei,Ni=function(){function G(A){me(this,G),this._locale=A}return Pe(G,[{key:"localize",value:function(w){return this._locale[w]||w}}]),G}(),W=Ni,V={Shape:br,Crop:ms,Resize:el,Flip:vo,Rotate:Ka,Text:Hi,Mask:Xn,Icon:il,Draw:pt,Filter:tt},ae="1300",Ie="history",Ct="tie-panel-history",tn="on",Si={ZOOM_IN:"zoomIn",HAND:"hand"},$r=function(){function G(A,w,x){me(this,G),this.options=this._initializeOption(w),this._actions=x,this.submenu=!1,this.imageSize={},this.uiSize={},this._locale=new W(this.options.locale),this.theme=new Ri(this.options.theme),this.eventHandler={},this._submenuChangeTransection=!1,this._selectedElement=null,this._mainElement=null,this._editorElementWrap=null,this._editorElement=null,this._menuBarElement=null,this._subMenuElement=null,this._makeUiElement(A),this._setUiSize(),this._initMenuEvent=!1,this._makeSubMenu(),this._attachHistoryEvent(),this._attachZoomEvent()}return Pe(G,[{key:"destroy",value:function(){this._removeUiEvent(),this._destroyAllMenu(),this._selectedElement.innerHTML="",Ti(this)}},{key:"setUiDefaultSelectionStyle",value:function(w){return Se()({applyCropSelectionStyle:!0,applyGroupSelectionStyle:!0,selectionStyle:{cornerStyle:"circle",cornerSize:16,cornerColor:"#fff",cornerStrokeColor:"#fff",transparentCorners:!1,lineWidth:2,borderColor:"#fff"}},w)}},{key:"resizeEditor",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=w.uiSize,y=w.imageSize,E=y===void 0?this.imageSize:y;E!==this.imageSize&&(this.imageSize=E),x&&this._setUiSize(x);var j=this._getCanvasMaxDimension(),U=j.width,Q=j.height,K=this._editorElement.style,se=this.options.menuBarPosition;K.height="".concat(Q,"px"),K.width="".concat(U,"px"),this._setEditorPosition(se),this._editorElementWrap.style.bottom="0px",this._editorElementWrap.style.top="0px",this._editorElementWrap.style.left="0px",this._editorElementWrap.style.width="100%";var de=this._selectedElement.classList;se==="top"&&this._selectedElement.offsetWidth<ae?de.add("tui-image-editor-top-optimization"):de.remove("tui-image-editor-top-optimization")}},{key:"toggleZoomButtonStatus",value:function(w){var x=this._buttonElements[w].classList;x.toggle(tn),w===Si.ZOOM_IN?this._buttonElements[Si.HAND].classList.remove(tn):this._buttonElements[Si.ZOOM_IN].classList.remove(tn)}},{key:"offZoomInButtonStatus",value:function(){var w=this._buttonElements[Si.ZOOM_IN].classList;w.remove(tn)}},{key:"changeHandButtonStatus",value:function(w){var x=this._buttonElements[Si.HAND].classList;x[w?"add":"remove"](tn)}},{key:"changeHelpButtonEnabled",value:function(w,x){var y=this._buttonElements[w].classList;y[x?"add":"remove"]("enabled")}},{key:"_initializeOption",value:function(w){return Se()({loadImage:{path:"",name:""},locale:{},menuIconPath:"",menu:["resize","crop","flip","rotate","draw","shape","icon","text","mask","filter"],initMenu:"",uiSize:{width:"100%",height:"100%"},menuBarPosition:"bottom"},w)}},{key:"_setUiSize",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.uiSize,x=this._selectedElement.style;x.width=w.width,x.height=w.height}},{key:"_makeSubMenu",value:function(){var w=this;_e()(this.options.menu,function(x){var y,E=V[x.replace(/^[a-z]/,function(j){return j.toUpperCase()})];w._makeMenuElement(x),w._buttonElements[x]=w._menuBarElement.querySelector(".tie-btn-".concat(x)),w[x]=new E(w._subMenuElement,{locale:w._locale,makeSvgIcon:Te()(y=w.theme.makeMenSvgIconSet).call(y,w.theme),menuBarPosition:w.options.menuBarPosition,usageStatistics:w.options.usageStatistics})})}},{key:"_attachHistoryEvent",value:function(){var w,x,y;this.on(gt.EXECUTE_COMMAND,Te()(w=this._addHistory).call(w,this)),this.on(gt.AFTER_UNDO,Te()(x=this._selectPrevHistory).call(x,this)),this.on(gt.AFTER_REDO,Te()(y=this._selectNextHistory).call(y,this))}},{key:"_attachZoomEvent",value:function(){var w=this;this.on(gt.HAND_STARTED,function(){w.offZoomInButtonStatus(),w.changeHandButtonStatus(!0)}),this.on(gt.HAND_STOPPED,function(){return w.changeHandButtonStatus(!1)})}},{key:"_makeUiElement",value:function(w){var x,y;w.nodeType?y=w:y=document.querySelector(w);var E=Dr(y);y.classList.add("tui-image-editor-container"),y.innerHTML=Vl({locale:this._locale,biImage:this.theme.getStyle("common.bi"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),menuBarPosition:this.options.menuBarPosition})+gs({locale:this._locale,biImage:this.theme.getStyle("common.bi"),commonStyle:this.theme.getStyle("common"),headerStyle:this.theme.getStyle("header"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),submenuStyle:this.theme.getStyle("submenu")}),this._selectedElement=y,this._selectedElement.classList.add(this.options.menuBarPosition),this._mainElement=E(".tui-image-editor-main"),this._editorElementWrap=E(".tui-image-editor-wrap"),this._editorElement=E(".tui-image-editor"),this._helpMenuBarElement=E(".tui-image-editor-help-menu"),this._menuBarElement=E(".tui-image-editor-menu"),this._subMenuElement=E(".tui-image-editor-submenu"),this._buttonElements={download:this._selectedElement.querySelectorAll(".tui-image-editor-download-btn"),load:this._selectedElement.querySelectorAll(".tui-image-editor-load-btn")},this._addHelpMenus(),this._historyMenu=new Di(this._buttonElements[Ie],{locale:this._locale,makeSvgIcon:Te()(x=this.theme.makeMenSvgIconSet).call(x,this.theme)}),this._activateZoomMenus()}},{key:"_activateZoomMenus",value:function(){var w=this;_e()(Mn,function(x){w.changeHelpButtonEnabled(x,!0)})}},{key:"_makeHelpMenuWithPartition",value:function(){var w;return he()(w=[]).call(w,ee(Mn),[""],ee(kn),[""],ee(qn))}},{key:"_addHelpMenus",value:function(){var w=this,x=this._makeHelpMenuWithPartition();_e()(x,function(y){y?(w._makeMenuElement(y,["normal","disabled","hover"],"help"),w._buttonElements[y]=w._helpMenuBarElement.querySelector(".tie-btn-".concat(y))):w._makeMenuPartitionElement()})}},{key:"_makeMenuPartitionElement",value:function(){var w=document.createElement("li"),x=document.createElement("div");w.className=Vi("item"),x.className=Vi("icpartition"),w.appendChild(x),this._helpMenuBarElement.appendChild(w)}},{key:"_makeMenuElement",value:function(w){var x,y,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["normal","active","hover"],j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal",U=document.createElement("li"),Q=this.theme.makeMenSvgIconSet(E,w);this._addTooltipAttribute(U,w),U.className=he()(x=he()(y="tie-btn-".concat(w," ")).call(y,Vi("item")," ")).call(x,j),U.innerHTML=Q,j==="normal"?this._menuBarElement.appendChild(U):this._helpMenuBarElement.appendChild(U)}},{key:"_addHelpActionEvent",value:function(){var w=this;_e()(wt,function(x){w.eventHandler[x]=function(y){return w._actions.main[x](y)},w._buttonElements[x].addEventListener("click",w.eventHandler[x])})}},{key:"_removeHelpActionEvent",value:function(){var w=this;_e()(wt,function(x){w._buttonElements[x].removeEventListener("click",w.eventHandler[x])})}},{key:"_addHistory",value:function(w){if(!$o(w)){var x=typeof w=="string"?{name:w}:Fs(w);this._historyMenu.add(x)}}},{key:"initHistory",value:function(){this._historyMenu.init()}},{key:"clearHistory",value:function(){this._historyMenu.clear()}},{key:"_selectPrevHistory",value:function(){this._historyMenu.prev()}},{key:"_selectNextHistory",value:function(){this._historyMenu.next()}},{key:"toggleHistoryMenu",value:function(w){var x=w.target,y=x.closest(".".concat(Ct));if(!y){var E=this._buttonElements[Ie].classList;E.toggle("opened")}}},{key:"_addTooltipAttribute",value:function(w,x){w.setAttribute("tooltip-content",this._locale.localize(x.replace(/^[a-z]/g,function(y){return y.toUpperCase()})))}},{key:"_addDownloadEvent",value:function(){var w=this;this.eventHandler.download=function(){return w._actions.main.download()},_e()(this._buttonElements.download,function(x){x.addEventListener("click",w.eventHandler.download)})}},{key:"_removeDownloadEvent",value:function(){var w=this;_e()(this._buttonElements.download,function(x){x.removeEventListener("click",w.eventHandler.download)})}},{key:"_addLoadEvent",value:function(){var w=this;this.eventHandler.loadImage=function(x){return w._actions.main.load(x.target.files[0])},_e()(this._buttonElements.load,function(x){x.addEventListener("change",w.eventHandler.loadImage)})}},{key:"_removeLoadEvent",value:function(){var w=this;_e()(this._buttonElements.load,function(x){x.removeEventListener("change",w.eventHandler.loadImage)})}},{key:"_addMainMenuEvent",value:function(w){var x=this;this.eventHandler[w]=function(){return x.changeMenu(w)},this._buttonElements[w].addEventListener("click",this.eventHandler[w])}},{key:"_addSubMenuEvent",value:function(w){var x=this;this[w].addEvent(this._actions[w]),this[w].on(gt.INPUT_BOX_EDITING_STARTED,function(){return x.fire(gt.INPUT_BOX_EDITING_STARTED)}),this[w].on(gt.INPUT_BOX_EDITING_STOPPED,function(){return x.fire(gt.INPUT_BOX_EDITING_STOPPED)})}},{key:"_addMenuEvent",value:function(){var w=this;_e()(this.options.menu,function(x){w._addMainMenuEvent(x),w._addSubMenuEvent(x)})}},{key:"_removeMainMenuEvent",value:function(){var w=this;_e()(this.options.menu,function(x){w._buttonElements[x].removeEventListener("click",w.eventHandler[x]),w[x].off(gt.INPUT_BOX_EDITING_STARTED),w[x].off(gt.INPUT_BOX_EDITING_STOPPED)})}},{key:"getEditorArea",value:function(){return this._editorElement}},{key:"activeMenuEvent",value:function(){this._initMenuEvent||(this._addHelpActionEvent(),this._addDownloadEvent(),this._addMenuEvent(),this._initMenu(),this._historyMenu.addEvent(this._actions.history),this._initMenuEvent=!0)}},{key:"_removeUiEvent",value:function(){this._removeHelpActionEvent(),this._removeDownloadEvent(),this._removeLoadEvent(),this._removeMainMenuEvent(),this._historyMenu.removeEvent()}},{key:"_destroyAllMenu",value:function(){var w=this;_e()(this.options.menu,function(x){w[x].destroy()}),this._historyMenu.destroy()}},{key:"initCanvas",value:function(){var w=this,x=this._getLoadImage();x.path&&this._actions.main.initLoadImage(x.path,x.name).then(function(){w.activeMenuEvent()}),this._addLoadEvent();var y=document.createElement("div");y.className=Vi("grid-visual");var E=`<table>
           <tr><td class="dot left-top"></td><td></td><td class="dot right-top"></td></tr>
           <tr><td></td><td></td><td></td></tr>
           <tr><td class="dot left-bottom"></td><td></td><td class="dot right-bottom"></td></tr>
         </table>`;y.innerHTML=E,this._editorContainerElement=this._editorElement.querySelector(".tui-image-editor-canvas-container"),this._editorContainerElement.appendChild(y)}},{key:"_getLoadImage",value:function(){return this.options.loadImage}},{key:"changeMenu",value:function(w){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this._submenuChangeTransection||(this._submenuChangeTransection=!0,this._changeMenu(w,x,y),this._submenuChangeTransection=!1)}},{key:"_changeMenu",value:function(w,x,y){this.submenu&&(this._buttonElements[this.submenu].classList.remove("active"),this._mainElement.classList.remove("tui-image-editor-menu-".concat(this.submenu)),y&&this._actions.main.discardSelection(),this._actions.main.changeSelectableAll(!0),this[this.submenu].changeStandbyMode()),this.submenu===w&&x?this.submenu=null:(this._buttonElements[w].classList.add("active"),this._mainElement.classList.add("tui-image-editor-menu-".concat(w)),this.submenu=w,this[this.submenu].changeStartMode()),this.resizeEditor()}},{key:"_initMenu",value:function(){if(this.options.initMenu){var w=document.createEvent("MouseEvents");w.initEvent("click",!0,!1),this._buttonElements[this.options.initMenu].dispatchEvent(w)}this.icon&&this.icon.registerDefaultIcon()}},{key:"_getCanvasMaxDimension",value:function(){var w=this._editorContainerElement.style,x=w.maxWidth,y=w.maxHeight,E=jn()(x),j=jn()(y);return{width:E,height:j}}},{key:"_setEditorPosition",value:function(w){var x=this._getCanvasMaxDimension(),y=x.width,E=x.height,j=this._editorElement.style,U=0,Q=0;this.submenu&&(w==="bottom"?E>this._editorElementWrap.scrollHeight-150?U=(E-this._editorElementWrap.scrollHeight)/2:U=150/2*-1:w==="top"?E>this._editorElementWrap.offsetHeight-150?U=150/2-(E-(this._editorElementWrap.offsetHeight-150))/2:U=150/2:w==="left"?y>this._editorElementWrap.offsetWidth-248?Q=248/2-(y-(this._editorElementWrap.offsetWidth-248))/2:Q=248/2:w==="right"&&(y>this._editorElementWrap.scrollWidth-248?Q=(y-this._editorElementWrap.scrollWidth)/2:Q=248/2*-1)),j.top="".concat(U,"px"),j.left="".concat(Q,"px")}}]),G}();Ve().mixin($r);var fr=$r,Ia=a(381),Vr=a.n(Ia),zc=function(){function G(){me(this,G),this.versionnumber="1.2.4",this.optionpresets={default:{corsenabled:!1,ltres:1,qtres:1,pathomit:8,rightangleenhance:!0,colorsampling:2,numberofcolors:16,mincolorratio:0,colorquantcycles:3,layering:0,strokewidth:1,linefilter:!1,scale:1,roundcoords:1,viewbox:!1,desc:!1,lcpr:0,qcpr:0,blurradius:0,blurdelta:20},posterized1:{colorsampling:0,numberofcolors:2},posterized2:{numberofcolors:4,blurradius:5},curvy:{ltres:.01,linefilter:!0,rightangleenhance:!1},sharp:{qtres:.01,linefilter:!1},detailed:{pathomit:0,roundcoords:2,ltres:.5,qtres:.5,numberofcolors:64},smoothed:{blurradius:5,blurdelta:64},grayscale:{colorsampling:0,colorquantcycles:1,numberofcolors:7},fixedpalette:{colorsampling:0,colorquantcycles:1,numberofcolors:27},randomsampling1:{colorsampling:1,numberofcolors:8},randomsampling2:{colorsampling:1,numberofcolors:64},artistic1:{colorsampling:0,colorquantcycles:1,pathomit:0,blurradius:5,blurdelta:64,ltres:.01,linefilter:!0,numberofcolors:16,strokewidth:2},artistic2:{qtres:.01,colorsampling:0,colorquantcycles:1,numberofcolors:4,strokewidth:0},artistic3:{qtres:10,ltres:10,numberofcolors:8},artistic4:{qtres:10,ltres:10,numberofcolors:64,blurradius:5,blurdelta:256,strokewidth:2},posterized3:{ltres:1,qtres:1,pathomit:20,rightangleenhance:!0,colorsampling:0,numberofcolors:3,mincolorratio:0,colorquantcycles:3,blurradius:3,blurdelta:20,strokewidth:0,linefilter:!1,roundcoords:1,pal:[{r:0,g:0,b:100,a:255},{r:255,g:255,b:255,a:255}]}},this.pathscan_combined_lookup=[[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[13,3,0,1],[13,2,-1,0],[7,1,0,-1],[7,0,1,0]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[11,1,0,-1],[14,0,1,0],[14,3,0,1],[11,2,-1,0]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]]],this.gks=[[.27901,.44198,.27901],[.135336,.228569,.272192,.228569,.135336],[.086776,.136394,.178908,.195843,.178908,.136394,.086776],[.063327,.093095,.122589,.144599,.152781,.144599,.122589,.093095,.063327],[.049692,.069304,.089767,.107988,.120651,.125194,.120651,.107988,.089767,.069304,.049692]],this.specpalette=[{r:0,g:0,b:0,a:255},{r:128,g:128,b:128,a:255},{r:0,g:0,b:128,a:255},{r:64,g:64,b:128,a:255},{r:192,g:192,b:192,a:255},{r:255,g:255,b:255,a:255},{r:128,g:128,b:192,a:255},{r:0,g:0,b:192,a:255},{r:128,g:0,b:0,a:255},{r:128,g:64,b:64,a:255},{r:128,g:0,b:128,a:255},{r:168,g:168,b:168,a:255},{r:192,g:128,b:128,a:255},{r:192,g:0,b:0,a:255},{r:255,g:255,b:255,a:255},{r:0,g:128,b:0,a:255}]}return Pe(G,[{key:"imageToSVG",value:function(w,x,y){var E=this;y=this.checkoptions(y),this.loadImage(w,function(j){x(E.imagedataToSVG(E.getImgdata(j),y))},y)}},{key:"imagedataToSVG",value:function(w,x){x=this.checkoptions(x);var y=this.imagedataToTracedata(w,x);return this.getsvgstring(y,x)}},{key:"imageToTracedata",value:function(w,x,y){var E=this;y=this.checkoptions(y),this.loadImage(w,function(j){x(E.imagedataToTracedata(E.getImgdata(j),y))},y)}},{key:"imagedataToTracedata",value:function(w,x){x=this.checkoptions(x);var y=this.colorquantization(w,x),E;if(x.layering===0){E={layers:[],palette:y.palette,width:y.array[0].length-2,height:y.array.length-2};for(var j=0;j<y.palette.length;j+=1){var U=this.batchtracepaths(this.internodes(this.pathscan(this.layeringstep(y,j),x.pathomit),x),x.ltres,x.qtres);E.layers.push(U)}}else{var Q=this.layering(y);x.layercontainerid&&this.drawLayers(Q,this.specpalette,x.scale,x.layercontainerid);var K=this.batchpathscan(Q,x.pathomit),se=this.batchinternodes(K,x);E={layers:this.batchtracelayers(se,x.ltres,x.qtres),palette:y.palette,width:w.width,height:w.height}}return E}},{key:"checkoptions",value:function(w){w=w||{},typeof w=="string"&&(w=w.toLowerCase(),this.optionpresets[w]?w=this.optionpresets[w]:w={});for(var x=st()(this.optionpresets.default),y=0;y<x.length;y+=1)w.hasOwnProperty(x[y])||(w[x[y]]=this.optionpresets.default[x[y]]);return w}},{key:"colorquantization",value:function(w,x){var y=[],E=0,j,U,Q,K=[],se=w.width*w.height,de,He,Ue,nt,Qe;for(He=0;He<w.height+2;He+=1)for(y[He]=[],de=0;de<w.width+2;de+=1)y[He][de]=-1;for(x.pal?Qe=x.pal:x.colorsampling===0?Qe=this.generatepalette(x.numberofcolors):x.colorsampling===1?Qe=this.samplepalette(x.numberofcolors,w):Qe=this.samplepalette2(x.numberofcolors,w),x.blurradius>0&&(w=this.blur(w,x.blurradius,x.blurdelta)),nt=0;nt<x.colorquantcycles;nt+=1){if(nt>0)for(Ue=0;Ue<Qe.length;Ue+=1)K[Ue].n>0&&(Qe[Ue]={r:Math.floor(K[Ue].r/K[Ue].n),g:Math.floor(K[Ue].g/K[Ue].n),b:Math.floor(K[Ue].b/K[Ue].n),a:Math.floor(K[Ue].a/K[Ue].n)}),K[Ue].n/se<x.mincolorratio&&nt<x.colorquantcycles-1&&(Qe[Ue]={r:Math.floor(Math.random()*255),g:Math.floor(Math.random()*255),b:Math.floor(Math.random()*255),a:Math.floor(Math.random()*255)});for(de=0;de<Qe.length;de+=1)K[de]={r:0,g:0,b:0,a:0,n:0};for(He=0;He<w.height;He+=1)for(de=0;de<w.width;de+=1){for(E=(He*w.width+de)*4,Q=0,U=1024,Ue=0;Ue<Qe.length;Ue+=1)j=Math.abs(Qe[Ue].r-w.data[E])+Math.abs(Qe[Ue].g-w.data[E+1])+Math.abs(Qe[Ue].b-w.data[E+2])+Math.abs(Qe[Ue].a-w.data[E+3]),j<U&&(U=j,Q=Ue);K[Q].r+=w.data[E],K[Q].g+=w.data[E+1],K[Q].b+=w.data[E+2],K[Q].a+=w.data[E+3],K[Q].n+=1,y[He+1][de+1]=Q}}return{array:y,palette:Qe}}},{key:"samplepalette",value:function(w,x){for(var y,E=[],j=0;j<w;j+=1)y=Math.floor(Math.random()*x.data.length/4)*4,E.push({r:x.data[y],g:x.data[y+1],b:x.data[y+2],a:x.data[y+3]});return E}},{key:"samplepalette2",value:function(w,x){for(var y,E=[],j=Math.ceil(Math.sqrt(w)),U=Math.ceil(w/j),Q=x.width/(j+1),K=x.height/(U+1),se=0;se<U;se+=1)for(var de=0;de<j&&E.length!==w;de+=1)y=Math.floor((se+1)*K*x.width+(de+1)*Q)*4,E.push({r:x.data[y],g:x.data[y+1],b:x.data[y+2],a:x.data[y+3]});return E}},{key:"generatepalette",value:function(w){var x=[],y,E,j;if(w<8)for(var U=Math.floor(255/(w-1)),Q=0;Q<w;Q+=1)x.push({r:Q*U,g:Q*U,b:Q*U,a:255});else{var K=Math.floor(Math.pow(w,.3333333333333333)),se=Math.floor(255/(K-1)),de=w-K*K*K;for(y=0;y<K;y+=1)for(E=0;E<K;E+=1)for(j=0;j<K;j+=1)x.push({r:y*se,g:E*se,b:j*se,a:255});for(y=0;y<de;y+=1)x.push({r:Math.floor(Math.random()*255),g:Math.floor(Math.random()*255),b:Math.floor(Math.random()*255),a:Math.floor(Math.random()*255)})}return x}},{key:"layering",value:function(w){var x=[],y=0,E=w.array.length,j=w.array[0].length,U,Q,K,se,de,He,Ue,nt,Qe,rt,It;for(It=0;It<w.palette.length;It+=1)for(x[It]=[],rt=0;rt<E;rt+=1)for(x[It][rt]=[],Qe=0;Qe<j;Qe+=1)x[It][rt][Qe]=0;for(rt=1;rt<E-1;rt+=1)for(Qe=1;Qe<j-1;Qe+=1)y=w.array[rt][Qe],U=w.array[rt-1][Qe-1]===y?1:0,Q=w.array[rt-1][Qe]===y?1:0,K=w.array[rt-1][Qe+1]===y?1:0,se=w.array[rt][Qe-1]===y?1:0,de=w.array[rt][Qe+1]===y?1:0,He=w.array[rt+1][Qe-1]===y?1:0,Ue=w.array[rt+1][Qe]===y?1:0,nt=w.array[rt+1][Qe+1]===y?1:0,x[y][rt+1][Qe+1]=1+de*2+nt*4+Ue*8,se||(x[y][rt+1][Qe]=0+2+Ue*4+He*8),Q||(x[y][rt][Qe+1]=0+K*2+de*4+8),U||(x[y][rt][Qe]=0+Q*2+4+se*8);return x}},{key:"layeringstep",value:function(w,x){var y=[],E=w.array.length,j=w.array[0].length,U,Q;for(Q=0;Q<E;Q+=1)for(y[Q]=[],U=0;U<j;U+=1)y[Q][U]=0;for(Q=1;Q<E;Q+=1)for(U=1;U<j;U+=1)y[Q][U]=(w.array[Q-1][U-1]===x?1:0)+(w.array[Q-1][U]===x?2:0)+(w.array[Q][U-1]===x?8:0)+(w.array[Q][U]===x?4:0);return y}},{key:"pathscan",value:function(w,x){for(var y=[],E=0,j=0,U=0,Q=0,K=w[0].length,se=w.length,de=0,He=!0,Ue=!1,nt,Qe=0;Qe<se;Qe+=1)for(var rt=0;rt<K;rt+=1)if(w[Qe][rt]===4||w[Qe][rt]===11)for(U=rt,Q=Qe,y[E]={},y[E].points=[],y[E].boundingbox=[U,Q,U,Q],y[E].holechildren=[],He=!1,j=0,Ue=w[Qe][rt]===11,de=1;!He;){if(y[E].points[j]={},y[E].points[j].x=U-1,y[E].points[j].y=Q-1,y[E].points[j].t=w[Q][U],U-1<y[E].boundingbox[0]&&(y[E].boundingbox[0]=U-1),U-1>y[E].boundingbox[2]&&(y[E].boundingbox[2]=U-1),Q-1<y[E].boundingbox[1]&&(y[E].boundingbox[1]=Q-1),Q-1>y[E].boundingbox[3]&&(y[E].boundingbox[3]=Q-1),nt=this.pathscan_combined_lookup[w[Q][U]][de],w[Q][U]=nt[0],de=nt[1],U+=nt[2],Q+=nt[3],U-1===y[E].points[0].x&&Q-1===y[E].points[0].y)if(He=!0,y[E].points.length<x)y.pop();else{if(y[E].isholepath=!!Ue,Ue){for(var It=0,cn=[-1,-1,K+1,se+1],hn=0;hn<E;hn++)!y[hn].isholepath&&this.boundingboxincludes(y[hn].boundingbox,y[E].boundingbox)&&this.boundingboxincludes(cn,y[hn].boundingbox)&&(It=hn,cn=y[hn].boundingbox);y[It].holechildren.push(E)}E+=1}j+=1}return y}},{key:"boundingboxincludes",value:function(w,x){return w[0]<x[0]&&w[1]<x[1]&&w[2]>x[2]&&w[3]>x[3]}},{key:"batchpathscan",value:function(w,x){var y=[];for(var E in w)!w.hasOwnProperty(E)||(y[E]=this.pathscan(w[E],x));return y}},{key:"internodes",value:function(w,x){var y=[],E=0,j=0,U=0,Q=0,K=0,se,de;for(se=0;se<w.length;se+=1)for(y[se]={},y[se].points=[],y[se].boundingbox=w[se].boundingbox,y[se].holechildren=w[se].holechildren,y[se].isholepath=w[se].isholepath,E=w[se].points.length,de=0;de<E;de+=1)j=(de+1)%E,U=(de+2)%E,Q=(de-1+E)%E,K=(de-2+E)%E,x.rightangleenhance&&this.testrightangle(w[se],K,Q,de,j,U)&&(y[se].points.length>0&&(y[se].points[y[se].points.length-1].linesegment=this.getdirection(y[se].points[y[se].points.length-1].x,y[se].points[y[se].points.length-1].y,w[se].points[de].x,w[se].points[de].y)),y[se].points.push({x:w[se].points[de].x,y:w[se].points[de].y,linesegment:this.getdirection(w[se].points[de].x,w[se].points[de].y,(w[se].points[de].x+w[se].points[j].x)/2,(w[se].points[de].y+w[se].points[j].y)/2)})),y[se].points.push({x:(w[se].points[de].x+w[se].points[j].x)/2,y:(w[se].points[de].y+w[se].points[j].y)/2,linesegment:this.getdirection((w[se].points[de].x+w[se].points[j].x)/2,(w[se].points[de].y+w[se].points[j].y)/2,(w[se].points[j].x+w[se].points[U].x)/2,(w[se].points[j].y+w[se].points[U].y)/2)});return y}},{key:"testrightangle",value:function(w,x,y,E,j,U){return w.points[E].x===w.points[x].x&&w.points[E].x===w.points[y].x&&w.points[E].y===w.points[j].y&&w.points[E].y===w.points[U].y||w.points[E].y===w.points[x].y&&w.points[E].y===w.points[y].y&&w.points[E].x===w.points[j].x&&w.points[E].x===w.points[U].x}},{key:"getdirection",value:function(w,x,y,E){var j=8;return w<y?x<E?j=1:x>E?j=7:j=0:w>y?x<E?j=3:x>E?j=5:j=4:x<E?j=2:x>E?j=6:j=8,j}},{key:"batchinternodes",value:function(w,x){var y=[];for(var E in w)!w.hasOwnProperty(E)||(y[E]=this.internodes(w[E],x));return y}},{key:"tracepath",value:function(w,x,y){var E=0,j,U,Q,K={};for(K.segments=[],K.boundingbox=w.boundingbox,K.holechildren=w.holechildren,K.isholepath=w.isholepath;E<w.points.length;){var se;for(j=w.points[E].linesegment,U=-1,Q=E+1;(w.points[Q].linesegment===j||w.points[Q].linesegment===U||U===-1)&&Q<w.points.length-1;)w.points[Q].linesegment!==j&&U===-1&&(U=w.points[Q].linesegment),Q+=1;Q===w.points.length-1&&(Q=0),K.segments=he()(se=K.segments).call(se,this.fitseq(w,x,y,E,Q)),Q>0?E=Q:E=w.points.length}return K}},{key:"fitseq",value:function(w,x,y,E,j){var U;if(j>w.points.length||j<0)return[];var Q=E,K=0,se=!0,de,He,Ue,nt=j-E;nt<0&&(nt+=w.points.length);for(var Qe=(w.points[j].x-w.points[E].x)/nt,rt=(w.points[j].y-w.points[E].y)/nt,It=(E+1)%w.points.length,cn;It!=j;)cn=It-E,cn<0&&(cn+=w.points.length),de=w.points[E].x+Qe*cn,He=w.points[E].y+rt*cn,Ue=(w.points[It].x-de)*(w.points[It].x-de)+(w.points[It].y-He)*(w.points[It].y-He),Ue>x&&(se=!1),Ue>K&&(Q=It,K=Ue),It=(It+1)%w.points.length;if(se)return[{type:"L",x1:w.points[E].x,y1:w.points[E].y,x2:w.points[j].x,y2:w.points[j].y}];var hn=Q;se=!0,K=0;var yn=(hn-E)/nt,Gt=(1-yn)*(1-yn),ai=2*(1-yn)*yn,ir=yn*yn,Pr=(Gt*w.points[E].x+ir*w.points[j].x-w.points[hn].x)/-ai,ki=(Gt*w.points[E].y+ir*w.points[j].y-w.points[hn].y)/-ai;for(It=E+1;It!=j;)yn=(It-E)/nt,Gt=(1-yn)*(1-yn),ai=2*(1-yn)*yn,ir=yn*yn,de=Gt*w.points[E].x+ai*Pr+ir*w.points[j].x,He=Gt*w.points[E].y+ai*ki+ir*w.points[j].y,Ue=(w.points[It].x-de)*(w.points[It].x-de)+(w.points[It].y-He)*(w.points[It].y-He),Ue>y&&(se=!1),Ue>K&&(Q=It,K=Ue),It=(It+1)%w.points.length;if(se)return[{type:"Q",x1:w.points[E].x,y1:w.points[E].y,x2:Pr,y2:ki,x3:w.points[j].x,y3:w.points[j].y}];var Aa=hn;return he()(U=this.fitseq(w,x,y,E,Aa)).call(U,this.fitseq(w,x,y,Aa,j))}},{key:"batchtracepaths",value:function(w,x,y){var E=[];for(var j in w)!w.hasOwnProperty(j)||E.push(this.tracepath(w[j],x,y));return E}},{key:"batchtracelayers",value:function(w,x,y){var E=[];for(var j in w)!w.hasOwnProperty(j)||(E[j]=this.batchtracepaths(w[j],x,y));return E}},{key:"roundtodec",value:function(w,x){return Number(w.toFixed(x))}},{key:"svgpathstring",value:function(w,x,y,E){var j,U,Q=w.layers[x],K=Q[y],se="",de;if(E.linefilter&&K.segments.length<3)return se;if(se=he()(j="<path ".concat(E.desc?he()(U='desc="l '.concat(x," p ")).call(U,y,'" '):"")).call(j,this.tosvgcolorstr(w.palette[x],E),'d="'),E.roundcoords===-1){var He;for(se+=he()(He="M ".concat(K.segments[0].x1*E.scale," ")).call(He,K.segments[0].y1*E.scale," "),de=0;de<K.segments.length;de++){var Ue,nt;if(se+=he()(Ue=he()(nt="".concat(K.segments[de].type," ")).call(nt,K.segments[de].x2*E.scale," ")).call(Ue,K.segments[de].y2*E.scale," "),K.segments[de].hasOwnProperty("x3")){var Qe;se+=he()(Qe="".concat(K.segments[de].x3*E.scale," ")).call(Qe,K.segments[de].y3*E.scale," ")}}se+="Z "}else{var rt;for(se+=he()(rt="M ".concat(this.roundtodec(K.segments[0].x1*E.scale,E.roundcoords)," ")).call(rt,this.roundtodec(K.segments[0].y1*E.scale,E.roundcoords)," "),de=0;de<K.segments.length;de++){var It,cn;if(se+=he()(It=he()(cn="".concat(K.segments[de].type," ")).call(cn,this.roundtodec(K.segments[de].x2*E.scale,E.roundcoords)," ")).call(It,this.roundtodec(K.segments[de].y2*E.scale,E.roundcoords)," "),K.segments[de].hasOwnProperty("x3")){var hn;se+=he()(hn="".concat(this.roundtodec(K.segments[de].x3*E.scale,E.roundcoords)," ")).call(hn,this.roundtodec(K.segments[de].y3*E.scale,E.roundcoords)," ")}}se+="Z "}for(var yn=0;yn<K.holechildren.length;yn++){var Gt=Q[K.holechildren[yn]];if(E.roundcoords===-1){if(Gt.segments[Gt.segments.length-1].hasOwnProperty("x3")){var ai;se+=he()(ai="M ".concat(Gt.segments[Gt.segments.length-1].x3*E.scale," ")).call(ai,Gt.segments[Gt.segments.length-1].y3*E.scale," ")}else{var ir;se+=he()(ir="M ".concat(Gt.segments[Gt.segments.length-1].x2*E.scale," ")).call(ir,Gt.segments[Gt.segments.length-1].y2*E.scale," ")}for(de=Gt.segments.length-1;de>=0;de--){var Pr;if(se+="".concat(Gt.segments[de].type," "),Gt.segments[de].hasOwnProperty("x3")){var ki;se+=he()(ki="".concat(Gt.segments[de].x2*E.scale," ")).call(ki,Gt.segments[de].y2*E.scale," ")}se+=he()(Pr="".concat(Gt.segments[de].x1*E.scale," ")).call(Pr,Gt.segments[de].y1*E.scale," ")}}else{if(Gt.segments[Gt.segments.length-1].hasOwnProperty("x3")){var Aa;se+=he()(Aa="M ".concat(this.roundtodec(Gt.segments[Gt.segments.length-1].x3*E.scale)," ")).call(Aa,this.roundtodec(Gt.segments[Gt.segments.length-1].y3*E.scale)," ")}else{var qs;se+=he()(qs="M ".concat(this.roundtodec(Gt.segments[Gt.segments.length-1].x2*E.scale)," ")).call(qs,this.roundtodec(Gt.segments[Gt.segments.length-1].y2*E.scale)," ")}for(de=Gt.segments.length-1;de>=0;de--){var Lr;if(se+="".concat(Gt.segments[de].type," "),Gt.segments[de].hasOwnProperty("x3")){var gc;se+=he()(gc="".concat(this.roundtodec(Gt.segments[de].x2*E.scale)," ")).call(gc,this.roundtodec(Gt.segments[de].y2*E.scale)," ")}se+=he()(Lr="".concat(this.roundtodec(Gt.segments[de].x1*E.scale)," ")).call(Lr,this.roundtodec(Gt.segments[de].y1*E.scale)," ")}}se+="Z "}if(se+='" />',E.lcpr||E.qcpr){for(de=0;de<K.segments.length;de++){if(K.segments[de].hasOwnProperty("x3")&&E.qcpr){var pu,gu,vu,mu,yu,Rr,bu,wu,Cu,vc,Su,_u,xu,Eu;se+=he()(pu=he()(gu=he()(vu='<circle cx="'.concat(K.segments[de].x2*E.scale,'" cy="')).call(vu,K.segments[de].y2*E.scale,'" r="')).call(gu,E.qcpr,'" fill="cyan" stroke-width="')).call(pu,E.qcpr*.2,'" stroke="black" />'),se+=he()(mu=he()(yu=he()(Rr='<circle cx="'.concat(K.segments[de].x3*E.scale,'" cy="')).call(Rr,K.segments[de].y3*E.scale,'" r="')).call(yu,E.qcpr,'" fill="white" stroke-width="')).call(mu,E.qcpr*.2,'" stroke="black" />'),se+=he()(bu=he()(wu=he()(Cu=he()(vc='<line x1="'.concat(K.segments[de].x1*E.scale,'" y1="')).call(vc,K.segments[de].y1*E.scale,'" x2="')).call(Cu,K.segments[de].x2*E.scale,'" y2="')).call(wu,K.segments[de].y2*E.scale,'" stroke-width="')).call(bu,E.qcpr*.2,'" stroke="cyan" />'),se+=he()(Su=he()(_u=he()(xu=he()(Eu='<line x1="'.concat(K.segments[de].x2*E.scale,'" y1="')).call(Eu,K.segments[de].y2*E.scale,'" x2="')).call(xu,K.segments[de].x3*E.scale,'" y2="')).call(_u,K.segments[de].y3*E.scale,'" stroke-width="')).call(Su,E.qcpr*.2,'" stroke="cyan" />')}if(!K.segments[de].hasOwnProperty("x3")&&E.lcpr){var dl,Tu,Iu;se+=he()(dl=he()(Tu=he()(Iu='<circle cx="'.concat(K.segments[de].x2*E.scale,'" cy="')).call(Iu,K.segments[de].y2*E.scale,'" r="')).call(Tu,E.lcpr,'" fill="white" stroke-width="')).call(dl,E.lcpr*.2,'" stroke="black" />')}}for(var yn=0;yn<K.holechildren.length;yn++){var Gt=Q[K.holechildren[yn]];for(de=0;de<Gt.segments.length;de++){if(Gt.segments[de].hasOwnProperty("x3")&&E.qcpr){var Du,Ma,xo,Tp,Ip,Dp,Ap,Mp,Op,kp,Pp,Lp,Rp,Np;se+=he()(Du=he()(Ma=he()(xo='<circle cx="'.concat(Gt.segments[de].x2*E.scale,'" cy="')).call(xo,Gt.segments[de].y2*E.scale,'" r="')).call(Ma,E.qcpr,'" fill="cyan" stroke-width="')).call(Du,E.qcpr*.2,'" stroke="black" />'),se+=he()(Tp=he()(Ip=he()(Dp='<circle cx="'.concat(Gt.segments[de].x3*E.scale,'" cy="')).call(Dp,Gt.segments[de].y3*E.scale,'" r="')).call(Ip,E.qcpr,'" fill="white" stroke-width="')).call(Tp,E.qcpr*.2,'" stroke="black" />'),se+=he()(Ap=he()(Mp=he()(Op=he()(kp='<line x1="'.concat(Gt.segments[de].x1*E.scale,'" y1="')).call(kp,Gt.segments[de].y1*E.scale,'" x2="')).call(Op,Gt.segments[de].x2*E.scale,'" y2="')).call(Mp,Gt.segments[de].y2*E.scale,'" stroke-width="')).call(Ap,E.qcpr*.2,'" stroke="cyan" />'),se+=he()(Pp=he()(Lp=he()(Rp=he()(Np='<line x1="'.concat(Gt.segments[de].x2*E.scale,'" y1="')).call(Np,Gt.segments[de].y2*E.scale,'" x2="')).call(Rp,Gt.segments[de].x3*E.scale,'" y2="')).call(Lp,Gt.segments[de].y3*E.scale,'" stroke-width="')).call(Pp,E.qcpr*.2,'" stroke="cyan" />')}if(!Gt.segments[de].hasOwnProperty("x3")&&E.lcpr){var Fp,jp,Bp;se+=he()(Fp=he()(jp=he()(Bp='<circle cx="'.concat(Gt.segments[de].x2*E.scale,'" cy="')).call(Bp,Gt.segments[de].y2*E.scale,'" r="')).call(jp,E.lcpr,'" fill="white" stroke-width="')).call(Fp,E.lcpr*.2,'" stroke="black" />')}}}}return se}},{key:"getsvgstring",value:function(w,x){var y,E,j;x=this.checkoptions(x);for(var U=w.width*x.scale,Q=w.height*x.scale,K=he()(y="<svg ".concat(x.viewbox?he()(E='viewBox="0 0 '.concat(U," ")).call(E,Q,'" '):he()(j='width="'.concat(U,'" height="')).call(j,Q,'" '),'version="1.1" xmlns="http://www.w3.org/2000/svg" desc="Created with imagetracer.js version ')).call(y,this.versionnumber,'" >'),se=0;se<w.layers.length;se+=1)for(var de=0;de<w.layers[se].length;de+=1)w.layers[se][de].isholepath||(K+=this.svgpathstring(w,se,de,x));return K+="</svg>",K}},{key:"compareNumbers",value:function(w,x){return w-x}},{key:"torgbastr",value:function(w){var x,y,E;return he()(x=he()(y=he()(E="rgba(".concat(w.r,",")).call(E,w.g,",")).call(y,w.b,",")).call(x,w.a,")")}},{key:"tosvgcolorstr",value:function(w,x){var y,E,j,U,Q,K,se;return he()(y=he()(E=he()(j=he()(U=he()(Q=he()(K=he()(se='fill="rgb('.concat(w.r,",")).call(se,w.g,",")).call(K,w.b,')" stroke="rgb(')).call(Q,w.r,",")).call(U,w.g,",")).call(j,w.b,')" stroke-width="')).call(E,x.strokewidth,'" opacity="')).call(y,w.a/255,'" ')}},{key:"appendSVGString",value:function(w,x){var y;x?(y=document.getElementById(x),y||(y=document.createElement("div"),y.id=x,document.body.appendChild(y))):(y=document.createElement("div"),document.body.appendChild(y)),y.innerHTML+=w}},{key:"blur",value:function(w,x,y){var E,j,U,Q,K,se,de,He,Ue,nt,Qe={width:w.width,height:w.height,data:[]};if(x=Math.floor(x),x<1)return w;x>5&&(x=5),y=Math.abs(y),y>1024&&(y=1024);var rt=this.gks[x-1];for(j=0;j<w.height;j++)for(E=0;E<w.width;E++){for(se=0,de=0,He=0,Ue=0,nt=0,U=-x;U<x+1;U++)E+U>0&&E+U<w.width&&(K=(j*w.width+E+U)*4,se+=w.data[K]*rt[U+x],de+=w.data[K+1]*rt[U+x],He+=w.data[K+2]*rt[U+x],Ue+=w.data[K+3]*rt[U+x],nt+=rt[U+x]);K=(j*w.width+E)*4,Qe.data[K]=Math.floor(se/nt),Qe.data[K+1]=Math.floor(de/nt),Qe.data[K+2]=Math.floor(He/nt),Qe.data[K+3]=Math.floor(Ue/nt)}var It=new Uint8ClampedArray(Qe.data);for(j=0;j<w.height;j++)for(E=0;E<w.width;E++){for(se=0,de=0,He=0,Ue=0,nt=0,U=-x;U<x+1;U++)j+U>0&&j+U<w.height&&(K=((j+U)*w.width+E)*4,se+=It[K]*rt[U+x],de+=It[K+1]*rt[U+x],He+=It[K+2]*rt[U+x],Ue+=It[K+3]*rt[U+x],nt+=rt[U+x]);K=(j*w.width+E)*4,Qe.data[K]=Math.floor(se/nt),Qe.data[K+1]=Math.floor(de/nt),Qe.data[K+2]=Math.floor(He/nt),Qe.data[K+3]=Math.floor(Ue/nt)}for(j=0;j<w.height;j++)for(E=0;E<w.width;E++)K=(j*w.width+E)*4,Q=Math.abs(Qe.data[K]-w.data[K])+Math.abs(Qe.data[K+1]-w.data[K+1])+Math.abs(Qe.data[K+2]-w.data[K+2])+Math.abs(Qe.data[K+3]-w.data[K+3]),Q>y&&(Qe.data[K]=w.data[K],Qe.data[K+1]=w.data[K+1],Qe.data[K+2]=w.data[K+2],Qe.data[K+3]=w.data[K+3]);return Qe}},{key:"loadImage",value:function(w,x,y){var E=new Image;y&&y.corsenabled&&(E.crossOrigin="Anonymous"),E.src=w,E.onload=function(){var j=document.createElement("canvas");j.width=E.width,j.height=E.height;var U=j.getContext("2d");U.drawImage(E,0,0),x(j)}}},{key:"getImgdata",value:function(w){var x=w.getContext("2d");return x.getImageData(0,0,w.width,w.height)}},{key:"drawLayers",value:function(w,x,y,E){y=y||1;var j,U,Q,K,se,de;E?(de=document.getElementById(E),de||(de=document.createElement("div"),de.id=E,document.body.appendChild(de))):(de=document.createElement("div"),document.body.appendChild(de));for(se in w)if(!!w.hasOwnProperty(se)){j=w[se][0].length,U=w[se].length;var He=document.createElement("canvas");He.width=j*y,He.height=U*y;var Ue=He.getContext("2d");for(K=0;K<U;K+=1)for(Q=0;Q<j;Q+=1)Ue.fillStyle=this.torgbastr(x[w[se][K][Q]%x.length]),Ue.fillRect(Q*y,K*y,y,y);de.appendChild(He)}}}],[{key:"tracerDefaultOption",value:function(){return{pathomit:100,ltres:.1,qtres:1,scale:1,strokewidth:5,viewbox:!1,linefilter:!0,desc:!1,rightangleenhance:!1,pal:[{r:0,g:0,b:0,a:255},{r:255,g:255,b:255,a:255}]}}}]),G}(),Xv={getActions:function(){return{main:this._mainAction(),shape:this._shapeAction(),crop:this._cropAction(),resize:this._resizeAction(),flip:this._flipAction(),rotate:this._rotateAction(),text:this._textAction(),mask:this._maskAction(),draw:this._drawAction(),icon:this._iconAction(),filter:this._filterAction(),history:this._historyAction()}},_mainAction:function(){var A=this,w=function(){A.ui.submenu==="crop"&&(A.stopDrawingMode(),A.ui.changeMenu("crop"))},x=function(se){A.ui.submenu==="rotate"&&A.ui.rotate.setRangeBarAngle("setAngle",se)},y=function(se){A.ui.submenu==="filter"&&Vr()(A.ui).setFilterState(se)},E=function(se){return x(se),y(se),se},j=function(){var se=A._graphics.getZoomMode();A.stopDrawingMode(),se!==_i.ZOOM?(A.startDrawingMode(bn.ZOOM),A._graphics.startZoomInMode()):A._graphics.endZoomInMode()},U=function(){var se=A._graphics.getZoomMode();A.stopDrawingMode(),se!==_i.HAND?(A.startDrawingMode(bn.ZOOM),A._graphics.startHandMode()):A._graphics.endHandMode()},Q=function(){Vr()(A.ui)&&Vr()(A.ui).initFilterCheckBoxState()};return Se()({initLoadImage:function(se,de){return A.loadImageFromURL(se,de).then(function(He){w(),A.ui.initializeImgUrl=se,A.ui.resizeEditor({imageSize:He}),A.clearUndoStack(),A._invoker.fire(gt.EXECUTE_COMMAND,an.LOAD_IMAGE)})},undo:function(){A.isEmptyUndoStack()||(w(),A.deactivateAll(),A.undo().then(E))},redo:function(){A.isEmptyRedoStack()||(w(),A.deactivateAll(),A.redo().then(E))},reset:function(){w(),A.loadImageFromURL(A.ui.initializeImgUrl,"resetImage").then(function(se){w(),Q(),A.ui.resizeEditor({imageSize:se}),A.clearUndoStack(),A._initHistory()})},delete:function(){A.ui.changeHelpButtonEnabled("delete",!1),w(),A.removeActiveObject(),A.activeObjectId=null},deleteAll:function(){w(),A.clearObjects(),A.ui.changeHelpButtonEnabled("delete",!1),A.ui.changeHelpButtonEnabled("deleteAll",!1)},load:function(se){Li()||alert("This browser does not support file-api"),A.ui.initializeImgUrl=Me().createObjectURL(se),A.loadImageFromFile(se).then(function(de){w(),Q(),A.clearUndoStack(),A.ui.activeMenuEvent(),A.ui.resizeEditor({imageSize:de}),A._clearHistory(),A._invoker.fire(gt.EXECUTE_COMMAND,an.LOAD_IMAGE)}).catch(function(de){return Ke().reject(de)})},download:function(){var se=A.toDataURL(),de=A.getImageName(),He,Ue,nt;Li()&&window.saveAs?(He=$a(se),Ue=He.type.split("/")[1],de.split(".").pop()!==Ue&&(de+=".".concat(Ue)),saveAs(He,de)):(nt=window.open(),nt.document.body.innerHTML="<img src='".concat(se,"'>"))},history:function(se){A.ui.toggleHistoryMenu(se)},zoomIn:function(){A.ui.toggleZoomButtonStatus("zoomIn"),A.deactivateAll(),j()},zoomOut:function(){A._graphics.zoomOut()},hand:function(){A.ui.offZoomInButtonStatus(),A.ui.toggleZoomButtonStatus("hand"),A.deactivateAll(),U()}},this._commonAction())},_iconAction:function(){var A=this;return Se()({changeColor:function(x){A.activeObjectId&&A.changeIconColor(A.activeObjectId,x)},addIcon:function(x,y){A.startDrawingMode("ICON"),A.setDrawingIcon(x,y)},cancelAddIcon:function(){A.ui.icon.clearIconType(),A.changeSelectableAll(!0),A.changeCursor("default"),A.stopDrawingMode()},registerDefaultIcons:function(x,y){var E={};E[x]=y,A.registerIcons(E)},registerCustomIcon:function(x,y){var E=new zc;E.imageToSVG(x,function(j){var U=j.match(/path[^>]*d="([^"]*)"/),Q=ie(U,2),K=Q[1],se={};se[y.name]=K,A.registerIcons(se),A.addIcon(y.name,{left:100,top:100})},zc.tracerDefaultOption())}},this._commonAction())},_drawAction:function(){var A=this;return Se()({setDrawMode:function(x,y){A.stopDrawingMode(),x==="free"?A.startDrawingMode("FREE_DRAWING",y):A.startDrawingMode("LINE_DRAWING",y)},setColor:function(x){A.setBrush({color:x})}},this._commonAction())},_maskAction:function(){var A=this;return Se()({loadImageFromURL:function(x,y){return A.loadImageFromURL(A.toDataURL(),"FilterImage").then(function(){A.addImageObject(x).then(function(){Me().revokeObjectURL(y)}),A._invoker.fire(gt.EXECUTE_COMMAND,an.LOAD_MASK_IMAGE)})},applyFilter:function(){A.applyFilter("mask",{maskObjId:A.activeObjectId})}},this._commonAction())},_textAction:function(){var A=this;return Se()({changeTextStyle:function(x,y){A.activeObjectId&&A.changeTextStyle(A.activeObjectId,x,y)}},this._commonAction())},_rotateAction:function(){var A=this;return Se()({rotate:function(x,y){A.rotate(x,y),A.ui.resizeEditor(),A.ui.rotate.setRangeBarAngle("rotate",x)},setAngle:function(x,y){A.setAngle(x,y),A.ui.resizeEditor(),A.ui.rotate.setRangeBarAngle("setAngle",x)}},this._commonAction())},_shapeAction:function(){var A=this;return Se()({changeShape:function(x,y){A.activeObjectId&&A.changeShape(A.activeObjectId,x,y)},setDrawingShape:function(x){A.setDrawingShape(x)}},this._commonAction())},_cropAction:function(){var A=this;return Se()({crop:function(){var x=A.getCropzoneRect();x&&!Xo(x)&&A.crop(x).then(function(){A.stopDrawingMode(),A.ui.resizeEditor(),A.ui.changeMenu("crop"),A._invoker.fire(gt.EXECUTE_COMMAND,an.CROP)}).catch(function(y){return Ke().reject(y)})},cancel:function(){A.stopDrawingMode(),A.ui.changeMenu("crop")},preset:function(x){switch(x){case"preset-square":A.setCropzoneRect(1/1);break;case"preset-3-2":A.setCropzoneRect(3/2);break;case"preset-4-3":A.setCropzoneRect(4/3);break;case"preset-5-4":A.setCropzoneRect(5/4);break;case"preset-7-5":A.setCropzoneRect(7/5);break;case"preset-16-9":A.setCropzoneRect(16/9);break;default:A.setCropzoneRect(),A.ui.crop.changeApplyButtonStatus(!1);break}}},this._commonAction())},_resizeAction:function(){var A=this;return Se()({getCurrentDimensions:function(){return A._graphics.getCurrentDimensions()},preview:function(x,y,E){var j=A._graphics.getCurrentDimensions(),U=function(){return j.width/j.height},Q={};switch(x){case"width":Q.width=y,E?Q.height=y/U():Q.height=j.height;break;case"height":Q.height=y,E?Q.width=y*U():Q.width=j.width;break;default:Q=j}A._graphics.resize(Q).then(function(){A.ui.resizeEditor()}),E&&(A.ui.resize.setWidthValue(Q.width),A.ui.resize.setHeightValue(Q.height))},lockAspectRatio:function(x,y,E){var j=A._graphics.getCurrentDimensions(),U=j.width,Q=j.height,K=U/Q;if(x)if(U>Q){var se=E/K,de=y*K;A.ui.resize.setLimit({minWidth:de>y?de:y,minHeight:y,maxWidth:E,maxHeight:se<E?se:E})}else{var He=E*K,Ue=y/K;A.ui.resize.setLimit({minWidth:y,minHeight:Ue>y?Ue:y,maxWidth:He<E?He:E,maxHeight:E})}else A.ui.resize.setLimit({minWidth:y,minHeight:y,maxWidth:E,maxHeight:E})},resize:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;x||(x=A._graphics.getCurrentDimensions()),A.resize(x).then(function(){A._graphics.setOriginalDimensions(x),A.stopDrawingMode(),A.ui.resizeEditor(),A.ui.changeMenu("resize")}).catch(function(y){return Ke().reject(y)})},reset:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,y=A._graphics.getOriginalDimensions();A.ui.resize.setWidthValue(y.width,!0),A.ui.resize.setHeightValue(y.height,!0),A._graphics.resize(y).then(function(){x||(A.stopDrawingMode(),A.ui.resizeEditor(),A.ui.changeMenu("resize"))})}},this._commonAction())},_flipAction:function(){var A=this;return Se()({flip:function(x){return A[x]()}},this._commonAction())},_filterAction:function(){var A=this;return Se()({applyFilter:function(x,y,E,j){x?A.applyFilter(y,E,j):A.hasFilter(y)&&A.removeFilter(y)}},this._commonAction())},setReAction:function(){var A=this;this.on({undoStackChanged:function(x){x?(A.ui.changeHelpButtonEnabled("undo",!0),A.ui.changeHelpButtonEnabled("reset",!0)):(A.ui.changeHelpButtonEnabled("undo",!1),A.ui.changeHelpButtonEnabled("reset",!1)),A.ui.resizeEditor()},redoStackChanged:function(x){x?A.ui.changeHelpButtonEnabled("redo",!0):A.ui.changeHelpButtonEnabled("redo",!1),A.ui.resizeEditor()},objectActivated:function(x){var y,E;A.activeObjectId=x.id,A.ui.changeHelpButtonEnabled("delete",!0),A.ui.changeHelpButtonEnabled("deleteAll",!0),x.type==="cropzone"?A.ui.crop.changeApplyButtonStatus(!0):l()(y=["rect","circle","triangle"]).call(y,x.type)>-1?(A.stopDrawingMode(),A.ui.submenu!=="shape"&&A.ui.changeMenu("shape",!1,!1),A.ui.shape.setShapeStatus({strokeColor:x.stroke,strokeWidth:x.strokeWidth,fillColor:Le()(x)}),A.ui.shape.setMaxStrokeValue(Math.min(x.width,x.height))):x.type==="path"||x.type==="line"?A.ui.submenu!=="draw"&&(A.ui.changeMenu("draw",!1,!1),A.ui.draw.changeStandbyMode()):l()(E=["i-text","text"]).call(E,x.type)>-1?(A.ui.submenu!=="text"&&A.ui.changeMenu("text",!1,!1),A.ui.text.setTextStyleStateOnAction(x)):x.type==="icon"&&(A.stopDrawingMode(),A.ui.submenu!=="icon"&&A.ui.changeMenu("icon",!1,!1),A.ui.icon.setIconPickerColor(Le()(x)))},addText:function(x){var y=A.ui.text,E=y.textColor,j=y.fontSize,U=y.fontStyle,Q=y.fontWeight,K=y.underline,se="Noto Sans";A.addText("Double Click",{position:x.originPosition,styles:{fill:E,fontSize:j,fontFamily:se,fontStyle:U,fontWeight:Q,underline:K}}).then(function(){A.changeCursor("default")})},addObjectAfter:function(x){var y;x.type==="icon"?A.ui.icon.changeStandbyMode():l()(y=["rect","circle","triangle"]).call(y,x.type)>-1&&(A.ui.shape.setMaxStrokeValue(Math.min(x.width,x.height)),A.ui.shape.changeStandbyMode())},objectScaled:function(x){var y,E;if(l()(y=["i-text","text"]).call(y,x.type)>-1)A.ui.text.fontSize=Pn(x.fontSize);else if(l()(E=["rect","circle","triangle"]).call(E,x.type)>=0){var j=x.width,U=x.height,Q=A.ui.shape.getStrokeValue();j<Q&&A.ui.shape.setStrokeValue(j),U<Q&&A.ui.shape.setStrokeValue(U)}},selectionCleared:function(){A.activeObjectId=null,A.ui.submenu==="text"?A.changeCursor("text"):Ar(["draw","crop","resize"],A.ui.submenu)||A.stopDrawingMode()}})},_historyAction:function(){var A=this;return{undo:function(x){return A.undo(x)},redo:function(x){return A.redo(x)}}},_commonAction:function(){var A=this,w,x,y,E,j=bn.TEXT,U=bn.CROPPER,Q=bn.SHAPE,K=bn.ZOOM,se=bn.RESIZE;return{modeChange:function(He){switch(He){case vi.TEXT:A._changeActivateMode(j);break;case vi.CROP:A.startDrawingMode(U);break;case vi.SHAPE:A._changeActivateMode(Q),A.setDrawingShape(A.ui.shape.type,A.ui.shape.options);break;case vi.ZOOM:A.startDrawingMode(K);break;case vi.RESIZE:A.startDrawingMode(se);break}},deactivateAll:Te()(w=this.deactivateAll).call(w,this),changeSelectableAll:Te()(x=this.changeSelectableAll).call(x,this),discardSelection:Te()(y=this.discardSelection).call(y,this),stopDrawingMode:Te()(E=this.stopDrawingMode).call(E,this)}},mixin:function(A){Se()(A.prototype,this)}},Md=a(602),Od=a.n(Md),Zv=a(5573),Oi=a.n(Zv),Sr=function(){function G(A,w){me(this,G),this.name=A,this.graphics=w}return Pe(G,[{key:"fire",value:function(){for(var w=this.graphics,x=arguments.length,y=new Array(x),E=0;E<x;E++)y[E]=arguments[E];return this.graphics.fire.apply(w,y)}},{key:"setCanvasImage",value:function(w,x){this.graphics.setCanvasImage(w,x)}},{key:"getCanvasElement",value:function(){return this.graphics.getCanvasElement()}},{key:"getCanvas",value:function(){return this.graphics.getCanvas()}},{key:"getCanvasImage",value:function(){return this.graphics.getCanvasImage()}},{key:"getImageName",value:function(){return this.graphics.getImageName()}},{key:"getEditor",value:function(){return this.graphics.getEditor()}},{key:"getName",value:function(){return this.name}},{key:"setImageProperties",value:function(w,x){this.graphics.setImageProperties(w,x)}},{key:"setCanvasCssDimension",value:function(w){this.graphics.setCanvasCssDimension(w)}},{key:"setCanvasBackstoreDimension",value:function(w){this.graphics.setCanvasBackstoreDimension(w)}},{key:"adjustCanvasDimension",value:function(){this.graphics.adjustCanvasDimension()}},{key:"adjustCanvasDimensionBase",value:function(){this.graphics.adjustCanvasDimensionBase()}}]),G}(),sa=Sr;function Jv(G){var A=kd();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function kd(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var Kv={padding:0,crossOrigin:"Anonymous"},Hh=function(G){ne(w,G);var A=Jv(w);function w(x){return me(this,w),A.call(this,At.IMAGE_LOADER,x)}return Pe(w,[{key:"load",value:function(y,E){var j=this,U;if(!y&&!E){var Q=this.getCanvas();Q.backgroundImage=null,Q.renderAll(),U=new(Ke())(function(K){j.setCanvasImage("",null),K()})}else U=this._setBackgroundImage(E).then(function(K){return j.setCanvasImage(y,K),j.adjustCanvasDimension(),K});return U}},{key:"_setBackgroundImage",value:function(y){var E=this;return y?new(Ke())(function(j,U){var Q=E.getCanvas();Q.setBackgroundImage(y,function(){var K=Q.backgroundImage;K&&K.getElement()?j(K):U(Wn.loadingImageFailed)},Kv)}):Ke().reject(Wn.loadImage)}}]),w}(sa),nc=Hh,zh="tl",al="tr",ic="mt",rc="ml",Wc="mr",sl="mb",Qv="bl",qv="br",Pd=[zh,al,ic,rc,Wc,sl,Qv,qv],Wh=function(){};function em(G){return l()(Pd).call(Pd,G)>=0}function bo(G,A){return G>A?"width":"height"}var ac=Be.fabric.util.createClass(Be.fabric.Rect,{initialize:function(A,w,x){w=Se()(w,x),w.type="cropzone",this.callSuper("initialize",w),this._addEventHandler(),this.canvas=A,this.options=w},canvasEventDelegation:function(A){var w,x="unregistered",y=this.canvasEventTrigger[A]!==Wh;return y?x="registered":l()(w=[gt.OBJECT_MOVED,gt.OBJECT_SCALED]).call(w,A)<0&&(x="none"),x},canvasEventRegister:function(A,w){this.canvasEventTrigger[A]=w},_addEventHandler:function(){var A,w,x,y,E;this.canvasEventTrigger=(A={},le(A,gt.OBJECT_MOVED,Wh),le(A,gt.OBJECT_SCALED,Wh),A),this.on({moving:Te()(w=this._onMoving).call(w,this),scaling:Te()(x=this._onScaling).call(x,this)}),Be.fabric.util.addListener(document,"keydown",Te()(y=this._onKeyDown).call(y,this)),Be.fabric.util.addListener(document,"keyup",Te()(E=this._onKeyUp).call(E,this))},_renderCropzone:function(A){var w=7,x=7,y=this.flipX?-1:1,E=this.flipY?-1:1,j=y/this.scaleX,U=E/this.scaleY;A.scale(j,U),this._fillOuterRect(A,"rgba(0, 0, 0, 0.5)"),this.options.lineWidth?(this._fillInnerRect(A),this._strokeBorder(A,"rgb(255, 255, 255)",{lineWidth:this.options.lineWidth})):(this._strokeBorder(A,"rgb(0, 0, 0)",{lineDashWidth:w}),this._strokeBorder(A,"rgb(255, 255, 255)",{lineDashWidth:w,lineDashOffset:x})),A.scale(1/j,1/U)},_render:function(A){this.callSuper("_render",A),this._renderCropzone(A)},_fillOuterRect:function(A,w){var x=this._getCoordinates(),y=x.x,E=x.y;A.save(),A.fillStyle=w,A.beginPath(),A.moveTo(y[0]-1,E[0]-1),A.lineTo(y[3]+1,E[0]-1),A.lineTo(y[3]+1,E[3]+1),A.lineTo(y[0]-1,E[3]+1),A.lineTo(y[0]-1,E[0]-1),A.closePath(),A.moveTo(y[1],E[1]),A.lineTo(y[1],E[2]),A.lineTo(y[2],E[2]),A.lineTo(y[2],E[1]),A.lineTo(y[1],E[1]),A.closePath(),Le()(A).call(A),A.restore()},_fillInnerRect:function(A){var w=this._getCoordinates(),x=w.x,y=w.y,E=this._caculateInnerPosition(x,(x[2]-x[1])/3),j=this._caculateInnerPosition(y,(y[2]-y[1])/3);A.save(),A.strokeStyle="rgba(255, 255, 255, 0.7)",A.lineWidth=this.options.lineWidth,A.beginPath(),A.moveTo(E[0],j[1]),A.lineTo(E[3],j[1]),A.moveTo(E[0],j[2]),A.lineTo(E[3],j[2]),A.moveTo(E[1],j[0]),A.lineTo(E[1],j[3]),A.moveTo(E[2],j[0]),A.lineTo(E[2],j[3]),A.stroke(),A.closePath(),A.restore()},_caculateInnerPosition:function(A,w){var x=[];return x[0]=A[1],x[1]=A[1]+w,x[2]=A[1]+w*2,x[3]=A[2],x},_getCoordinates:function(){var A,w,x=this.canvas,y=this.width,E=this.height,j=this.left,U=this.top,Q=y/2,K=E/2,se=x.getHeight(),de=x.getWidth();return{x:Qi()(A=[-(Q+j),-Q,Q,Q+(de-j-y)]).call(A,Math.ceil),y:Qi()(w=[-(K+U),-K,K,K+(se-U-E)]).call(w,Math.ceil)}},_strokeBorder:function(A,w,x){var y=x.lineDashWidth,E=x.lineDashOffset,j=x.lineWidth,U=this.width/2,Q=this.height/2;A.save(),A.strokeStyle=w,A.setLineDash&&A.setLineDash([y,y]),E&&(A.lineDashOffset=E),j&&(A.lineWidth=j),A.beginPath(),A.moveTo(-U,-Q),A.lineTo(U,-Q),A.lineTo(U,Q),A.lineTo(-U,Q),A.lineTo(-U,-Q),A.stroke(),A.restore()},_onMoving:function(){var A=this.height,w=this.width,x=this.left,y=this.top,E=this.canvas.getWidth()-w,j=this.canvas.getHeight()-A;this.left=on(x,0,E),this.top=on(y,0,j),this.canvasEventTrigger[gt.OBJECT_MOVED](this)},_onScaling:function(A){var w=A.transform.corner,x=this.canvas.getPointer(A.e),y=this._calcScalingSizeFromPointer(x,w);this.scale(1).set(y),this.canvasEventTrigger[gt.OBJECT_SCALED](this)},_calcScalingSizeFromPointer:function(A,w){var x=em(w);return x&&this._resizeCropZone(A,w)},adjustRatioCropzoneSize:function(A){var w=A.width,x=A.height,y=A.leftMaker,E=A.topMaker,j=A.maxWidth,U=A.maxHeight,Q=A.scaleTo;if(w=j?on(w,1,j):w,x=U?on(x,1,U):x,!this.presetRatio)return this._withShiftKey&&(w>x?x=w:x>w&&(w=x)),{width:w,height:x,left:y(w),top:E(x)};Q==="width"?x=w/this.presetRatio:w=x*this.presetRatio;var K=Math.min(j/w,U/x);if(K<=1){var se,de=Qi()(se=[w,x]).call(se,function(Ue){return Ue*K}),He=ie(de,2);w=He[0],x=He[1]}return{width:w,height:x,left:y(w),top:E(x)}},_getCropzoneRectInfo:function(){var A=this.canvas,w=A.width,x=A.height,y=this.getBoundingRect(!1,!0),E=y.top,j=y.left,U=y.width,Q=y.height;return{rectTop:E,rectLeft:j,rectWidth:U,rectHeight:Q,rectRight:j+U,rectBottom:E+Q,canvasWidth:w,canvasHeight:x}},_resizeCropZone:function(A,w){var x=A.x,y=A.y,E=this._getCropzoneRectInfo(),j=E.rectWidth,U=E.rectHeight,Q=E.rectTop,K=E.rectLeft,se=E.rectBottom,de=E.rectRight,He=E.canvasWidth,Ue=E.canvasHeight,nt={tl:{width:de-x,height:se-y,leftMaker:function(rt){return de-rt},topMaker:function(rt){return se-rt},maxWidth:de,maxHeight:se,scaleTo:bo(K-x,Q-y)},tr:{width:x-K,height:se-y,leftMaker:function(){return K},topMaker:function(rt){return se-rt},maxWidth:He-K,maxHeight:se,scaleTo:bo(x-de,Q-y)},mt:{width:j,height:se-y,leftMaker:function(){return K},topMaker:function(rt){return se-rt},maxWidth:He-K,maxHeight:se,scaleTo:"height"},ml:{width:de-x,height:U,leftMaker:function(rt){return de-rt},topMaker:function(){return Q},maxWidth:de,maxHeight:Ue-Q,scaleTo:"width"},mr:{width:x-K,height:U,leftMaker:function(){return K},topMaker:function(){return Q},maxWidth:He-K,maxHeight:Ue-Q,scaleTo:"width"},mb:{width:j,height:y-Q,leftMaker:function(){return K},topMaker:function(){return Q},maxWidth:He-K,maxHeight:Ue-Q,scaleTo:"height"},bl:{width:de-x,height:y-Q,leftMaker:function(rt){return de-rt},topMaker:function(){return Q},maxWidth:de,maxHeight:Ue-Q,scaleTo:bo(K-x,y-se)},br:{width:x-K,height:y-Q,leftMaker:function(){return K},topMaker:function(){return Q},maxWidth:He-K,maxHeight:Ue-Q,scaleTo:bo(x-de,y-se)}};return this.adjustRatioCropzoneSize(nt[w])},isValid:function(){return this.left>=0&&this.top>=0&&this.width>0&&this.height>0},_onKeyDown:function(A){var w=A.keyCode;w===ui.SHIFT&&(this._withShiftKey=!0)},_onKeyUp:function(A){var w=A.keyCode;w===ui.SHIFT&&(this._withShiftKey=!1)}}),Ld=ac;function ge(G){var A=ol();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function ol(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var Uc=10,oa={presetRatio:null,top:-10,left:-10,height:1,width:1},Zn=function(G){ne(w,G);var A=ge(w);function w(x){var y,E,j,U,Q,K;return me(this,w),K=A.call(this,At.CROPPER,x),K._cropzone=null,K._startX=null,K._startY=null,K._withShiftKey=!1,K._listeners={keydown:Te()(y=K._onKeyDown).call(y,De(K)),keyup:Te()(E=K._onKeyUp).call(E,De(K)),mousedown:Te()(j=K._onFabricMouseDown).call(j,De(K)),mousemove:Te()(U=K._onFabricMouseMove).call(U,De(K)),mouseup:Te()(Q=K._onFabricMouseUp).call(Q,De(K))},K}return Pe(w,[{key:"start",value:function(){if(!this._cropzone){var y=this.getCanvas();y.forEachObject(function(E){E.evented=!1}),this._cropzone=new Ld(y,Se()({left:0,top:0,width:.5,height:.5,strokeWidth:0,cornerSize:10,cornerColor:"black",fill:"transparent"},li,this.graphics.cropSelectionStyle)),y.discardActiveObject(),y.add(this._cropzone),y.on("mouse:down",this._listeners.mousedown),y.selection=!1,y.defaultCursor="crosshair",Be.fabric.util.addListener(document,"keydown",this._listeners.keydown),Be.fabric.util.addListener(document,"keyup",this._listeners.keyup)}}},{key:"end",value:function(){var y=this.getCanvas(),E=this._cropzone;!E||(y.remove(E),y.selection=!0,y.defaultCursor="default",y.off("mouse:down",this._listeners.mousedown),y.forEachObject(function(j){j.evented=!0}),this._cropzone=null,Be.fabric.util.removeListener(document,"keydown",this._listeners.keydown),Be.fabric.util.removeListener(document,"keyup",this._listeners.keyup))}},{key:"changeVisibility",value:function(y){this._cropzone&&this._cropzone.set({visible:y})}},{key:"_onFabricMouseDown",value:function(y){var E=this.getCanvas();if(!y.target){E.selection=!1;var j=E.getPointer(y.e);this._startX=j.x,this._startY=j.y,E.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}}},{key:"_onFabricMouseMove",value:function(y){var E=this.getCanvas(),j=E.getPointer(y.e),U=j.x,Q=j.y,K=this._cropzone;Math.abs(U-this._startX)+Math.abs(Q-this._startY)>Uc&&(E.remove(K),K.set(this._calcRectDimensionFromPoint(U,Q,K.presetRatio)),E.add(K),E.setActiveObject(K))}},{key:"_calcRectDimensionFromPoint",value:function(y,E){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,U=this.getCanvas(),Q=U.getWidth(),K=U.getHeight(),se=this._startX,de=this._startY,He=on(y,0,se),Ue=on(E,0,de),nt=on(y,se,Q)-He,Qe=on(E,de,K)-Ue;return this._withShiftKey&&!j?(nt>Qe?Qe=nt:Qe>nt&&(nt=Qe),se>=y&&(He=se-nt),de>=E&&(Ue=de-Qe)):j&&(Qe=nt/j,se>=y&&(He=on(se-nt,0,Q)),de>=E&&(Ue=on(de-Qe,0,K)),Ue+Qe>K&&(Qe=K-Ue,nt=Qe*j,se>=y&&(He=on(se-nt,0,Q)),de>=E&&(Ue=on(de-Qe,0,K)))),{left:He,top:Ue,width:nt,height:Qe}}},{key:"_onFabricMouseUp",value:function(){var y=this._cropzone,E=this._listeners,j=this.getCanvas();j.setActiveObject(y),j.off({"mouse:move":E.mousemove,"mouse:up":E.mouseup})}},{key:"getCroppedImageData",value:function(y){var E=this.getCanvas(),j=E.contains(this._cropzone);if(!y)return null;j&&E.remove(this._cropzone);var U={imageName:this.getImageName(),url:E.toDataURL(y)};return j&&E.add(this._cropzone),U}},{key:"getCropzoneRect",value:function(){var y=this._cropzone;return y.isValid()?{left:y.left,top:y.top,width:y.width,height:y.height}:null}},{key:"setCropzoneRect",value:function(y){var E=this.getCanvas(),j=this._cropzone;E.discardActiveObject(),E.selection=!1,E.remove(j),j.set(y?this._getPresetPropertiesForCropSize(y):oa),E.add(j),E.selection=!0,y&&E.setActiveObject(j)}},{key:"_getPresetPropertiesForCropSize",value:function(y){var E,j,U=this.getCanvas(),Q=U.getWidth(),K=U.getHeight(),se=Q>=K?Q:K,de=function(Gt,ai){return Gt>ai?ai/Gt:1},He=se*y,Ue=se,nt=de(He,Q),Qe=Qi()(E=[He,Ue]).call(E,function(yn){return yn*nt}),rt=ie(Qe,2);He=rt[0],Ue=rt[1];var It=de(Ue,K),cn=Qi()(j=[He,Ue]).call(j,function(yn){return fs(yn*It)}),hn=ie(cn,2);return He=hn[0],Ue=hn[1],{presetRatio:y,top:(K-Ue)/2,left:(Q-He)/2,width:He,height:Ue}}},{key:"_onKeyDown",value:function(y){y.keyCode===ui.SHIFT&&(this._withShiftKey=!0)}},{key:"_onKeyUp",value:function(y){y.keyCode===ui.SHIFT&&(this._withShiftKey=!1)}}]),w}(sa),tm=Zn;function nm(G){var A=im();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function im(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var wo=function(G){ne(w,G);var A=nm(w);function w(x){return me(this,w),A.call(this,At.FLIP,x)}return Pe(w,[{key:"getCurrentSetting",value:function(){var y=this.getCanvasImage();return{flipX:y.flipX,flipY:y.flipY}}},{key:"set",value:function(y){var E=this.getCurrentSetting(),j=E.flipX!==y.flipX,U=E.flipY!==y.flipY;return!j&&!U?Ke().reject(Wn.flip):(Se()(E,y),this.setImageProperties(E,!0),this._invertAngle(j,U),this._flipObjects(j,U),Ke().resolve({flipX:E.flipX,flipY:E.flipY,angle:this.getCanvasImage().angle}))}},{key:"_invertAngle",value:function(y,E){var j=this.getCanvasImage(),U=j.angle;y&&(U*=-1),E&&(U*=-1),j.rotate(jn()(U)).setCoords()}},{key:"_flipObjects",value:function(y,E){var j=this.getCanvas();y&&j.forEachObject(function(U){U.set({angle:jn()(U.angle*-1),flipX:!U.flipX,left:j.width-U.left}).setCoords()}),E&&j.forEachObject(function(U){U.set({angle:jn()(U.angle*-1),flipY:!U.flipY,top:j.height-U.top}).setCoords()}),j.renderAll()}},{key:"reset",value:function(){return this.set({flipX:!1,flipY:!1})}},{key:"flipX",value:function(){var y=this.getCurrentSetting();return this.set({flipX:!y.flipX,flipY:y.flipY})}},{key:"flipY",value:function(){var y=this.getCurrentSetting();return this.set({flipX:y.flipX,flipY:!y.flipY})}}]),w}(sa),rm=wo;function am(G){var A=sm();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function sm(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var om=function(G){ne(w,G);var A=am(w);function w(x){return me(this,w),A.call(this,At.ROTATION,x)}return Pe(w,[{key:"getCurrentAngle",value:function(){return this.getCanvasImage().angle}},{key:"setAngle",value:function(y){var E=this.getCurrentAngle()%360;y%=360;var j=this.getCanvasImage(),U=j.getCenterPoint();j.set({angle:y}).setCoords(),this.adjustCanvasDimension();var Q=j.getCenterPoint();return this._rotateForEachObject(U,Q,y-E),Ke().resolve(y)}},{key:"_rotateForEachObject",value:function(y,E,j){var U=this.getCanvas(),Q={x:y.x-E.x,y:y.y-E.y};U.forEachObject(function(K){var se=K.getCenterPoint(),de=Be.fabric.util.degreesToRadians(j),He=Be.fabric.util.rotatePoint(se,y,de);K.set({left:He.x-Q.x,top:He.y-Q.y,angle:(K.angle+j)%360}),K.setCoords()}),U.renderAll()}},{key:"rotate",value:function(y){var E=this.getCurrentAngle();return this.setAngle(E+y)}}]),w}(sa),lm=om;function bs(G){var A=cm();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function cm(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var um=function(G){ne(w,G);var A=bs(w);function w(x){var y;return me(this,w),y=A.call(this,At.FREE_DRAWING,x),y.width=12,y.oColor=new Be.fabric.Color("rgba(0, 0, 0, 0.5)"),y}return Pe(w,[{key:"start",value:function(y){var E=this.getCanvas();E.isDrawingMode=!0,this.setBrush(y)}},{key:"setBrush",value:function(y){var E=this.getCanvas().freeDrawingBrush;y=y||{},this.width=y.width||this.width,y.color&&(this.oColor=new Be.fabric.Color(y.color)),E.width=this.width,E.color=this.oColor.toRgba()}},{key:"end",value:function(){var y=this.getCanvas();y.isDrawingMode=!1}}]),w}(sa),hm=um,Rd=30,fm=2.7,ws=1.7,Nd=180,dm=Be.fabric.util.createClass(Be.fabric.Line,{type:"line",initialize:function(A){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.callSuper("initialize",A,w),this.arrowType=w.arrowType},_render:function(A){var w=this.calcLinePoints(),x=w.x1,y=w.y1,E=w.x2,j=w.y2,U={fromX:x,fromY:y,toX:E,toY:j};this.ctx=A,A.lineWidth=this.strokeWidth,this._renderBasicLinePath(U),this._drawDecoratorPath(U),this._renderStroke(A)},_renderBasicLinePath:function(A){var w=A.fromX,x=A.fromY,y=A.toX,E=A.toY;this.ctx.beginPath(),this.ctx.moveTo(w,x),this.ctx.lineTo(y,E)},_drawDecoratorPath:function(A){this._drawDecoratorPathType("head",A),this._drawDecoratorPathType("tail",A)},_drawDecoratorPathType:function(A,w){switch(this.arrowType[A]){case"triangle":this._drawTrianglePath(A,w);break;case"chevron":this._drawChevronPath(A,w);break}},_drawTrianglePath:function(A,w){var x=this.ctx.lineWidth*ws;this._drawChevronPath(A,w,x),this.ctx.closePath()},_drawChevronPath:function(A,w,x){var y=this,E=w.fromX,j=w.fromY,U=w.toX,Q=w.toY,K=this.ctx;x||(x=this.ctx.lineWidth*fm);var se=A==="head"?[E,j]:[U,Q],de=ie(se,2),He=de[0],Ue=de[1],nt=A==="head"?[U,Q]:[E,j],Qe=ie(nt,2),rt=Qe[0],It=Qe[1],cn=Math.atan2(It-Ue,rt-He)*Nd/Math.PI,hn=function(Gt){return y.getRotatePosition(x,Gt,{x:He,y:Ue})};K.moveTo.apply(K,ee(hn(cn+Rd))),K.lineTo(He,Ue),K.lineTo.apply(K,ee(hn(cn-Rd)))},getRotatePosition:function(A,w,x){var y=w*Math.PI/Nd,E=x.x,j=x.y;return[A*Math.cos(y)+E,A*Math.sin(y)+j]}}),pm=dm;function gm(G){var A=vm();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function vm(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var Co=function(G){ne(w,G);var A=gm(w);function w(x){var y,E,j,U;return me(this,w),U=A.call(this,At.LINE,x),U._width=12,U._oColor=new Be.fabric.Color("rgba(0, 0, 0, 0.5)"),U._listeners={mousedown:Te()(y=U._onFabricMouseDown).call(y,De(U)),mousemove:Te()(E=U._onFabricMouseMove).call(E,De(U)),mouseup:Te()(j=U._onFabricMouseUp).call(j,De(U))},U}return Pe(w,[{key:"setHeadOption",value:function(y){var E=y.arrowType,j=E===void 0?{head:null,tail:null}:E;this._arrowType=j}},{key:"start",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=this.getCanvas();E.defaultCursor="crosshair",E.selection=!1,this.setHeadOption(y),this.setBrush(y),E.forEachObject(function(j){j.set({evented:!1})}),E.on({"mouse:down":this._listeners.mousedown})}},{key:"setBrush",value:function(y){var E=this.getCanvas().freeDrawingBrush;y=y||{},this._width=y.width||this._width,y.color&&(this._oColor=new Be.fabric.Color(y.color)),E.width=this._width,E.color=this._oColor.toRgba()}},{key:"end",value:function(){var y=this.getCanvas();y.defaultCursor="default",y.selection=!0,y.forEachObject(function(E){E.set({evented:!0})}),y.off("mouse:down",this._listeners.mousedown)}},{key:"_onFabricMouseDown",value:function(y){var E=this.getCanvas(),j=E.getPointer(y.e),U=j.x,Q=j.y,K=[U,Q,U,Q];this._line=new pm(K,{stroke:this._oColor.toRgba(),strokeWidth:this._width,arrowType:this._arrowType,evented:!1}),this._line.set(Mi.SELECTION_STYLE),E.add(this._line),E.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup}),this.fire(gt.ADD_OBJECT,this._createLineEventObjectProperties())}},{key:"_onFabricMouseMove",value:function(y){var E=this.getCanvas(),j=E.getPointer(y.e);this._line.set({x2:j.x,y2:j.y}),this._line.setCoords(),E.renderAll()}},{key:"_onFabricMouseUp",value:function(){var y=this.getCanvas();this.fire(gt.OBJECT_ADDED,this._createLineEventObjectProperties()),this._line=null,y.off({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}},{key:"_createLineEventObjectProperties",value:function(){var y=this.graphics.createObjectProperties(this._line),E=this._line,j=E.x1,U=E.x2,Q=E.y1,K=E.y2;return Se()({},y,{startPosition:{x:j,y:Q},endPosition:{x:U,y:K}})}}]),w}(sa),mm=Co;function ym(G){var A=Da();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function Da(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var bm={fill:"#000000",left:0,top:0},wm={fill:"#000000",fontStyle:"normal",fontWeight:"normal",textAlign:"tie-text-align-left",underline:!1},Cm=500,Sm=function(G){ne(w,G);var A=ym(w);function w(x){var y,E,j,U,Q,K;return me(this,w),K=A.call(this,At.TEXT,x),K._defaultStyles=bm,K._isSelected=!1,K._selectedObj={},K._editingObj={},K._listeners={mousedown:Te()(y=K._onFabricMouseDown).call(y,De(K)),select:Te()(E=K._onFabricSelect).call(E,De(K)),selectClear:Te()(j=K._onFabricSelectClear).call(j,De(K)),scaling:Te()(U=K._onFabricScaling).call(U,De(K)),textChanged:Te()(Q=K._onFabricTextChanged).call(Q,De(K))},K._textarea=null,K._ratio=1,K._lastClickTime=new Date().getTime(),K._editingObjInfos={},K.isPrevEditing=!1,K}return Pe(w,[{key:"start",value:function(){var y=this,E=this.getCanvas();E.selection=!1,E.defaultCursor="text",E.on({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged}),E.forEachObject(function(j){j.type==="i-text"&&y.adjustOriginPosition(j,"start")}),this.setCanvasRatio()}},{key:"end",value:function(){var y=this,E=this.getCanvas();E.selection=!0,E.defaultCursor="default",E.forEachObject(function(j){j.type==="i-text"&&(j.text===""?E.remove(j):y.adjustOriginPosition(j,"end"))}),E.off({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:selected":this._listeners.select,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged})}},{key:"adjustOriginPosition",value:function(y,E){var j="center",U="center";E==="start"&&(j="left",U="top");var Q=y.getPointByOrigin(j,U),K=Q.x,se=Q.y;y.set({left:K,top:se,originX:j,originY:U}),y.setCoords()}},{key:"add",value:function(y,E){var j=this;return new(Ke())(function(U){var Q,K=j.getCanvas(),se=null,de=Mi.SELECTION_STYLE,He=j._defaultStyles;j._setInitPos(E.position),E.styles&&(He=Se()(He,E.styles)),Cn()(E.autofocus)||(E.autofocus=!0),se=new Be.fabric.IText(y,He),de=Se()({},de,{originX:"left",originY:"top"}),se.set(de),se.on({mouseup:Te()(Q=j._onFabricMouseUp).call(Q,j)}),K.add(se),E.autofocus&&(se.enterEditing(),se.selectAll()),K.getActiveObject()||K.setActiveObject(se),j.isPrevEditing=!0,U(j.graphics.createObjectProperties(se))})}},{key:"change",value:function(y,E){var j=this;return new(Ke())(function(U){y.set("text",E),j.getCanvas().renderAll(),U()})}},{key:"setStyle",value:function(y,E){var j=this;return new(Ke())(function(U){_e()(E,function(Q,K){y[K]===Q&&K!=="fontSize"&&(E[K]=wm[K]||"")},j),"textDecoration"in E&&Se()(E,j._getTextDecorationAdaptObject(E.textDecoration)),y.set(E),j.getCanvas().renderAll(),U()})}},{key:"getText",value:function(y){return y.text}},{key:"setSelectedInfo",value:function(y,E){this._selectedObj=y,this._isSelected=E}},{key:"isSelected",value:function(){return this._isSelected}},{key:"getSelectedObj",value:function(){return this._selectedObj}},{key:"setCanvasRatio",value:function(){var y=this.getCanvasElement(),E=be()(y.style.maxWidth,10),j=y.width;this._ratio=j/E}},{key:"getCanvasRatio",value:function(){return this._ratio}},{key:"_getTextDecorationAdaptObject",value:function(y){return{underline:y==="underline",linethrough:y==="line-through",overline:y==="overline"}}},{key:"_setInitPos",value:function(y){y=y||this.getCanvasImage().getCenterPoint(),this._defaultStyles.left=y.x,this._defaultStyles.top=y.y}},{key:"_onInput",value:function(){var y=this.getCanvasRatio(),E=this._editingObj,j=this._textarea.style;j.width="".concat(Math.ceil(E.width/y),"px"),j.height="".concat(Math.ceil(E.height/y),"px")}},{key:"_onKeyDown",value:function(){var y=this,E=this.getCanvasRatio(),j=this._editingObj,U=this._textarea.style;d()(function(){j.text(y._textarea.value),U.width="".concat(Math.ceil(j.width/E),"px"),U.height="".concat(Math.ceil(j.height/E),"px")},0)}},{key:"_onBlur",value:function(){var y=this.getCanvasRatio(),E=this._editingObj,j=this._editingObjInfos,U=this._textarea.value,Q=E.width/y-j.width/y,K=E.height/y-j.height/y;if(y===1&&(Q/=2,K/=2),this._textarea.style.display="none",E.set({left:j.left+Q,top:j.top+K}),U.length){this.getCanvas().add(E);var se={id:kt(E),type:E.type,text:U};this.fire(gt.TEXT_CHANGED,se)}}},{key:"_onScroll",value:function(){this._textarea.scrollLeft=0,this._textarea.scrollTop=0}},{key:"_onFabricScaling",value:function(y){var E=y.target;E.fontSize=E.fontSize*E.scaleY,E.scaleX=1,E.scaleY=1}},{key:"_onFabricTextChanged",value:function(y){this.fire(gt.TEXT_CHANGED,y.target)}},{key:"_onFabricSelectClear",value:function(y){var E=this.getSelectedObj();this.isPrevEditing=!0,this.setSelectedInfo(y.target,!1),E&&E.text===""&&this.getCanvas().remove(E)}},{key:"_onFabricSelect",value:function(y){this.isPrevEditing=!0,this.setSelectedInfo(y.target,!0)}},{key:"_onFabricMouseDown",value:function(y){var E=y.target;if(!(E&&!E.isType("text"))){if(this.isPrevEditing){this.isPrevEditing=!1;return}this._fireAddText(y)}}},{key:"_fireAddText",value:function(y){var E=y.target,j=y.e||{},U=this.getCanvas().getPointer(j);E||this.fire(gt.ADD_TEXT,{originPosition:{x:U.x,y:U.y},clientPosition:{x:j.clientX||0,y:j.clientY||0}})}},{key:"_onFabricMouseUp",value:function(y){var E=y.target,j=new Date().getTime();this._isDoubleClick(j)&&!E.isEditing&&E.enterEditing(),E.isEditing&&this.fire(gt.TEXT_EDITING),this._lastClickTime=j}},{key:"_isDoubleClick",value:function(y){return y-this._lastClickTime<Cm}}]),w}(sa),_m=Sm;function Fd(G){var A=jd();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function jd(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var xm={arrow:"M 0 90 H 105 V 120 L 160 60 L 105 0 V 30 H 0 Z",cancel:"M 0 30 L 30 60 L 0 90 L 30 120 L 60 90 L 90 120 L 120 90 L 90 60 L 120 30 L 90 0 L 60 30 L 30 0 Z"},Em=function(G){ne(w,G);var A=Fd(w);function w(x){var y,E,j,U;return me(this,w),U=A.call(this,At.ICON,x),U._oColor="#000000",U._pathMap=xm,U._type=null,U._iconColor=null,U._handlers={mousedown:Te()(y=U._onFabricMouseDown).call(y,De(U)),mousemove:Te()(E=U._onFabricMouseMove).call(E,De(U)),mouseup:Te()(j=U._onFabricMouseUp).call(j,De(U))},U}return Pe(w,[{key:"setStates",value:function(y,E){this._type=y,this._iconColor=E}},{key:"start",value:function(){var y=this.getCanvas();y.selection=!1,y.on("mouse:down",this._handlers.mousedown)}},{key:"end",value:function(){var y=this.getCanvas();y.selection=!0,y.off({"mouse:down":this._handlers.mousedown})}},{key:"add",value:function(y,E){var j=this;return new(Ke())(function(U,Q){var K=j.getCanvas(),se=j._pathMap[y],de=Mi.SELECTION_STYLE,He=se?j._createIcon(se):null;j._icon=He,He||Q(Wn.invalidParameters),He.set(Se()({type:"icon",fill:j._oColor},de,E,j.graphics.controlStyle)),K.add(He).setActiveObject(He),U(j.graphics.createObjectProperties(He))})}},{key:"registerPaths",value:function(y){var E=this;_e()(y,function(j,U){E._pathMap[U]=j},this)}},{key:"setColor",value:function(y,E){this._oColor=y,E&&E.get("type")==="icon"&&(E.set({fill:this._oColor}),this.getCanvas().renderAll())}},{key:"getColor",value:function(y){return Le()(y)}},{key:"_createIcon",value:function(y){return new Be.fabric.Path(y)}},{key:"_onFabricMouseDown",value:function(y){var E=this,j=this.getCanvas();this._startPoint=j.getPointer(y.e);var U=this._startPoint,Q=U.x,K=U.y;this.add(this._type,{left:Q,top:K,fill:this._iconColor}).then(function(){E.fire(gt.ADD_OBJECT,E.graphics.createObjectProperties(E._icon)),j.on("mouse:move",E._handlers.mousemove),j.on("mouse:up",E._handlers.mouseup)})}},{key:"_onFabricMouseMove",value:function(y){var E=this.getCanvas();if(!!this._icon){var j=E.getPointer(y.e),U=(j.x-this._startPoint.x)/this._icon.width,Q=(j.y-this._startPoint.y)/this._icon.height;this._icon.set({scaleX:Math.abs(U*2),scaleY:Math.abs(Q*2)}),this._icon.setCoords(),E.renderAll()}}},{key:"_onFabricMouseUp",value:function(){var y=this.getCanvas();this.fire(gt.OBJECT_ADDED,this.graphics.createObjectProperties(this._icon)),this._icon=null,y.off("mouse:down",this._handlers.mousedown),y.off("mouse:move",this._handlers.mousemove),y.off("mouse:up",this._handlers.mouseup)}}]),w}(sa),Uh=Em,sc=Be.fabric.util.createClass(Be.fabric.Image.filters.BlendImage,{applyTo:function(A){if(!!this.mask){var w=A.canvasEl,x=w.width,y=w.height,E=this._createCanvasOfMask(x,y),j=w.getContext("2d"),U=E.getContext("2d"),Q=j.getImageData(0,0,x,y);this._drawMask(U,w,j),this._mapData(U,Q,x,y),A.imageData=Q}},_createCanvasOfMask:function(A,w){var x=Be.fabric.util.createCanvasElement();return x.width=A,x.height=w,x},_drawMask:function(A){var w=this.mask,x=w.getElement(),y=w.angle,E=w.left,j=w.scaleX,U=w.scaleY,Q=w.top;A.save(),A.translate(E,Q),A.rotate(y*Math.PI/180),A.scale(j,U),A.drawImage(x,-x.width/2,-x.height/2),A.restore()},_mapData:function(A,w,x,y){for(var E=w.data,j=w.height,U=w.width,Q=E,K=U*j*4,se=A.getImageData(0,0,x,y).data,de=0;de<K;de+=4)Q[de+3]=se[de]}}),Yc=sc,Tm=Be.fabric.util.createClass(Be.fabric.Image.filters.Convolute,{type:"Sharpen",initialize:function(){this.matrix=[0,-1,0,-1,5,-1,0,-1,0]}}),Bd=Tm,Im=Be.fabric.util.createClass(Be.fabric.Image.filters.Convolute,{type:"Emboss",initialize:function(){this.matrix=[1,1,1,1,.7,-1,-1,-1,-1]}}),Cs=Im,Yh=Be.fabric.util.createClass(Be.fabric.Image.filters.BaseFilter,{type:"ColorFilter",initialize:function(A){A||(A={}),this.color=A.color||"#FFFFFF",this.threshold=A.threshold||45,this.x=A.x||null,this.y=A.y||null},applyTo:function(A){var w=A.canvasEl,x=w.getContext("2d"),y=x.getImageData(0,0,w.width,w.height),E=y.data,j=this.threshold,U=Be.fabric.Color.sourceFromHex(this.color),Q,K;for(this.x&&this.y&&(U=this._getColor(y,this.x,this.y)),Q=0,K=E.length;Q<K;Q+=4)this._isOutsideThreshold(E[Q],U[0],j)||this._isOutsideThreshold(E[Q+1],U[1],j)||this._isOutsideThreshold(E[Q+2],U[2],j)||(E[Q]=E[Q+1]=E[Q+2]=E[Q+3]=0);x.putImageData(y,0,0)},_isOutsideThreshold:function(A,w,x){var y=A-w;return Math.abs(y)>x},_getColor:function(A,w,x){var y=[0,0,0,0],E=A.data,j=A.width,U=4,Q=(j*x+w)*U;return y[0]=E[Q],y[1]=E[Q+1],y[2]=E[Q+2],y[3]=E[Q+3],y}}),So=Yh;function la(G){var A=Dm();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function Dm(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var oc=Be.fabric.Image.filters;oc.Mask=Yc,oc.Sharpen=Bd,oc.Emboss=Cs,oc.ColorFilter=So;var Hd=function(G){ne(w,G);var A=la(w);function w(x){return me(this,w),A.call(this,At.FILTER,x)}return Pe(w,[{key:"add",value:function(y,E){var j=this;return new(Ke())(function(U,Q){var K=j._getSourceImage(),se=j.getCanvas(),de=j._getFilter(K,y);de||(de=j._createFilter(K,y,E)),de||Q(Wn.invalidParameters),j._changeFilterValues(de,E),j._apply(K,function(){se.renderAll(),U({type:y,action:"add",options:E})})})}},{key:"remove",value:function(y){var E=this;return new(Ke())(function(j,U){var Q=E._getSourceImage(),K=E.getCanvas(),se=E.getOptions(y);Q.filters.length||U(Wn.unsupportedOperation),E._removeFilter(Q,y),E._apply(Q,function(){K.renderAll(),j({type:y,action:"remove",options:se})})})}},{key:"hasFilter",value:function(y){return!!this._getFilter(this._getSourceImage(),y)}},{key:"getOptions",value:function(y){var E=this._getSourceImage(),j=this._getFilter(E,y);return j?Se()({},j.options):null}},{key:"_changeFilterValues",value:function(y,E){_e()(E,function(j,U){ve()(y[U])||(y[U]=j)}),_e()(y.options,function(j,U){ve()(E[U])||(y.options[U]=E[U])})}},{key:"_apply",value:function(y,E){y.filters.push();var j=y.applyFilters();j&&E()}},{key:"_getSourceImage",value:function(){return this.getCanvasImage()}},{key:"_createFilter",value:function(y,E,j){var U,Q=this._getFabricFilterType(E),K=Be.fabric.Image.filters[Q];return K&&(U=new K(j),U.options=j,y.filters.push(U)),U}},{key:"_getFilter",value:function(y,E){var j=null;if(y){var U=this._getFabricFilterType(E),Q=y.filters.length,K,se;for(se=0;se<Q;se+=1)if(K=y.filters[se],K.type===U){j=K;break}}return j}},{key:"_removeFilter",value:function(y,E){var j,U=this._getFabricFilterType(E);y.filters=Vr()(j=y.filters).call(j,function(Q){return Q.type!==U})}},{key:"_getFabricFilterType",value:function(y){return y.charAt(0).toUpperCase()+b()(y).call(y,1)}}]),w}(sa),lc=Hd,$s=a(1801),es=a.n($s),zd={pixelate:"blocksize",blur:"blur"},ll={x:"width",y:"height"},Am=Va(zd),cl=null;function zi(G){var A=yr(G,"patternSourceCanvas"),w=A.patternSourceCanvas,x=w.getObjects(),y=ie(x,1),E=y[0];return E}function Gh(G){var A=G.angle,w=G.flipX,x=G.flipY,y=zi(G),E=Lm(G),j=E.right,U=E.bottom,Q=E.width,K=E.height,se=(Q-G.width)/2,de=(K-G.height)/2,He=G.left-G.width/2-se,Ue=G.top-G.height/2-de,nt=Q/2-se,Qe=K/2-de,rt=Math.max(Q,K)+Math.max(se,de),It=ts({shapeObj:G,left:nt,top:Qe,width:Q,height:K,cropX:He,cropY:Ue,flipX:w,flipY:x,right:j,bottom:U}),cn=ie(It,4);nt=cn[0],Qe=cn[1],Q=cn[2],K=cn[3],y.set({angle:w===x?-A:A,left:nt,top:Qe,width:Q,height:K,cropX:He,cropY:Ue,flipX:w,flipY:x}),Ns(y,{fillImageMaxSize:rt})}function Gc(G){var A;return Qi()(A=G.filters).call(A,function(w){var x=st()(w),y=ie(x,1),E=y[0];return le({},Am[E],w[E])})}function ts(G){var A=G.shapeObj,w=G.left,x=G.top,y=G.width,E=G.height,j=G.cropX,U=G.cropY,Q=G.flipX,K=G.flipY,se=G.right,de=G.bottom,He=function(yn,Gt,ai,ir){return Mm({type:yn,outDistance:Gt,shapeObj:A,flipX:Q,flipY:K,left:ai,top:ir})},Ue=y,nt=E,Qe=$c(He,{left:w,top:x,width:y,height:E,cropX:j,cropY:U}),rt=ie(Qe,4);w=rt[0],x=rt[1],y=rt[2],E=rt[3];var It=$h(He,{left:w,top:x,insideCanvasRealImageWidth:y,insideCanvasRealImageHeight:E,right:se,bottom:de,cropX:j,cropY:U,originalWidth:Ue,originalHeight:nt}),cn=ie(It,4);return w=cn[0],x=cn[1],y=cn[2],E=cn[3],[w,x,y,E]}function $h(G,A){var w=A.left,x=A.top,y=A.insideCanvasRealImageWidth,E=A.insideCanvasRealImageHeight,j=A.right,U=A.bottom,Q=A.cropX,K=A.cropY,se=A.originalWidth,de=A.originalHeight,He=y,Ue=E,nt=cl,Qe=nt.width,rt=nt.height;j>Qe&&Q>0&&(He=se-Math.abs(j-Qe)),U>rt&&K>0&&(Ue=de-Math.abs(U-rt));var It={x:(y-He)/2,y:(E-Ue)/2};return _e()(["x","y"],function(cn){var hn=It[cn];if(hn>0){var yn=G(cn,hn,w,x),Gt=ie(yn,2);w=Gt[0],x=Gt[1]}}),[w,x,He,Ue]}function $c(G,A){var w=A.left,x=A.top,y=A.width,E=A.height,j=A.cropX,U=A.cropY,Q={width:y,height:E};return _e()(["x","y"],function(K){var se=K==="x"?j:U,de=Q[ll[K]],He=cl[ll[K]];if(de>He){var Ue=(de-He)/2;Q[ll[K]]=He;var nt=G(K,Ue,w,x),Qe=ie(nt,2);w=Qe[0],x=Qe[1]}if(se<0){var rt=G(K,se,w,x),It=ie(rt,2);w=It[0],x=It[1]}}),[w,x,Q.width,Q.height]}function Vs(G,A,w){var x=Vc(G),y=Ud(x,G.angle,A);w.add(y);var E={fill:new Be.fabric.Pattern({source:w.getElement(),repeat:"no-repeat"})};return Ns(E,{patternSourceCanvas:w}),E}function Wd(G){var A=G.getObjects(),w=ie(A,1),x=w[0],y=yr(x,"fillImageMaxSize"),E=y.fillImageMaxSize;E=Math.max(1,E),G.setDimensions({width:E,height:E}),G.renderAll()}function Or(G,A){var w=yr(G,"patternSourceCanvas"),x=w.patternSourceCanvas,y=x.getObjects(),E=ie(y,1),j=E[0],U=Gc(j);x.remove(j);var Q=Vc(A,!0),K=Ud(Q,A.angle,U);x.add(K)}function Vc(G){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(!cl||A)&&(cl=G.toCanvasElement()),cl}function Mm(G){var A=G.type,w=G.shapeObj,x=G.outDistance,y=G.left,E=G.top,j=G.flipX,U=G.flipY,Q=Xh(w),K=[[1,2],[0,3],[0,3],[1,2]],se=km(A,Q,K),de=Vh(A,Q,se),He=se.startPointIndex,Ue=Om({outDistance:x,startPointIndex:He,flipX:j,flipY:U,reatAngles:de});return[y+Ue.left,E+Ue.top]}function Om(G){var A=G.outDistance,w=G.startPointIndex,x=G.flipX,y=G.flipY,E=G.reatAngles,j=A*Math.cos(E[0]*Math.PI/180),U=A*Math.cos(E[1]*Math.PI/180),Q=w===2||w===3,K={top:Q?j:U,left:Q?U:j};return Pm(w,x,y)&&(K.left=K.left*-1),cc(w,x,y)&&(K.top=K.top*-1),K}function km(G,A,w){var x=0,y=0;_e()(A,function(Q,K){Q[G]<x&&(x=Q[G],y=K)});var E=ie(w[y],2),j=E[0],U=E[1];return{startPointIndex:y,endPointIndex1:j,endPointIndex2:U}}function Vh(G,A,w){var x,y=w.startPointIndex,E=w.endPointIndex1,j=w.endPointIndex2,U=G==="x"?180:270;return Qi()(x=[E,j]).call(x,function(Q){var K=A[y],se=A[Q],de=K.y-se.y,He=K.x-se.x;return Math.atan2(de,He)*180/Math.PI-U})}function Pm(G,A,w){return(!A&&w||!A&&!w)&&G===0||(A&&w||A&&!w)&&G===1||(!A&&!w||!A&&w)&&G===2||(A&&!w||A&&w)&&G===3}function cc(G,A,w){return(A&&!w||!A&&!w)&&G===0||(!A&&!w||A&&!w)&&G===1||(A&&w||!A&&w)&&G===2||(!A&&w||A&&w)&&G===3}function Xh(G){return[G.getPointByOrigin("left","top"),G.getPointByOrigin("right","top"),G.getPointByOrigin("left","bottom"),G.getPointByOrigin("right","bottom")]}function Lm(G){var A=Xh(G),w=ie(A,4),x=w[0],y=x.x,E=x.y,j=w[1],U=j.x,Q=j.y,K=w[2],se=K.x,de=K.y,He=w[3],Ue=He.x,nt=He.y,Qe=Math.min(y,U,se,Ue),rt=Math.min(E,Q,de,nt),It=Math.max(y,U,se,Ue),cn=Math.max(E,Q,de,nt);return{left:Qe,top:rt,right:It,bottom:cn,width:It-Qe,height:cn-rt}}function Ud(G,A,w){var x,y=new Be.fabric.Image(G);return _e()(Se().apply(void 0,he()(x=[{}]).call(x,ee(w))),function(E,j){var U=ta(j),Q=new Be.fabric.Image.filters[U](le({},zd[j],E));y.filters.push(Q)}),y.applyFilters(),Ns(y,{originalAngle:A,fillImageMaxSize:Math.max(y.width,y.height)}),es().adjustOriginToCenter(y),y}function uc(G){var A=Rm();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function Rm(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var Yd=Se()({strokeWidth:1,stroke:"#000000",fill:"#ffffff",width:1,height:1,rx:0,ry:0},ii),Zh="rect",Gd=20,Nm=20;function $d(G,A,w){var x=Le()(G),y=na(Le()(G)),E=x;x.color&&(E=x.color);var j=null;if(y==="filter"){var U=w();j=Vs(A,Vr()(x),U)}else j={fill:E};return Se()({},G,j)}var Fm=function(G){ne(w,G);var A=uc(w);function w(x){var y,E,j,U,Q,K;return me(this,w),K=A.call(this,At.SHAPE,x),K._shapeObj=null,K._type=Zh,K._options=Se()({},Yd),K._isSelected=!1,K._startPoint={},K._withShiftKey=!1,K._handlers={mousedown:Te()(y=K._onFabricMouseDown).call(y,De(K)),mousemove:Te()(E=K._onFabricMouseMove).call(E,De(K)),mouseup:Te()(j=K._onFabricMouseUp).call(j,De(K)),keydown:Te()(U=K._onKeyDown).call(U,De(K)),keyup:Te()(Q=K._onKeyUp).call(Q,De(K))},K}return Pe(w,[{key:"start",value:function(){var y=this.getCanvas();this._isSelected=!1,y.defaultCursor="crosshair",y.selection=!1,y.uniformScaling=!0,y.on({"mouse:down":this._handlers.mousedown}),Be.fabric.util.addListener(document,"keydown",this._handlers.keydown),Be.fabric.util.addListener(document,"keyup",this._handlers.keyup)}},{key:"end",value:function(){var y=this.getCanvas();this._isSelected=!1,y.defaultCursor="default",y.selection=!0,y.uniformScaling=!1,y.off({"mouse:down":this._handlers.mousedown}),Be.fabric.util.removeListener(document,"keydown",this._handlers.keydown),Be.fabric.util.removeListener(document,"keyup",this._handlers.keyup)}},{key:"setStates",value:function(y,E){this._type=y,E&&(this._options=Se()(this._options,E))}},{key:"add",value:function(y,E){var j=this;return new(Ke())(function(U){var Q=j.getCanvas(),K=j._extendOptions(E),se=j._createInstance(y,K),de=j.graphics.createObjectProperties(se);j._bindEventOnShape(se),Q.add(se).setActiveObject(se),j._resetPositionFillFilter(se),U(de)})}},{key:"change",value:function(y,E){var j=this;return new(Ke())(function(U,Q){ia(y)||Q(Wn.unsupportedType);var K=na(Le()(E))==="filter",se=j.graphics,de=se.canvasImage,He=se.createStaticCanvas;y.set(K?$d(E,de,He):E),K&&j._resetPositionFillFilter(y),j.getCanvas().renderAll(),U()})}},{key:"makeFillPropertyForUserEvent",value:function(y){var E=Xa(y),j={};if(E===St.FILTER){var U=zi(y),Q=Gc(U);j.type=E,j.filter=Q}else j.type=St.COLOR,j.color=Le()(y)||"transparent";return j}},{key:"processForCopiedObject",value:function(y,E){if(this._bindEventOnShape(y),Xa(y)==="filter"){var j=zi(E),U=Gc(j),Q=this.graphics.createStaticCanvas();y.set(Vs(this.graphics.canvasImage,U,Q)),this._resetPositionFillFilter(y)}}},{key:"_createInstance",value:function(y,E){var j;switch(y){case"rect":j=new Be.fabric.Rect(E);break;case"circle":j=new Be.fabric.Ellipse(Se()({type:"circle"},E));break;case"triangle":j=new Be.fabric.Triangle(E);break;default:j={}}return j}},{key:"_extendOptions",value:function(y){var E=Mi.SELECTION_STYLE,j=this.graphics,U=j.canvasImage,Q=j.createStaticCanvas;return y=Se()({},Yd,this._options,E,y),$d(y,U,Q)}},{key:"_bindEventOnShape",value:function(y){var E=this,j=this.getCanvas();y.on({added:function(){E._shapeObj=this,es().setOrigins(E._shapeObj)},selected:function(){E._isSelected=!0,E._shapeObj=this,j.uniformScaling=!0,j.defaultCursor="default",es().setOrigins(E._shapeObj)},deselected:function(){E._isSelected=!1,E._shapeObj=null,j.defaultCursor="crosshair",j.uniformScaling=!1},modified:function(){var Q=E._shapeObj;es().adjustOriginToCenter(Q),es().setOrigins(Q)},modifiedInGroup:function(Q){E._fillFilterRePositionInGroupSelection(y,Q)},moving:function(){E._resetPositionFillFilter(this)},rotating:function(){E._resetPositionFillFilter(this)},scaling:function(Q){var K=j.getPointer(Q.e),se=E._shapeObj;j.setCursor("crosshair"),es().resize(se,K,!0),E._resetPositionFillFilter(this)}})}},{key:"_onFabricMouseDown",value:function(y){if(y.target||(this._isSelected=!1,this._shapeObj=!1),!this._isSelected&&!this._shapeObj){var E=this.getCanvas();this._startPoint=E.getPointer(y.e),E.on({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}}},{key:"_onFabricMouseMove",value:function(y){var E=this,j=this.getCanvas(),U=j.getPointer(y.e),Q=this._startPoint.x,K=this._startPoint.y,se=Q-U.x,de=K-U.y,He=this._shapeObj;He?(this._shapeObj.set({isRegular:this._withShiftKey}),es().resize(He,U),j.renderAll(),this._resetPositionFillFilter(He)):this.add(this._type,{left:Q,top:K,width:se,height:de}).then(function(Ue){E.fire(gt.ADD_OBJECT,Ue)})}},{key:"_onFabricMouseUp",value:function(){var y=this,E=this.getCanvas(),j=this._startPoint.x,U=this._startPoint.y,Q=this._shapeObj;Q?Q&&(es().adjustOriginToCenter(Q),this.fire(gt.OBJECT_ADDED,this.graphics.createObjectProperties(Q))):this.add(this._type,{left:j,top:U,width:Gd,height:Nm}).then(function(K){y.fire(gt.ADD_OBJECT,K)}),E.off({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}},{key:"_onKeyDown",value:function(y){y.keyCode===ui.SHIFT&&(this._withShiftKey=!0,this._shapeObj&&(this._shapeObj.isRegular=!0))}},{key:"_onKeyUp",value:function(y){y.keyCode===ui.SHIFT&&(this._withShiftKey=!1,this._shapeObj&&(this._shapeObj.isRegular=!1))}},{key:"_resetPositionFillFilter",value:function(y){if(Xa(y)==="filter"){var E=yr(y,"patternSourceCanvas"),j=E.patternSourceCanvas,U=zi(y),Q=yr(U,"originalAngle"),K=Q.originalAngle;this.graphics.canvasImage.angle!==K&&Or(y,this.graphics.canvasImage);var se=y.originX,de=y.originY;es().adjustOriginToCenter(y),y.width*=y.scaleX,y.height*=y.scaleY,y.rx*=y.scaleX,y.ry*=y.scaleY,y.scaleX=1,y.scaleY=1,Gh(y),ho(y,{originX:se,originY:de}),Wd(j)}}},{key:"_fillFilterRePositionInGroupSelection",value:function(y,E){(E.scaleX!==1||E.scaleY!==1)&&E.addWithUpdate();var j=y.angle,U=y.left,Q=y.top;Be.fabric.util.addTransformToObject(y,E.calcTransformMatrix()),this._resetPositionFillFilter(y),y.set({angle:j,left:U,top:Q})}}]),w}(sa);function Vd(G){var A=Jh();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function Jh(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var Kh=10,Xc={left:0,top:0,width:0,height:0,stroke:"#000000",strokeWidth:0,fill:"#000000",opacity:.4,evented:!1,selectable:!1,hoverCursor:"auto"},Zc={SIZE:.0045,MARGIN:.003,BORDER_RADIUS:.003},Jc={SIZE:.0066,MARGIN:.0044,BORDER_RADIUS:.003},hc=1,fc=gt.ZOOM_CHANGED,jm=gt.ADD_TEXT,Xd=gt.TEXT_EDITING,Zd=gt.OBJECT_MODIFIED,Jd=gt.KEY_DOWN,Qh=gt.KEY_UP,Bm=gt.HAND_STARTED,qh=gt.HAND_STOPPED,Kd=function(G){ne(w,G);var A=Vd(w);function w(x){var y,E,j,U,Q,K,se,de,He,Ue,nt,Qe,rt;me(this,w),rt=A.call(this,At.ZOOM,x),rt.zoomArea=null,rt._startPoint=null,rt._centerPoints=[],rt.zoomLevel=hc,rt.zoomMode=_i.DEFAULT,rt._listeners={startZoom:Te()(y=rt._onMouseDownWithZoomMode).call(y,De(rt)),moveZoom:Te()(E=rt._onMouseMoveWithZoomMode).call(E,De(rt)),stopZoom:Te()(j=rt._onMouseUpWithZoomMode).call(j,De(rt)),startHand:Te()(U=rt._onMouseDownWithHandMode).call(U,De(rt)),moveHand:Te()(Q=rt._onMouseMoveWithHandMode).call(Q,De(rt)),stopHand:Te()(K=rt._onMouseUpWithHandMode).call(K,De(rt)),zoomChanged:Te()(se=rt._changeScrollState).call(se,De(rt)),keydown:Te()(de=rt._startHandModeWithSpaceBar).call(de,De(rt)),keyup:Te()(He=rt._endHandModeWithSpaceBar).call(He,De(rt))};var It=rt.getCanvas();return rt.aspectRatio=It.width/It.height,rt._verticalScroll=new Be.fabric.Rect(Xc),rt._horizontalScroll=new Be.fabric.Rect(Xc),It.on(fc,rt._listeners.zoomChanged),rt.graphics.on(jm,Te()(Ue=rt._startTextEditingHandler).call(Ue,De(rt))),rt.graphics.on(Xd,Te()(nt=rt._startTextEditingHandler).call(nt,De(rt))),rt.graphics.on(Zd,Te()(Qe=rt._stopTextEditingHandler).call(Qe,De(rt))),rt}return Pe(w,[{key:"attachKeyboardZoomEvents",value:function(){Be.fabric.util.addListener(document,Jd,this._listeners.keydown),Be.fabric.util.addListener(document,Qh,this._listeners.keyup)}},{key:"detachKeyboardZoomEvents",value:function(){Be.fabric.util.removeListener(document,Jd,this._listeners.keydown),Be.fabric.util.removeListener(document,Qh,this._listeners.keyup)}},{key:"_startTextEditingHandler",value:function(){this.isTextEditing=!0}},{key:"_stopTextEditingHandler",value:function(){this.isTextEditing=!1}},{key:"_startHandModeWithSpaceBar",value:function(y){this.withSpace||this.isTextEditing||y.keyCode===ui.SPACE&&(this.withSpace=!0,this.startHandMode())}},{key:"_endHandModeWithSpaceBar",value:function(y){y.keyCode===ui.SPACE&&(this.withSpace=!1,this.endHandMode())}},{key:"startZoomInMode",value:function(){if(!this.zoomArea){this.endHandMode(),this.zoomMode=_i.ZOOM;var y=this.getCanvas();this._changeObjectsEventedState(!1),this.zoomArea=new Be.fabric.Rect({left:0,top:0,width:.5,height:.5,stroke:"black",strokeWidth:1,fill:"transparent",hoverCursor:"zoom-in"}),y.discardActiveObject(),y.add(this.zoomArea),y.on("mouse:down",this._listeners.startZoom),y.selection=!1,y.defaultCursor="zoom-in"}}},{key:"endZoomInMode",value:function(){this.zoomMode=_i.DEFAULT;var y=this.getCanvas(),E=this._listeners,j=E.startZoom,U=E.moveZoom,Q=E.stopZoom;y.selection=!0,y.defaultCursor="auto",y.off({"mouse:down":j,"mouse:move":U,"mouse:up":Q}),this._changeObjectsEventedState(!0),y.remove(this.zoomArea),this.zoomArea=null}},{key:"start",value:function(){this.zoomArea=null,this._startPoint=null,this._startHandPoint=null}},{key:"end",value:function(){this.endZoomInMode(),this.endHandMode()}},{key:"startHandMode",value:function(){this.endZoomInMode(),this.zoomMode=_i.HAND;var y=this.getCanvas();this._changeObjectsEventedState(!1),y.discardActiveObject(),y.off("mouse:down",this._listeners.startHand),y.on("mouse:down",this._listeners.startHand),y.selection=!1,y.defaultCursor="grab",y.fire(Bm)}},{key:"endHandMode",value:function(){this.zoomMode=_i.DEFAULT;var y=this.getCanvas();this._changeObjectsEventedState(!0),y.off("mouse:down",this._listeners.startHand),y.selection=!0,y.defaultCursor="auto",this._startHandPoint=null,y.fire(qh)}},{key:"_onMouseDownWithZoomMode",value:function(y){var E=y.target,j=y.e;if(!E){var U=this.getCanvas();U.selection=!1,this._startPoint=U.getPointer(j),this.zoomArea.set({width:0,height:0});var Q=this._listeners,K=Q.moveZoom,se=Q.stopZoom;U.on({"mouse:move":K,"mouse:up":se})}}},{key:"_onMouseMoveWithZoomMode",value:function(y){var E=y.e,j=this.getCanvas(),U=j.getPointer(E),Q=U.x,K=U.y,se=this.zoomArea,de=this._startPoint,He=Math.abs(Q-de.x),Ue=Math.abs(K-de.y);He+Ue>Kh&&(j.remove(se),se.set(this._calcRectDimensionFromPoint(Q,K)),j.add(se))}},{key:"_calcRectDimensionFromPoint",value:function(y,E){var j=this.getCanvas(),U=j.getWidth(),Q=j.getHeight(),K=this._startPoint,se=K.x,de=K.y,He=Math.min,Ue=He(se,y),nt=He(de,E),Qe=on(y,se,U)-Ue,rt=on(E,de,Q)-nt;return{left:Ue,top:nt,width:Qe,height:rt}}},{key:"_onMouseUpWithZoomMode",value:function(){var y=this.zoomLevel,E=this.zoomArea,j=this._listeners,U=j.moveZoom,Q=j.stopZoom,K=this.getCanvas(),se=this._getCenterPoint(),de=se.x,He=se.y;this._isMaxZoomLevel()||(this._centerPoints.push({x:de,y:He,prevZoomLevel:y,zoomLevel:y+1}),y+=1,K.zoomToPoint({x:de,y:He},y),this._fireZoomChanged(K,y),this.zoomLevel=y),K.off({"mouse:move":U,"mouse:up":Q}),K.remove(E),this._startPoint=null}},{key:"_getCenterPoint",value:function(){var y=this.zoomArea,E=y.left,j=y.top,U=y.width,Q=y.height,K=this._startPoint,se=K.x,de=K.y,He=this.aspectRatio;return U<Kh&&Q<Kh?{x:se,y:de}:U>Q?{x:E+He*Q/2,y:j+Q/2}:{x:E+U/2,y:j+U/He/2}}},{key:"zoom",value:function(y){for(var E=y.x,j=y.y,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.zoomLevel,Q=this.getCanvas(),K=this._centerPoints,se=K.length-1;se>=0&&!(K[se].zoomLevel<U);se-=1){var de=K.pop(),He=de.x,Ue=de.y,nt=de.prevZoomLevel;Q.zoomToPoint({x:He,y:Ue},nt),this.zoomLevel=nt}Q.zoomToPoint({x:E,y:j},U),this._isDefaultZoomLevel(U)||this._centerPoints.push({x:E,y:j,zoomLevel:U,prevZoomLevel:this.zoomLevel}),this.zoomLevel=U,this._fireZoomChanged(Q,U)}},{key:"zoomOut",value:function(){var y=this._centerPoints;if(!!y.length){var E=this.getCanvas(),j=y.pop(),U=j.x,Q=j.y,K=j.prevZoomLevel;this._isDefaultZoomLevel(K)?E.setViewportTransform([1,0,0,1,0,0]):E.zoomToPoint({x:U,y:Q},K),this.zoomLevel=K,this._fireZoomChanged(E,this.zoomLevel)}}},{key:"resetZoom",value:function(){var y=this.getCanvas();y.setViewportTransform([1,0,0,1,0,0]),this.zoomLevel=hc,this._centerPoints=[],this._fireZoomChanged(y,this.zoomLevel)}},{key:"_isMaxZoomLevel",value:function(){return this.zoomLevel>=5}},{key:"_movePointOfZoom",value:function(y){var E=y.x,j=y.y,U=this._centerPoints;if(!!U.length){var Q=this.getCanvas(),K=this.zoomLevel,se=U.pop(),de=se.x,He=se.y,Ue=se.prevZoomLevel,nt=de-E,Qe=He-j;Q.zoomToPoint({x:de,y:He},Ue),Q.zoomToPoint({x:nt,y:Qe},K),U.push({x:nt,y:Qe,prevZoomLevel:Ue,zoomLevel:K}),this._fireZoomChanged(Q,K)}}},{key:"_onMouseDownWithHandMode",value:function(y){var E=y.target,j=y.e;if(!E){var U=this.getCanvas();if(!(this.zoomLevel<=hc)){U.selection=!1,this._startHandPoint=U.getPointer(j);var Q=this._listeners,K=Q.moveHand,se=Q.stopHand;U.on({"mouse:move":K,"mouse:up":se})}}}},{key:"_onMouseMoveWithHandMode",value:function(y){var E=y.e,j=this.getCanvas(),U=j.getPointer(E),Q=U.x,K=U.y,se=Q-this._startHandPoint.x,de=K-this._startHandPoint.y;this._movePointOfZoom({x:se,y:de})}},{key:"_onMouseUpWithHandMode",value:function(){var y=this.getCanvas(),E=this._listeners,j=E.moveHand,U=E.stopHand;y.off({"mouse:move":j,"mouse:up":U}),this._startHandPoint=null}},{key:"_changeScrollState",value:function(y){var E=y.viewport,j=y.zoomLevel,U=this.getCanvas();if(U.remove(this._verticalScroll),U.remove(this._horizontalScroll),!this._isDefaultZoomLevel(j)){var Q=U.width,K=U.height,se=E.tl,de=E.tr,He=E.bl,Ue=de.x-se.x,nt=He.y-se.y,Qe=Ue*Ue/Q,rt=nt*Jc.SIZE,It=on(se.x+se.x/Q*Ue,se.x,de.x-Qe),cn=nt*Jc.MARGIN,hn=nt*Jc.BORDER_RADIUS;this._horizontalScroll.set({left:It,top:He.y-rt-cn,width:Qe,height:rt,rx:hn,ry:hn});var yn=Ue*Zc.SIZE,Gt=nt*nt/K,ai=on(se.y+se.y/K*nt,de.y,He.y-Gt),ir=Ue*Zc.MARGIN,Pr=Ue*Zc.BORDER_RADIUS;this._verticalScroll.set({left:de.x-yn-ir,top:ai,width:yn,height:Gt,rx:Pr,ry:Pr}),this._addScrollBar()}}},{key:"_changeObjectsEventedState",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,E=this.getCanvas();E.forEachObject(function(j){j.evented=y})}},{key:"_addScrollBar",value:function(){var y=this,E=this.getCanvas();E.add(this._horizontalScroll),E.add(this._verticalScroll),this.scrollBarTid&&clearTimeout(this.scrollBarTid),this.scrollBarTid=d()(function(){E.remove(y._horizontalScroll),E.remove(y._verticalScroll)},3e3)}},{key:"_isDefaultZoomLevel",value:function(y){return y===hc}},{key:"_fireZoomChanged",value:function(y,E){y.fire(fc,{viewport:y.calcViewportBoundaries(),zoomLevel:E})}},{key:"mode",get:function(){return this.zoomMode}}]),w}(sa),ef=Kd,Qd=ps.create,Kc=ps.types,Hn=function(){function G(A){me(this,G),this.name=A}return Pe(G,[{key:"getName",value:function(){return this.name}},{key:"start",value:function(){throw new Error(Qd(Kc.UN_IMPLEMENTATION,"start"))}},{key:"end",value:function(){throw new Error(Qd(Kc.UN_IMPLEMENTATION,"stop"))}}]),G}(),Xs=Hn;function Hm(G){var A=dc();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function dc(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var qd=function(G){ne(w,G);var A=Hm(w);function w(){return me(this,w),A.call(this,bn.CROPPER)}return Pe(w,[{key:"start",value:function(y){var E=y.getComponent(At.CROPPER);E.start()}},{key:"end",value:function(y){var E=y.getComponent(At.CROPPER);E.end()}}]),w}(Xs),zm=qd;function Wm(G){var A=ca();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function ca(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var Um=function(G){ne(w,G);var A=Wm(w);function w(){return me(this,w),A.call(this,bn.FREE_DRAWING)}return Pe(w,[{key:"start",value:function(y,E){var j=y.getComponent(At.FREE_DRAWING);j.start(E)}},{key:"end",value:function(y){var E=y.getComponent(At.FREE_DRAWING);E.end()}}]),w}(Xs),Qc=Um;function tf(G){var A=ep();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function ep(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var tp=function(G){ne(w,G);var A=tf(w);function w(){return me(this,w),A.call(this,bn.LINE_DRAWING)}return Pe(w,[{key:"start",value:function(y,E){var j=y.getComponent(At.LINE);j.start(E)}},{key:"end",value:function(y){var E=y.getComponent(At.LINE);E.end()}}]),w}(Xs),Xr=tp;function Zs(G){var A=nf();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function nf(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var np=function(G){ne(w,G);var A=Zs(w);function w(){return me(this,w),A.call(this,bn.SHAPE)}return Pe(w,[{key:"start",value:function(y){var E=y.getComponent(At.SHAPE);E.start()}},{key:"end",value:function(y){var E=y.getComponent(At.SHAPE);E.end()}}]),w}(Xs),qc=np;function ip(G){var A=rf();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function rf(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var rp=function(G){ne(w,G);var A=ip(w);function w(){return me(this,w),A.call(this,bn.TEXT)}return Pe(w,[{key:"start",value:function(y){var E=y.getComponent(At.TEXT);E.start()}},{key:"end",value:function(y){var E=y.getComponent(At.TEXT);E.end()}}]),w}(Xs),af=rp;function sf(G){var A=Js();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function Js(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var Ym=function(G){ne(w,G);var A=sf(w);function w(){return me(this,w),A.call(this,bn.ICON)}return Pe(w,[{key:"start",value:function(y){var E=y.getComponent(At.ICON);E.start()}},{key:"end",value:function(y){var E=y.getComponent(At.ICON);E.end()}}]),w}(Xs),Ks=Ym;function ap(G){var A=sp();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function sp(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var of=function(G){ne(w,G);var A=ap(w);function w(){return me(this,w),A.call(this,bn.ZOOM)}return Pe(w,[{key:"start",value:function(y){var E=y.getComponent(At.ZOOM);E.start()}},{key:"end",value:function(y){var E=y.getComponent(At.ZOOM);E.end()}}]),w}(Xs),Gm=of,op=null;function lp(G){op=G}function cp(){return op}function eu(G,A){var w;if(G.type==="activeSelection"){var x;w=Qi()(x=G.getObjects()).call(x,function(y){var E=y.angle,j=y.left,U=y.top,Q=y.scaleX,K=y.scaleY,se=y.width,de=y.height;Be.fabric.util.addTransformToObject(y,G.calcTransformMatrix());var He=A(y);return y.set({angle:E,left:j,top:U,width:se,height:de,scaleX:Q,scaleY:K}),He})}else w=[A(G)];return w}function lf(G,A,w){return w?{id:G,width:A.width,height:A.height,top:A.top,left:A.left,angle:A.angle,scaleX:A.scaleX,scaleY:A.scaleY}:Se()({id:G},A)}function up(G){var A=hp();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function hp(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var zr=function(G){ne(w,G);var A=up(w);function w(x){var y;return me(this,w),y=A.call(this,At.RESIZE,x),y._dimensions=null,y._originalDimensions=null,y}return Pe(w,[{key:"getCurrentDimensions",value:function(){var y=this.getCanvasImage();if(!this._dimensions&&y){var E=y.width,j=y.height;this._dimensions={width:E,height:j}}return this._dimensions}},{key:"getOriginalDimensions",value:function(){return this._originalDimensions}},{key:"setOriginalDimensions",value:function(y){this._originalDimensions=y}},{key:"resize",value:function(y){var E=this.getCanvasImage(),j=E.width,U=E.height,Q=E.scaleX,K=E.scaleY,se=y.width,de=y.height,He={scaleX:se?se/j:Q,scaleY:de?de/U:K};return(Q!==He.scaleX||K!==He.scaleY)&&(E.set(He).setCoords(),this._dimensions={width:E.width*E.scaleX,height:E.height*E.scaleY}),this.adjustCanvasDimensionBase(),Ke().resolve()}},{key:"start",value:function(){var y=this.getCurrentDimensions();this.setOriginalDimensions(y)}},{key:"end",value:function(){}}]),w}(sa),ns=zr;function $m(G){var A=Vm();return function(){var x=et(G),y;if(A){var E=et(this).constructor;y=R()(x,arguments,E)}else y=x.apply(this,arguments);return We(this,y)}}function Vm(){if(typeof Reflect>"u"||!R()||R().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],function(){})),!0}catch{return!1}}var tu=function(G){ne(w,G);var A=$m(w);function w(){return me(this,w),A.call(this,bn.RESIZE)}return Pe(w,[{key:"start",value:function(y){var E=y.getComponent(At.RESIZE);E.start()}},{key:"end",value:function(y){var E=y.getComponent(At.RESIZE);E.end()}}]),w}(Xs),ul=tu,fp=1e3,dp=800,nu=10,pp={cssOnly:!0},hl={backstoreOnly:!0},fl=function(){function G(A){var w,x,y,E,j,U,Q,K,se,de,He,Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt=Ue.cssMaxWidth,Qe=Ue.cssMaxHeight;me(this,G),this.canvasImage=null,this.cssMaxWidth=nt||fp,this.cssMaxHeight=Qe||dp,this.cropSelectionStyle={},this.targetObjectForCopyPaste=null,this.imageName="",this._objects={},this._canvas=null,this._drawingMode=bn.NORMAL,this._drawingModeMap={},this._componentMap={},this._handler={onMouseDown:Te()(w=this._onMouseDown).call(w,this),onObjectAdded:Te()(x=this._onObjectAdded).call(x,this),onObjectRemoved:Te()(y=this._onObjectRemoved).call(y,this),onObjectMoved:Te()(E=this._onObjectMoved).call(E,this),onObjectScaled:Te()(j=this._onObjectScaled).call(j,this),onObjectModified:Te()(U=this._onObjectModified).call(U,this),onObjectRotated:Te()(Q=this._onObjectRotated).call(Q,this),onObjectSelected:Te()(K=this._onObjectSelected).call(K,this),onPathCreated:Te()(se=this._onPathCreated).call(se,this),onSelectionCleared:Te()(de=this._onSelectionCleared).call(de,this),onSelectionCreated:Te()(He=this._onSelectionCreated).call(He,this)},this._setObjectCachingToFalse(),this._setCanvasElement(A),this._createDrawingModeInstances(),this._createComponents(),this._attachCanvasEvents(),this._attachZoomEvents()}return Pe(G,[{key:"destroy",value:function(){var w=this._canvas.wrapperEl;this._canvas.clear(),w.parentNode.removeChild(w),this._detachZoomEvents()}},{key:"_attachZoomEvents",value:function(){var w=this.getComponent(At.ZOOM);w.attachKeyboardZoomEvents()}},{key:"_detachZoomEvents",value:function(){var w=this.getComponent(At.ZOOM);w.detachKeyboardZoomEvents()}},{key:"deactivateAll",value:function(){return this._canvas.discardActiveObject(),this}},{key:"renderAll",value:function(){return this._canvas.renderAll(),this}},{key:"add",value:function(w){var x,y=[];Od()(w)?y=w:y.push(w),(x=this._canvas).add.apply(x,ee(y))}},{key:"contains",value:function(w){return this._canvas.contains(w)}},{key:"getObjects",value:function(){var w;return b()(w=this._canvas.getObjects()).call(w)}},{key:"getObject",value:function(w){return this._objects[w]}},{key:"remove",value:function(w){this._canvas.remove(w)}},{key:"removeAll",value:function(w){var x,y=this._canvas,E=b()(x=y.getObjects()).call(x);return y.remove.apply(y,ee(this._canvas.getObjects())),w&&y.clear(),E}},{key:"removeObjectById",value:function(w){var x=[],y=this._canvas,E=this.getObject(w),j=E&&E.isType("group")&&!E.isEmpty();return j?(y.discardActiveObject(),E.forEachObject(function(U){x.push(U),y.remove(U)})):y.contains(E)&&(x.push(E),y.remove(E)),x}},{key:"getObjectId",value:function(w){var x=null;for(x in this._objects)if(this._objects.hasOwnProperty(x)&&w===this._objects[x])return x;return null}},{key:"getActiveObject",value:function(){return this._canvas._activeObject}},{key:"getActiveObjectIdForRemove",value:function(){var w=this.getActiveObject(),x=w.type,y=w.left,E=w.top,j=x==="activeSelection";if(j){var U=new Be.fabric.Group(ee(w.getObjects()),{left:y,top:E});return this._addFabricObject(U)}return this.getObjectId(w)}},{key:"isReadyRemoveObject",value:function(){var w=this.getActiveObject();return w&&!w.isEditing}},{key:"getActiveObjects",value:function(){var w=this._canvas._activeObject;return w&&w.type==="activeSelection"?w:null}},{key:"getActiveSelectionFromObjects",value:function(w){var x=this.getCanvas();return new Be.fabric.ActiveSelection(w,{canvas:x})}},{key:"setActiveObject",value:function(w){this._canvas.setActiveObject(w)}},{key:"setCropSelectionStyle",value:function(w){this.cropSelectionStyle=w}},{key:"getComponent",value:function(w){return this._componentMap[w]}},{key:"getDrawingMode",value:function(){return this._drawingMode}},{key:"startDrawingMode",value:function(w,x){if(this._isSameDrawingMode(w))return!0;this.stopDrawingMode();var y=this._getDrawingModeInstance(w);return y&&y.start&&(y.start(this,x),this._drawingMode=w),!!y}},{key:"stopDrawingMode",value:function(){if(!this._isSameDrawingMode(bn.NORMAL)){var w=this._getDrawingModeInstance(this.getDrawingMode());w&&w.end&&w.end(this),this._drawingMode=bn.NORMAL}}},{key:"zoom",value:function(w,x){var y=w.x,E=w.y,j=this.getComponent(At.ZOOM);j.zoom({x:y,y:E},x)}},{key:"getZoomMode",value:function(){var w=this.getComponent(At.ZOOM);return w.mode}},{key:"startZoomInMode",value:function(){var w=this.getComponent(At.ZOOM);w.startZoomInMode()}},{key:"endZoomInMode",value:function(){var w=this.getComponent(At.ZOOM);w.endZoomInMode()}},{key:"zoomOut",value:function(){var w=this.getComponent(At.ZOOM);w.zoomOut()}},{key:"startHandMode",value:function(){var w=this.getComponent(At.ZOOM);w.startHandMode()}},{key:"endHandMode",value:function(){var w=this.getComponent(At.ZOOM);w.endHandMode()}},{key:"resetZoom",value:function(){var w=this.getComponent(At.ZOOM);w.resetZoom()}},{key:"toDataURL",value:function(w){var x=this.getComponent(At.CROPPER);x.changeVisibility(!1);var y=this._canvas&&this._canvas.toDataURL(w);return x.changeVisibility(!0),y}},{key:"setCanvasImage",value:function(w,x){x&&kt(x),this.imageName=w,this.canvasImage=x}},{key:"setCssMaxDimension",value:function(w){this.cssMaxWidth=w.width||this.cssMaxWidth,this.cssMaxHeight=w.height||this.cssMaxHeight}},{key:"adjustCanvasDimension",value:function(){this.adjustCanvasDimensionBase(this.canvasImage.scale(1))}},{key:"adjustCanvasDimensionBase",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;w||(w=this.canvasImage);var x=w.getBoundingRect(),y=x.width,E=x.height,j=this._calcMaxDimension(y,E);this.setCanvasCssDimension({width:"100%",height:"100%","max-width":"".concat(j.width,"px"),"max-height":"".concat(j.height,"px")}),this.setCanvasBackstoreDimension({width:y,height:E}),this._canvas.centerObject(w)}},{key:"setCanvasCssDimension",value:function(w){this._canvas.setDimensions(w,pp)}},{key:"setCanvasBackstoreDimension",value:function(w){this._canvas.setDimensions(w,hl)}},{key:"setImageProperties",value:function(w,x){var y=this.canvasImage;!y||(y.set(w).setCoords(),x&&this._canvas.renderAll())}},{key:"getCanvasElement",value:function(){return this._canvas.getElement()}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getCanvasImage",value:function(){return this.canvasImage}},{key:"getImageName",value:function(){return this.imageName}},{key:"addImageObject",value:function(w){var x,y=this,E=Te()(x=this._callbackAfterLoadingImageObject).call(x,this);return new(Ke())(function(j){Be.fabric.Image.fromURL(w,function(U){E(U),j(y.createObjectProperties(U))},{crossOrigin:"Anonymous"})})}},{key:"getCenter",value:function(){return this._canvas.getCenter()}},{key:"getCropzoneRect",value:function(){return this.getComponent(At.CROPPER).getCropzoneRect()}},{key:"setCropzoneRect",value:function(w){this.getComponent(At.CROPPER).setCropzoneRect(w)}},{key:"getCroppedImageData",value:function(w){return this.getComponent(At.CROPPER).getCroppedImageData(w)}},{key:"setBrush",value:function(w){var x=this._drawingMode,y=At.FREE_DRAWING;x===bn.LINE_DRAWING&&(y=At.LINE),this.getComponent(y).setBrush(w)}},{key:"setDrawingShape",value:function(w,x){this.getComponent(At.SHAPE).setStates(w,x)}},{key:"setIconStyle",value:function(w,x){this.getComponent(At.ICON).setStates(w,x)}},{key:"registerPaths",value:function(w){this.getComponent(At.ICON).registerPaths(w)}},{key:"changeCursor",value:function(w){var x=this.getCanvas();x.defaultCursor=w,x.renderAll()}},{key:"hasFilter",value:function(w){return this.getComponent(At.FILTER).hasFilter(w)}},{key:"setSelectionStyle",value:function(w){Se()(Mi.SELECTION_STYLE,w)}},{key:"setObjectProperties",value:function(w,x){var y=this.getObject(w),E=Se()({},x);return y.set(E),y.setCoords(),this.getCanvas().renderAll(),E}},{key:"getObjectProperties",value:function(w,x){var y=this.getObject(w),E={};return ht()(x)?E[x]=y[x]:Od()(x)?vt()(x,function(j){E[j]=y[j]}):Oi()(x,function(j,U){E[U]=y[U]}),E}},{key:"getObjectPosition",value:function(w,x,y){var E=this.getObject(w);return E?E.getPointByOrigin(x,y):null}},{key:"setObjectPosition",value:function(w,x){var y=this.getObject(w),E=x.x,j=x.y,U=x.originX,Q=x.originY;if(!y)return!1;var K=y.getPointByOrigin(U,Q),se=y.getPointByOrigin("center","center"),de=se.x-K.x,He=se.y-K.y;return y.set({left:E+de,top:j+He}),y.setCoords(),!0}},{key:"getCanvasSize",value:function(){var w=this.getCanvasImage();return{width:w?w.width:0,height:w?w.height:0}}},{key:"createStaticCanvas",value:function(){var w=new Be.fabric.StaticCanvas;return w.set({enableRetinaScaling:!1}),w}},{key:"_getDrawingModeInstance",value:function(w){return this._drawingModeMap[w]}},{key:"_setObjectCachingToFalse",value:function(){Be.fabric.Object.prototype.objectCaching=!1}},{key:"_setCanvasElement",value:function(w){var x,y;w.nodeType?x=w:x=document.querySelector(w),x.nodeName.toUpperCase()!=="CANVAS"&&(y=document.createElement("canvas"),x.appendChild(y)),this._canvas=new Be.fabric.Canvas(y,{containerClass:"tui-image-editor-canvas-container",enableRetinaScaling:!1})}},{key:"_createDrawingModeInstances",value:function(){this._register(this._drawingModeMap,new zm),this._register(this._drawingModeMap,new Qc),this._register(this._drawingModeMap,new Xr),this._register(this._drawingModeMap,new qc),this._register(this._drawingModeMap,new af),this._register(this._drawingModeMap,new Ks),this._register(this._drawingModeMap,new Gm),this._register(this._drawingModeMap,new ul)}},{key:"_createComponents",value:function(){this._register(this._componentMap,new nc(this)),this._register(this._componentMap,new tm(this)),this._register(this._componentMap,new rm(this)),this._register(this._componentMap,new lm(this)),this._register(this._componentMap,new hm(this)),this._register(this._componentMap,new mm(this)),this._register(this._componentMap,new _m(this)),this._register(this._componentMap,new Uh(this)),this._register(this._componentMap,new lc(this)),this._register(this._componentMap,new Fm(this)),this._register(this._componentMap,new ef(this)),this._register(this._componentMap,new ns(this))}},{key:"_register",value:function(w,x){w[x.getName()]=x}},{key:"_isSameDrawingMode",value:function(w){return this.getDrawingMode()===w}},{key:"_calcMaxDimension",value:function(w,x){var y=this.cssMaxWidth/w,E=this.cssMaxHeight/x,j=Math.min(w,this.cssMaxWidth),U=Math.min(x,this.cssMaxHeight);return y<1&&y<E?(j=w*y,U=x*y):E<1&&E<y&&(j=w*E,U=x*E),{width:Math.floor(j),height:Math.floor(U)}}},{key:"_callbackAfterLoadingImageObject",value:function(w){var x=this.getCanvasImage().getCenterPoint();w.set(Mi.SELECTION_STYLE),w.set({left:x.x,top:x.y,crossOrigin:"Anonymous"}),this.getCanvas().add(w).setActiveObject(w)}},{key:"_attachCanvasEvents",value:function(){var w=this._canvas,x=this._handler;w.on({"mouse:down":x.onMouseDown,"object:added":x.onObjectAdded,"object:removed":x.onObjectRemoved,"object:moving":x.onObjectMoved,"object:scaling":x.onObjectScaled,"object:modified":x.onObjectModified,"object:rotating":x.onObjectRotated,"path:created":x.onPathCreated,"selection:cleared":x.onSelectionCleared,"selection:created":x.onSelectionCreated,"selection:updated":x.onObjectSelected})}},{key:"_onMouseDown",value:function(w){var x=this,y=w.e,E=w.target,j=this._canvas.getPointer(y);if(E){var U=E.type,Q=eu(E,function(K){return lf(x.getObjectId(K),K,U==="activeSelection")});lp(Q)}this.fire(gt.MOUSE_DOWN,y,j)}},{key:"_onObjectAdded",value:function(w){var x=w.target;x.isType("cropzone")||this._addFabricObject(x)}},{key:"_onObjectRemoved",value:function(w){var x=w.target;this._removeFabricObject(kt(x))}},{key:"_onObjectMoved",value:function(w){var x=this;this._lazyFire(gt.OBJECT_MOVED,function(y){return x.createObjectProperties(y)},w.target)}},{key:"_onObjectScaled",value:function(w){var x=this;this._lazyFire(gt.OBJECT_SCALED,function(y){return x.createObjectProperties(y)},w.target)}},{key:"_onObjectModified",value:function(w){var x=w.target;if(x.type==="activeSelection"){var y=x.getObjects();Xe()(y).call(y,function(E){return E.fire("modifiedInGroup",x)})}this.fire(gt.OBJECT_MODIFIED,x,this.getObjectId(x))}},{key:"_onObjectRotated",value:function(w){var x=this;this._lazyFire(gt.OBJECT_ROTATED,function(y){return x.createObjectProperties(y)},w.target)}},{key:"_lazyFire",value:function(w,x,y){var E=this,j=y&&y.canvasEventDelegation,U=j?y.canvasEventDelegation(w):"none";U==="unregistered"&&y.canvasEventRegister(w,function(Q){E.fire(w,x(Q))}),U==="none"&&this.fire(w,x(y))}},{key:"_onObjectSelected",value:function(w){var x=w.target,y=this.createObjectProperties(x);this.fire(gt.OBJECT_ACTIVATED,y)}},{key:"_onPathCreated",value:function(w){var x=w.path.getCenterPoint(),y=x.x,E=x.y;w.path.set(Se()({left:y,top:E},Mi.SELECTION_STYLE));var j=this.createObjectProperties(w.path);this.fire(gt.ADD_OBJECT,j)}},{key:"_onSelectionCleared",value:function(){this.fire(gt.SELECTION_CLEARED)}},{key:"_onSelectionCreated",value:function(w){var x=w.target,y=this.createObjectProperties(x);this.fire(gt.OBJECT_ACTIVATED,y),this.fire(gt.SELECTION_CREATED,w.target)}},{key:"discardSelection",value:function(){this._canvas.discardActiveObject(),this._canvas.renderAll()}},{key:"changeSelectableAll",value:function(w){this._canvas.forEachObject(function(x){x.selectable=w,x.hoverCursor=w?"move":"crosshair"})}},{key:"createObjectProperties",value:function(w){var x=["left","top","width","height","fill","stroke","strokeWidth","opacity","angle"],y={id:kt(w),type:w.type};if(Se()(y,In(w,x)),Ar(["i-text","text"],w.type))Se()(y,this._createTextProperties(w,y));else if(Ar(["rect","triangle","circle"],w.type)){var E=this.getComponent(At.SHAPE);Se()(y,{fill:E.makeFillPropertyForUserEvent(w)})}return y}},{key:"_createTextProperties",value:function(w){var x=["text","fontFamily","fontSize","fontStyle","textAlign","textDecoration","fontWeight"],y={};return Se()(y,In(w,x)),y}},{key:"_addFabricObject",value:function(w){var x=kt(w);return this._objects[x]=w,x}},{key:"_removeFabricObject",value:function(w){delete this._objects[w]}},{key:"resetTargetObjectForCopyPaste",value:function(){var w=this.getActiveObject();w&&(this.targetObjectForCopyPaste=w)}},{key:"pasteObject",value:function(){var w=this;if(!this.targetObjectForCopyPaste)return Ke().resolve([]);var x=this.targetObjectForCopyPaste,y=x.type==="activeSelection",E=y?x.getObjects():[x],j=null;return this.discardSelection(),this._cloneObject(E).then(function(U){if(U.length>1)j=w.getActiveSelectionFromObjects(U);else{var Q=ie(U,1);j=Q[0]}w.targetObjectForCopyPaste=j,w.setActiveObject(j)})}},{key:"_cloneObject",value:function(w){var x=this,y=Qi()(w).call(w,function(E){return x._cloneObjectItem(E)});return Ke().all(y)}},{key:"_cloneObjectItem",value:function(w){var x=this;return this._copyFabricObjectForPaste(w).then(function(y){var E=x.createObjectProperties(y);return x.add(y),x.fire(gt.ADD_OBJECT,E),y})}},{key:"_copyFabricObjectForPaste",value:function(w){var x=this,y=function(j,U){return U?j-nu:j+nu};return this._copyFabricObject(w).then(function(E){var j=E.left,U=E.top,Q=E.width,K=E.height,se=x.getCanvasSize(),de=se.width,He=se.height,Ue=j+Q/2,nt=U+K/2;return E.set(Se()({left:y(j,Ue+nu>de),top:y(U,nt+nu>He)},Mi.SELECTION_STYLE)),E})}},{key:"_copyFabricObject",value:function(w){var x=this;return new(Ke())(function(y){w.clone(function(E){var j=x.getComponent(At.SHAPE);ia(E)&&j.processForCopiedObject(E,w),y(E)})})}},{key:"getCurrentDimensions",value:function(){var w=this.getComponent(At.RESIZE);return w.getCurrentDimensions()}},{key:"getOriginalDimensions",value:function(){var w=this.getComponent(At.RESIZE);return w.getOriginalDimensions()}},{key:"setOriginalDimensions",value:function(w){var x=this.getComponent(At.RESIZE);x.setOriginalDimensions(w)}},{key:"resize",value:function(w){var x=this.getComponent(At.RESIZE);return x.resize(w)}}]),G}();Ve().mixin(fl);var Xm=fl,gp=gt.MOUSE_DOWN,vp=gt.OBJECT_MOVED,iu=gt.OBJECT_SCALED,mp=gt.OBJECT_ACTIVATED,ru=gt.OBJECT_ROTATED,au=gt.OBJECT_ADDED,su=gt.OBJECT_MODIFIED,Zm=gt.ADD_TEXT,yp=gt.ADD_OBJECT,ou=gt.TEXT_EDITING,bp=gt.TEXT_CHANGED,cf=gt.ICON_CREATE_RESIZE,Jm=gt.ICON_CREATE_END,uf=gt.SELECTION_CLEARED,is=gt.SELECTION_CREATED,wp=gt.ADD_OBJECT_AFTER,lu=function(){function G(A,w){var x,y,E,j,U,Q,K,se,de,He,Ue,nt,Qe,rt,It,cn;if(me(this,G),w=Se()({includeUI:!1,usageStatistics:!0},w),this.mode=null,this.activeObjectId=null,w.includeUI){var hn=w.includeUI;hn.usageStatistics=w.usageStatistics,this.ui=new fr(A,hn,this.getActions()),w=this.ui.setUiDefaultSelectionStyle(w)}this._invoker=new qo,this._graphics=new Xm(this.ui?this.ui.getEditorArea():A,{cssMaxWidth:w.cssMaxWidth,cssMaxHeight:w.cssMaxHeight}),this._handlers={keydown:Te()(x=this._onKeyDown).call(x,this),mousedown:Te()(y=this._onMouseDown).call(y,this),objectActivated:Te()(E=this._onObjectActivated).call(E,this),objectMoved:Te()(j=this._onObjectMoved).call(j,this),objectScaled:Te()(U=this._onObjectScaled).call(U,this),objectRotated:Te()(Q=this._onObjectRotated).call(Q,this),objectAdded:Te()(K=this._onObjectAdded).call(K,this),objectModified:Te()(se=this._onObjectModified).call(se,this),createdPath:this._onCreatedPath,addText:Te()(de=this._onAddText).call(de,this),addObject:Te()(He=this._onAddObject).call(He,this),textEditing:Te()(Ue=this._onTextEditing).call(Ue,this),textChanged:Te()(nt=this._onTextChanged).call(nt,this),iconCreateResize:Te()(Qe=this._onIconCreateResize).call(Qe,this),iconCreateEnd:Te()(rt=this._onIconCreateEnd).call(rt,this),selectionCleared:Te()(It=this._selectionCleared).call(It,this),selectionCreated:Te()(cn=this._selectionCreated).call(cn,this)},this._attachInvokerEvents(),this._attachGraphicsEvents(),this._attachDomEvents(),this._setSelectionStyle(w.selectionStyle,{applyCropSelectionStyle:w.applyCropSelectionStyle,applyGroupSelectionStyle:w.applyGroupSelectionStyle}),w.usageStatistics&&bi(),this.ui&&(this.ui.initCanvas(),this.setReAction(),this._attachColorPickerInputBoxEvents()),Be.fabric.enableGLFiltering=!1}return Pe(G,[{key:"_attachColorPickerInputBoxEvents",value:function(){var w=this;this.ui.on(gt.INPUT_BOX_EDITING_STARTED,function(){w.isColorPickerInputBoxEditing=!0}),this.ui.on(gt.INPUT_BOX_EDITING_STOPPED,function(){w.isColorPickerInputBoxEditing=!1})}},{key:"_detachColorPickerInputBoxEvents",value:function(){this.ui.off(gt.INPUT_BOX_EDITING_STARTED),this.ui.off(gt.INPUT_BOX_EDITING_STOPPED)}},{key:"_setSelectionStyle",value:function(w,x){var y=x.applyCropSelectionStyle,E=x.applyGroupSelectionStyle;w&&this._graphics.setSelectionStyle(w),y&&this._graphics.setCropSelectionStyle(w),E&&this.on("selectionCreated",function(j){j.type==="activeSelection"&&j.set(w)})}},{key:"_attachInvokerEvents",value:function(){var w,x,y=this,E=gt.UNDO_STACK_CHANGED,j=gt.REDO_STACK_CHANGED,U=gt.EXECUTE_COMMAND,Q=gt.AFTER_UNDO,K=gt.AFTER_REDO,se=gt.HAND_STARTED,de=gt.HAND_STOPPED;if(this._invoker.on(E,Te()(w=this.fire).call(w,this,E)),this._invoker.on(j,Te()(x=this.fire).call(x,this,j)),this.ui){var He=this._graphics.getCanvas();this._invoker.on(U,function(Ue){return y.ui.fire(U,Ue)}),this._invoker.on(Q,function(Ue){return y.ui.fire(Q,Ue)}),this._invoker.on(K,function(Ue){return y.ui.fire(K,Ue)}),He.on(se,function(){return y.ui.fire(se)}),He.on(de,function(){return y.ui.fire(de)})}}},{key:"_attachGraphicsEvents",value:function(){var w;this._graphics.on((w={},le(w,gp,this._handlers.mousedown),le(w,vp,this._handlers.objectMoved),le(w,iu,this._handlers.objectScaled),le(w,ru,this._handlers.objectRotated),le(w,mp,this._handlers.objectActivated),le(w,au,this._handlers.objectAdded),le(w,su,this._handlers.objectModified),le(w,Zm,this._handlers.addText),le(w,yp,this._handlers.addObject),le(w,ou,this._handlers.textEditing),le(w,bp,this._handlers.textChanged),le(w,cf,this._handlers.iconCreateResize),le(w,Jm,this._handlers.iconCreateEnd),le(w,uf,this._handlers.selectionCleared),le(w,is,this._handlers.selectionCreated),w))}},{key:"_attachDomEvents",value:function(){document.addEventListener("keydown",this._handlers.keydown)}},{key:"_detachDomEvents",value:function(){document.removeEventListener("keydown",this._handlers.keydown)}},{key:"_onKeyDown",value:function(w){var x=w.ctrlKey,y=w.keyCode,E=w.metaKey,j=x||E;j&&(y===ui.C?this._graphics.resetTargetObjectForCopyPaste():y===ui.V?(this._graphics.pasteObject(),this.clearRedoStack()):y===ui.Z?this.undo().catch(function(){}):y===ui.Y&&this.redo().catch(function(){}));var U=y===ui.BACKSPACE||y===ui.DEL,Q=this._graphics.isReadyRemoveObject();!this.isColorPickerInputBoxEditing&&Q&&U&&(w.preventDefault(),this.removeActiveObject())}},{key:"removeActiveObject",value:function(){var w=this._graphics.getActiveObjectIdForRemove();this.removeObject(w)}},{key:"_onMouseDown",value:function(w,x){this.fire(gt.MOUSE_DOWN,w,x)}},{key:"_pushAddObjectCommand",value:function(w){var x=fi.create(Kt.ADD_OBJECT,this._graphics,w);this._invoker.pushUndoStack(x)}},{key:"_pushModifyObjectCommand",value:function(w){var x=this,y=w.type,E=eu(w,function(U){return lf(x._graphics.getObjectId(U),U,y==="activeSelection")}),j=fi.create(Kt.CHANGE_SELECTION,this._graphics,E);j.execute(this._graphics,E),this._invoker.pushUndoStack(j)}},{key:"_onObjectActivated",value:function(w){this.fire(gt.OBJECT_ACTIVATED,w)}},{key:"_onObjectMoved",value:function(w){this.fire(gt.OBJECT_MOVED,w)}},{key:"_onObjectScaled",value:function(w){this.fire(gt.OBJECT_SCALED,w)}},{key:"_onObjectRotated",value:function(w){this.fire(gt.OBJECT_ROTATED,w)}},{key:"getDrawingMode",value:function(){return this._graphics.getDrawingMode()}},{key:"clearObjects",value:function(){return this.execute(Kt.CLEAR_OBJECTS)}},{key:"deactivateAll",value:function(){this._graphics.deactivateAll(),this._graphics.renderAll()}},{key:"discardSelection",value:function(){this._graphics.discardSelection()}},{key:"changeSelectableAll",value:function(w){this._graphics.changeSelectableAll(w)}},{key:"_initHistory",value:function(){this.ui&&this.ui.initHistory()}},{key:"_clearHistory",value:function(){this.ui&&this.ui.clearHistory()}},{key:"execute",value:function(w){for(var x,y,E,j=arguments.length,U=new Array(j>1?j-1:0),Q=1;Q<j;Q++)U[Q-1]=arguments[Q];var K=he()(x=[this._graphics]).call(x,U);return(y=this._invoker).execute.apply(y,he()(E=[w]).call(E,ee(K)))}},{key:"executeSilent",value:function(w){for(var x,y,E,j=arguments.length,U=new Array(j>1?j-1:0),Q=1;Q<j;Q++)U[Q-1]=arguments[Q];var K=he()(x=[this._graphics]).call(x,U);return(y=this._invoker).executeSilent.apply(y,he()(E=[w]).call(E,ee(K)))}},{key:"undo",value:function(){for(var w=this,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,y=Ke().resolve(),E=0;E<x;E+=1)y=y.then(function(){return w._invoker.undo()});return y}},{key:"redo",value:function(){for(var w=this,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,y=Ke().resolve(),E=0;E<x;E+=1)y=y.then(function(){return w._invoker.redo()});return y}},{key:"zoom",value:function(w){var x=w.x,y=w.y,E=w.zoomLevel;this._graphics.zoom({x,y},E)}},{key:"resetZoom",value:function(){this._graphics.resetZoom()}},{key:"loadImageFromFile",value:function(w,x){if(!w)return Ke().reject(Wn.invalidParameters);var y=Me().createObjectURL(w);return x=x||w.name,this.loadImageFromURL(y,x).then(function(E){return Me().revokeObjectURL(w),E})}},{key:"loadImageFromURL",value:function(w,x){return!x||!w?Ke().reject(Wn.invalidParameters):this.execute(Kt.LOAD_IMAGE,x,w)}},{key:"addImageObject",value:function(w){return w?this.execute(Kt.ADD_IMAGE_OBJECT,w):Ke().reject(Wn.invalidParameters)}},{key:"startDrawingMode",value:function(w,x){return this._graphics.startDrawingMode(w,x)}},{key:"stopDrawingMode",value:function(){this._graphics.stopDrawingMode()}},{key:"crop",value:function(w){var x=this._graphics.getCroppedImageData(w);return x?this.loadImageFromURL(x.url,x.imageName):Ke().reject(Wn.invalidParameters)}},{key:"getCropzoneRect",value:function(){return this._graphics.getCropzoneRect()}},{key:"setCropzoneRect",value:function(w){this._graphics.setCropzoneRect(w)}},{key:"_flip",value:function(w){return this.execute(Kt.FLIP_IMAGE,w)}},{key:"flipX",value:function(){return this._flip("flipX")}},{key:"flipY",value:function(){return this._flip("flipY")}},{key:"resetFlip",value:function(){return this._flip("reset")}},{key:"_rotate",value:function(w,x,y){var E=null;return y?E=this.executeSilent(Kt.ROTATE_IMAGE,w,x):E=this.execute(Kt.ROTATE_IMAGE,w,x),E}},{key:"rotate",value:function(w,x){return this._rotate("rotate",w,x)}},{key:"setAngle",value:function(w,x){return this._rotate("setAngle",w,x)}},{key:"setBrush",value:function(w){this._graphics.setBrush(w)}},{key:"setDrawingShape",value:function(w,x){this._graphics.setDrawingShape(w,x)}},{key:"setDrawingIcon",value:function(w,x){this._graphics.setIconStyle(w,x)}},{key:"addShape",value:function(w,x){return x=x||{},this._setPositions(x),this.execute(Kt.ADD_SHAPE,w,x)}},{key:"changeShape",value:function(w,x,y){var E=y?"executeSilent":"execute";return this[E](Kt.CHANGE_SHAPE,w,x)}},{key:"addText",value:function(w,x){return w=w||"",x=x||{},this.execute(Kt.ADD_TEXT,w,x)}},{key:"changeText",value:function(w,x){return x=x||"",this.execute(Kt.CHANGE_TEXT,w,x)}},{key:"changeTextStyle",value:function(w,x,y){var E=y?"executeSilent":"execute";return this[E](Kt.CHANGE_TEXT_STYLE,w,x)}},{key:"_changeActivateMode",value:function(w){w!=="ICON"&&this.getDrawingMode()!==w&&this.startDrawingMode(w)}},{key:"_onTextChanged",value:function(w){this.fire(gt.TEXT_CHANGED,w)}},{key:"_onIconCreateResize",value:function(w){this.fire(gt.ICON_CREATE_RESIZE,w)}},{key:"_onIconCreateEnd",value:function(w){this.fire(gt.ICON_CREATE_END,w)}},{key:"_onTextEditing",value:function(){this.fire(gt.TEXT_EDITING)}},{key:"_onAddText",value:function(w){this.fire(gt.ADD_TEXT,{originPosition:w.originPosition,clientPosition:w.clientPosition})}},{key:"_onAddObject",value:function(w){var x=this._graphics.getObject(w.id);this._invoker.fire(gt.EXECUTE_COMMAND,ds(x.type)),this._pushAddObjectCommand(x)}},{key:"_onObjectAdded",value:function(w){this.fire(au,w),this.fire(wp,w)}},{key:"_onObjectModified",value:function(w){w.type!==Wt.CROPZONE&&(this._invoker.fire(gt.EXECUTE_COMMAND,ds(w.type)),this._pushModifyObjectCommand(w))}},{key:"_selectionCleared",value:function(){this.fire(uf)}},{key:"_selectionCreated",value:function(w){this.fire(is,w)}},{key:"registerIcons",value:function(w){this._graphics.registerPaths(w)}},{key:"changeCursor",value:function(w){this._graphics.changeCursor(w)}},{key:"addIcon",value:function(w,x){return x=x||{},this._setPositions(x),this.execute(Kt.ADD_ICON,w,x)}},{key:"changeIconColor",value:function(w,x){return this.execute(Kt.CHANGE_ICON_COLOR,w,x)}},{key:"removeObject",value:function(w){var x=this._graphics.getObject(w),y=x.type;return this.execute(Kt.REMOVE_OBJECT,w,ds(y))}},{key:"hasFilter",value:function(w){return this._graphics.hasFilter(w)}},{key:"removeFilter",value:function(w){return this.execute(Kt.REMOVE_FILTER,w)}},{key:"applyFilter",value:function(w,x,y){var E=y?"executeSilent":"execute";return this[E](Kt.APPLY_FILTER,w,x)}},{key:"toDataURL",value:function(w){return this._graphics.toDataURL(w)}},{key:"getImageName",value:function(){return this._graphics.getImageName()}},{key:"clearUndoStack",value:function(){this._invoker.clearUndoStack()}},{key:"clearRedoStack",value:function(){this._invoker.clearRedoStack()}},{key:"isEmptyUndoStack",value:function(){return this._invoker.isEmptyUndoStack()}},{key:"isEmptyRedoStack",value:function(){return this._invoker.isEmptyRedoStack()}},{key:"resizeCanvasDimension",value:function(w){return w?this.execute(Kt.RESIZE_CANVAS_DIMENSION,w):Ke().reject(Wn.invalidParameters)}},{key:"destroy",value:function(){var w=this;this.stopDrawingMode(),this._detachDomEvents(),this._graphics.destroy(),this._graphics=null,this.ui&&(this._detachColorPickerInputBoxEvents(),this.ui.destroy()),_e()(this,function(x,y){w[y]=null},this)}},{key:"_setPositions",value:function(w){var x=this._graphics.getCenter();ve()(w.left)&&(w.left=x.left),ve()(w.top)&&(w.top=x.top)}},{key:"setObjectProperties",value:function(w,x){return this.execute(Kt.SET_OBJECT_PROPERTIES,w,x)}},{key:"setObjectPropertiesQuietly",value:function(w,x){this._graphics.setObjectProperties(w,x)}},{key:"getObjectProperties",value:function(w,x){var y=this._graphics.getObject(w);return y?this._graphics.getObjectProperties(w,x):null}},{key:"getCanvasSize",value:function(){return this._graphics.getCanvasSize()}},{key:"getObjectPosition",value:function(w,x,y){return this._graphics.getObjectPosition(w,x,y)}},{key:"setObjectPosition",value:function(w,x){return this.execute(Kt.SET_OBJECT_POSITION,w,x)}},{key:"resize",value:function(w){return this.execute(Kt.RESIZE_IMAGE,w)}}]),G}();Xv.mixin(lu),Ve().mixin(lu);var Km=lu,Cp=At.ICON,Qm={name:Kt.ADD_ICON,execute:function(A,w,x){var y=this,E=A.getComponent(Cp);return E.add(w,x).then(function(j){return y.undoData.object=A.getObject(j.id),j})},undo:function(A){return A.remove(this.undoData.object),Ke().resolve()}};fi.register(Qm);var qm={name:Kt.ADD_IMAGE_OBJECT,execute:function(A,w){var x=this;return A.addImageObject(w).then(function(y){return x.undoData.object=A.getObject(y.id),y})},undo:function(A){return A.remove(this.undoData.object),Ke().resolve()}};fi.register(qm);var Ss={name:Kt.ADD_OBJECT,execute:function(A,w){return new(Ke())(function(x,y){A.contains(w)?y(Wn.addedObject):(A.add(w),x(w))})},undo:function(A,w){return new(Ke())(function(x,y){A.contains(w)?(A.remove(w),x(w)):y(Wn.noObject)})}};fi.register(Ss);var hf=At.SHAPE,ff={name:Kt.ADD_SHAPE,execute:function(A,w,x){var y=this,E=A.getComponent(hf);return E.add(w,x).then(function(j){var U=j.id;return y.undoData.object=A.getObject(U),j})},undo:function(A){return A.remove(this.undoData.object),Ke().resolve()}};fi.register(ff);var df=At.TEXT,cu={name:Kt.ADD_TEXT,execute:function(A,w,x){var y=this,E=A.getComponent(df);if(this.undoData.object){var j=this.undoData.object;return new(Ke())(function(U,Q){A.contains(j)?Q(Wn.redo):(A.add(j),U(j))})}return E.add(w,x).then(function(U){var Q=U.id,K=A.getObject(Q);return y.undoData.object=K,lp(eu(K,function(){return lf(Q,K,!1)})),U})},undo:function(A){return A.remove(this.undoData.object),Ke().resolve()}};fi.register(cu);var _o=At.FILTER,Sn=null;function uu(G,A,w){var x={};return G==="mask"&&(x.object=w.mask),x.options=A,x}var pf={name:Kt.APPLY_FILTER,execute:function(A,w,x,y){var E=A.getComponent(_o);if(w==="mask"){var j=A.getObject(x.maskObjId);if(!(j&&j.isType("image")))return Ke().reject(Wn.invalidParameters);Se()(x,{mask:j}),A.remove(x.mask)}if(!this.isRedo){var U=E.getOptions(w),Q=uu(w,U,x);Sn=this.setUndoData(Q,Sn,y)}return E.add(w,x)},undo:function(A,w){var x=A.getComponent(_o);if(w==="mask"){var y=this.undoData.object;return A.add(y),A.setActiveObject(y),x.remove(w)}return this.undoData.options?x.add(w,this.undoData.options):x.remove(w)}};fi.register(pf);var Qs=At.ICON,ey={name:Kt.CHANGE_ICON_COLOR,execute:function(A,w,x){var y=this;return new(Ke())(function(E,j){var U=A.getComponent(Qs),Q=A.getObject(w);Q||j(Wn.noObject),y.undoData.object=Q,y.undoData.color=U.getColor(Q),U.setColor(x,Q),E()})},undo:function(A){var w=A.getComponent(Qs),x=this.undoData,y=x.object,E=x.color;return w.setColor(E,y),Ke().resolve()}};fi.register(ey);var hu=At.SHAPE,gf=null;function _r(G,A){var w={object:A,options:{}};return Oi()(G,function(x,y){w.options[y]=A[y]}),w}var ty={name:Kt.CHANGE_SHAPE,execute:function(A,w,x,y){var E=A.getComponent(hu),j=A.getObject(w);if(!j)return Ke().reject(Wn.noObject);if(!this.isRedo){var U=_r(x,j);gf=this.setUndoData(U,gf,y)}return E.change(j,x)},undo:function(A){var w=A.getComponent(hu),x=this.undoData,y=x.object,E=x.options;return w.change(y,E)}};fi.register(ty);var Sp=At.TEXT,_p={name:Kt.CHANGE_TEXT,execute:function(A,w,x){var y=A.getComponent(Sp),E=A.getObject(w);return E?(this.undoData.object=E,this.undoData.text=y.getText(E),y.change(E,x)):Ke().reject(Wn.noObject)},undo:function(A){var w=A.getComponent(Sp),x=this.undoData,y=x.object,E=x.text;return w.change(y,E)}};fi.register(_p);var xp=At.TEXT,vf=null;function ny(G,A){var w={object:A,styles:{}};return Oi()(G,function(x,y){var E=A[y];w.styles[y]=E}),w}var iy={name:Kt.CHANGE_TEXT_STYLE,execute:function(A,w,x,y){var E=A.getComponent(xp),j=A.getObject(w);if(!j)return Ke().reject(Wn.noObject);if(!this.isRedo){var U=ny(x,j);vf=this.setUndoData(U,vf,y)}return E.setStyle(j,x)},undo:function(A){var w=A.getComponent(xp),x=this.undoData,y=x.object,E=x.styles;return w.setStyle(y,E)}};fi.register(iy);var ry={name:Kt.CLEAR_OBJECTS,execute:function(A){var w=this;return new(Ke())(function(x){w.undoData.objects=A.removeAll(),x()})},undo:function(A){return A.add(this.undoData.objects),Ke().resolve()}};fi.register(ry);var rs=At.FLIP,kr={name:Kt.FLIP_IMAGE,execute:function(A,w){var x=A.getComponent(rs);return this.undoData.setting=x.getCurrentSetting(),x[w]()},undo:function(A){var w=A.getComponent(rs);return w.set(this.undoData.setting)}};fi.register(kr);var fu=At.IMAGE_LOADER,ay={name:Kt.LOAD_IMAGE,execute:function(A,w,x){var y,E=A.getComponent(fu),j=E.getCanvasImage(),U=j?j.width:0,Q=j?j.height:0,K=Vr()(y=A.removeAll(!0)).call(y,function(se){return se.type!=="cropzone"});return Xe()(K).call(K,function(se){se.evented=!0}),this.undoData={name:E.getImageName(),image:j,objects:K},E.load(w,x).then(function(se){return{oldWidth:U,oldHeight:Q,newWidth:se.width,newHeight:se.height}})},undo:function(A){var w=A.getComponent(fu),x=this.undoData,y=x.objects,E=x.name,j=x.image;return A.removeAll(!0),A.add(y),w.load(E,j)}};fi.register(ay);var du=At.FILTER,sy={name:Kt.REMOVE_FILTER,execute:function(A,w){var x=A.getComponent(du);return this.undoData.options=x.getOptions(w),x.remove(w)},undo:function(A,w){var x=A.getComponent(du),y=this.undoData.options;return x.add(w,y)}};fi.register(sy);var oy={name:Kt.REMOVE_OBJECT,execute:function(A,w){var x=this;return new(Ke())(function(y,E){x.undoData.objects=A.removeObjectById(w),x.undoData.objects.length?y():E(Wn.noObject)})},undo:function(A){return A.add(this.undoData.objects),Ke().resolve()}};fi.register(oy);var pc={name:Kt.RESIZE_CANVAS_DIMENSION,execute:function(A,w){var x=this;return new(Ke())(function(y){x.undoData.size={width:A.cssMaxWidth,height:A.cssMaxHeight},A.setCssMaxDimension(w),A.adjustCanvasDimension(),y()})},undo:function(A){return A.setCssMaxDimension(this.undoData.size),A.adjustCanvasDimension(),Ke().resolve()}};fi.register(pc);var mf=At.ROTATION,yf=null;function ly(G){return{angle:G.getCurrentAngle()}}var cy={name:Kt.ROTATE_IMAGE,execute:function(A,w,x,y){var E=A.getComponent(mf);if(!this.isRedo){var j=ly(E);yf=this.setUndoData(j,yf,y)}return E[w](x)},undo:function(A){var w=A.getComponent(mf),x=ie(this.args,3),y=x[1],E=x[2];return y==="setAngle"?w[y](this.undoData.angle):w.rotate(-E)}};fi.register(cy);var uy={name:Kt.SET_OBJECT_PROPERTIES,execute:function(A,w,x){var y=this,E=A.getObject(w);return E?(this.undoData.props={},Oi()(x,function(j,U){y.undoData.props[U]=E[U]}),A.setObjectProperties(w,x),Ke().resolve()):Ke().reject(Wn.noObject)},undo:function(A,w){var x=this.undoData.props;return A.setObjectProperties(w,x),Ke().resolve()}};fi.register(uy);var hy={name:Kt.SET_OBJECT_POSITION,execute:function(A,w,x){var y=A.getObject(w);return y?(this.undoData.objectId=w,this.undoData.props=A.getObjectProperties(w,["left","top"]),A.setObjectPosition(w,x),A.renderAll(),Ke().resolve()):Ke().reject(Wn.noObject)},undo:function(A){var w=this.undoData,x=w.objectId,y=w.props;return A.setObjectProperties(x,y),A.renderAll(),Ke().resolve()}};fi.register(hy);var Ep={name:Kt.CHANGE_SELECTION,execute:function(A,w){return this.isRedo?Xe()(w).call(w,function(x){A.setObjectProperties(x.id,x)}):this.undoData=cp(),Ke().resolve()},undo:function(A){var w;return Xe()(w=this.undoData).call(w,function(x){A.setObjectProperties(x.id,x)}),Ke().resolve()}};fi.register(Ep);var bf=At.RESIZE,fy={name:Kt.RESIZE_IMAGE,execute:function(A,w){var x=A.getComponent(bf),y=x.getOriginalDimensions();return y||(y=x.getCurrentDimensions()),this.undoData.dimensions=y,x.resize(w)},undo:function(A){var w=A.getComponent(bf);return w.resize(this.undoData.dimensions)}};fi.register(fy);var wf=Km}(),o=o.default,o}()})})(sA);const w9=hT(sA.exports);window.$=window.jQuery=bl;window.bootstrap=AN;window.axios=eh;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";eh.defaults.headers.common["X-CSRF-TOKEN"]=window.csrf_token;Iw.mixin({width:400,heightAuto:!1,padding:"2.5rem",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonColor:null,cancelButtonClass:"btn btn-secondary",cancelButtonColor:null});window.Swal=Iw;window.Dropzone=Qt;window.lightbox=Vj({});window.createChart=function(n,e){return new y9(n,e)};window.fullCalendar=function(n,e){let i={...{plugins:[RU,wY,PY,tG],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,listWeek"}},...e};return new pU(n,i)};window.DataTable=Bt;window.notyf=new Nj({duration:5e3});window.Helpers=Cl;window.Menu=Yn;window.Spreadsheet=Tw;const Vf={are_you_sure:app.i18n.are_you_sure||"Are you sure?",yes:app.i18n.yes||"Yes",no:app.i18n.no||"No",loading:app.i18n.loading||"Loading",copied:app.i18n.copied||"Copied"};window.confirmThenGoToUrl=function(n,e=null){e||(e=Vf.are_you_sure),Iw.fire({title:e,showCancelButton:!0,confirmButtonText:Vf.yes,cancelButtonText:Vf.no}).then(t=>{t.isConfirmed&&(window.location.href=n)})};function uE(n){let e=n.replace("[","");e=e.replace("]",""),document.querySelectorAll(n).forEach(function(t){t.addEventListener("click",function(i){i.preventDefault();let r;if(e==="data-modal-copy-to-clipboard"?r=t.getAttribute("data-modal-copy-to-clipboard"):r=t.getAttribute("data-copy-to-clipboard"),document.getElementById(r)){let a=document.getElementById(r);a.select(),a.setSelectionRange(0,99999),document.execCommand("copy")}notyf.success({message:Vf.copied})})})}function C9(n){let e=/data:(image\/.+);base64,/,t="",i,r,a,o;for(i=n.replace(e,function(s,u){return t=u,""}),i=atob(i),o=i.length,r=new Uint8Array(o),a=0;a<o;a+=1)r[a]=i.charCodeAt(a);return new Blob([r],{type:t})}window.addEventListener("DOMContentLoaded",()=>{if(uE("[data-copy-to-clipboard]"),document.getElementById("app-modal")&&(window.app_modal=new jo(document.getElementById("app-modal"))),document.querySelectorAll("[data-delete-item]").forEach(function(l){l.addEventListener("click",function(_){_.preventDefault(),confirmThenGoToUrl(l.getAttribute("href"))})}),document.querySelectorAll("[data-confirm]").forEach(function(l){l.addEventListener("click",function(_){_.preventDefault(),confirmThenGoToUrl(l.getAttribute("href"),l.getAttribute("data-confirm"))})}),document.querySelectorAll("[data-app-modal]").forEach(function(l){l.addEventListener("click",function(_){_.preventDefault();let I=document.getElementById("app-modal-content");I.innerHTML=Vf.loading+"...";let M=l.getAttribute("data-app-modal"),P=l.getAttribute("data-app-modal-title");P&&(document.getElementById("app-modal-title").innerHTML=P),app_modal.show(),M.indexOf("http")!==0&&(M=window.base_url+M),eh.get(M).then(function(N){I.innerHTML=N.data,uE("[data-modal-copy-to-clipboard]")})})}),document.querySelectorAll("[data-form]").forEach(function(l){l.addEventListener("submit",function(_){_.preventDefault();let I=l.id,M=document.getElementById(I);if(!M.checkValidity()){_.stopPropagation(),M.classList.add("was-validated");return}M.classList.add("was-validated");let P=l.dataset.form,N="btn_submit";l.dataset.btnId!==void 0&&(N=l.dataset.btnId);let b=document.getElementById(N),f=PS(b);f.start();let v=new FormData(M);eh.post(M.action,v).then(function(m){if(typeof P=="string"||P instanceof String)P=P.trim(),P==="redirect"?window.location=m.data.url:P==="refresh"?window.location.reload():P==="close_modal"?Qn.close(!0):P==="show_saved"?(f.stop(),notyf.success({message:"Saved"})):P==="displayHtml"?(f.stop(),document.getElementById("result_area")&&(document.getElementById("result_area").innerHTML=m.data.html)):P==="redirect_and_reload"?window.location=m.data.url:window.location=P;else return m}).catch(function(m){console.log(m),f.stop(),o_.forEach(m.response.data.errors,function(d,g){notyf.error({message:d})})})})}),document.getElementById("app-calendar")){let l=document.getElementById("app-calendar"),_=l.getAttribute("data-events-source-url"),I=l.getAttribute("data-events-save-url"),M=l.getAttribute("data-initial-view")||"timeGridWeek",P=l.getAttribute("data-height")||"auto",N=l.getAttribute("data-disable-header-toolbar")||!1,b=null;N||(b={left:"title",center:"dayGridMonth,timeGridWeek,timeGridDay,listWeek",right:"prev,next today"});const f=document.getElementById("btn_add_event"),v=new jo(document.getElementById("add_event_modal"),{keyboard:!1});f.addEventListener("click",()=>{v.show()}),v._element.addEventListener("hidden.bs.modal",()=>{window.location.reload()});const m=document.getElementById("event_all_day");m.addEventListener("change",()=>{const C=document.getElementById("input_start"),D=document.getElementById("input_end");m.checked?(C.type="date",D.type="date"):(C.type="datetime-local",D.type="datetime-local")}),fullCalendar(document.getElementById("app-calendar"),{initialView:M,headerToolbar:b,height:P,aspectRatio:3,nowIndicator:!0,views:{dayGridMonth:{buttonText:"month"},timeGridWeek:{buttonText:"week"},timeGridDay:{buttonText:"day"}},editable:!0,dayMaxEvents:!0,navLinks:!0,selectable:!0,select:function(C){let D=C.start.toISOString().slice(0,19).replace("T"," "),S=C.end.toISOString().slice(0,19).replace("T"," ");document.getElementById("input_start").value=D,document.getElementById("input_end").value=S,v.show()},eventClick:function(C){let D=C.event.id,S=C.event.title,k=C.event.start.toISOString().slice(0,19).replace("T"," ");C.event.end&&(document.getElementById("input_end").value=C.event.end.toISOString().slice(0,19).replace("T"," "));let L=C.event.allDay;document.getElementById("input_event_id").value=D,document.getElementById("input_title").value=S,document.getElementById("input_start").value=k,document.getElementById("event_all_day").checked=L;let B=document.getElementById("btn_delete_event");B.classList.remove("d-none"),B.addEventListener("click",()=>{confirmThenGoToUrl(base_url+"/office/delete/calendar-event/"+D)}),v.show()},eventSources:[{url:_,method:"GET",failure:function(){console.log("there was an error while fetching events!")}}]}).render();const d=document.getElementById("form_save_event"),g=document.getElementById("btn_save_event"),h=PS(g);d.addEventListener("submit",C=>{C.preventDefault(),h.start();const D=new FormData(d);eh.post(I,D).then(S=>{h.stop(),location.reload()}).catch(S=>{h.stop(),o_.forEach(S.response.data.errors,(k,L)=>{notyf.error({message:k})})})})}if(document.getElementById("app-file-upload")){let l=document.getElementById("app-file-upload"),_=l.getAttribute("data-accepted-files")||null,I=l.getAttribute("data-then")||"reload";new Qt("#app-file-upload",{acceptedFiles:_,init:function(){this.on("success",(M,P)=>{switch(I){case"reload":location.reload();break;case"redirect":window.location.href=P.url;break;default:location.reload();break}}),this.on("error",(M,P)=>{console.log(P)})}})}if(document.getElementById("app-data-table")&&$("#app-data-table").DataTable({}),document.getElementById("app-spreadsheet-editor")){let l=function(P){var N=XLSX.utils.book_new();return P.forEach(function(b){for(var f={},v=b.rows,m={r:0,c:0},d={r:0,c:0},g=0;g<v.len;++g){var h=v[g];!h||Object.keys(h.cells).forEach(function(C){var D=+C;if(!isNaN(D)){var S=XLSX.utils.encode_cell({r:g,c:D});g>d.r&&(d.r=g),D>d.c&&(d.c=D);var k=h.cells[C].text,L="s";k?isNaN(Number(k))?(k.toLowerCase()==="true"||k.toLowerCase()==="false")&&(k=Boolean(k),L="b"):(k=Number(k),L="n"):(k="",L="z"),f[S]={v:k,t:L},L=="s"&&k[0]=="="&&(f[S].f=k.slice(1)),h.cells[C].merge!=null&&(f["!merges"]==null&&(f["!merges"]=[]),f["!merges"].push({s:{r:g,c:D},e:{r:g+h.cells[C].merge[0],c:D+h.cells[C].merge[1]}}))}})}f["!ref"]=m?XLSX.utils.encode_range({s:m,e:d}):"A1",XLSX.utils.book_append_sheet(N,f,b.name)}),N};var c=l;let _=document.getElementById("app-spreadsheet-editor"),I=_.dataset.loadUrl,M=_.dataset.mode||"edit";eh.get(I).then(function(P){document.getElementById("loading_state")&&document.getElementById("loading_state").classList.add("d-none");const N=new Tw("#app-spreadsheet-editor",{mode:M,showToolbar:!0,showGrid:!0,showContextmenu:!0,view:{height:()=>document.documentElement.clientHeight,width:()=>document.documentElement.clientWidth},row:{len:100,height:25},col:{len:26,width:100,indexWidth:60,minWidth:60},style:{bgcolor:"#ffffff",align:"left",valign:"middle",textwrap:!1,strike:!1,underline:!1,color:"#0a0a0a",font:{name:"Public Sans",size:10,bold:!1,italic:!1}}}).loadData(P.data).change(f=>{document.getElementById("app-editor-content").value=JSON.stringify(f)});let b=document.getElementById("btn-download-xlsx");if(b&&window.XLSX&&l){let f=b.dataset.fileName;b.classList.remove("d-none"),b.addEventListener("click",()=>{window.XLSX.writeFile(l(N.getData()),f)})}})}const n=document.getElementById("app-image-editor");if(n){let l=n.dataset.imagePath,_=n.dataset.imageName;const I=new w9(document.querySelector("#app-image-editor"),{includeUI:{loadImage:{path:l,name:_},theme:{"header.display":"none"},initMenu:"draw",menuBarPosition:"left",uiSize:{width:"100%",height:"100%"}},selectionStyle:{cornerSize:20,rotatingPointOffset:70}}),M=document.getElementById("download_image");if(M){let P=!!(window.File&&window.FileList&&window.FileReader);M.addEventListener("click",function(){let N=I.getImageName();N=N.split(".").shift();let b=I.toDataURL(),f,v,m;P?(f=C9(b),v=f.type.split("/")[1],N.split(".").pop()!==v&&(N+="."+v),aA.exports.saveAs(f,N)):(alert("This browser needs a file-server"),m=window.open(),m.document.body.innerHTML='<img src="'+b+'">')})}I.on("loadImage",function(){console.log(I.toDataURL())}),I.on("saveImage",function(P){console.log(P)})}document.querySelectorAll("#layout-menu").forEach(function(l){window.Helpers.mainMenu=new Yn(l,{orientation:"vertical",closeChildren:!1})}),document.querySelectorAll(".layout-menu-toggle").forEach(l=>{l.addEventListener("click",_=>{_.preventDefault(),window.Helpers.toggleCollapsed()})});let i=function(l,_){let I=null;l.onmouseenter=function(){Cl.isSmallScreen()?I=setTimeout(_,0):I=setTimeout(_,300)},l.onmouseleave=function(){document.querySelector(".layout-menu-toggle").classList.remove("d-block"),clearTimeout(I)}};document.getElementById("layout-menu")&&i(document.getElementById("layout-menu"),function(){Cl.isSmallScreen()||document.querySelector(".layout-menu-toggle").classList.add("d-block")});let r=document.getElementsByClassName("menu-inner"),a=document.getElementsByClassName("menu-inner-shadow")[0];r.length>0&&a&&r[0].addEventListener("ps-scroll-y",function(){this.querySelector(".ps__thumb-y").offsetTop?a.style.display="block":a.style.display="none"}),[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(function(l){return new jl(l)});const s=function(l){l.type=="show.bs.collapse"||l.type=="show.bs.collapse"?l.target.closest(".accordion-item").classList.add("active"):l.target.closest(".accordion-item").classList.remove("active")};[].slice.call(document.querySelectorAll(".accordion")).map(function(l){l.addEventListener("show.bs.collapse",s),l.addEventListener("hide.bs.collapse",s)}),window.Helpers.setAutoUpdate(!0),window.Helpers.initPasswordToggle(),window.Helpers.initSpeechToText(),!window.Helpers.isSmallScreen()&&window.Helpers.setCollapsed(!0,!1)});
